"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@grpc";
exports.ids = ["vendor-chunks/@grpc"];
exports.modules = {

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/admin.js":
/*!*******************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/admin.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addAdminServicesToServer = exports.registerAdminService = void 0;\nconst registeredAdminServices = [];\nfunction registerAdminService(getServiceDefinition, getHandlers) {\n  registeredAdminServices.push({\n    getServiceDefinition,\n    getHandlers\n  });\n}\nexports.registerAdminService = registerAdminService;\nfunction addAdminServicesToServer(server) {\n  for (const {\n    getServiceDefinition,\n    getHandlers\n  } of registeredAdminServices) {\n    server.addService(getServiceDefinition(), getHandlers());\n  }\n}\nexports.addAdminServicesToServer = addAdminServicesToServer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvYWRtaW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsZ0NBQWdDLEdBQUdBLDRCQUE0QixHQUFHLEtBQUssQ0FBQztBQUN4RSxNQUFNSSx1QkFBdUIsR0FBRyxFQUFFO0FBQ2xDLFNBQVNELG9CQUFvQkEsQ0FBQ0Usb0JBQW9CLEVBQUVDLFdBQVcsRUFBRTtFQUM3REYsdUJBQXVCLENBQUNHLElBQUksQ0FBQztJQUFFRixvQkFBb0I7SUFBRUM7RUFBWSxDQUFDLENBQUM7QUFDdkU7QUFDQU4sNEJBQTRCLEdBQUdHLG9CQUFvQjtBQUNuRCxTQUFTRCx3QkFBd0JBLENBQUNNLE1BQU0sRUFBRTtFQUN0QyxLQUFLLE1BQU07SUFBRUgsb0JBQW9CO0lBQUVDO0VBQVksQ0FBQyxJQUFJRix1QkFBdUIsRUFBRTtJQUN6RUksTUFBTSxDQUFDQyxVQUFVLENBQUNKLG9CQUFvQixDQUFDLENBQUMsRUFBRUMsV0FBVyxDQUFDLENBQUMsQ0FBQztFQUM1RDtBQUNKO0FBQ0FOLGdDQUFnQyxHQUFHRSx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2FkbWluLmpzPzk4NGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyID0gZXhwb3J0cy5yZWdpc3RlckFkbWluU2VydmljZSA9IHZvaWQgMDtcbmNvbnN0IHJlZ2lzdGVyZWRBZG1pblNlcnZpY2VzID0gW107XG5mdW5jdGlvbiByZWdpc3RlckFkbWluU2VydmljZShnZXRTZXJ2aWNlRGVmaW5pdGlvbiwgZ2V0SGFuZGxlcnMpIHtcbiAgICByZWdpc3RlcmVkQWRtaW5TZXJ2aWNlcy5wdXNoKHsgZ2V0U2VydmljZURlZmluaXRpb24sIGdldEhhbmRsZXJzIH0pO1xufVxuZXhwb3J0cy5yZWdpc3RlckFkbWluU2VydmljZSA9IHJlZ2lzdGVyQWRtaW5TZXJ2aWNlO1xuZnVuY3Rpb24gYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyKHNlcnZlcikge1xuICAgIGZvciAoY29uc3QgeyBnZXRTZXJ2aWNlRGVmaW5pdGlvbiwgZ2V0SGFuZGxlcnMgfSBvZiByZWdpc3RlcmVkQWRtaW5TZXJ2aWNlcykge1xuICAgICAgICBzZXJ2ZXIuYWRkU2VydmljZShnZXRTZXJ2aWNlRGVmaW5pdGlvbigpLCBnZXRIYW5kbGVycygpKTtcbiAgICB9XG59XG5leHBvcnRzLmFkZEFkbWluU2VydmljZXNUb1NlcnZlciA9IGFkZEFkbWluU2VydmljZXNUb1NlcnZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkbWluLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFkZEFkbWluU2VydmljZXNUb1NlcnZlciIsInJlZ2lzdGVyQWRtaW5TZXJ2aWNlIiwicmVnaXN0ZXJlZEFkbWluU2VydmljZXMiLCJnZXRTZXJ2aWNlRGVmaW5pdGlvbiIsImdldEhhbmRsZXJzIiwicHVzaCIsInNlcnZlciIsImFkZFNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/admin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/backoff-timeout.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/backoff-timeout.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BackoffTimeout = void 0;\nconst INITIAL_BACKOFF_MS = 1000;\nconst BACKOFF_MULTIPLIER = 1.6;\nconst MAX_BACKOFF_MS = 120000;\nconst BACKOFF_JITTER = 0.2;\n/**\n * Get a number uniformly at random in the range [min, max)\n * @param min\n * @param max\n */\nfunction uniformRandom(min, max) {\n  return Math.random() * (max - min) + min;\n}\nclass BackoffTimeout {\n  constructor(callback, options) {\n    this.callback = callback;\n    /**\n     * The delay time at the start, and after each reset.\n     */\n    this.initialDelay = INITIAL_BACKOFF_MS;\n    /**\n     * The exponential backoff multiplier.\n     */\n    this.multiplier = BACKOFF_MULTIPLIER;\n    /**\n     * The maximum delay time\n     */\n    this.maxDelay = MAX_BACKOFF_MS;\n    /**\n     * The maximum fraction by which the delay time can randomly vary after\n     * applying the multiplier.\n     */\n    this.jitter = BACKOFF_JITTER;\n    /**\n     * Indicates whether the timer is currently running.\n     */\n    this.running = false;\n    /**\n     * Indicates whether the timer should keep the Node process running if no\n     * other async operation is doing so.\n     */\n    this.hasRef = true;\n    /**\n     * The time that the currently running timer was started. Only valid if\n     * running is true.\n     */\n    this.startTime = new Date();\n    /**\n     * The approximate time that the currently running timer will end. Only valid\n     * if running is true.\n     */\n    this.endTime = new Date();\n    if (options) {\n      if (options.initialDelay) {\n        this.initialDelay = options.initialDelay;\n      }\n      if (options.multiplier) {\n        this.multiplier = options.multiplier;\n      }\n      if (options.jitter) {\n        this.jitter = options.jitter;\n      }\n      if (options.maxDelay) {\n        this.maxDelay = options.maxDelay;\n      }\n    }\n    this.nextDelay = this.initialDelay;\n    this.timerId = setTimeout(() => {}, 0);\n    clearTimeout(this.timerId);\n  }\n  runTimer(delay) {\n    var _a, _b;\n    this.endTime = this.startTime;\n    this.endTime.setMilliseconds(this.endTime.getMilliseconds() + this.nextDelay);\n    clearTimeout(this.timerId);\n    this.timerId = setTimeout(() => {\n      this.callback();\n      this.running = false;\n    }, delay);\n    if (!this.hasRef) {\n      (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n  }\n  /**\n   * Call the callback after the current amount of delay time\n   */\n  runOnce() {\n    this.running = true;\n    this.startTime = new Date();\n    this.runTimer(this.nextDelay);\n    const nextBackoff = Math.min(this.nextDelay * this.multiplier, this.maxDelay);\n    const jitterMagnitude = nextBackoff * this.jitter;\n    this.nextDelay = nextBackoff + uniformRandom(-jitterMagnitude, jitterMagnitude);\n  }\n  /**\n   * Stop the timer. The callback will not be called until `runOnce` is called\n   * again.\n   */\n  stop() {\n    clearTimeout(this.timerId);\n    this.running = false;\n  }\n  /**\n   * Reset the delay time to its initial value. If the timer is still running,\n   * retroactively apply that reset to the current timer.\n   */\n  reset() {\n    this.nextDelay = this.initialDelay;\n    if (this.running) {\n      const now = new Date();\n      const newEndTime = this.startTime;\n      newEndTime.setMilliseconds(newEndTime.getMilliseconds() + this.nextDelay);\n      clearTimeout(this.timerId);\n      if (now < newEndTime) {\n        this.runTimer(newEndTime.getTime() - now.getTime());\n      } else {\n        this.running = false;\n      }\n    }\n  }\n  /**\n   * Check whether the timer is currently running.\n   */\n  isRunning() {\n    return this.running;\n  }\n  /**\n   * Set that while the timer is running, it should keep the Node process\n   * running.\n   */\n  ref() {\n    var _a, _b;\n    this.hasRef = true;\n    (_b = (_a = this.timerId).ref) === null || _b === void 0 ? void 0 : _b.call(_a);\n  }\n  /**\n   * Set that while the timer is running, it should not keep the Node process\n   * running.\n   */\n  unref() {\n    var _a, _b;\n    this.hasRef = false;\n    (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n  }\n  /**\n   * Get the approximate timestamp of when the timer will fire. Only valid if\n   * this.isRunning() is true.\n   */\n  getEndTime() {\n    return this.endTime;\n  }\n}\nexports.BackoffTimeout = BackoffTimeout;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvYmFja29mZi10aW1lb3V0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELHNCQUFzQixHQUFHLEtBQUssQ0FBQztBQUMvQixNQUFNRyxrQkFBa0IsR0FBRyxJQUFJO0FBQy9CLE1BQU1DLGtCQUFrQixHQUFHLEdBQUc7QUFDOUIsTUFBTUMsY0FBYyxHQUFHLE1BQU07QUFDN0IsTUFBTUMsY0FBYyxHQUFHLEdBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNDLGFBQWFBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0VBQzdCLE9BQU9DLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUMsSUFBSUYsR0FBRyxHQUFHRCxHQUFHLENBQUMsR0FBR0EsR0FBRztBQUM1QztBQUNBLE1BQU1OLGNBQWMsQ0FBQztFQUNqQlUsV0FBV0EsQ0FBQ0MsUUFBUSxFQUFFQyxPQUFPLEVBQUU7SUFDM0IsSUFBSSxDQUFDRCxRQUFRLEdBQUdBLFFBQVE7SUFDeEI7QUFDUjtBQUNBO0lBQ1EsSUFBSSxDQUFDRSxZQUFZLEdBQUdaLGtCQUFrQjtJQUN0QztBQUNSO0FBQ0E7SUFDUSxJQUFJLENBQUNhLFVBQVUsR0FBR1osa0JBQWtCO0lBQ3BDO0FBQ1I7QUFDQTtJQUNRLElBQUksQ0FBQ2EsUUFBUSxHQUFHWixjQUFjO0lBQzlCO0FBQ1I7QUFDQTtBQUNBO0lBQ1EsSUFBSSxDQUFDYSxNQUFNLEdBQUdaLGNBQWM7SUFDNUI7QUFDUjtBQUNBO0lBQ1EsSUFBSSxDQUFDYSxPQUFPLEdBQUcsS0FBSztJQUNwQjtBQUNSO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQ0Ms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QUNuQixDQUFDVyxFQUFFLEdBQUcsQ0FBQ0QsRUFBRSxHQUFHLElBQUksQ0FBQ0wsT0FBTyxFQUFFUyxLQUFLLE1BQU0sSUFBSSxJQUFJSCxFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLEVBQUUsQ0FBQ0ksSUFBSSxDQUFDTCxFQUFFLENBQUM7RUFDckY7RUFDQTtBQUNKO0FBQ0E7QUFDQTtFQUNJZ0IsVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsT0FBTyxJQUFJLENBQUN2QixPQUFPO0VBQ3ZCO0FBQ0o7QUFDQXZCLHNCQUFzQixHQUFHRSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9iYWNrb2ZmLXRpbWVvdXQuanM/ZmU0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYWNrb2ZmVGltZW91dCA9IHZvaWQgMDtcbmNvbnN0IElOSVRJQUxfQkFDS09GRl9NUyA9IDEwMDA7XG5jb25zdCBCQUNLT0ZGX01VTFRJUExJRVIgPSAxLjY7XG5jb25zdCBNQVhfQkFDS09GRl9NUyA9IDEyMDAwMDtcbmNvbnN0IEJBQ0tPRkZfSklUVEVSID0gMC4yO1xuLyoqXG4gKiBHZXQgYSBudW1iZXIgdW5pZm9ybWx5IGF0IHJhbmRvbSBpbiB0aGUgcmFuZ2UgW21pbiwgbWF4KVxuICogQHBhcmFtIG1pblxuICogQHBhcmFtIG1heFxuICovXG5mdW5jdGlvbiB1bmlmb3JtUmFuZG9tKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cbmNsYXNzIEJhY2tvZmZUaW1lb3V0IHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVsYXkgdGltZSBhdCB0aGUgc3RhcnQsIGFuZCBhZnRlciBlYWNoIHJlc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbml0aWFsRGVsYXkgPSBJTklUSUFMX0JBQ0tPRkZfTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhwb25lbnRpYWwgYmFja29mZiBtdWx0aXBsaWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyID0gQkFDS09GRl9NVUxUSVBMSUVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZGVsYXkgdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhEZWxheSA9IE1BWF9CQUNLT0ZGX01TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZnJhY3Rpb24gYnkgd2hpY2ggdGhlIGRlbGF5IHRpbWUgY2FuIHJhbmRvbWx5IHZhcnkgYWZ0ZXJcbiAgICAgICAgICogYXBwbHlpbmcgdGhlIG11bHRpcGxpZXIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmppdHRlciA9IEJBQ0tPRkZfSklUVEVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRpbWVyIGlzIGN1cnJlbnRseSBydW5uaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGltZXIgc2hvdWxkIGtlZXAgdGhlIE5vZGUgcHJvY2VzcyBydW5uaW5nIGlmIG5vXG4gICAgICAgICAqIG90aGVyIGFzeW5jIG9wZXJhdGlvbiBpcyBkb2luZyBzby5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzUmVmID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lIHRoYXQgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRpbWVyIHdhcyBzdGFydGVkLiBPbmx5IHZhbGlkIGlmXG4gICAgICAgICAqIHJ1bm5pbmcgaXMgdHJ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcHByb3hpbWF0ZSB0aW1lIHRoYXQgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRpbWVyIHdpbGwgZW5kLiBPbmx5IHZhbGlkXG4gICAgICAgICAqIGlmIHJ1bm5pbmcgaXMgdHJ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pbml0aWFsRGVsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxEZWxheSA9IG9wdGlvbnMuaW5pdGlhbERlbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubXVsdGlwbGllcikge1xuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllciA9IG9wdGlvbnMubXVsdGlwbGllcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmppdHRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuaml0dGVyID0gb3B0aW9ucy5qaXR0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhEZWxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF4RGVsYXkgPSBvcHRpb25zLm1heERlbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dERlbGF5ID0gdGhpcy5pbml0aWFsRGVsYXk7XG4gICAgICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgfVxuICAgIHJ1blRpbWVyKGRlbGF5KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuZW5kVGltZSA9IHRoaXMuc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLmVuZFRpbWUuc2V0TWlsbGlzZWNvbmRzKHRoaXMuZW5kVGltZS5nZXRNaWxsaXNlY29uZHMoKSArIHRoaXMubmV4dERlbGF5KTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1JlZikge1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy50aW1lcklkKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgdGhlIGNhbGxiYWNrIGFmdGVyIHRoZSBjdXJyZW50IGFtb3VudCBvZiBkZWxheSB0aW1lXG4gICAgICovXG4gICAgcnVuT25jZSgpIHtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLnJ1blRpbWVyKHRoaXMubmV4dERlbGF5KTtcbiAgICAgICAgY29uc3QgbmV4dEJhY2tvZmYgPSBNYXRoLm1pbih0aGlzLm5leHREZWxheSAqIHRoaXMubXVsdGlwbGllciwgdGhpcy5tYXhEZWxheSk7XG4gICAgICAgIGNvbnN0IGppdHRlck1hZ25pdHVkZSA9IG5leHRCYWNrb2ZmICogdGhpcy5qaXR0ZXI7XG4gICAgICAgIHRoaXMubmV4dERlbGF5ID1cbiAgICAgICAgICAgIG5leHRCYWNrb2ZmICsgdW5pZm9ybVJhbmRvbSgtaml0dGVyTWFnbml0dWRlLCBqaXR0ZXJNYWduaXR1ZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSB0aW1lci4gVGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCB1bnRpbCBgcnVuT25jZWAgaXMgY2FsbGVkXG4gICAgICogYWdhaW4uXG4gICAgICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgZGVsYXkgdGltZSB0byBpdHMgaW5pdGlhbCB2YWx1ZS4gSWYgdGhlIHRpbWVyIGlzIHN0aWxsIHJ1bm5pbmcsXG4gICAgICogcmV0cm9hY3RpdmVseSBhcHBseSB0aGF0IHJlc2V0IHRvIHRoZSBjdXJyZW50IHRpbWVyLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLm5leHREZWxheSA9IHRoaXMuaW5pdGlhbERlbGF5O1xuICAgICAgICBpZiAodGhpcy5ydW5uaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgbmV3RW5kVGltZSA9IHRoaXMuc3RhcnRUaW1lO1xuICAgICAgICAgICAgbmV3RW5kVGltZS5zZXRNaWxsaXNlY29uZHMobmV3RW5kVGltZS5nZXRNaWxsaXNlY29uZHMoKSArIHRoaXMubmV4dERlbGF5KTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO1xuICAgICAgICAgICAgaWYgKG5vdyA8IG5ld0VuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1blRpbWVyKG5ld0VuZFRpbWUuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSB0aW1lciBpcyBjdXJyZW50bHkgcnVubmluZy5cbiAgICAgKi9cbiAgICBpc1J1bm5pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGF0IHdoaWxlIHRoZSB0aW1lciBpcyBydW5uaW5nLCBpdCBzaG91bGQga2VlcCB0aGUgTm9kZSBwcm9jZXNzXG4gICAgICogcnVubmluZy5cbiAgICAgKi9cbiAgICByZWYoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuaGFzUmVmID0gdHJ1ZTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy50aW1lcklkKS5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoYXQgd2hpbGUgdGhlIHRpbWVyIGlzIHJ1bm5pbmcsIGl0IHNob3VsZCBub3Qga2VlcCB0aGUgTm9kZSBwcm9jZXNzXG4gICAgICogcnVubmluZy5cbiAgICAgKi9cbiAgICB1bnJlZigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5oYXNSZWYgPSBmYWxzZTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy50aW1lcklkKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGFwcHJveGltYXRlIHRpbWVzdGFtcCBvZiB3aGVuIHRoZSB0aW1lciB3aWxsIGZpcmUuIE9ubHkgdmFsaWQgaWZcbiAgICAgKiB0aGlzLmlzUnVubmluZygpIGlzIHRydWUuXG4gICAgICovXG4gICAgZ2V0RW5kVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kVGltZTtcbiAgICB9XG59XG5leHBvcnRzLkJhY2tvZmZUaW1lb3V0ID0gQmFja29mZlRpbWVvdXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYWNrb2ZmLXRpbWVvdXQuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQmFja29mZlRpbWVvdXQiLCJJTklUSUFMX0JBQ0tPRkZfTVMiLCJCQUNLT0ZGX01VTFRJUExJRVIiLCJNQVhfQkFDS09GRl9NUyIsIkJBQ0tPRkZfSklUVEVSIiwidW5pZm9ybVJhbmRvbSIsIm1pbiIsIm1heCIsIk1hdGgiLCJyYW5kb20iLCJjb25zdHJ1Y3RvciIsImNhbGxiYWNrIiwib3B0aW9ucyIsImluaXRpYWxEZWxheSIsIm11bHRpcGxpZXIiLCJtYXhEZWxheSIsImppdHRlciIsInJ1bm5pbmciLCJoYXNSZWYiLCJzdGFydFRpbWUiLCJEYXRlIiwiZW5kVGltZSIsIm5leHREZWxheSIsInRpbWVySWQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwicnVuVGltZXIiLCJkZWxheSIsIl9hIiwiX2IiLCJzZXRNaWxsaXNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJ1bnJlZiIsImNhbGwiLCJydW5PbmNlIiwibmV4dEJhY2tvZmYiLCJqaXR0ZXJNYWduaXR1ZGUiLCJzdG9wIiwicmVzZXQiLCJub3ciLCJuZXdFbmRUaW1lIiwiZ2V0VGltZSIsImlzUnVubmluZyIsInJlZiIsImdldEVuZFRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/call-credentials.js":
/*!******************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/call-credentials.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CallCredentials = void 0;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nfunction isCurrentOauth2Client(client) {\n  return 'getRequestHeaders' in client && typeof client.getRequestHeaders === 'function';\n}\n/**\n * A class that represents a generic method of adding authentication-related\n * metadata on a per-request basis.\n */\nclass CallCredentials {\n  /**\n   * Creates a new CallCredentials object from a given function that generates\n   * Metadata objects.\n   * @param metadataGenerator A function that accepts a set of options, and\n   * generates a Metadata object based on these options, which is passed back\n   * to the caller via a supplied (err, metadata) callback.\n   */\n  static createFromMetadataGenerator(metadataGenerator) {\n    return new SingleCallCredentials(metadataGenerator);\n  }\n  /**\n   * Create a gRPC credential from a Google credential object.\n   * @param googleCredentials The authentication client to use.\n   * @return The resulting CallCredentials object.\n   */\n  static createFromGoogleCredential(googleCredentials) {\n    return CallCredentials.createFromMetadataGenerator((options, callback) => {\n      let getHeaders;\n      if (isCurrentOauth2Client(googleCredentials)) {\n        getHeaders = googleCredentials.getRequestHeaders(options.service_url);\n      } else {\n        getHeaders = new Promise((resolve, reject) => {\n          googleCredentials.getRequestMetadata(options.service_url, (err, headers) => {\n            if (err) {\n              reject(err);\n              return;\n            }\n            if (!headers) {\n              reject(new Error('Headers not set by metadata plugin'));\n              return;\n            }\n            resolve(headers);\n          });\n        });\n      }\n      getHeaders.then(headers => {\n        const metadata = new metadata_1.Metadata();\n        for (const key of Object.keys(headers)) {\n          metadata.add(key, headers[key]);\n        }\n        callback(null, metadata);\n      }, err => {\n        callback(err);\n      });\n    });\n  }\n  static createEmpty() {\n    return new EmptyCallCredentials();\n  }\n}\nexports.CallCredentials = CallCredentials;\nclass ComposedCallCredentials extends CallCredentials {\n  constructor(creds) {\n    super();\n    this.creds = creds;\n  }\n  async generateMetadata(options) {\n    const base = new metadata_1.Metadata();\n    const generated = await Promise.all(this.creds.map(cred => cred.generateMetadata(options)));\n    for (const gen of generated) {\n      base.merge(gen);\n    }\n    return base;\n  }\n  compose(other) {\n    return new ComposedCallCredentials(this.creds.concat([other]));\n  }\n  _equals(other) {\n    if (this === other) {\n      return true;\n    }\n    if (other instanceof ComposedCallCredentials) {\n      return this.creds.every((value, index) => value._equals(other.creds[index]));\n    } else {\n      return false;\n    }\n  }\n}\nclass SingleCallCredentials extends CallCredentials {\n  constructor(metadataGenerator) {\n    super();\n    this.metadataGenerator = metadataGenerator;\n  }\n  generateMetadata(options) {\n    return new Promise((resolve, reject) => {\n      this.metadataGenerator(options, (err, metadata) => {\n        if (metadata !== undefined) {\n          resolve(metadata);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  }\n  compose(other) {\n    return new ComposedCallCredentials([this, other]);\n  }\n  _equals(other) {\n    if (this === other) {\n      return true;\n    }\n    if (other instanceof SingleCallCredentials) {\n      return this.metadataGenerator === other.metadataGenerator;\n    } else {\n      return false;\n    }\n  }\n}\nclass EmptyCallCredentials extends CallCredentials {\n  generateMetadata(options) {\n    return Promise.resolve(new metadata_1.Metadata());\n  }\n  compose(other) {\n    return other;\n  }\n  _equals(other) {\n    return other instanceof EmptyCallCredentials;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1jcmVkZW50aWFscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCx1QkFBdUIsR0FBRyxLQUFLLENBQUM7QUFDaEMsTUFBTUcsVUFBVSxHQUFHQyxtQkFBTyxDQUFDLDRFQUFZLENBQUM7QUFDeEMsU0FBU0MscUJBQXFCQSxDQUFDQyxNQUFNLEVBQUU7RUFDbkMsT0FBUSxtQkFBbUIsSUFBSUEsTUFBTSxJQUNqQyxPQUFPQSxNQUFNLENBQUNDLGlCQUFpQixLQUFLLFVBQVU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1MLGVBQWUsQ0FBQztFQUNsQjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJLE9BQU9NLDJCQUEyQkEsQ0FBQ0MsaUJBQWlCLEVBQUU7SUFDbEQsT0FBTyxJQUFJQyxxQkFBcUIsQ0FBQ0QsaUJBQWlCLENBQUM7RUFDdkQ7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0ksT0FBT0UsMEJBQTBCQSxDQUFDQyxpQkFBaUIsRUFBRTtJQUNqRCxPQUFPVixlQUFlLENBQUNNLDJCQUEyQixDQUFDLENBQUNLLE9BQU8sRUFBRUMsUUFBUSxLQUFLO01BQ3RFLElBQUlDLFVBQVU7TUFDZCxJQUFJVixxQkFBcUIsQ0FBQ08saUJBQWlCLENBQUMsRUFBRTtRQUMxQ0csVUFBVSxHQUFHSCxpQkFBaUIsQ0FBQ0wsaUJBQWlCLENBQUNNLE9BQU8sQ0FBQ0csV0FBVyxDQUFDO01BQ3pFLENBQUMsTUFDSTtRQUNERCxVQUFVLEdBQUcsSUFBSUUsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRUMsTUFBTSxLQUFLO1VB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cGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1jcmVkZW50aWFscy5qcz8yOGIyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhbGxDcmVkZW50aWFscyA9IHZvaWQgMDtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmZ1bmN0aW9uIGlzQ3VycmVudE9hdXRoMkNsaWVudChjbGllbnQpIHtcbiAgICByZXR1cm4gKCdnZXRSZXF1ZXN0SGVhZGVycycgaW4gY2xpZW50ICYmXG4gICAgICAgIHR5cGVvZiBjbGllbnQuZ2V0UmVxdWVzdEhlYWRlcnMgPT09ICdmdW5jdGlvbicpO1xufVxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGdlbmVyaWMgbWV0aG9kIG9mIGFkZGluZyBhdXRoZW50aWNhdGlvbi1yZWxhdGVkXG4gKiBtZXRhZGF0YSBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzLlxuICovXG5jbGFzcyBDYWxsQ3JlZGVudGlhbHMge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ2FsbENyZWRlbnRpYWxzIG9iamVjdCBmcm9tIGEgZ2l2ZW4gZnVuY3Rpb24gdGhhdCBnZW5lcmF0ZXNcbiAgICAgKiBNZXRhZGF0YSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSBtZXRhZGF0YUdlbmVyYXRvciBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhIHNldCBvZiBvcHRpb25zLCBhbmRcbiAgICAgKiBnZW5lcmF0ZXMgYSBNZXRhZGF0YSBvYmplY3QgYmFzZWQgb24gdGhlc2Ugb3B0aW9ucywgd2hpY2ggaXMgcGFzc2VkIGJhY2tcbiAgICAgKiB0byB0aGUgY2FsbGVyIHZpYSBhIHN1cHBsaWVkIChlcnIsIG1ldGFkYXRhKSBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlRnJvbU1ldGFkYXRhR2VuZXJhdG9yKG1ldGFkYXRhR2VuZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlQ2FsbENyZWRlbnRpYWxzKG1ldGFkYXRhR2VuZXJhdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZ1JQQyBjcmVkZW50aWFsIGZyb20gYSBHb29nbGUgY3JlZGVudGlhbCBvYmplY3QuXG4gICAgICogQHBhcmFtIGdvb2dsZUNyZWRlbnRpYWxzIFRoZSBhdXRoZW50aWNhdGlvbiBjbGllbnQgdG8gdXNlLlxuICAgICAqIEByZXR1cm4gVGhlIHJlc3VsdGluZyBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVGcm9tR29vZ2xlQ3JlZGVudGlhbChnb29nbGVDcmVkZW50aWFscykge1xuICAgICAgICByZXR1cm4gQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUZyb21NZXRhZGF0YUdlbmVyYXRvcigob3B0aW9ucywgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGxldCBnZXRIZWFkZXJzO1xuICAgICAgICAgICAgaWYgKGlzQ3VycmVudE9hdXRoMkNsaWVudChnb29nbGVDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICBnZXRIZWFkZXJzID0gZ29vZ2xlQ3JlZGVudGlhbHMuZ2V0UmVxdWVzdEhlYWRlcnMob3B0aW9ucy5zZXJ2aWNlX3VybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRIZWFkZXJzID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGVDcmVkZW50aWFscy5nZXRSZXF1ZXN0TWV0YWRhdGEob3B0aW9ucy5zZXJ2aWNlX3VybCwgKGVyciwgaGVhZGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0hlYWRlcnMgbm90IHNldCBieSBtZXRhZGF0YSBwbHVnaW4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRIZWFkZXJzLnRoZW4oaGVhZGVycyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmFkZChrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IEVtcHR5Q2FsbENyZWRlbnRpYWxzKCk7XG4gICAgfVxufVxuZXhwb3J0cy5DYWxsQ3JlZGVudGlhbHMgPSBDYWxsQ3JlZGVudGlhbHM7XG5jbGFzcyBDb21wb3NlZENhbGxDcmVkZW50aWFscyBleHRlbmRzIENhbGxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY3JlZHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jcmVkcyA9IGNyZWRzO1xuICAgIH1cbiAgICBhc3luYyBnZW5lcmF0ZU1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZCA9IGF3YWl0IFByb21pc2UuYWxsKHRoaXMuY3JlZHMubWFwKGNyZWQgPT4gY3JlZC5nZW5lcmF0ZU1ldGFkYXRhKG9wdGlvbnMpKSk7XG4gICAgICAgIGZvciAoY29uc3QgZ2VuIG9mIGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgYmFzZS5tZXJnZShnZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlO1xuICAgIH1cbiAgICBjb21wb3NlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zZWRDYWxsQ3JlZGVudGlhbHModGhpcy5jcmVkcy5jb25jYXQoW290aGVyXSkpO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQ29tcG9zZWRDYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWRzLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlLl9lcXVhbHMob3RoZXIuY3JlZHNbaW5kZXhdKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTaW5nbGVDYWxsQ3JlZGVudGlhbHMgZXh0ZW5kcyBDYWxsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhR2VuZXJhdG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWV0YWRhdGFHZW5lcmF0b3IgPSBtZXRhZGF0YUdlbmVyYXRvcjtcbiAgICB9XG4gICAgZ2VuZXJhdGVNZXRhZGF0YShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhR2VuZXJhdG9yKG9wdGlvbnMsIChlcnIsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXBvc2Uob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NlZENhbGxDcmVkZW50aWFscyhbdGhpcywgb3RoZXJdKTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFNpbmdsZUNhbGxDcmVkZW50aWFscykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWV0YWRhdGFHZW5lcmF0b3IgPT09IG90aGVyLm1ldGFkYXRhR2VuZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgRW1wdHlDYWxsQ3JlZGVudGlhbHMgZXh0ZW5kcyBDYWxsQ3JlZGVudGlhbHMge1xuICAgIGdlbmVyYXRlTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkpO1xuICAgIH1cbiAgICBjb21wb3NlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBFbXB0eUNhbGxDcmVkZW50aWFscztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsLWNyZWRlbnRpYWxzLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkNhbGxDcmVkZW50aWFscyIsIm1ldGFkYXRhXzEiLCJyZXF1aXJlIiwiaXNDdXJyZW50T2F1dGgyQ2xpZW50IiwiY2xpZW50IiwiZ2V0UmVxdWVzdEhlYWRlcnMiLCJjcmVhdGVGcm9tTWV0YWRhdGFHZW5lcmF0b3IiLCJtZXRhZGF0YUdlbmVyYXRvciIsIlNpbmdsZUNhbGxDcmVkZW50aWFscyIsImNyZWF0ZUZyb21Hb29nbGVDcmVkZW50aWFsIiwiZ29vZ2xlQ3JlZGVudGlhbHMiLCJvcHRpb25zIiwiY2FsbGJhY2siLCJnZXRIZWFkZXJzIiwic2VydmljZV91cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldFJlcXVlc3RNZXRhZGF0YSIsImVyciIsImhlYWRlcnMiLCJFcnJvciIsInRoZW4iLCJtZXRhZGF0YSIsIk1ldGFkYXRhIiwia2V5Iiwia2V5cyIsImFkZCIsImNyZWF0ZUVtcHR5IiwiRW1wdHlDYWxsQ3JlZGVudGlhbHMiLCJDb21wb3NlZENhbGxDcmVkZW50aWFscyIsImNvbnN0cnVjdG9yIiwiY3JlZHMiLCJnZW5lcmF0ZU1ldGFkYXRhIiwiYmFzZSIsImdlbmVyYXRlZCIsImFsbCIsIm1hcCIsImNyZWQiLCJnZW4iLCJtZXJnZSIsImNvbXBvc2UiLCJvdGhlciIsImNvbmNhdCIsIl9lcXVhbHMiLCJldmVyeSIsImluZGV4IiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/call-credentials.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/call-interface.js":
/*!****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/call-interface.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.InterceptingListenerImpl = exports.isInterceptingListener = void 0;\nfunction isInterceptingListener(listener) {\n  return listener.onReceiveMetadata !== undefined && listener.onReceiveMetadata.length === 1;\n}\nexports.isInterceptingListener = isInterceptingListener;\nclass InterceptingListenerImpl {\n  constructor(listener, nextListener) {\n    this.listener = listener;\n    this.nextListener = nextListener;\n    this.processingMetadata = false;\n    this.hasPendingMessage = false;\n    this.processingMessage = false;\n    this.pendingStatus = null;\n  }\n  processPendingMessage() {\n    if (this.hasPendingMessage) {\n      this.nextListener.onReceiveMessage(this.pendingMessage);\n      this.pendingMessage = null;\n      this.hasPendingMessage = false;\n    }\n  }\n  processPendingStatus() {\n    if (this.pendingStatus) {\n      this.nextListener.onReceiveStatus(this.pendingStatus);\n    }\n  }\n  onReceiveMetadata(metadata) {\n    this.processingMetadata = true;\n    this.listener.onReceiveMetadata(metadata, metadata => {\n      this.processingMetadata = false;\n      this.nextListener.onReceiveMetadata(metadata);\n      this.processPendingMessage();\n      this.processPendingStatus();\n    });\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onReceiveMessage(message) {\n    /* If this listener processes messages asynchronously, the last message may\n     * be reordered with respect to the status */\n    this.processingMessage = true;\n    this.listener.onReceiveMessage(message, msg => {\n      this.processingMessage = false;\n      if (this.processingMetadata) {\n        this.pendingMessage = msg;\n        this.hasPendingMessage = true;\n      } else {\n        this.nextListener.onReceiveMessage(msg);\n        this.processPendingStatus();\n      }\n    });\n  }\n  onReceiveStatus(status) {\n    this.listener.onReceiveStatus(status, processedStatus => {\n      if (this.processingMetadata || this.processingMessage) {\n        this.pendingStatus = processedStatus;\n      } else {\n        this.nextListener.onReceiveStatus(processedStatus);\n      }\n    });\n  }\n}\nexports.InterceptingListenerImpl = InterceptingListenerImpl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1pbnRlcmZhY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsZ0NBQWdDLEdBQUdBLDhCQUE4QixHQUFHLEtBQUssQ0FBQztBQUMxRSxTQUFTRyxzQkFBc0JBLENBQUNDLFFBQVEsRUFBRTtFQUN0QyxPQUFRQSxRQUFRLENBQUNDLGlCQUFpQixLQUFLQyxTQUFTLElBQzVDRixRQUFRLENBQUNDLGlCQUFpQixDQUFDRSxNQUFNLEtBQUssQ0FBQztBQUMvQztBQUNBUCw4QkFBOEIsR0FBR0csc0JBQXNCO0FBQ3ZELE1BQU1ELHdCQUF3QixDQUFDO0VBQzNCTSxXQUFXQSxDQUFDSixRQUFRLEVBQUVLLFlBQVksRUFBRTtJQUNoQyxJQUFJLENBQUNMLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNLLFlBQVksR0FBR0EsWUFBWTtJQUNoQyxJQUFJLENBQUNDLGtCQUFrQixHQUFHLEtBQUs7SUFDL0IsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyxLQUFLO0lBQzlCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsS0FBSztJQUM5QixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJO0VBQzdCO0VBQ0FDLHFCQUFxQkEsQ0FBQSxFQUFHO0lBQ3BCLElBQUksSUFBSSxDQUFDSCxpQkFBaUIsRUFBRTtNQUN4QixJQUFJLENBQUNGLFlBQVksQ0FBQ00sZ0JBQWdCLENBQUMsSUFBSSxDQUFDQyxjQUFjLENBQUM7TUFDdkQsSUFBSSxDQUFDQSxjQUFjLEdBQUcsSUFBSTtNQUMxQixJQUFJLENBQUNMLGlCQUFpQixHQUFHLEtBQUs7SUFDbEM7RUFDSjtFQUNBTSxvQkFBb0JBLENBQUEsRUFBRztJQUNuQixJQUFJLElBQUksQ0FBQ0osYUFBYSxFQUFFO01BQ3BCLElBQUksQ0FBQ0osWUFBWSxDQUFDUyxlQUFlLENBQUMsSUFBSSxDQUFDTCxhQUFhLENBQUM7SUFDekQ7RUFDSjtFQUNBUixpQkFBaUJBLENBQUNjLFFBQVEsRUFBRTtJQUN4QixJQUFJLENBQUNULGtCQUFrQixHQUFHLElBQUk7SUFDOUIsSUFBSSxDQUFDTixRQUFRLENBQUNDLGlCQUFpQixDQUFDYyxRQUFRLEVBQUVBLFFBQVEsSUFBSTtNQUNsRCxJQUFJLENBQUNULGtCQUFrQixHQUFHLEtBQUs7TUFDL0IsSUFBSSxDQUFDRCxZQUFZLENBQUNKLGlCQUFpQixDQUFDYyxRQUFRLENBQUM7TUFDN0MsSUFBSSxDQUFDTCxxQkFBcUIsQ0FBQyxDQUFDO01BQzVCLElBQUksQ0FBQ0csb0JBQW9CLENBQUMsQ0FBQztJQUMvQixDQUFDLENBQUM7RUFDTjtFQUNBO0VBQ0FGLGdCQUFnQkEsQ0FBQ0ssT0FBTyxFQUFFO0lBQ3RCO0FBQ1I7SUFDUSxJQUFJLENBQUNSLGlCQUFpQixHQUFHLElBQUk7SUFDN0IsSUFBSSxDQUFDUixRQUFRLENBQUNXLGdCQUFnQixDQUFDSyxPQUFPLEVBQUVDLEdBQUcsSUFBSTtNQUMzQyxJQUFJLENBQUNULGlCQUFpQixHQUFHLEtBQUs7TUFDOUIsSUFBSSxJQUFJLENBQUNGLGtCQUFrQixFQUFFO1FBQ3pCLElBQUksQ0FBQ00sY0FBYyxHQUFHSyxHQUFHO1FBQ3pCLElBQUksQ0FBQ1YsaUJBQWlCLEdBQUcsSUFBSTtNQUNqQyxDQUFDLE1BQ0k7UUFDRCxJQUFJLENBQUNGLFlBQVksQ0FBQ00sZ0JBQWdCLENBQUNNLEdBQUcsQ0FBQztRQUN2QyxJQUFJLENBQUNKLG9CQUFvQixDQUFDLENBQUM7TUFDL0I7SUFDSixDQUFDLENBQUM7RUFDTjtFQUNBQyxlQUFlQSxDQUFDSSxNQUFNLEVBQUU7SUFDcEIsSUFBSSxDQUFDbEIsUUFBUSxDQUFDYyxlQUFlLENBQUNJLE1BQU0sRUFBRUMsZUFBZSxJQUFJO01BQ3JELElBQUksSUFBSSxDQUFDYixrQkFBa0IsSUFBSSxJQUFJLENBQUNFLGlCQUFpQixFQUFFO1FBQ25ELElBQUksQ0FBQ0MsYUFBYSxHQUFHVSxlQUFlO01BQ3hDLENBQUMsTUFDSTtRQUNELElBQUksQ0FBQ2QsWUFBWSxDQUFDUyxlQUFlLENBQUNLLGVBQWUsQ0FBQztNQUN0RDtJQUNKLENBQUMsQ0FBQztFQUNOO0FBQ0o7QUFDQXZCLGdDQUFnQyxHQUFHRSx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NhbGwtaW50ZXJmYWNlLmpzPzhiMzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsID0gZXhwb3J0cy5pc0ludGVyY2VwdGluZ0xpc3RlbmVyID0gdm9pZCAwO1xuZnVuY3Rpb24gaXNJbnRlcmNlcHRpbmdMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIHJldHVybiAobGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YS5sZW5ndGggPT09IDEpO1xufVxuZXhwb3J0cy5pc0ludGVyY2VwdGluZ0xpc3RlbmVyID0gaXNJbnRlcmNlcHRpbmdMaXN0ZW5lcjtcbmNsYXNzIEludGVyY2VwdGluZ0xpc3RlbmVySW1wbCB7XG4gICAgY29uc3RydWN0b3IobGlzdGVuZXIsIG5leHRMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMubmV4dExpc3RlbmVyID0gbmV4dExpc3RlbmVyO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gbnVsbDtcbiAgICB9XG4gICAgcHJvY2Vzc1BlbmRpbmdNZXNzYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNQZW5kaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSh0aGlzLnBlbmRpbmdNZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nU3RhdHVzKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nU3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRMaXN0ZW5lci5vblJlY2VpdmVTdGF0dXModGhpcy5wZW5kaW5nU3RhdHVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEsIG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5leHRMaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ1N0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgLyogSWYgdGhpcyBsaXN0ZW5lciBwcm9jZXNzZXMgbWVzc2FnZXMgYXN5bmNocm9ub3VzbHksIHRoZSBsYXN0IG1lc3NhZ2UgbWF5XG4gICAgICAgICAqIGJlIHJlb3JkZXJlZCB3aXRoIHJlc3BlY3QgdG8gdGhlIHN0YXR1cyAqL1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UsIG1zZyA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbXNnO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdTdGF0dXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uUmVjZWl2ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVTdGF0dXMoc3RhdHVzLCBwcm9jZXNzZWRTdGF0dXMgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhIHx8IHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBwcm9jZXNzZWRTdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRMaXN0ZW5lci5vblJlY2VpdmVTdGF0dXMocHJvY2Vzc2VkU3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5JbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwgPSBJbnRlcmNlcHRpbmdMaXN0ZW5lckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsLWludGVyZmFjZS5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJJbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwiLCJpc0ludGVyY2VwdGluZ0xpc3RlbmVyIiwibGlzdGVuZXIiLCJvblJlY2VpdmVNZXRhZGF0YSIsInVuZGVmaW5lZCIsImxlbmd0aCIsImNvbnN0cnVjdG9yIiwibmV4dExpc3RlbmVyIiwicHJvY2Vzc2luZ01ldGFkYXRhIiwiaGFzUGVuZGluZ01lc3NhZ2UiLCJwcm9jZXNzaW5nTWVzc2FnZSIsInBlbmRpbmdTdGF0dXMiLCJwcm9jZXNzUGVuZGluZ01lc3NhZ2UiLCJvblJlY2VpdmVNZXNzYWdlIiwicGVuZGluZ01lc3NhZ2UiLCJwcm9jZXNzUGVuZGluZ1N0YXR1cyIsIm9uUmVjZWl2ZVN0YXR1cyIsIm1ldGFkYXRhIiwibWVzc2FnZSIsIm1zZyIsInN0YXR1cyIsInByb2Nlc3NlZFN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/call-interface.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/call-number.js":
/*!*************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/call-number.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getNextCallNumber = void 0;\nlet nextCallNumber = 0;\nfunction getNextCallNumber() {\n  return nextCallNumber++;\n}\nexports.getNextCallNumber = getNextCallNumber;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1udW1iZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQseUJBQXlCLEdBQUcsS0FBSyxDQUFDO0FBQ2xDLElBQUlHLGNBQWMsR0FBRyxDQUFDO0FBQ3RCLFNBQVNELGlCQUFpQkEsQ0FBQSxFQUFHO0VBQ3pCLE9BQU9DLGNBQWMsRUFBRTtBQUMzQjtBQUNBSCx5QkFBeUIsR0FBR0UsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLW51bWJlci5qcz9kM2QyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldE5leHRDYWxsTnVtYmVyID0gdm9pZCAwO1xubGV0IG5leHRDYWxsTnVtYmVyID0gMDtcbmZ1bmN0aW9uIGdldE5leHRDYWxsTnVtYmVyKCkge1xuICAgIHJldHVybiBuZXh0Q2FsbE51bWJlcisrO1xufVxuZXhwb3J0cy5nZXROZXh0Q2FsbE51bWJlciA9IGdldE5leHRDYWxsTnVtYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC1udW1iZXIuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZ2V0TmV4dENhbGxOdW1iZXIiLCJuZXh0Q2FsbE51bWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/call-number.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/call.js":
/*!******************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/call.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ClientDuplexStreamImpl = exports.ClientWritableStreamImpl = exports.ClientReadableStreamImpl = exports.ClientUnaryCallImpl = exports.callErrorFromStatus = void 0;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\n/**\n * Construct a ServiceError from a StatusObject. This function exists primarily\n * as an attempt to make the error stack trace clearly communicate that the\n * error is not necessarily a problem in gRPC itself.\n * @param status\n */\nfunction callErrorFromStatus(status, callerStack) {\n  const message = `${status.code} ${constants_1.Status[status.code]}: ${status.details}`;\n  const error = new Error(message);\n  const stack = `${error.stack}\\nfor call at\\n${callerStack}`;\n  return Object.assign(new Error(message), status, {\n    stack\n  });\n}\nexports.callErrorFromStatus = callErrorFromStatus;\nclass ClientUnaryCallImpl extends events_1.EventEmitter {\n  constructor() {\n    super();\n  }\n  cancel() {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n  }\n  getPeer() {\n    var _a, _b;\n    return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n  }\n}\nexports.ClientUnaryCallImpl = ClientUnaryCallImpl;\nclass ClientReadableStreamImpl extends stream_1.Readable {\n  constructor(deserialize) {\n    super({\n      objectMode: true\n    });\n    this.deserialize = deserialize;\n  }\n  cancel() {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n  }\n  getPeer() {\n    var _a, _b;\n    return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n  }\n  _read(_size) {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n  }\n}\nexports.ClientReadableStreamImpl = ClientReadableStreamImpl;\nclass ClientWritableStreamImpl extends stream_1.Writable {\n  constructor(serialize) {\n    super({\n      objectMode: true\n    });\n    this.serialize = serialize;\n  }\n  cancel() {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n  }\n  getPeer() {\n    var _a, _b;\n    return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n  }\n  _write(chunk, encoding, cb) {\n    var _a;\n    const context = {\n      callback: cb\n    };\n    const flags = Number(encoding);\n    if (!Number.isNaN(flags)) {\n      context.flags = flags;\n    }\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n  }\n  _final(cb) {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n    cb();\n  }\n}\nexports.ClientWritableStreamImpl = ClientWritableStreamImpl;\nclass ClientDuplexStreamImpl extends stream_1.Duplex {\n  constructor(serialize, deserialize) {\n    super({\n      objectMode: true\n    });\n    this.serialize = serialize;\n    this.deserialize = deserialize;\n  }\n  cancel() {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n  }\n  getPeer() {\n    var _a, _b;\n    return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n  }\n  _read(_size) {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n  }\n  _write(chunk, encoding, cb) {\n    var _a;\n    const context = {\n      callback: cb\n    };\n    const flags = Number(encoding);\n    if (!Number.isNaN(flags)) {\n      context.flags = flags;\n    }\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n  }\n  _final(cb) {\n    var _a;\n    (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n    cb();\n  }\n}\nexports.ClientDuplexStreamImpl = ClientDuplexStreamImpl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCw4QkFBOEIsR0FBR0EsZ0NBQWdDLEdBQUdBLGdDQUFnQyxHQUFHQSwyQkFBMkIsR0FBR0EsMkJBQTJCLEdBQUcsS0FBSyxDQUFDO0FBQ3pLLE1BQU1PLFFBQVEsR0FBR0MsbUJBQU8sQ0FBQyxzQkFBUSxDQUFDO0FBQ2xDLE1BQU1DLFFBQVEsR0FBR0QsbUJBQU8sQ0FBQyxzQkFBUSxDQUFDO0FBQ2xDLE1BQU1FLFdBQVcsR0FBR0YsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNGLG1CQUFtQkEsQ0FBQ0ssTUFBTSxFQUFFQyxXQUFXLEVBQUU7RUFDOUMsTUFBTUMsT0FBTyxHQUFJLEdBQUVGLE1BQU0sQ0FBQ0csSUFBSyxJQUFHSixXQUFXLENBQUNLLE1BQU0sQ0FBQ0osTUFBTSxDQUFDRyxJQUFJLENBQUUsS0FBSUgsTUFBTSxDQUFDSyxPQUFRLEVBQUM7RUFDdEYsTUFBTUMsS0FBSyxHQUFHLElBQUlDLEtBQUssQ0FBQ0wsT0FBTyxDQUFDO0VBQ2hDLE1BQU1NLEtBQUssR0FBSSxHQUFFRixLQUFLLENBQUNFLEtBQU0sa0JBQWlCUCxXQUFZLEVBQUM7RUFDM0QsT0FBT2QsTUFBTSxDQUFDc0IsTUFBTSxDQUFDLElBQUlGLEtBQUssQ0FBQ0wsT0FBTyxDQUFDLEVBQUVGLE1BQU0sRUFBRTtJQUFFUTtFQUFNLENBQUMsQ0FBQztBQUMvRDtBQUNBbkIsMkJBQTJCLEdBQUdNLG1CQUFtQjtBQUNqRCxNQUFNRCxtQkFBbUIsU0FBU0UsUUFB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R0FBR0MsTUFBTSxDQUFDTCxRQUFRLENBQUM7SUFDOUIsSUFBSSxDQUFDSyxNQUFNLENBQUNDLEtBQUssQ0FBQ0YsS0FBSyxDQUFDLEVBQUU7TUFDdEJGLE9BQU8sQ0FBQ0UsS0FBSyxHQUFHQSxLQUFLO0lBQ3pCO0lBQ0EsQ0FBQ3BCLEVBQUUsR0FBRyxJQUFJLENBQUNDLElBQUksTUFBTSxJQUFJLElBQUlELEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDdUIsc0JBQXNCLENBQUNMLE9BQU8sRUFBRUgsS0FBSyxDQUFDO0VBQ25HO0VBQ0FTLE1BQU1BLENBQUNQLEVBQUUsRUFBRTtJQUNQLElBQUlqQixFQUFFO0lBQ04sQ0FBQ0EsRUFBRSxHQUFHLElBQUksQ0FBQ0MsSUFBSSxNQUFNLElBQUksSUFBSUQsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxFQUFFLENBQUN5QixTQUFTLENBQUMsQ0FBQztJQUNwRVIsRUFBRSxDQUFDLENBQUM7RUFDUjtBQUNKO0FBQ0F6Qyw4QkFBOEIsR0FBR0Usc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLmpzP2ZlMzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2xpZW50RHVwbGV4U3RyZWFtSW1wbCA9IGV4cG9ydHMuQ2xpZW50V3JpdGFibGVTdHJlYW1JbXBsID0gZXhwb3J0cy5DbGllbnRSZWFkYWJsZVN0cmVhbUltcGwgPSBleHBvcnRzLkNsaWVudFVuYXJ5Q2FsbEltcGwgPSBleHBvcnRzLmNhbGxFcnJvckZyb21TdGF0dXMgPSB2b2lkIDA7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogQ29uc3RydWN0IGEgU2VydmljZUVycm9yIGZyb20gYSBTdGF0dXNPYmplY3QuIFRoaXMgZnVuY3Rpb24gZXhpc3RzIHByaW1hcmlseVxuICogYXMgYW4gYXR0ZW1wdCB0byBtYWtlIHRoZSBlcnJvciBzdGFjayB0cmFjZSBjbGVhcmx5IGNvbW11bmljYXRlIHRoYXQgdGhlXG4gKiBlcnJvciBpcyBub3QgbmVjZXNzYXJpbHkgYSBwcm9ibGVtIGluIGdSUEMgaXRzZWxmLlxuICogQHBhcmFtIHN0YXR1c1xuICovXG5mdW5jdGlvbiBjYWxsRXJyb3JGcm9tU3RhdHVzKHN0YXR1cywgY2FsbGVyU3RhY2spIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYCR7c3RhdHVzLmNvZGV9ICR7Y29uc3RhbnRzXzEuU3RhdHVzW3N0YXR1cy5jb2RlXX06ICR7c3RhdHVzLmRldGFpbHN9YDtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICBjb25zdCBzdGFjayA9IGAke2Vycm9yLnN0YWNrfVxcbmZvciBjYWxsIGF0XFxuJHtjYWxsZXJTdGFja31gO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihtZXNzYWdlKSwgc3RhdHVzLCB7IHN0YWNrIH0pO1xufVxuZXhwb3J0cy5jYWxsRXJyb3JGcm9tU3RhdHVzID0gY2FsbEVycm9yRnJvbVN0YXR1cztcbmNsYXNzIENsaWVudFVuYXJ5Q2FsbEltcGwgZXh0ZW5kcyBldmVudHNfMS5FdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRVbmFyeUNhbGxJbXBsID0gQ2xpZW50VW5hcnlDYWxsSW1wbDtcbmNsYXNzIENsaWVudFJlYWRhYmxlU3RyZWFtSW1wbCBleHRlbmRzIHN0cmVhbV8xLlJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihkZXNlcmlhbGl6ZSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuZGVzZXJpYWxpemUgPSBkZXNlcmlhbGl6ZTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLkNBTkNFTExFRCwgJ0NhbmNlbGxlZCBvbiBjbGllbnQnKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFBlZXIoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ3Vua25vd24nO1xuICAgIH1cbiAgICBfcmVhZChfc2l6ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXJ0UmVhZCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsID0gQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsO1xuY2xhc3MgQ2xpZW50V3JpdGFibGVTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuV3JpdGFibGUge1xuICAgIGNvbnN0cnVjdG9yKHNlcmlhbGl6ZSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxuICAgIF93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBOdW1iZXIoZW5jb2RpbmcpO1xuICAgICAgICBpZiAoIU51bWJlci5pc05hTihmbGFncykpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIGNodW5rKTtcbiAgICB9XG4gICAgX2ZpbmFsKGNiKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGFsZkNsb3NlKCk7XG4gICAgICAgIGNiKCk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRXcml0YWJsZVN0cmVhbUltcGwgPSBDbGllbnRXcml0YWJsZVN0cmVhbUltcGw7XG5jbGFzcyBDbGllbnREdXBsZXhTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuRHVwbGV4IHtcbiAgICBjb25zdHJ1Y3RvcihzZXJpYWxpemUsIGRlc2VyaWFsaXplKSB7XG4gICAgICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4gICAgICAgIHRoaXMuZGVzZXJpYWxpemUgPSBkZXNlcmlhbGl6ZTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLkNBTkNFTExFRCwgJ0NhbmNlbGxlZCBvbiBjbGllbnQnKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFBlZXIoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ3Vua25vd24nO1xuICAgIH1cbiAgICBfcmVhZChfc2l6ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXJ0UmVhZCgpO1xuICAgIH1cbiAgICBfd3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgICBjYWxsYmFjazogY2IsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZsYWdzID0gTnVtYmVyKGVuY29kaW5nKTtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oZmxhZ3MpKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBjaHVuayk7XG4gICAgfVxuICAgIF9maW5hbChjYikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhhbGZDbG9zZSgpO1xuICAgICAgICBjYigpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50RHVwbGV4U3RyZWFtSW1wbCA9IENsaWVudER1cGxleFN0cmVhbUltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkNsaWVudER1cGxleFN0cmVhbUltcGwiLCJDbGllbnRXcml0YWJsZVN0cmVhbUltcGwiLCJDbGllbnRSZWFkYWJsZVN0cmVhbUltcGwiLCJDbGllbnRVbmFyeUNhbGxJbXBsIiwiY2FsbEVycm9yRnJvbVN0YXR1cyIsImV2ZW50c18xIiwicmVxdWlyZSIsInN0cmVhbV8xIiwiY29uc3RhbnRzXzEiLCJzdGF0dXMiLCJjYWxsZXJTdGFjayIsIm1lc3NhZ2UiLCJjb2RlIiwiU3RhdHVzIiwiZGV0YWlscyIsImVycm9yIiwiRXJyb3IiLCJzdGFjayIsImFzc2lnbiIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiY2FuY2VsIiwiX2EiLCJjYWxsIiwiY2FuY2VsV2l0aFN0YXR1cyIsIkNBTkNFTExFRCIsImdldFBlZXIiLCJfYiIsIlJlYWRhYmxlIiwiZGVzZXJpYWxpemUiLCJvYmplY3RNb2RlIiwiX3JlYWQiLCJfc2l6ZSIsInN0YXJ0UmVhZCIsIldyaXRhYmxlIiwic2VyaWFsaXplIiwiX3dyaXRlIiwiY2h1bmsiLCJlbmNvZGluZyIsImNiIiwiY29udGV4dCIsImNhbGxiYWNrIiwiZmxhZ3MiLCJOdW1iZXIiLCJpc05hTiIsInNlbmRNZXNzYWdlV2l0aENvbnRleHQiLCJfZmluYWwiLCJoYWxmQ2xvc2UiLCJEdXBsZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/call.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-credentials.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/channel-credentials.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ChannelCredentials = void 0;\nconst tls_1 = __webpack_require__(/*! tls */ \"tls\");\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nconst tls_helpers_1 = __webpack_require__(/*! ./tls-helpers */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/tls-helpers.js\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction verifyIsBufferOrNull(obj, friendlyName) {\n  if (obj && !(obj instanceof Buffer)) {\n    throw new TypeError(`${friendlyName}, if provided, must be a Buffer.`);\n  }\n}\n/**\n * A class that contains credentials for communicating over a channel, as well\n * as a set of per-call credentials, which are applied to every method call made\n * over a channel initialized with an instance of this class.\n */\nclass ChannelCredentials {\n  constructor(callCredentials) {\n    this.callCredentials = callCredentials || call_credentials_1.CallCredentials.createEmpty();\n  }\n  /**\n   * Gets the set of per-call credentials associated with this instance.\n   */\n  _getCallCredentials() {\n    return this.callCredentials;\n  }\n  /**\n   * Return a new ChannelCredentials instance with a given set of credentials.\n   * The resulting instance can be used to construct a Channel that communicates\n   * over TLS.\n   * @param rootCerts The root certificate data.\n   * @param privateKey The client certificate private key, if available.\n   * @param certChain The client certificate key chain, if available.\n   * @param verifyOptions Additional options to modify certificate verification\n   */\n  static createSsl(rootCerts, privateKey, certChain, verifyOptions) {\n    var _a;\n    verifyIsBufferOrNull(rootCerts, 'Root certificate');\n    verifyIsBufferOrNull(privateKey, 'Private key');\n    verifyIsBufferOrNull(certChain, 'Certificate chain');\n    if (privateKey && !certChain) {\n      throw new Error('Private key must be given with accompanying certificate chain');\n    }\n    if (!privateKey && certChain) {\n      throw new Error('Certificate chain must be given with accompanying private key');\n    }\n    const secureContext = (0, tls_1.createSecureContext)({\n      ca: (_a = rootCerts !== null && rootCerts !== void 0 ? rootCerts : (0, tls_helpers_1.getDefaultRootsData)()) !== null && _a !== void 0 ? _a : undefined,\n      key: privateKey !== null && privateKey !== void 0 ? privateKey : undefined,\n      cert: certChain !== null && certChain !== void 0 ? certChain : undefined,\n      ciphers: tls_helpers_1.CIPHER_SUITES\n    });\n    return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n  }\n  /**\n   * Return a new ChannelCredentials instance with credentials created using\n   * the provided secureContext. The resulting instances can be used to\n   * construct a Channel that communicates over TLS. gRPC will not override\n   * anything in the provided secureContext, so the environment variables\n   * GRPC_SSL_CIPHER_SUITES and GRPC_DEFAULT_SSL_ROOTS_FILE_PATH will\n   * not be applied.\n   * @param secureContext The return value of tls.createSecureContext()\n   * @param verifyOptions Additional options to modify certificate verification\n   */\n  static createFromSecureContext(secureContext, verifyOptions) {\n    return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n  }\n  /**\n   * Return a new ChannelCredentials instance with no credentials.\n   */\n  static createInsecure() {\n    return new InsecureChannelCredentialsImpl();\n  }\n}\nexports.ChannelCredentials = ChannelCredentials;\nclass InsecureChannelCredentialsImpl extends ChannelCredentials {\n  constructor(callCredentials) {\n    super(callCredentials);\n  }\n  compose(callCredentials) {\n    throw new Error('Cannot compose insecure credentials');\n  }\n  _getConnectionOptions() {\n    return null;\n  }\n  _isSecure() {\n    return false;\n  }\n  _equals(other) {\n    return other instanceof InsecureChannelCredentialsImpl;\n  }\n}\nclass SecureChannelCredentialsImpl extends ChannelCredentials {\n  constructor(secureContext, verifyOptions) {\n    super();\n    this.secureContext = secureContext;\n    this.verifyOptions = verifyOptions;\n    this.connectionOptions = {\n      secureContext\n    };\n    // Node asserts that this option is a function, so we cannot pass undefined\n    if (verifyOptions === null || verifyOptions === void 0 ? void 0 : verifyOptions.checkServerIdentity) {\n      this.connectionOptions.checkServerIdentity = verifyOptions.checkServerIdentity;\n    }\n  }\n  compose(callCredentials) {\n    const combinedCallCredentials = this.callCredentials.compose(callCredentials);\n    return new ComposedChannelCredentialsImpl(this, combinedCallCredentials);\n  }\n  _getConnectionOptions() {\n    // Copy to prevent callers from mutating this.connectionOptions\n    return Object.assign({}, this.connectionOptions);\n  }\n  _isSecure() {\n    return true;\n  }\n  _equals(other) {\n    if (this === other) {\n      return true;\n    }\n    if (other instanceof SecureChannelCredentialsImpl) {\n      return this.secureContext === other.secureContext && this.verifyOptions.checkServerIdentity === other.verifyOptions.checkServerIdentity;\n    } else {\n      return false;\n    }\n  }\n}\nclass ComposedChannelCredentialsImpl extends ChannelCredentials {\n  constructor(channelCredentials, callCreds) {\n    super(callCreds);\n    this.channelCredentials = channelCredentials;\n  }\n  compose(callCredentials) {\n    const combinedCallCredentials = this.callCredentials.compose(callCredentials);\n    return new ComposedChannelCredentialsImpl(this.channelCredentials, combinedCallCredentials);\n  }\n  _getConnectionOptions() {\n    return this.channelCredentials._getConnectionOptions();\n  }\n  _isSecure() {\n    return true;\n  }\n  _equals(other) {\n    if (this === other) {\n      return true;\n    }\n    if (other instanceof ComposedChannelCredentialsImpl) {\n      return this.channelCredentials._equals(other.channelCredentials) && this.callCredentials._equals(other.callCredentials);\n    } else {\n      return false;\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC1jcmVkZW50aWFscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCwwQkFBMEIsR0FBRyxLQUFLLENBQUM7QUFDbkMsTUFBTUcsS0FBSyxHQUFHQyxtQkFBTyxDQUFDLGdCQUFLLENBQUM7QUFDNUIsTUFBTUMsa0JBQWtCLEdBQUdELG1CQUFPLENBQUMsNEZBQW9CLENBQUM7QUFDeEQsTUFBTUUsYUFBYSxHQUFHRixtQkFBTyxDQUFDLGtGQUFlLENBQUM7QUFDOUM7QUFDQSxTQUFTRyxvQkFBb0JBLENBQUNDLEdBQUcsRUFBRUMsWUFBWSxFQUFFO0VBQzdDLElBQUlELEdBQUcsSUFBSSxFQUFFQSxHQUFHLFlBQVlFLE1BQU0sQ0FBQyxFQUFFO0lBQ2pDLE1BQU0sSUFBSUMsU0FBUyxDQUFFLEdBQUVGLFlBQWEsa0NBQWlDLENBQUM7RUFDMUU7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNUCxrQkFBa0IsQ0FBQztFQUNyQlUsV0FBV0EsQ0FBQ0MsZUFBZSxFQUFFO0lBQ3pCLElBQUksQ0FBQ0EsZUFBZSxHQUFHQSxlQUFlLElBQUlSLGtCQUFrQixDQUFDUyxlQUFlLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0VBQzlGO0VBQ0E7QUFDSjtBQUNBO0VBQ0lDLG1CQUFtQkEsQ0FBQSxFQUFHO0lBQ2xCLE9BQU8sSUFBSSxDQUFDSCxlQUFlO0VBQy9CO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0ksT0FBT0ksU0FBU0EsQ0FBQ0MsU0FBUyxFQUFFQyxVQUFVLEVBQUVDLFNBQVMsRUFBRUMs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QU9BLENBQUN4QixlQUFlLEVBQUU7SUFDckIsTUFBTStCLHVCQUF1QixHQUFHLElBQUksQ0FBQy9CLGVBQWUsQ0FBQ3dCLE9BQU8sQ0FBQ3hCLGVBQWUsQ0FBQztJQUM3RSxPQUFPLElBQUlnQyw4QkFBOEIsQ0FBQyxJQUFJLENBQUNFLGtCQUFrQixFQUFFSCx1QkFBdUIsQ0FBQztFQUMvRjtFQUNBTixxQkFBcUJBLENBQUEsRUFBRztJQUNwQixPQUFPLElBQUksQ0FBQ1Msa0JBQWtCLENBQUNULHFCQUFxQixDQUFDLENBQUM7RUFDMUQ7RUFDQUMsU0FBU0EsQ0FBQSxFQUFHO0lBQ1IsT0FBTyxJQUFJO0VBQ2Y7RUFDQUMsT0FBT0EsQ0FBQ0MsS0FBSyxFQUFFO0lBQ1gsSUFBSSxJQUFJLEtBQUtBLEtBQUssRUFBRTtNQUNoQixPQUFPLElBQUk7SUFDZjtJQUNBLElBQUlBLEtBQUssWUFBWUksOEJBQThCLEVBQUU7TUFDakQsT0FBUSxJQUFJLENBQUNFLGtCQUFrQixDQUFDUCxPQUFPLENBQUNDLEtBQUssQ0FBQ00sa0JBQWtCLENBQUMsSUFDN0QsSUFBSSxDQUFDbEMsZUFBZSxDQUFDMkIsT0FBTyxDQUFDQyxLQUFLLENBQUM1QixlQUFlLENBQUM7SUFDM0QsQ0FBQyxNQUNJO01BQ0QsT0FBTyxLQUFLO0lBQ2hCO0VBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC1jcmVkZW50aWFscy5qcz84ZTcwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNoYW5uZWxDcmVkZW50aWFscyA9IHZvaWQgMDtcbmNvbnN0IHRsc18xID0gcmVxdWlyZShcInRsc1wiKTtcbmNvbnN0IGNhbGxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NhbGwtY3JlZGVudGlhbHNcIik7XG5jb25zdCB0bHNfaGVscGVyc18xID0gcmVxdWlyZShcIi4vdGxzLWhlbHBlcnNcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gdmVyaWZ5SXNCdWZmZXJPck51bGwob2JqLCBmcmllbmRseU5hbWUpIHtcbiAgICBpZiAob2JqICYmICEob2JqIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2ZyaWVuZGx5TmFtZX0sIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgQnVmZmVyLmApO1xuICAgIH1cbn1cbi8qKlxuICogQSBjbGFzcyB0aGF0IGNvbnRhaW5zIGNyZWRlbnRpYWxzIGZvciBjb21tdW5pY2F0aW5nIG92ZXIgYSBjaGFubmVsLCBhcyB3ZWxsXG4gKiBhcyBhIHNldCBvZiBwZXItY2FsbCBjcmVkZW50aWFscywgd2hpY2ggYXJlIGFwcGxpZWQgdG8gZXZlcnkgbWV0aG9kIGNhbGwgbWFkZVxuICogb3ZlciBhIGNoYW5uZWwgaW5pdGlhbGl6ZWQgd2l0aCBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLlxuICovXG5jbGFzcyBDaGFubmVsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLmNhbGxDcmVkZW50aWFscyA9IGNhbGxDcmVkZW50aWFscyB8fCBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUVtcHR5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNldCBvZiBwZXItY2FsbCBjcmVkZW50aWFscyBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBfZ2V0Q2FsbENyZWRlbnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsQ3JlZGVudGlhbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIG5ldyBDaGFubmVsQ3JlZGVudGlhbHMgaW5zdGFuY2Ugd2l0aCBhIGdpdmVuIHNldCBvZiBjcmVkZW50aWFscy5cbiAgICAgKiBUaGUgcmVzdWx0aW5nIGluc3RhbmNlIGNhbiBiZSB1c2VkIHRvIGNvbnN0cnVjdCBhIENoYW5uZWwgdGhhdCBjb21tdW5pY2F0ZXNcbiAgICAgKiBvdmVyIFRMUy5cbiAgICAgKiBAcGFyYW0gcm9vdENlcnRzIFRoZSByb290IGNlcnRpZmljYXRlIGRhdGEuXG4gICAgICogQHBhcmFtIHByaXZhdGVLZXkgVGhlIGNsaWVudCBjZXJ0aWZpY2F0ZSBwcml2YXRlIGtleSwgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSBjZXJ0Q2hhaW4gVGhlIGNsaWVudCBjZXJ0aWZpY2F0ZSBrZXkgY2hhaW4sIGlmIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0gdmVyaWZ5T3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgdG8gbW9kaWZ5IGNlcnRpZmljYXRlIHZlcmlmaWNhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVTc2wocm9vdENlcnRzLCBwcml2YXRlS2V5LCBjZXJ0Q2hhaW4sIHZlcmlmeU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2ZXJpZnlJc0J1ZmZlck9yTnVsbChyb290Q2VydHMsICdSb290IGNlcnRpZmljYXRlJyk7XG4gICAgICAgIHZlcmlmeUlzQnVmZmVyT3JOdWxsKHByaXZhdGVLZXksICdQcml2YXRlIGtleScpO1xuICAgICAgICB2ZXJpZnlJc0J1ZmZlck9yTnVsbChjZXJ0Q2hhaW4sICdDZXJ0aWZpY2F0ZSBjaGFpbicpO1xuICAgICAgICBpZiAocHJpdmF0ZUtleSAmJiAhY2VydENoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByaXZhdGUga2V5IG11c3QgYmUgZ2l2ZW4gd2l0aCBhY2NvbXBhbnlpbmcgY2VydGlmaWNhdGUgY2hhaW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByaXZhdGVLZXkgJiYgY2VydENoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NlcnRpZmljYXRlIGNoYWluIG11c3QgYmUgZ2l2ZW4gd2l0aCBhY2NvbXBhbnlpbmcgcHJpdmF0ZSBrZXknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWN1cmVDb250ZXh0ID0gKDAsIHRsc18xLmNyZWF0ZVNlY3VyZUNvbnRleHQpKHtcbiAgICAgICAgICAgIGNhOiAoX2EgPSByb290Q2VydHMgIT09IG51bGwgJiYgcm9vdENlcnRzICE9PSB2b2lkIDAgPyByb290Q2VydHMgOiAoMCwgdGxzX2hlbHBlcnNfMS5nZXREZWZhdWx0Um9vdHNEYXRhKSgpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBrZXk6IHByaXZhdGVLZXkgIT09IG51bGwgJiYgcHJpdmF0ZUtleSAhPT0gdm9pZCAwID8gcHJpdmF0ZUtleSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNlcnQ6IGNlcnRDaGFpbiAhPT0gbnVsbCAmJiBjZXJ0Q2hhaW4gIT09IHZvaWQgMCA/IGNlcnRDaGFpbiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNpcGhlcnM6IHRsc19oZWxwZXJzXzEuQ0lQSEVSX1NVSVRFUyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgU2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbChzZWN1cmVDb250ZXh0LCB2ZXJpZnlPcHRpb25zICE9PSBudWxsICYmIHZlcmlmeU9wdGlvbnMgIT09IHZvaWQgMCA/IHZlcmlmeU9wdGlvbnMgOiB7fSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIG5ldyBDaGFubmVsQ3JlZGVudGlhbHMgaW5zdGFuY2Ugd2l0aCBjcmVkZW50aWFscyBjcmVhdGVkIHVzaW5nXG4gICAgICogdGhlIHByb3ZpZGVkIHNlY3VyZUNvbnRleHQuIFRoZSByZXN1bHRpbmcgaW5zdGFuY2VzIGNhbiBiZSB1c2VkIHRvXG4gICAgICogY29uc3RydWN0IGEgQ2hhbm5lbCB0aGF0IGNvbW11bmljYXRlcyBvdmVyIFRMUy4gZ1JQQyB3aWxsIG5vdCBvdmVycmlkZVxuICAgICAqIGFueXRoaW5nIGluIHRoZSBwcm92aWRlZCBzZWN1cmVDb250ZXh0LCBzbyB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgICogR1JQQ19TU0xfQ0lQSEVSX1NVSVRFUyBhbmQgR1JQQ19ERUZBVUxUX1NTTF9ST09UU19GSUxFX1BBVEggd2lsbFxuICAgICAqIG5vdCBiZSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSBzZWN1cmVDb250ZXh0IFRoZSByZXR1cm4gdmFsdWUgb2YgdGxzLmNyZWF0ZVNlY3VyZUNvbnRleHQoKVxuICAgICAqIEBwYXJhbSB2ZXJpZnlPcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucyB0byBtb2RpZnkgY2VydGlmaWNhdGUgdmVyaWZpY2F0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUZyb21TZWN1cmVDb250ZXh0KHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsKHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMgIT09IG51bGwgJiYgdmVyaWZ5T3B0aW9ucyAhPT0gdm9pZCAwID8gdmVyaWZ5T3B0aW9ucyA6IHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgbmV3IENoYW5uZWxDcmVkZW50aWFscyBpbnN0YW5jZSB3aXRoIG5vIGNyZWRlbnRpYWxzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVJbnNlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwoKTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWxDcmVkZW50aWFscyA9IENoYW5uZWxDcmVkZW50aWFscztcbmNsYXNzIEluc2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCBleHRlbmRzIENoYW5uZWxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHN1cGVyKGNhbGxDcmVkZW50aWFscyk7XG4gICAgfVxuICAgIGNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBvc2UgaW5zZWN1cmUgY3JlZGVudGlhbHMnKTtcbiAgICB9XG4gICAgX2dldENvbm5lY3Rpb25PcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX2lzU2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgSW5zZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsO1xuICAgIH1cbn1cbmNsYXNzIFNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwgZXh0ZW5kcyBDaGFubmVsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zZWN1cmVDb250ZXh0ID0gc2VjdXJlQ29udGV4dDtcbiAgICAgICAgdGhpcy52ZXJpZnlPcHRpb25zID0gdmVyaWZ5T3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHNlY3VyZUNvbnRleHQsXG4gICAgICAgIH07XG4gICAgICAgIC8vIE5vZGUgYXNzZXJ0cyB0aGF0IHRoaXMgb3B0aW9uIGlzIGEgZnVuY3Rpb24sIHNvIHdlIGNhbm5vdCBwYXNzIHVuZGVmaW5lZFxuICAgICAgICBpZiAodmVyaWZ5T3B0aW9ucyA9PT0gbnVsbCB8fCB2ZXJpZnlPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2ZXJpZnlPcHRpb25zLmNoZWNrU2VydmVySWRlbnRpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbk9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9XG4gICAgICAgICAgICAgICAgdmVyaWZ5T3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzID0gdGhpcy5jYWxsQ3JlZGVudGlhbHMuY29tcG9zZShjYWxsQ3JlZGVudGlhbHMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2VkQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCh0aGlzLCBjb21iaW5lZENhbGxDcmVkZW50aWFscyk7XG4gICAgfVxuICAgIF9nZXRDb25uZWN0aW9uT3B0aW9ucygpIHtcbiAgICAgICAgLy8gQ29weSB0byBwcmV2ZW50IGNhbGxlcnMgZnJvbSBtdXRhdGluZyB0aGlzLmNvbm5lY3Rpb25PcHRpb25zXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICB9XG4gICAgX2lzU2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5zZWN1cmVDb250ZXh0ID09PSBvdGhlci5zZWN1cmVDb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJpZnlPcHRpb25zLmNoZWNrU2VydmVySWRlbnRpdHkgPT09XG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnZlcmlmeU9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBDb21wb3NlZENoYW5uZWxDcmVkZW50aWFsc0ltcGwgZXh0ZW5kcyBDaGFubmVsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxDcmVkZW50aWFscywgY2FsbENyZWRzKSB7XG4gICAgICAgIHN1cGVyKGNhbGxDcmVkcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbENyZWRlbnRpYWxzID0gY2hhbm5lbENyZWRlbnRpYWxzO1xuICAgIH1cbiAgICBjb21wb3NlKGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICBjb25zdCBjb21iaW5lZENhbGxDcmVkZW50aWFscyA9IHRoaXMuY2FsbENyZWRlbnRpYWxzLmNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NlZENoYW5uZWxDcmVkZW50aWFsc0ltcGwodGhpcy5jaGFubmVsQ3JlZGVudGlhbHMsIGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzKTtcbiAgICB9XG4gICAgX2dldENvbm5lY3Rpb25PcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsQ3JlZGVudGlhbHMuX2dldENvbm5lY3Rpb25PcHRpb25zKCk7XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBDb21wb3NlZENoYW5uZWxDcmVkZW50aWFsc0ltcGwpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5jaGFubmVsQ3JlZGVudGlhbHMuX2VxdWFscyhvdGhlci5jaGFubmVsQ3JlZGVudGlhbHMpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsQ3JlZGVudGlhbHMuX2VxdWFscyhvdGhlci5jYWxsQ3JlZGVudGlhbHMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5uZWwtY3JlZGVudGlhbHMuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ2hhbm5lbENyZWRlbnRpYWxzIiwidGxzXzEiLCJyZXF1aXJlIiwiY2FsbF9jcmVkZW50aWFsc18xIiwidGxzX2hlbHBlcnNfMSIsInZlcmlmeUlzQnVmZmVyT3JOdWxsIiwib2JqIiwiZnJpZW5kbHlOYW1lIiwiQnVmZmVyIiwiVHlwZUVycm9yIiwiY29uc3RydWN0b3IiLCJjYWxsQ3JlZGVudGlhbHMiLCJDYWxsQ3JlZGVudGlhbHMiLCJjcmVhdGVFbXB0eSIsIl9nZXRDYWxsQ3JlZGVudGlhbHMiLCJjcmVhdGVTc2wiLCJyb290Q2VydHMiLCJwcml2YXRlS2V5IiwiY2VydENoYWluIiwidmVyaWZ5T3B0aW9ucyIsIl9hIiwiRXJyb3IiLCJzZWN1cmVDb250ZXh0IiwiY3JlYXRlU2VjdXJlQ29udGV4dCIsImNhIiwiZ2V0RGVmYXVsdFJvb3RzRGF0YSIsInVuZGVmaW5lZCIsImtleSIsImNlcnQiLCJjaXBoZXJzIiwiQ0lQSEVSX1NVSVRFUyIsIlNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwiLCJjcmVhdGVGcm9tU2VjdXJlQ29udGV4dCIsImNyZWF0ZUluc2VjdXJlIiwiSW5zZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsIiwiY29tcG9zZSIsIl9nZXRDb25uZWN0aW9uT3B0aW9ucyIsIl9pc1NlY3VyZSIsIl9lcXVhbHMiLCJvdGhlciIsImNvbm5lY3Rpb25PcHRpb25zIiwiY2hlY2tTZXJ2ZXJJZGVudGl0eSIsImNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzIiwiQ29tcG9zZWRDaGFubmVsQ3JlZGVudGlhbHNJbXBsIiwiYXNzaWduIiwiY2hhbm5lbENyZWRlbnRpYWxzIiwiY2FsbENyZWRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-credentials.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-options.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/channel-options.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.channelOptionsEqual = exports.recognizedOptions = void 0;\n/**\n * This is for checking provided options at runtime. This is an object for\n * easier membership checking.\n */\nexports.recognizedOptions = {\n  'grpc.ssl_target_name_override': true,\n  'grpc.primary_user_agent': true,\n  'grpc.secondary_user_agent': true,\n  'grpc.default_authority': true,\n  'grpc.keepalive_time_ms': true,\n  'grpc.keepalive_timeout_ms': true,\n  'grpc.keepalive_permit_without_calls': true,\n  'grpc.service_config': true,\n  'grpc.max_concurrent_streams': true,\n  'grpc.initial_reconnect_backoff_ms': true,\n  'grpc.max_reconnect_backoff_ms': true,\n  'grpc.use_local_subchannel_pool': true,\n  'grpc.max_send_message_length': true,\n  'grpc.max_receive_message_length': true,\n  'grpc.enable_http_proxy': true,\n  'grpc.enable_channelz': true,\n  'grpc.dns_min_time_between_resolutions_ms': true,\n  'grpc.enable_retries': true,\n  'grpc.per_rpc_retry_buffer_size': true,\n  'grpc.retry_buffer_size': true,\n  'grpc.max_connection_age_ms': true,\n  'grpc.max_connection_age_grace_ms': true,\n  'grpc-node.max_session_memory': true,\n  'grpc.service_config_disable_resolution': true,\n  'grpc.client_idle_timeout_ms': true,\n  'grpc-node.tls_enable_trace': true\n};\nfunction channelOptionsEqual(options1, options2) {\n  const keys1 = Object.keys(options1).sort();\n  const keys2 = Object.keys(options2).sort();\n  if (keys1.length !== keys2.length) {\n    return false;\n  }\n  for (let i = 0; i < keys1.length; i += 1) {\n    if (keys1[i] !== keys2[i]) {\n      return false;\n    }\n    if (options1[keys1[i]] !== options2[keys2[i]]) {\n      return false;\n    }\n  }\n  return true;\n}\nexports.channelOptionsEqual = channelOptionsEqual;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC1vcHRpb25zLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELDJCQUEyQixHQUFHQSx5QkFBeUIsR0FBRyxLQUFLLENBQUM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQUEseUJBQXlCLEdBQUc7RUFDeEIsK0JBQStCLEVBQUUsSUFBSTtFQUNyQyx5QkFBeUIsRUFBRSxJQUFJO0VBQy9CLDJCQUEyQixFQUFFLElBQUk7RUFDakMsd0JBQXdCLEVBQUUsSUFBSTtFQUM5Qix3QkFBd0IsRUFBRSxJQUFJO0VBQzlCLDJCQUEyQixFQUFFLElBQUk7RUFDakMscUNBQXFDLEVBQUUsSUFBSTtFQUMzQyxxQkFBcUIsRUFBRSxJQUFJO0VBQzNCLDZCQUE2QixFQUFFLElBQUk7RUFDbkMsbUNBQW1DLEVBQUUsSUFBSTtFQUN6QywrQkFBK0IsRUFBRSxJQUFJO0VBQ3JDLGdDQUFnQyxFQUFFLElBQUk7RUFDdEMsOEJBQThCLEVBQUUsSUFBSTtFQUNwQyxpQ0FBaUMsRUFBRSxJQUFJO0VBQ3ZDLHdCQUF3QixFQUFFLElBQUk7RUFDOUIsc0JBQXNCLEVBQUUsSUFBSTtFQUM1QiwwQ0FBMEMsRUFBRSxJQUFJO0VBQ2hELHFCQUFxQixFQUFFLElBQUk7RUFDM0IsZ0NBQWdDLEVBQUUsSUFBSTtFQUN0Qyx3QkFBd0IsRUFBRSxJQUFJO0VBQzlCLDRCQUE0QixFQUFFLElBQUk7RUFDbEMsa0NBQWtDLEVBQUUsSUFBSTtFQUN4Qyw4QkFBOEIsRUFBRSxJQUFJO0VBQ3BDLHdDQUF3QyxFQUFFLElBQUk7RUFDOUMsNkJBQTZCLEVBQUUsSUFBSTtFQUNuQyw0QkFBNEIsRUFBRTtBQUNsQyxDQUFDO0FBQ0QsU0FBU0UsbUJBQW1CQSxDQUFDRSxRQUFRLEVBQUVDLFFBQVEsRUFBRTtFQUM3QyxNQUFNQyxLQUFLLEdBQUdSLE1BQU0sQ0FBQ1MsSUFBSSxDQUFDSCxRQUFRLENBQUMsQ0FBQ0ksSUFBSSxDQUFDLENBQUM7RUFDMUMsTUFBTUMsS0FBSyxHQUFHWCxNQUFNLENBQUNTLElBQUksQ0FBQ0YsUUFBUSxDQUFDLENBQUNHLElBQUksQ0FBQyxDQUFDO0VBQzFDLElBQUlGLEtBQUssQ0FBQ0ksTUFBTSxLQUFLRCxLQUFLLENBQUNDLE1BQU0sRUFBRTtJQUMvQixPQUFPLEtBQUs7RUFDaEI7RUFDQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0wsS0FBSyxDQUFDSSxNQUFNLEVBQUVDLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDdEMsSUFBSUwsS0FBSyxDQUFDSyxDQUFDLENBQUMsS0FBS0YsS0FBSyxDQUFDRSxDQUFDLENBQUMsRUFBRTtNQUN2QixPQUFPLEtBQUs7SUFDaEI7SUFDQSxJQUFJUCxRQUFRLENBQUNFLEtBQUssQ0FBQ0ssQ0FBQyxDQUFDLENBQUMsS0FBS04sUUFBUSxDQUFDSSxLQUFLLENBQUNFLENBQUMsQ0FBQyxDQUFDLEVBQUU7TUFDM0MsT0FBTyxLQUFLO0lBQ2hCO0VBQ0o7RUFDQSxPQUFPLElBQUk7QUFDZjtBQUNBWCwyQkFBMkIsR0FBR0UsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLW9wdGlvbnMuanM/Nzc2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jaGFubmVsT3B0aW9uc0VxdWFsID0gZXhwb3J0cy5yZWNvZ25pemVkT3B0aW9ucyA9IHZvaWQgMDtcbi8qKlxuICogVGhpcyBpcyBmb3IgY2hlY2tpbmcgcHJvdmlkZWQgb3B0aW9ucyBhdCBydW50aW1lLiBUaGlzIGlzIGFuIG9iamVjdCBmb3JcbiAqIGVhc2llciBtZW1iZXJzaGlwIGNoZWNraW5nLlxuICovXG5leHBvcnRzLnJlY29nbml6ZWRPcHRpb25zID0ge1xuICAgICdncnBjLnNzbF90YXJnZXRfbmFtZV9vdmVycmlkZSc6IHRydWUsXG4gICAgJ2dycGMucHJpbWFyeV91c2VyX2FnZW50JzogdHJ1ZSxcbiAgICAnZ3JwYy5zZWNvbmRhcnlfdXNlcl9hZ2VudCc6IHRydWUsXG4gICAgJ2dycGMuZGVmYXVsdF9hdXRob3JpdHknOiB0cnVlLFxuICAgICdncnBjLmtlZXBhbGl2ZV90aW1lX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5rZWVwYWxpdmVfdGltZW91dF9tcyc6IHRydWUsXG4gICAgJ2dycGMua2VlcGFsaXZlX3Blcm1pdF93aXRob3V0X2NhbGxzJzogdHJ1ZSxcbiAgICAnZ3JwYy5zZXJ2aWNlX2NvbmZpZyc6IHRydWUsXG4gICAgJ2dycGMubWF4X2NvbmN1cnJlbnRfc3RyZWFtcyc6IHRydWUsXG4gICAgJ2dycGMuaW5pdGlhbF9yZWNvbm5lY3RfYmFja29mZl9tcyc6IHRydWUsXG4gICAgJ2dycGMubWF4X3JlY29ubmVjdF9iYWNrb2ZmX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy51c2VfbG9jYWxfc3ViY2hhbm5lbF9wb29sJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfc2VuZF9tZXNzYWdlX2xlbmd0aCc6IHRydWUsXG4gICAgJ2dycGMubWF4X3JlY2VpdmVfbWVzc2FnZV9sZW5ndGgnOiB0cnVlLFxuICAgICdncnBjLmVuYWJsZV9odHRwX3Byb3h5JzogdHJ1ZSxcbiAgICAnZ3JwYy5lbmFibGVfY2hhbm5lbHonOiB0cnVlLFxuICAgICdncnBjLmRuc19taW5fdGltZV9iZXR3ZWVuX3Jlc29sdXRpb25zX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5lbmFibGVfcmV0cmllcyc6IHRydWUsXG4gICAgJ2dycGMucGVyX3JwY19yZXRyeV9idWZmZXJfc2l6ZSc6IHRydWUsXG4gICAgJ2dycGMucmV0cnlfYnVmZmVyX3NpemUnOiB0cnVlLFxuICAgICdncnBjLm1heF9jb25uZWN0aW9uX2FnZV9tcyc6IHRydWUsXG4gICAgJ2dycGMubWF4X2Nvbm5lY3Rpb25fYWdlX2dyYWNlX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy1ub2RlLm1heF9zZXNzaW9uX21lbW9yeSc6IHRydWUsXG4gICAgJ2dycGMuc2VydmljZV9jb25maWdfZGlzYWJsZV9yZXNvbHV0aW9uJzogdHJ1ZSxcbiAgICAnZ3JwYy5jbGllbnRfaWRsZV90aW1lb3V0X21zJzogdHJ1ZSxcbiAgICAnZ3JwYy1ub2RlLnRsc19lbmFibGVfdHJhY2UnOiB0cnVlLFxufTtcbmZ1bmN0aW9uIGNoYW5uZWxPcHRpb25zRXF1YWwob3B0aW9uczEsIG9wdGlvbnMyKSB7XG4gICAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvcHRpb25zMSkuc29ydCgpO1xuICAgIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob3B0aW9uczIpLnNvcnQoKTtcbiAgICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMxLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChrZXlzMVtpXSAhPT0ga2V5czJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9uczFba2V5czFbaV1dICE9PSBvcHRpb25zMltrZXlzMltpXV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydHMuY2hhbm5lbE9wdGlvbnNFcXVhbCA9IGNoYW5uZWxPcHRpb25zRXF1YWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsLW9wdGlvbnMuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY2hhbm5lbE9wdGlvbnNFcXVhbCIsInJlY29nbml6ZWRPcHRpb25zIiwib3B0aW9uczEiLCJvcHRpb25zMiIsImtleXMxIiwia2V5cyIsInNvcnQiLCJrZXlzMiIsImxlbmd0aCIsImkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/channel.js":
/*!*********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/channel.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ChannelImplementation = void 0;\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nconst internal_channel_1 = __webpack_require__(/*! ./internal-channel */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/internal-channel.js\");\nclass ChannelImplementation {\n  constructor(target, credentials, options) {\n    if (typeof target !== 'string') {\n      throw new TypeError('Channel target must be a string');\n    }\n    if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n      throw new TypeError('Channel credentials must be a ChannelCredentials object');\n    }\n    if (options) {\n      if (typeof options !== 'object') {\n        throw new TypeError('Channel options must be an object');\n      }\n    }\n    this.internalChannel = new internal_channel_1.InternalChannel(target, credentials, options);\n  }\n  close() {\n    this.internalChannel.close();\n  }\n  getTarget() {\n    return this.internalChannel.getTarget();\n  }\n  getConnectivityState(tryToConnect) {\n    return this.internalChannel.getConnectivityState(tryToConnect);\n  }\n  watchConnectivityState(currentState, deadline, callback) {\n    this.internalChannel.watchConnectivityState(currentState, deadline, callback);\n  }\n  /**\n   * Get the channelz reference object for this channel. The returned value is\n   * garbage if channelz is disabled for this channel.\n   * @returns\n   */\n  getChannelzRef() {\n    return this.internalChannel.getChannelzRef();\n  }\n  createCall(method, deadline, host, parentCall, propagateFlags) {\n    if (typeof method !== 'string') {\n      throw new TypeError('Channel#createCall: method must be a string');\n    }\n    if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n      throw new TypeError('Channel#createCall: deadline must be a number or Date');\n    }\n    return this.internalChannel.createCall(method, deadline, host, parentCall, propagateFlags);\n  }\n}\nexports.ChannelImplementation = ChannelImplementation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCw2QkFBNkIsR0FBRyxLQUFLLENBQUM7QUFDdEMsTUFBTUcscUJBQXFCLEdBQUdDLG1CQUFPLENBQUMsa0dBQXVCLENBQUM7QUFDOUQsTUFBTUMsa0JBQWtCLEdBQUdELG1CQUFPLENBQUMsNEZBQW9CLENBQUM7QUFDeEQsTUFBTUYscUJBQXFCLENBQUM7RUFDeEJJLFdBQVdBLENBQUNDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxPQUFPLEVBQUU7SUFDdEMsSUFBSSxPQUFPRixNQUFNLEtBQUssUUFBUSxFQUFFO01BQzVCLE1BQU0sSUFBSUcsU0FBUyxDQUFDLGlDQUFpQyxDQUFDO0lBQzFEO0lBQ0EsSUFBSSxFQUFFRixXQUFXLFlBQVlMLHFCQUFxQixDQUFDUSxrQkFBa0IsQ0FBQyxFQUFFO01BQ3BFLE1BQU0sSUFBSUQsU0FBUyxDQUFDLHlEQUF5RCxDQUFDO0lBQ2xGO0lBQ0EsSUFBSUQsT0FBTyxFQUFFO01BQ1QsSUFBSSxPQUFPQSxPQUFPLEtBQUssUUFBUSxFQUFFO1FBQzdCLE1BQU0sSUFBSUMsU0FBUyxDQUFDLG1DQUFtQyxDQUFDO01BQzVEO0lBQ0o7SUFDQSxJQUFJLENBQUNFLGVBQWUsR0FBRyxJQUFJUCxrQkFBa0IsQ0FBQ1EsZUFBZSxDQUFDTixNQUFNLEVBQUVDLFdBQVcsRUFBRUMsT0FBTyxDQUFDO0VBQy9GO0VBQ0FLLEtBQUtBLENBQUEsRUFBRztJQUNKLElBQUksQ0FBQ0YsZUFBZSxDQUFDRSxLQUFLLENBQUMsQ0FBQztFQUNoQztFQUNBQyxTQUFTQSxDQUFBLEVBQUc7SUFDUixPQUFPLElBQUksQ0FBQ0gsZUFBZSxDQUFDRyxTQUFTLENBQUMsQ0FBQztFQUMzQztFQUNBQyxvQkFBb0JBLENBQUNDLFlBQVksRUFBRTtJQUMvQixPQUFPLElBQUksQ0FBQ0wsZUFBZSxDQUFDSSxvQkFBb0IsQ0FBQ0MsWUFBWSxDQUFDO0VBQ2xFO0VBQ0FDLHNCQUFzQkEsQ0FBQ0MsWUFBWSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRTtJQUNyRCxJQUFJLENBQUNULGVBQWUsQ0FBQ00sc0JBQXNCLENBQUNDLFlBQVksRUFBRUMsUUFBUSxFQUFFQyxRQUFRLENBQUM7RUFDakY7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0lDLGNBQWNBLENBQUEsRUFBRztJQUNiLE9BQU8sSUFBSSxDQUFDVixlQUFlLENBQUNVLGNBQWMsQ0FBQyxDQUFDO0VBQ2hEO0VBQ0FDLFVBQVVBLENBQUNDLE1BQU0sRUFBRUosUUFBUSxFQUFFSyxJQUFJLEVBQUVDLFVBQVUsRUFBRUMsY0FBYyxFQUFFO0lBQzNELElBQUksT0FBT0gsTUFBTSxLQUFLLFFBQVEsRUFBRTtNQUM1QixNQUFNLElBQUlkLFNBQVMsQ0FBQyw2Q0FBNkMsQ0FBQztJQUN0RTtJQUNBLElBQUksRUFBRSxPQUFPVSxRQUFRLEtBQUssUUFBUSxJQUFJQSxRQUFRLFlBQVlRLElBQUksQ0FBQyxFQUFFO01BQzdELE1BQU0sSUFBSWxCLFNBQVMsQ0FBQyx1REFBdUQsQ0FBQztJQUNoRjtJQUNBLE9BQU8sSUFBSSxDQUFDRSxlQUFlLENBQUNXLFVBQVUsQ0FBQ0MsTUFBTSxFQUFFSixRQUFRLEVBQUVLLElBQUksRUFBRUMsVUFBVSxFQUFFQyxjQUFjLENBQUM7RUFDOUY7QUFDSjtBQUNBM0IsNkJBQTZCLEdBQUdFLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC5qcz9jZDhhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNoYW5uZWxJbXBsZW1lbnRhdGlvbiA9IHZvaWQgMDtcbmNvbnN0IGNoYW5uZWxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtY3JlZGVudGlhbHNcIik7XG5jb25zdCBpbnRlcm5hbF9jaGFubmVsXzEgPSByZXF1aXJlKFwiLi9pbnRlcm5hbC1jaGFubmVsXCIpO1xuY2xhc3MgQ2hhbm5lbEltcGxlbWVudGF0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGNyZWRlbnRpYWxzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCB0YXJnZXQgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGNyZWRlbnRpYWxzIGluc3RhbmNlb2YgY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgY3JlZGVudGlhbHMgbXVzdCBiZSBhIENoYW5uZWxDcmVkZW50aWFscyBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW50ZXJuYWxDaGFubmVsID0gbmV3IGludGVybmFsX2NoYW5uZWxfMS5JbnRlcm5hbENoYW5uZWwodGFyZ2V0LCBjcmVkZW50aWFscywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmludGVybmFsQ2hhbm5lbC5jbG9zZSgpO1xuICAgIH1cbiAgICBnZXRUYXJnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsQ2hhbm5lbC5nZXRUYXJnZXQoKTtcbiAgICB9XG4gICAgZ2V0Q29ubmVjdGl2aXR5U3RhdGUodHJ5VG9Db25uZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsQ2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSh0cnlUb0Nvbm5lY3QpO1xuICAgIH1cbiAgICB3YXRjaENvbm5lY3Rpdml0eVN0YXRlKGN1cnJlbnRTdGF0ZSwgZGVhZGxpbmUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxDaGFubmVsLndhdGNoQ29ubmVjdGl2aXR5U3RhdGUoY3VycmVudFN0YXRlLCBkZWFkbGluZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNoYW5uZWx6IHJlZmVyZW5jZSBvYmplY3QgZm9yIHRoaXMgY2hhbm5lbC4gVGhlIHJldHVybmVkIHZhbHVlIGlzXG4gICAgICogZ2FyYmFnZSBpZiBjaGFubmVseiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjaGFubmVsLlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZ2V0Q2hhbm5lbHpSZWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsQ2hhbm5lbC5nZXRDaGFubmVselJlZigpO1xuICAgIH1cbiAgICBjcmVhdGVDYWxsKG1ldGhvZCwgZGVhZGxpbmUsIGhvc3QsIHBhcmVudENhbGwsIHByb3BhZ2F0ZUZsYWdzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWV0aG9kICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCNjcmVhdGVDYWxsOiBtZXRob2QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHR5cGVvZiBkZWFkbGluZSA9PT0gJ251bWJlcicgfHwgZGVhZGxpbmUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCNjcmVhdGVDYWxsOiBkZWFkbGluZSBtdXN0IGJlIGEgbnVtYmVyIG9yIERhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENoYW5uZWwuY3JlYXRlQ2FsbChtZXRob2QsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnRDYWxsLCBwcm9wYWdhdGVGbGFncyk7XG4gICAgfVxufVxuZXhwb3J0cy5DaGFubmVsSW1wbGVtZW50YXRpb24gPSBDaGFubmVsSW1wbGVtZW50YXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkNoYW5uZWxJbXBsZW1lbnRhdGlvbiIsImNoYW5uZWxfY3JlZGVudGlhbHNfMSIsInJlcXVpcmUiLCJpbnRlcm5hbF9jaGFubmVsXzEiLCJjb25zdHJ1Y3RvciIsInRhcmdldCIsImNyZWRlbnRpYWxzIiwib3B0aW9ucyIsIlR5cGVFcnJvciIsIkNoYW5uZWxDcmVkZW50aWFscyIsImludGVybmFsQ2hhbm5lbCIsIkludGVybmFsQ2hhbm5lbCIsImNsb3NlIiwiZ2V0VGFyZ2V0IiwiZ2V0Q29ubmVjdGl2aXR5U3RhdGUiLCJ0cnlUb0Nvbm5lY3QiLCJ3YXRjaENvbm5lY3Rpdml0eVN0YXRlIiwiY3VycmVudFN0YXRlIiwiZGVhZGxpbmUiLCJjYWxsYmFjayIsImdldENoYW5uZWx6UmVmIiwiY3JlYXRlQ2FsbCIsIm1ldGhvZCIsImhvc3QiLCJwYXJlbnRDYWxsIiwicHJvcGFnYXRlRmxhZ3MiLCJEYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/channel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js":
/*!**********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/channelz.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setup = exports.getChannelzServiceDefinition = exports.getChannelzHandlers = exports.unregisterChannelzRef = exports.registerChannelzSocket = exports.registerChannelzServer = exports.registerChannelzSubchannel = exports.registerChannelzChannel = exports.ChannelzCallTracker = exports.ChannelzChildrenTracker = exports.ChannelzTrace = void 0;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst admin_1 = __webpack_require__(/*! ./admin */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/admin.js\");\nconst make_client_1 = __webpack_require__(/*! ./make-client */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/make-client.js\");\nfunction channelRefToMessage(ref) {\n  return {\n    channel_id: ref.id,\n    name: ref.name\n  };\n}\nfunction subchannelRefToMessage(ref) {\n  return {\n    subchannel_id: ref.id,\n    name: ref.name\n  };\n}\nfunction serverRefToMessage(ref) {\n  return {\n    server_id: ref.id\n  };\n}\nfunction socketRefToMessage(ref) {\n  return {\n    socket_id: ref.id,\n    name: ref.name\n  };\n}\n/**\n * The loose upper bound on the number of events that should be retained in a\n * trace. This may be exceeded by up to a factor of 2. Arbitrarily chosen as a\n * number that should be large enough to contain the recent relevant\n * information, but small enough to not use excessive memory.\n */\nconst TARGET_RETAINED_TRACES = 32;\nclass ChannelzTrace {\n  constructor() {\n    this.events = [];\n    this.eventsLogged = 0;\n    this.creationTimestamp = new Date();\n  }\n  addTrace(severity, description, child) {\n    const timestamp = new Date();\n    this.events.push({\n      description: description,\n      severity: severity,\n      timestamp: timestamp,\n      childChannel: (child === null || child === void 0 ? void 0 : child.kind) === 'channel' ? child : undefined,\n      childSubchannel: (child === null || child === void 0 ? void 0 : child.kind) === 'subchannel' ? child : undefined\n    });\n    // Whenever the trace array gets too large, discard the first half\n    if (this.events.length >= TARGET_RETAINED_TRACES * 2) {\n      this.events = this.events.slice(TARGET_RETAINED_TRACES);\n    }\n    this.eventsLogged += 1;\n  }\n  getTraceMessage() {\n    return {\n      creation_timestamp: dateToProtoTimestamp(this.creationTimestamp),\n      num_events_logged: this.eventsLogged,\n      events: this.events.map(event => {\n        return {\n          description: event.description,\n          severity: event.severity,\n          timestamp: dateToProtoTimestamp(event.timestamp),\n          channel_ref: event.childChannel ? channelRefToMessage(event.childChannel) : null,\n          subchannel_ref: event.childSubchannel ? subchannelRefToMessage(event.childSubchannel) : null\n        };\n      })\n    };\n  }\n}\nexports.ChannelzTrace = ChannelzTrace;\nclass ChannelzChildrenTracker {\n  constructor() {\n    this.channelChildren = new Map();\n    this.subchannelChildren = new Map();\n    this.socketChildren = new Map();\n  }\n  refChild(child) {\n    var _a, _b, _c;\n    switch (child.kind) {\n      case 'channel':\n        {\n          const trackedChild = (_a = this.channelChildren.get(child.id)) !== null && _a !== void 0 ? _a : {\n            ref: child,\n            count: 0\n          };\n          trackedChild.count += 1;\n          this.channelChildren.set(child.id, trackedChild);\n          break;\n        }\n      case 'subchannel':\n        {\n          const trackedChild = (_b = this.subchannelChildren.get(child.id)) !== null && _b !== void 0 ? _b : {\n            ref: child,\n            count: 0\n          };\n          trackedChild.count += 1;\n          this.subchannelChildren.set(child.id, trackedChild);\n          break;\n        }\n      case 'socket':\n        {\n          const trackedChild = (_c = this.socketChildren.get(child.id)) !== null && _c !== void 0 ? _c : {\n            ref: child,\n            count: 0\n          };\n          trackedChild.count += 1;\n          this.socketChildren.set(child.id, trackedChild);\n          break;\n        }\n    }\n  }\n  unrefChild(child) {\n    switch (child.kind) {\n      case 'channel':\n        {\n          const trackedChild = this.channelChildren.get(child.id);\n          if (trackedChild !== undefined) {\n            trackedChild.count -= 1;\n            if (trackedChild.count === 0) {\n              this.channelChildren.delete(child.id);\n            } else {\n              this.channelChildren.set(child.id, trackedChild);\n            }\n          }\n          break;\n        }\n      case 'subchannel':\n        {\n          const trackedChild = this.subchannelChildren.get(child.id);\n          if (trackedChild !== undefined) {\n            trackedChild.count -= 1;\n            if (trackedChild.count === 0) {\n              this.subchannelChildren.delete(child.id);\n            } else {\n              this.subchannelChildren.set(child.id, trackedChild);\n            }\n          }\n          break;\n        }\n      case 'socket':\n        {\n          const trackedChild = this.socketChildren.get(child.id);\n          if (trackedChild !== undefined) {\n            trackedChild.count -= 1;\n            if (trackedChild.count === 0) {\n              this.socketChildren.delete(child.id);\n            } else {\n              this.socketChildren.set(child.id, trackedChild);\n            }\n          }\n          break;\n        }\n    }\n  }\n  getChildLists() {\n    const channels = [];\n    for (const {\n      ref\n    } of this.channelChildren.values()) {\n      channels.push(ref);\n    }\n    const subchannels = [];\n    for (const {\n      ref\n    } of this.subchannelChildren.values()) {\n      subchannels.push(ref);\n    }\n    const sockets = [];\n    for (const {\n      ref\n    } of this.socketChildren.values()) {\n      sockets.push(ref);\n    }\n    return {\n      channels,\n      subchannels,\n      sockets\n    };\n  }\n}\nexports.ChannelzChildrenTracker = ChannelzChildrenTracker;\nclass ChannelzCallTracker {\n  constructor() {\n    this.callsStarted = 0;\n    this.callsSucceeded = 0;\n    this.callsFailed = 0;\n    this.lastCallStartedTimestamp = null;\n  }\n  addCallStarted() {\n    this.callsStarted += 1;\n    this.lastCallStartedTimestamp = new Date();\n  }\n  addCallSucceeded() {\n    this.callsSucceeded += 1;\n  }\n  addCallFailed() {\n    this.callsFailed += 1;\n  }\n}\nexports.ChannelzCallTracker = ChannelzCallTracker;\nlet nextId = 1;\nfunction getNextId() {\n  return nextId++;\n}\nconst channels = [];\nconst subchannels = [];\nconst servers = [];\nconst sockets = [];\nfunction registerChannelzChannel(name, getInfo, channelzEnabled) {\n  const id = getNextId();\n  const ref = {\n    id,\n    name,\n    kind: 'channel'\n  };\n  if (channelzEnabled) {\n    channels[id] = {\n      ref,\n      getInfo\n    };\n  }\n  return ref;\n}\nexports.registerChannelzChannel = registerChannelzChannel;\nfunction registerChannelzSubchannel(name, getInfo, channelzEnabled) {\n  const id = getNextId();\n  const ref = {\n    id,\n    name,\n    kind: 'subchannel'\n  };\n  if (channelzEnabled) {\n    subchannels[id] = {\n      ref,\n      getInfo\n    };\n  }\n  return ref;\n}\nexports.registerChannelzSubchannel = registerChannelzSubchannel;\nfunction registerChannelzServer(getInfo, channelzEnabled) {\n  const id = getNextId();\n  const ref = {\n    id,\n    kind: 'server'\n  };\n  if (channelzEnabled) {\n    servers[id] = {\n      ref,\n      getInfo\n    };\n  }\n  return ref;\n}\nexports.registerChannelzServer = registerChannelzServer;\nfunction registerChannelzSocket(name, getInfo, channelzEnabled) {\n  const id = getNextId();\n  const ref = {\n    id,\n    name,\n    kind: 'socket'\n  };\n  if (channelzEnabled) {\n    sockets[id] = {\n      ref,\n      getInfo\n    };\n  }\n  return ref;\n}\nexports.registerChannelzSocket = registerChannelzSocket;\nfunction unregisterChannelzRef(ref) {\n  switch (ref.kind) {\n    case 'channel':\n      delete channels[ref.id];\n      return;\n    case 'subchannel':\n      delete subchannels[ref.id];\n      return;\n    case 'server':\n      delete servers[ref.id];\n      return;\n    case 'socket':\n      delete sockets[ref.id];\n      return;\n  }\n}\nexports.unregisterChannelzRef = unregisterChannelzRef;\n/**\n * Parse a single section of an IPv6 address as two bytes\n * @param addressSection A hexadecimal string of length up to 4\n * @returns The pair of bytes representing this address section\n */\nfunction parseIPv6Section(addressSection) {\n  const numberValue = Number.parseInt(addressSection, 16);\n  return [numberValue / 256 | 0, numberValue % 256];\n}\n/**\n * Parse a chunk of an IPv6 address string to some number of bytes\n * @param addressChunk Some number of segments of up to 4 hexadecimal\n *   characters each, joined by colons.\n * @returns The list of bytes representing this address chunk\n */\nfunction parseIPv6Chunk(addressChunk) {\n  if (addressChunk === '') {\n    return [];\n  }\n  const bytePairs = addressChunk.split(':').map(section => parseIPv6Section(section));\n  const result = [];\n  return result.concat(...bytePairs);\n}\n/**\n * Converts an IPv4 or IPv6 address from string representation to binary\n * representation\n * @param ipAddress an IP address in standard IPv4 or IPv6 text format\n * @returns\n */\nfunction ipAddressStringToBuffer(ipAddress) {\n  if ((0, net_1.isIPv4)(ipAddress)) {\n    return Buffer.from(Uint8Array.from(ipAddress.split('.').map(segment => Number.parseInt(segment))));\n  } else if ((0, net_1.isIPv6)(ipAddress)) {\n    let leftSection;\n    let rightSection;\n    const doubleColonIndex = ipAddress.indexOf('::');\n    if (doubleColonIndex === -1) {\n      leftSection = ipAddress;\n      rightSection = '';\n    } else {\n      leftSection = ipAddress.substring(0, doubleColonIndex);\n      rightSection = ipAddress.substring(doubleColonIndex + 2);\n    }\n    const leftBuffer = Buffer.from(parseIPv6Chunk(leftSection));\n    const rightBuffer = Buffer.from(parseIPv6Chunk(rightSection));\n    const middleBuffer = Buffer.alloc(16 - leftBuffer.length - rightBuffer.length, 0);\n    return Buffer.concat([leftBuffer, middleBuffer, rightBuffer]);\n  } else {\n    return null;\n  }\n}\nfunction connectivityStateToMessage(state) {\n  switch (state) {\n    case connectivity_state_1.ConnectivityState.CONNECTING:\n      return {\n        state: 'CONNECTING'\n      };\n    case connectivity_state_1.ConnectivityState.IDLE:\n      return {\n        state: 'IDLE'\n      };\n    case connectivity_state_1.ConnectivityState.READY:\n      return {\n        state: 'READY'\n      };\n    case connectivity_state_1.ConnectivityState.SHUTDOWN:\n      return {\n        state: 'SHUTDOWN'\n      };\n    case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n      return {\n        state: 'TRANSIENT_FAILURE'\n      };\n    default:\n      return {\n        state: 'UNKNOWN'\n      };\n  }\n}\nfunction dateToProtoTimestamp(date) {\n  if (!date) {\n    return null;\n  }\n  const millisSinceEpoch = date.getTime();\n  return {\n    seconds: millisSinceEpoch / 1000 | 0,\n    nanos: millisSinceEpoch % 1000 * 1000000\n  };\n}\nfunction getChannelMessage(channelEntry) {\n  const resolvedInfo = channelEntry.getInfo();\n  return {\n    ref: channelRefToMessage(channelEntry.ref),\n    data: {\n      target: resolvedInfo.target,\n      state: connectivityStateToMessage(resolvedInfo.state),\n      calls_started: resolvedInfo.callTracker.callsStarted,\n      calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n      calls_failed: resolvedInfo.callTracker.callsFailed,\n      last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n      trace: resolvedInfo.trace.getTraceMessage()\n    },\n    channel_ref: resolvedInfo.children.channels.map(ref => channelRefToMessage(ref)),\n    subchannel_ref: resolvedInfo.children.subchannels.map(ref => subchannelRefToMessage(ref))\n  };\n}\nfunction GetChannel(call, callback) {\n  const channelId = Number.parseInt(call.request.channel_id);\n  const channelEntry = channels[channelId];\n  if (channelEntry === undefined) {\n    callback({\n      code: constants_1.Status.NOT_FOUND,\n      details: 'No channel data found for id ' + channelId\n    });\n    return;\n  }\n  callback(null, {\n    channel: getChannelMessage(channelEntry)\n  });\n}\nfunction GetTopChannels(call, callback) {\n  const maxResults = Number.parseInt(call.request.max_results);\n  const resultList = [];\n  let i = Number.parseInt(call.request.start_channel_id);\n  for (; i < channels.length; i++) {\n    const channelEntry = channels[i];\n    if (channelEntry === undefined) {\n      continue;\n    }\n    resultList.push(getChannelMessage(channelEntry));\n    if (resultList.length >= maxResults) {\n      break;\n    }\n  }\n  callback(null, {\n    channel: resultList,\n    end: i >= servers.length\n  });\n}\nfunction getServerMessage(serverEntry) {\n  const resolvedInfo = serverEntry.getInfo();\n  return {\n    ref: serverRefToMessage(serverEntry.ref),\n    data: {\n      calls_started: resolvedInfo.callTracker.callsStarted,\n      calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n      calls_failed: resolvedInfo.callTracker.callsFailed,\n      last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n      trace: resolvedInfo.trace.getTraceMessage()\n    },\n    listen_socket: resolvedInfo.listenerChildren.sockets.map(ref => socketRefToMessage(ref))\n  };\n}\nfunction GetServer(call, callback) {\n  const serverId = Number.parseInt(call.request.server_id);\n  const serverEntry = servers[serverId];\n  if (serverEntry === undefined) {\n    callback({\n      code: constants_1.Status.NOT_FOUND,\n      details: 'No server data found for id ' + serverId\n    });\n    return;\n  }\n  callback(null, {\n    server: getServerMessage(serverEntry)\n  });\n}\nfunction GetServers(call, callback) {\n  const maxResults = Number.parseInt(call.request.max_results);\n  const resultList = [];\n  let i = Number.parseInt(call.request.start_server_id);\n  for (; i < servers.length; i++) {\n    const serverEntry = servers[i];\n    if (serverEntry === undefined) {\n      continue;\n    }\n    resultList.push(getServerMessage(serverEntry));\n    if (resultList.length >= maxResults) {\n      break;\n    }\n  }\n  callback(null, {\n    server: resultList,\n    end: i >= servers.length\n  });\n}\nfunction GetSubchannel(call, callback) {\n  const subchannelId = Number.parseInt(call.request.subchannel_id);\n  const subchannelEntry = subchannels[subchannelId];\n  if (subchannelEntry === undefined) {\n    callback({\n      code: constants_1.Status.NOT_FOUND,\n      details: 'No subchannel data found for id ' + subchannelId\n    });\n    return;\n  }\n  const resolvedInfo = subchannelEntry.getInfo();\n  const subchannelMessage = {\n    ref: subchannelRefToMessage(subchannelEntry.ref),\n    data: {\n      target: resolvedInfo.target,\n      state: connectivityStateToMessage(resolvedInfo.state),\n      calls_started: resolvedInfo.callTracker.callsStarted,\n      calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n      calls_failed: resolvedInfo.callTracker.callsFailed,\n      last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n      trace: resolvedInfo.trace.getTraceMessage()\n    },\n    socket_ref: resolvedInfo.children.sockets.map(ref => socketRefToMessage(ref))\n  };\n  callback(null, {\n    subchannel: subchannelMessage\n  });\n}\nfunction subchannelAddressToAddressMessage(subchannelAddress) {\n  var _a;\n  if ((0, subchannel_address_1.isTcpSubchannelAddress)(subchannelAddress)) {\n    return {\n      address: 'tcpip_address',\n      tcpip_address: {\n        ip_address: (_a = ipAddressStringToBuffer(subchannelAddress.host)) !== null && _a !== void 0 ? _a : undefined,\n        port: subchannelAddress.port\n      }\n    };\n  } else {\n    return {\n      address: 'uds_address',\n      uds_address: {\n        filename: subchannelAddress.path\n      }\n    };\n  }\n}\nfunction GetSocket(call, callback) {\n  var _a, _b, _c, _d, _e;\n  const socketId = Number.parseInt(call.request.socket_id);\n  const socketEntry = sockets[socketId];\n  if (socketEntry === undefined) {\n    callback({\n      code: constants_1.Status.NOT_FOUND,\n      details: 'No socket data found for id ' + socketId\n    });\n    return;\n  }\n  const resolvedInfo = socketEntry.getInfo();\n  const securityMessage = resolvedInfo.security ? {\n    model: 'tls',\n    tls: {\n      cipher_suite: resolvedInfo.security.cipherSuiteStandardName ? 'standard_name' : 'other_name',\n      standard_name: (_a = resolvedInfo.security.cipherSuiteStandardName) !== null && _a !== void 0 ? _a : undefined,\n      other_name: (_b = resolvedInfo.security.cipherSuiteOtherName) !== null && _b !== void 0 ? _b : undefined,\n      local_certificate: (_c = resolvedInfo.security.localCertificate) !== null && _c !== void 0 ? _c : undefined,\n      remote_certificate: (_d = resolvedInfo.security.remoteCertificate) !== null && _d !== void 0 ? _d : undefined\n    }\n  } : null;\n  const socketMessage = {\n    ref: socketRefToMessage(socketEntry.ref),\n    local: resolvedInfo.localAddress ? subchannelAddressToAddressMessage(resolvedInfo.localAddress) : null,\n    remote: resolvedInfo.remoteAddress ? subchannelAddressToAddressMessage(resolvedInfo.remoteAddress) : null,\n    remote_name: (_e = resolvedInfo.remoteName) !== null && _e !== void 0 ? _e : undefined,\n    security: securityMessage,\n    data: {\n      keep_alives_sent: resolvedInfo.keepAlivesSent,\n      streams_started: resolvedInfo.streamsStarted,\n      streams_succeeded: resolvedInfo.streamsSucceeded,\n      streams_failed: resolvedInfo.streamsFailed,\n      last_local_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastLocalStreamCreatedTimestamp),\n      last_remote_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastRemoteStreamCreatedTimestamp),\n      messages_received: resolvedInfo.messagesReceived,\n      messages_sent: resolvedInfo.messagesSent,\n      last_message_received_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageReceivedTimestamp),\n      last_message_sent_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageSentTimestamp),\n      local_flow_control_window: resolvedInfo.localFlowControlWindow ? {\n        value: resolvedInfo.localFlowControlWindow\n      } : null,\n      remote_flow_control_window: resolvedInfo.remoteFlowControlWindow ? {\n        value: resolvedInfo.remoteFlowControlWindow\n      } : null\n    }\n  };\n  callback(null, {\n    socket: socketMessage\n  });\n}\nfunction GetServerSockets(call, callback) {\n  const serverId = Number.parseInt(call.request.server_id);\n  const serverEntry = servers[serverId];\n  if (serverEntry === undefined) {\n    callback({\n      code: constants_1.Status.NOT_FOUND,\n      details: 'No server data found for id ' + serverId\n    });\n    return;\n  }\n  const startId = Number.parseInt(call.request.start_socket_id);\n  const maxResults = Number.parseInt(call.request.max_results);\n  const resolvedInfo = serverEntry.getInfo();\n  // If we wanted to include listener sockets in the result, this line would\n  // instead say\n  // const allSockets = resolvedInfo.listenerChildren.sockets.concat(resolvedInfo.sessionChildren.sockets).sort((ref1, ref2) => ref1.id - ref2.id);\n  const allSockets = resolvedInfo.sessionChildren.sockets.sort((ref1, ref2) => ref1.id - ref2.id);\n  const resultList = [];\n  let i = 0;\n  for (; i < allSockets.length; i++) {\n    if (allSockets[i].id >= startId) {\n      resultList.push(socketRefToMessage(allSockets[i]));\n      if (resultList.length >= maxResults) {\n        break;\n      }\n    }\n  }\n  callback(null, {\n    socket_ref: resultList,\n    end: i >= allSockets.length\n  });\n}\nfunction getChannelzHandlers() {\n  return {\n    GetChannel,\n    GetTopChannels,\n    GetServer,\n    GetServers,\n    GetSubchannel,\n    GetSocket,\n    GetServerSockets\n  };\n}\nexports.getChannelzHandlers = getChannelzHandlers;\nlet loadedChannelzDefinition = null;\nfunction getChannelzServiceDefinition() {\n  if (loadedChannelzDefinition) {\n    return loadedChannelzDefinition;\n  }\n  /* The purpose of this complexity is to avoid loading @grpc/proto-loader at\n   * runtime for users who will not use/enable channelz. */\n  const loaderLoadSync = (__webpack_require__(/*! @grpc/proto-loader */ \"(ssr)/./node_modules/@grpc/proto-loader/build/src/index.js\").loadSync);\n  const loadedProto = loaderLoadSync('channelz.proto', {\n    keepCase: true,\n    longs: String,\n    enums: String,\n    defaults: true,\n    oneofs: true,\n    includeDirs: [`${__dirname}/../../proto`]\n  });\n  const channelzGrpcObject = (0, make_client_1.loadPackageDefinition)(loadedProto);\n  loadedChannelzDefinition = channelzGrpcObject.grpc.channelz.v1.Channelz.service;\n  return loadedChannelzDefinition;\n}\nexports.getChannelzServiceDefinition = getChannelzServiceDefinition;\nfunction setup() {\n  (0, admin_1.registerAdminService)(getChannelzServiceDefinition, getChannelzHandlers);\n}\nexports.setup = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbHouanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsYUFBYSxHQUFHQSxvQ0FBb0MsR0FBR0EsMkJBQTJCLEdBQUdBLDZCQUE2QixHQUFHQSw4QkFBOEIsR0FBR0EsOEJBQThCLEdBQUdBLGtDQUFrQyxHQUFHQSwrQkFBK0IsR0FBR0EsMkJBQTJCLEdBQUdBLCtCQUErQixHQUFHQSxxQkFBcUIsR0FBRyxLQUFLLENBQUM7QUFDNVYsTUFBTWEsS0FBSyxHQUFHQyxtQkFBTyxDQUFDLGdCQUFLLENBQUM7QUFDNUIsTUFBTUMsb0JBQW9CLEdBQUdELG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUUsV0FBVyxHQUFHRixtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUcsb0JBQW9CLEdBQUdILG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUksT0FBTyxHQUFHSixtQkFBTyxDQUFDLHNFQUFTLENBQUM7QUFDbEMsTUFBTUssYUFBYSxHQUFHTCxtQkFBTyxDQUFDLGtGQUFlLENBQUM7QUFDOUMsU0FBU00sbUJBQW1CQSxDQUFDQyxHQUFHLEVBQUU7RUFDOUIsT0FBTztJQUNIQyxVQUFVLEVBQUVELEdBQUcsQ0FBQ0UsRUFBRTtJQUNsQkMsSUFBSSxFQUFFSCxHQUFHLENBQUNHO0VBQ2QsQ0FBQztBQUNMO0FBQ0EsU0FBU0Msc0JBQXNCQSxDQUFDSixHQUFHLEVBQUU7RUFDakMsT0FBTztJQUNISyxhQUFhLEVBQUVMLEdBQUcsQ0FBQ0UsRUFBRTtJQUNyQkMsSUFBSSxFQUFFSCxHQUFHLENBQUNHO0VBQ2QsQ0FBQztBQUNM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LEtBQUssRUFBRUQsTUFBTTtJQUNiRSxRQUFRLEVBQUUsSUFBSTtJQUNkQyxNQUFNLEVBQUUsSUFBSTtJQUNaQyxXQUFXLEVBQUUsQ0FBRSxHQUFFQyxTQUFVLGNBQWE7RUFDNUMsQ0FBQyxDQUFDO0VBQ0YsTUFBTUMsa0JBQWtCLEdBQUcsQ0FBQyxDQUFDLEVBQUU1TyxhQUFhLENBQUM2TyxxQkFBcUIsRUFBRVYsV0FBVyxDQUFDO0VBQ2hGSCx3QkFBd0IsR0FDcEJZLGtCQUFrQixDQUFDRSxJQUFJLENBQUNDLFFBQVEsQ0FBQ0MsRUFBRSxDQUFDQyxRQUFRLENBQUNDLE9BQU87RUFDeEQsT0FBT2xCLHdCQUF3QjtBQUNuQztBQUNBblAsb0NBQW9DLEdBQUdHLDRCQUE0QjtBQUNuRSxTQUFTRCxLQUFLQSxDQUFBLEVBQUc7RUFDYixDQUFDLENBQUMsRUFBRWdCLE9BQU8sQ0FBQ29QLG9CQUFvQixFQUFFblEsNEJBQTRCLEVBQUVDLG1CQUFtQixDQUFDO0FBQ3hGO0FBQ0FKLGFBQWEsR0FBR0UsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbHouanM/NjI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cCA9IGV4cG9ydHMuZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbiA9IGV4cG9ydHMuZ2V0Q2hhbm5lbHpIYW5kbGVycyA9IGV4cG9ydHMudW5yZWdpc3RlckNoYW5uZWx6UmVmID0gZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U29ja2V0ID0gZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U2VydmVyID0gZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U3ViY2hhbm5lbCA9IGV4cG9ydHMucmVnaXN0ZXJDaGFubmVsekNoYW5uZWwgPSBleHBvcnRzLkNoYW5uZWx6Q2FsbFRyYWNrZXIgPSBleHBvcnRzLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyID0gZXhwb3J0cy5DaGFubmVselRyYWNlID0gdm9pZCAwO1xuY29uc3QgbmV0XzEgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgYWRtaW5fMSA9IHJlcXVpcmUoXCIuL2FkbWluXCIpO1xuY29uc3QgbWFrZV9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL21ha2UtY2xpZW50XCIpO1xuZnVuY3Rpb24gY2hhbm5lbFJlZlRvTWVzc2FnZShyZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjaGFubmVsX2lkOiByZWYuaWQsXG4gICAgICAgIG5hbWU6IHJlZi5uYW1lLFxuICAgIH07XG59XG5mdW5jdGlvbiBzdWJjaGFubmVsUmVmVG9NZXNzYWdlKHJlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1YmNoYW5uZWxfaWQ6IHJlZi5pZCxcbiAgICAgICAgbmFtZTogcmVmLm5hbWUsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlcnZlclJlZlRvTWVzc2FnZShyZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJ2ZXJfaWQ6IHJlZi5pZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gc29ja2V0UmVmVG9NZXNzYWdlKHJlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNvY2tldF9pZDogcmVmLmlkLFxuICAgICAgICBuYW1lOiByZWYubmFtZSxcbiAgICB9O1xufVxuLyoqXG4gKiBUaGUgbG9vc2UgdXBwZXIgYm91bmQgb24gdGhlIG51bWJlciBvZiBldmVudHMgdGhhdCBzaG91bGQgYmUgcmV0YWluZWQgaW4gYVxuICogdHJhY2UuIFRoaXMgbWF5IGJlIGV4Y2VlZGVkIGJ5IHVwIHRvIGEgZmFjdG9yIG9mIDIuIEFyYml0cmFyaWx5IGNob3NlbiBhcyBhXG4gKiBudW1iZXIgdGhhdCBzaG91bGQgYmUgbGFyZ2UgZW5vdWdoIHRvIGNvbnRhaW4gdGhlIHJlY2VudCByZWxldmFudFxuICogaW5mb3JtYXRpb24sIGJ1dCBzbWFsbCBlbm91Z2ggdG8gbm90IHVzZSBleGNlc3NpdmUgbWVtb3J5LlxuICovXG5jb25zdCBUQVJHRVRfUkVUQUlORURfVFJBQ0VTID0gMzI7XG5jbGFzcyBDaGFubmVselRyYWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudHNMb2dnZWQgPSAwO1xuICAgICAgICB0aGlzLmNyZWF0aW9uVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICB9XG4gICAgYWRkVHJhY2Uoc2V2ZXJpdHksIGRlc2NyaXB0aW9uLCBjaGlsZCkge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHNldmVyaXR5OiBzZXZlcml0eSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgY2hpbGRDaGFubmVsOiAoY2hpbGQgPT09IG51bGwgfHwgY2hpbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkLmtpbmQpID09PSAnY2hhbm5lbCcgPyBjaGlsZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoaWxkU3ViY2hhbm5lbDogKGNoaWxkID09PSBudWxsIHx8IGNoaWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGlsZC5raW5kKSA9PT0gJ3N1YmNoYW5uZWwnID8gY2hpbGQgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXaGVuZXZlciB0aGUgdHJhY2UgYXJyYXkgZ2V0cyB0b28gbGFyZ2UsIGRpc2NhcmQgdGhlIGZpcnN0IGhhbGZcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmxlbmd0aCA+PSBUQVJHRVRfUkVUQUlORURfVFJBQ0VTICogMikge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cy5zbGljZShUQVJHRVRfUkVUQUlORURfVFJBQ0VTKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50c0xvZ2dlZCArPSAxO1xuICAgIH1cbiAgICBnZXRUcmFjZU1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmVhdGlvbl90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHRoaXMuY3JlYXRpb25UaW1lc3RhbXApLFxuICAgICAgICAgICAgbnVtX2V2ZW50c19sb2dnZWQ6IHRoaXMuZXZlbnRzTG9nZ2VkLFxuICAgICAgICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50cy5tYXAoZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IGV2ZW50LnNldmVyaXR5LFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKGV2ZW50LnRpbWVzdGFtcCksXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxfcmVmOiBldmVudC5jaGlsZENoYW5uZWxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2hhbm5lbFJlZlRvTWVzc2FnZShldmVudC5jaGlsZENoYW5uZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxfcmVmOiBldmVudC5jaGlsZFN1YmNoYW5uZWxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc3ViY2hhbm5lbFJlZlRvTWVzc2FnZShldmVudC5jaGlsZFN1YmNoYW5uZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbHpUcmFjZSA9IENoYW5uZWx6VHJhY2U7XG5jbGFzcyBDaGFubmVsekNoaWxkcmVuVHJhY2tlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbENoaWxkcmVuID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWxDaGlsZHJlbiA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDaGlsZHJlbiA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgcmVmQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHN3aXRjaCAoY2hpbGQua2luZCkge1xuICAgICAgICAgICAgY2FzZSAnY2hhbm5lbCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja2VkQ2hpbGQgPSAoX2EgPSB0aGlzLmNoYW5uZWxDaGlsZHJlbi5nZXQoY2hpbGQuaWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZjogY2hpbGQsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdHJhY2tlZENoaWxkLmNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsQ2hpbGRyZW4uc2V0KGNoaWxkLmlkLCB0cmFja2VkQ2hpbGQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnc3ViY2hhbm5lbCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja2VkQ2hpbGQgPSAoX2IgPSB0aGlzLnN1YmNoYW5uZWxDaGlsZHJlbi5nZXQoY2hpbGQuaWQpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZjogY2hpbGQsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdHJhY2tlZENoaWxkLmNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQ2hpbGRyZW4uc2V0KGNoaWxkLmlkLCB0cmFja2VkQ2hpbGQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnc29ja2V0Jzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrZWRDaGlsZCA9IChfYyA9IHRoaXMuc29ja2V0Q2hpbGRyZW4uZ2V0KGNoaWxkLmlkKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDoge1xuICAgICAgICAgICAgICAgICAgICByZWY6IGNoaWxkLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRyYWNrZWRDaGlsZC5jb3VudCArPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0Q2hpbGRyZW4uc2V0KGNoaWxkLmlkLCB0cmFja2VkQ2hpbGQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVucmVmQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgc3dpdGNoIChjaGlsZC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdjaGFubmVsJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrZWRDaGlsZCA9IHRoaXMuY2hhbm5lbENoaWxkcmVuLmdldChjaGlsZC5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrZWRDaGlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZWRDaGlsZC5jb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2tlZENoaWxkLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxDaGlsZHJlbi5kZWxldGUoY2hpbGQuaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsQ2hpbGRyZW4uc2V0KGNoaWxkLmlkLCB0cmFja2VkQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnc3ViY2hhbm5lbCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja2VkQ2hpbGQgPSB0aGlzLnN1YmNoYW5uZWxDaGlsZHJlbi5nZXQoY2hpbGQuaWQpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFja2VkQ2hpbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2VkQ2hpbGQuY291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrZWRDaGlsZC5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQ2hpbGRyZW4uZGVsZXRlKGNoaWxkLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbENoaWxkcmVuLnNldChjaGlsZC5pZCwgdHJhY2tlZENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3NvY2tldCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja2VkQ2hpbGQgPSB0aGlzLnNvY2tldENoaWxkcmVuLmdldChjaGlsZC5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrZWRDaGlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZWRDaGlsZC5jb3VudCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2tlZENoaWxkLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvY2tldENoaWxkcmVuLmRlbGV0ZShjaGlsZC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvY2tldENoaWxkcmVuLnNldChjaGlsZC5pZCwgdHJhY2tlZENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDaGlsZExpc3RzKCkge1xuICAgICAgICBjb25zdCBjaGFubmVscyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHsgcmVmIH0gb2YgdGhpcy5jaGFubmVsQ2hpbGRyZW4udmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGNoYW5uZWxzLnB1c2gocmVmKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWJjaGFubmVscyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHsgcmVmIH0gb2YgdGhpcy5zdWJjaGFubmVsQ2hpbGRyZW4udmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWxzLnB1c2gocmVmKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzb2NrZXRzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgeyByZWYgfSBvZiB0aGlzLnNvY2tldENoaWxkcmVuLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBzb2NrZXRzLnB1c2gocmVmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBjaGFubmVscywgc3ViY2hhbm5lbHMsIHNvY2tldHMgfTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyID0gQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXI7XG5jbGFzcyBDaGFubmVsekNhbGxUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWxsc1N0YXJ0ZWQgPSAwO1xuICAgICAgICB0aGlzLmNhbGxzU3VjY2VlZGVkID0gMDtcbiAgICAgICAgdGhpcy5jYWxsc0ZhaWxlZCA9IDA7XG4gICAgICAgIHRoaXMubGFzdENhbGxTdGFydGVkVGltZXN0YW1wID0gbnVsbDtcbiAgICB9XG4gICAgYWRkQ2FsbFN0YXJ0ZWQoKSB7XG4gICAgICAgIHRoaXMuY2FsbHNTdGFydGVkICs9IDE7XG4gICAgICAgIHRoaXMubGFzdENhbGxTdGFydGVkVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICB9XG4gICAgYWRkQ2FsbFN1Y2NlZWRlZCgpIHtcbiAgICAgICAgdGhpcy5jYWxsc1N1Y2NlZWRlZCArPSAxO1xuICAgIH1cbiAgICBhZGRDYWxsRmFpbGVkKCkge1xuICAgICAgICB0aGlzLmNhbGxzRmFpbGVkICs9IDE7XG4gICAgfVxufVxuZXhwb3J0cy5DaGFubmVsekNhbGxUcmFja2VyID0gQ2hhbm5lbHpDYWxsVHJhY2tlcjtcbmxldCBuZXh0SWQgPSAxO1xuZnVuY3Rpb24gZ2V0TmV4dElkKCkge1xuICAgIHJldHVybiBuZXh0SWQrKztcbn1cbmNvbnN0IGNoYW5uZWxzID0gW107XG5jb25zdCBzdWJjaGFubmVscyA9IFtdO1xuY29uc3Qgc2VydmVycyA9IFtdO1xuY29uc3Qgc29ja2V0cyA9IFtdO1xuZnVuY3Rpb24gcmVnaXN0ZXJDaGFubmVsekNoYW5uZWwobmFtZSwgZ2V0SW5mbywgY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgY29uc3QgaWQgPSBnZXROZXh0SWQoKTtcbiAgICBjb25zdCByZWYgPSB7IGlkLCBuYW1lLCBraW5kOiAnY2hhbm5lbCcgfTtcbiAgICBpZiAoY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgIGNoYW5uZWxzW2lkXSA9IHsgcmVmLCBnZXRJbmZvIH07XG4gICAgfVxuICAgIHJldHVybiByZWY7XG59XG5leHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpDaGFubmVsID0gcmVnaXN0ZXJDaGFubmVsekNoYW5uZWw7XG5mdW5jdGlvbiByZWdpc3RlckNoYW5uZWx6U3ViY2hhbm5lbChuYW1lLCBnZXRJbmZvLCBjaGFubmVsekVuYWJsZWQpIHtcbiAgICBjb25zdCBpZCA9IGdldE5leHRJZCgpO1xuICAgIGNvbnN0IHJlZiA9IHsgaWQsIG5hbWUsIGtpbmQ6ICdzdWJjaGFubmVsJyB9O1xuICAgIGlmIChjaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgc3ViY2hhbm5lbHNbaWRdID0geyByZWYsIGdldEluZm8gfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZjtcbn1cbmV4cG9ydHMucmVnaXN0ZXJDaGFubmVselN1YmNoYW5uZWwgPSByZWdpc3RlckNoYW5uZWx6U3ViY2hhbm5lbDtcbmZ1bmN0aW9uIHJlZ2lzdGVyQ2hhbm5lbHpTZXJ2ZXIoZ2V0SW5mbywgY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgY29uc3QgaWQgPSBnZXROZXh0SWQoKTtcbiAgICBjb25zdCByZWYgPSB7IGlkLCBraW5kOiAnc2VydmVyJyB9O1xuICAgIGlmIChjaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgc2VydmVyc1tpZF0gPSB7IHJlZiwgZ2V0SW5mbyB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVmO1xufVxuZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U2VydmVyID0gcmVnaXN0ZXJDaGFubmVselNlcnZlcjtcbmZ1bmN0aW9uIHJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQobmFtZSwgZ2V0SW5mbywgY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgY29uc3QgaWQgPSBnZXROZXh0SWQoKTtcbiAgICBjb25zdCByZWYgPSB7IGlkLCBuYW1lLCBraW5kOiAnc29ja2V0JyB9O1xuICAgIGlmIChjaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgc29ja2V0c1tpZF0gPSB7IHJlZiwgZ2V0SW5mbyB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVmO1xufVxuZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U29ja2V0ID0gcmVnaXN0ZXJDaGFubmVselNvY2tldDtcbmZ1bmN0aW9uIHVucmVnaXN0ZXJDaGFubmVselJlZihyZWYpIHtcbiAgICBzd2l0Y2ggKHJlZi5raW5kKSB7XG4gICAgICAgIGNhc2UgJ2NoYW5uZWwnOlxuICAgICAgICAgICAgZGVsZXRlIGNoYW5uZWxzW3JlZi5pZF07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgJ3N1YmNoYW5uZWwnOlxuICAgICAgICAgICAgZGVsZXRlIHN1YmNoYW5uZWxzW3JlZi5pZF07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgJ3NlcnZlcic6XG4gICAgICAgICAgICBkZWxldGUgc2VydmVyc1tyZWYuaWRdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdzb2NrZXQnOlxuICAgICAgICAgICAgZGVsZXRlIHNvY2tldHNbcmVmLmlkXTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICB9XG59XG5leHBvcnRzLnVucmVnaXN0ZXJDaGFubmVselJlZiA9IHVucmVnaXN0ZXJDaGFubmVselJlZjtcbi8qKlxuICogUGFyc2UgYSBzaW5nbGUgc2VjdGlvbiBvZiBhbiBJUHY2IGFkZHJlc3MgYXMgdHdvIGJ5dGVzXG4gKiBAcGFyYW0gYWRkcmVzc1NlY3Rpb24gQSBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgbGVuZ3RoIHVwIHRvIDRcbiAqIEByZXR1cm5zIFRoZSBwYWlyIG9mIGJ5dGVzIHJlcHJlc2VudGluZyB0aGlzIGFkZHJlc3Mgc2VjdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZUlQdjZTZWN0aW9uKGFkZHJlc3NTZWN0aW9uKSB7XG4gICAgY29uc3QgbnVtYmVyVmFsdWUgPSBOdW1iZXIucGFyc2VJbnQoYWRkcmVzc1NlY3Rpb24sIDE2KTtcbiAgICByZXR1cm4gWyhudW1iZXJWYWx1ZSAvIDI1NikgfCAwLCBudW1iZXJWYWx1ZSAlIDI1Nl07XG59XG4vKipcbiAqIFBhcnNlIGEgY2h1bmsgb2YgYW4gSVB2NiBhZGRyZXNzIHN0cmluZyB0byBzb21lIG51bWJlciBvZiBieXRlc1xuICogQHBhcmFtIGFkZHJlc3NDaHVuayBTb21lIG51bWJlciBvZiBzZWdtZW50cyBvZiB1cCB0byA0IGhleGFkZWNpbWFsXG4gKiAgIGNoYXJhY3RlcnMgZWFjaCwgam9pbmVkIGJ5IGNvbG9ucy5cbiAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIGJ5dGVzIHJlcHJlc2VudGluZyB0aGlzIGFkZHJlc3MgY2h1bmtcbiAqL1xuZnVuY3Rpb24gcGFyc2VJUHY2Q2h1bmsoYWRkcmVzc0NodW5rKSB7XG4gICAgaWYgKGFkZHJlc3NDaHVuayA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBieXRlUGFpcnMgPSBhZGRyZXNzQ2h1bmtcbiAgICAgICAgLnNwbGl0KCc6JylcbiAgICAgICAgLm1hcChzZWN0aW9uID0+IHBhcnNlSVB2NlNlY3Rpb24oc2VjdGlvbikpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHJldHVybiByZXN1bHQuY29uY2F0KC4uLmJ5dGVQYWlycyk7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIElQdjQgb3IgSVB2NiBhZGRyZXNzIGZyb20gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHRvIGJpbmFyeVxuICogcmVwcmVzZW50YXRpb25cbiAqIEBwYXJhbSBpcEFkZHJlc3MgYW4gSVAgYWRkcmVzcyBpbiBzdGFuZGFyZCBJUHY0IG9yIElQdjYgdGV4dCBmb3JtYXRcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGlwQWRkcmVzc1N0cmluZ1RvQnVmZmVyKGlwQWRkcmVzcykge1xuICAgIGlmICgoMCwgbmV0XzEuaXNJUHY0KShpcEFkZHJlc3MpKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShVaW50OEFycmF5LmZyb20oaXBBZGRyZXNzLnNwbGl0KCcuJykubWFwKHNlZ21lbnQgPT4gTnVtYmVyLnBhcnNlSW50KHNlZ21lbnQpKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmICgoMCwgbmV0XzEuaXNJUHY2KShpcEFkZHJlc3MpKSB7XG4gICAgICAgIGxldCBsZWZ0U2VjdGlvbjtcbiAgICAgICAgbGV0IHJpZ2h0U2VjdGlvbjtcbiAgICAgICAgY29uc3QgZG91YmxlQ29sb25JbmRleCA9IGlwQWRkcmVzcy5pbmRleE9mKCc6OicpO1xuICAgICAgICBpZiAoZG91YmxlQ29sb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGxlZnRTZWN0aW9uID0gaXBBZGRyZXNzO1xuICAgICAgICAgICAgcmlnaHRTZWN0aW9uID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZWZ0U2VjdGlvbiA9IGlwQWRkcmVzcy5zdWJzdHJpbmcoMCwgZG91YmxlQ29sb25JbmRleCk7XG4gICAgICAgICAgICByaWdodFNlY3Rpb24gPSBpcEFkZHJlc3Muc3Vic3RyaW5nKGRvdWJsZUNvbG9uSW5kZXggKyAyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0QnVmZmVyID0gQnVmZmVyLmZyb20ocGFyc2VJUHY2Q2h1bmsobGVmdFNlY3Rpb24pKTtcbiAgICAgICAgY29uc3QgcmlnaHRCdWZmZXIgPSBCdWZmZXIuZnJvbShwYXJzZUlQdjZDaHVuayhyaWdodFNlY3Rpb24pKTtcbiAgICAgICAgY29uc3QgbWlkZGxlQnVmZmVyID0gQnVmZmVyLmFsbG9jKDE2IC0gbGVmdEJ1ZmZlci5sZW5ndGggLSByaWdodEJ1ZmZlci5sZW5ndGgsIDApO1xuICAgICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChbbGVmdEJ1ZmZlciwgbWlkZGxlQnVmZmVyLCByaWdodEJ1ZmZlcl0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gY29ubmVjdGl2aXR5U3RhdGVUb01lc3NhZ2Uoc3RhdGUpIHtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdDT05ORUNUSU5HJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdJRExFJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnUkVBRFknLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdTSFVURE9XTicsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ1RSQU5TSUVOVF9GQUlMVVJFJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnVU5LTk9XTicsXG4gICAgICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRhdGVUb1Byb3RvVGltZXN0YW1wKGRhdGUpIHtcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1pbGxpc1NpbmNlRXBvY2ggPSBkYXRlLmdldFRpbWUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiAobWlsbGlzU2luY2VFcG9jaCAvIDEwMDApIHwgMCxcbiAgICAgICAgbmFub3M6IChtaWxsaXNTaW5jZUVwb2NoICUgMTAwMCkgKiAxMDAwMDAwLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRDaGFubmVsTWVzc2FnZShjaGFubmVsRW50cnkpIHtcbiAgICBjb25zdCByZXNvbHZlZEluZm8gPSBjaGFubmVsRW50cnkuZ2V0SW5mbygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZjogY2hhbm5lbFJlZlRvTWVzc2FnZShjaGFubmVsRW50cnkucmVmKSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdGFyZ2V0OiByZXNvbHZlZEluZm8udGFyZ2V0LFxuICAgICAgICAgICAgc3RhdGU6IGNvbm5lY3Rpdml0eVN0YXRlVG9NZXNzYWdlKHJlc29sdmVkSW5mby5zdGF0ZSksXG4gICAgICAgICAgICBjYWxsc19zdGFydGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdGFydGVkLFxuICAgICAgICAgICAgY2FsbHNfc3VjY2VlZGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdWNjZWVkZWQsXG4gICAgICAgICAgICBjYWxsc19mYWlsZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc0ZhaWxlZCxcbiAgICAgICAgICAgIGxhc3RfY2FsbF9zdGFydGVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCksXG4gICAgICAgICAgICB0cmFjZTogcmVzb2x2ZWRJbmZvLnRyYWNlLmdldFRyYWNlTWVzc2FnZSgpLFxuICAgICAgICB9LFxuICAgICAgICBjaGFubmVsX3JlZjogcmVzb2x2ZWRJbmZvLmNoaWxkcmVuLmNoYW5uZWxzLm1hcChyZWYgPT4gY2hhbm5lbFJlZlRvTWVzc2FnZShyZWYpKSxcbiAgICAgICAgc3ViY2hhbm5lbF9yZWY6IHJlc29sdmVkSW5mby5jaGlsZHJlbi5zdWJjaGFubmVscy5tYXAocmVmID0+IHN1YmNoYW5uZWxSZWZUb01lc3NhZ2UocmVmKSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIEdldENoYW5uZWwoY2FsbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBjaGFubmVsSWQgPSBOdW1iZXIucGFyc2VJbnQoY2FsbC5yZXF1ZXN0LmNoYW5uZWxfaWQpO1xuICAgIGNvbnN0IGNoYW5uZWxFbnRyeSA9IGNoYW5uZWxzW2NoYW5uZWxJZF07XG4gICAgaWYgKGNoYW5uZWxFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgICAgICAgICBkZXRhaWxzOiAnTm8gY2hhbm5lbCBkYXRhIGZvdW5kIGZvciBpZCAnICsgY2hhbm5lbElkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7IGNoYW5uZWw6IGdldENoYW5uZWxNZXNzYWdlKGNoYW5uZWxFbnRyeSkgfSk7XG59XG5mdW5jdGlvbiBHZXRUb3BDaGFubmVscyhjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG1heFJlc3VsdHMgPSBOdW1iZXIucGFyc2VJbnQoY2FsbC5yZXF1ZXN0Lm1heF9yZXN1bHRzKTtcbiAgICBjb25zdCByZXN1bHRMaXN0ID0gW107XG4gICAgbGV0IGkgPSBOdW1iZXIucGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnN0YXJ0X2NoYW5uZWxfaWQpO1xuICAgIGZvciAoOyBpIDwgY2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbEVudHJ5ID0gY2hhbm5lbHNbaV07XG4gICAgICAgIGlmIChjaGFubmVsRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0TGlzdC5wdXNoKGdldENoYW5uZWxNZXNzYWdlKGNoYW5uZWxFbnRyeSkpO1xuICAgICAgICBpZiAocmVzdWx0TGlzdC5sZW5ndGggPj0gbWF4UmVzdWx0cykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICBjaGFubmVsOiByZXN1bHRMaXN0LFxuICAgICAgICBlbmQ6IGkgPj0gc2VydmVycy5sZW5ndGgsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRTZXJ2ZXJNZXNzYWdlKHNlcnZlckVudHJ5KSB7XG4gICAgY29uc3QgcmVzb2x2ZWRJbmZvID0gc2VydmVyRW50cnkuZ2V0SW5mbygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZjogc2VydmVyUmVmVG9NZXNzYWdlKHNlcnZlckVudHJ5LnJlZiksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNhbGxzX3N0YXJ0ZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N0YXJ0ZWQsXG4gICAgICAgICAgICBjYWxsc19zdWNjZWVkZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgIGNhbGxzX2ZhaWxlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbGFzdF9jYWxsX3N0YXJ0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIHRyYWNlOiByZXNvbHZlZEluZm8udHJhY2UuZ2V0VHJhY2VNZXNzYWdlKCksXG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Rlbl9zb2NrZXQ6IHJlc29sdmVkSW5mby5saXN0ZW5lckNoaWxkcmVuLnNvY2tldHMubWFwKHJlZiA9PiBzb2NrZXRSZWZUb01lc3NhZ2UocmVmKSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIEdldFNlcnZlcihjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHNlcnZlcklkID0gTnVtYmVyLnBhcnNlSW50KGNhbGwucmVxdWVzdC5zZXJ2ZXJfaWQpO1xuICAgIGNvbnN0IHNlcnZlckVudHJ5ID0gc2VydmVyc1tzZXJ2ZXJJZF07XG4gICAgaWYgKHNlcnZlckVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICAgICAgICAgIGRldGFpbHM6ICdObyBzZXJ2ZXIgZGF0YSBmb3VuZCBmb3IgaWQgJyArIHNlcnZlcklkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7IHNlcnZlcjogZ2V0U2VydmVyTWVzc2FnZShzZXJ2ZXJFbnRyeSkgfSk7XG59XG5mdW5jdGlvbiBHZXRTZXJ2ZXJzKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbWF4UmVzdWx0cyA9IE51bWJlci5wYXJzZUludChjYWxsLnJlcXVlc3QubWF4X3Jlc3VsdHMpO1xuICAgIGNvbnN0IHJlc3VsdExpc3QgPSBbXTtcbiAgICBsZXQgaSA9IE51bWJlci5wYXJzZUludChjYWxsLnJlcXVlc3Quc3RhcnRfc2VydmVyX2lkKTtcbiAgICBmb3IgKDsgaSA8IHNlcnZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2VydmVyRW50cnkgPSBzZXJ2ZXJzW2ldO1xuICAgICAgICBpZiAoc2VydmVyRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0TGlzdC5wdXNoKGdldFNlcnZlck1lc3NhZ2Uoc2VydmVyRW50cnkpKTtcbiAgICAgICAgaWYgKHJlc3VsdExpc3QubGVuZ3RoID49IG1heFJlc3VsdHMpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgc2VydmVyOiByZXN1bHRMaXN0LFxuICAgICAgICBlbmQ6IGkgPj0gc2VydmVycy5sZW5ndGgsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBHZXRTdWJjaGFubmVsKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc3ViY2hhbm5lbElkID0gTnVtYmVyLnBhcnNlSW50KGNhbGwucmVxdWVzdC5zdWJjaGFubmVsX2lkKTtcbiAgICBjb25zdCBzdWJjaGFubmVsRW50cnkgPSBzdWJjaGFubmVsc1tzdWJjaGFubmVsSWRdO1xuICAgIGlmIChzdWJjaGFubmVsRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIHN1YmNoYW5uZWwgZGF0YSBmb3VuZCBmb3IgaWQgJyArIHN1YmNoYW5uZWxJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWRJbmZvID0gc3ViY2hhbm5lbEVudHJ5LmdldEluZm8oKTtcbiAgICBjb25zdCBzdWJjaGFubmVsTWVzc2FnZSA9IHtcbiAgICAgICAgcmVmOiBzdWJjaGFubmVsUmVmVG9NZXNzYWdlKHN1YmNoYW5uZWxFbnRyeS5yZWYpLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0YXJnZXQ6IHJlc29sdmVkSW5mby50YXJnZXQsXG4gICAgICAgICAgICBzdGF0ZTogY29ubmVjdGl2aXR5U3RhdGVUb01lc3NhZ2UocmVzb2x2ZWRJbmZvLnN0YXRlKSxcbiAgICAgICAgICAgIGNhbGxzX3N0YXJ0ZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N0YXJ0ZWQsXG4gICAgICAgICAgICBjYWxsc19zdWNjZWVkZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgIGNhbGxzX2ZhaWxlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbGFzdF9jYWxsX3N0YXJ0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIHRyYWNlOiByZXNvbHZlZEluZm8udHJhY2UuZ2V0VHJhY2VNZXNzYWdlKCksXG4gICAgICAgIH0sXG4gICAgICAgIHNvY2tldF9yZWY6IHJlc29sdmVkSW5mby5jaGlsZHJlbi5zb2NrZXRzLm1hcChyZWYgPT4gc29ja2V0UmVmVG9NZXNzYWdlKHJlZikpLFxuICAgIH07XG4gICAgY2FsbGJhY2sobnVsbCwgeyBzdWJjaGFubmVsOiBzdWJjaGFubmVsTWVzc2FnZSB9KTtcbn1cbmZ1bmN0aW9uIHN1YmNoYW5uZWxBZGRyZXNzVG9BZGRyZXNzTWVzc2FnZShzdWJjaGFubmVsQWRkcmVzcykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKHN1YmNoYW5uZWxBZGRyZXNzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogJ3RjcGlwX2FkZHJlc3MnLFxuICAgICAgICAgICAgdGNwaXBfYWRkcmVzczoge1xuICAgICAgICAgICAgICAgIGlwX2FkZHJlc3M6IChfYSA9IGlwQWRkcmVzc1N0cmluZ1RvQnVmZmVyKHN1YmNoYW5uZWxBZGRyZXNzLmhvc3QpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcG9ydDogc3ViY2hhbm5lbEFkZHJlc3MucG9ydCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogJ3Vkc19hZGRyZXNzJyxcbiAgICAgICAgICAgIHVkc19hZGRyZXNzOiB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHN1YmNoYW5uZWxBZGRyZXNzLnBhdGgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIEdldFNvY2tldChjYWxsLCBjYWxsYmFjaykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3Qgc29ja2V0SWQgPSBOdW1iZXIucGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnNvY2tldF9pZCk7XG4gICAgY29uc3Qgc29ja2V0RW50cnkgPSBzb2NrZXRzW3NvY2tldElkXTtcbiAgICBpZiAoc29ja2V0RW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIHNvY2tldCBkYXRhIGZvdW5kIGZvciBpZCAnICsgc29ja2V0SWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVkSW5mbyA9IHNvY2tldEVudHJ5LmdldEluZm8oKTtcbiAgICBjb25zdCBzZWN1cml0eU1lc3NhZ2UgPSByZXNvbHZlZEluZm8uc2VjdXJpdHlcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtb2RlbDogJ3RscycsXG4gICAgICAgICAgICB0bHM6IHtcbiAgICAgICAgICAgICAgICBjaXBoZXJfc3VpdGU6IHJlc29sdmVkSW5mby5zZWN1cml0eS5jaXBoZXJTdWl0ZVN0YW5kYXJkTmFtZVxuICAgICAgICAgICAgICAgICAgICA/ICdzdGFuZGFyZF9uYW1lJ1xuICAgICAgICAgICAgICAgICAgICA6ICdvdGhlcl9uYW1lJyxcbiAgICAgICAgICAgICAgICBzdGFuZGFyZF9uYW1lOiAoX2EgPSByZXNvbHZlZEluZm8uc2VjdXJpdHkuY2lwaGVyU3VpdGVTdGFuZGFyZE5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBvdGhlcl9uYW1lOiAoX2IgPSByZXNvbHZlZEluZm8uc2VjdXJpdHkuY2lwaGVyU3VpdGVPdGhlck5hbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBsb2NhbF9jZXJ0aWZpY2F0ZTogKF9jID0gcmVzb2x2ZWRJbmZvLnNlY3VyaXR5LmxvY2FsQ2VydGlmaWNhdGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZW1vdGVfY2VydGlmaWNhdGU6IChfZCA9IHJlc29sdmVkSW5mby5zZWN1cml0eS5yZW1vdGVDZXJ0aWZpY2F0ZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgICA6IG51bGw7XG4gICAgY29uc3Qgc29ja2V0TWVzc2FnZSA9IHtcbiAgICAgICAgcmVmOiBzb2NrZXRSZWZUb01lc3NhZ2Uoc29ja2V0RW50cnkucmVmKSxcbiAgICAgICAgbG9jYWw6IHJlc29sdmVkSW5mby5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgID8gc3ViY2hhbm5lbEFkZHJlc3NUb0FkZHJlc3NNZXNzYWdlKHJlc29sdmVkSW5mby5sb2NhbEFkZHJlc3MpXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIHJlbW90ZTogcmVzb2x2ZWRJbmZvLnJlbW90ZUFkZHJlc3NcbiAgICAgICAgICAgID8gc3ViY2hhbm5lbEFkZHJlc3NUb0FkZHJlc3NNZXNzYWdlKHJlc29sdmVkSW5mby5yZW1vdGVBZGRyZXNzKVxuICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICByZW1vdGVfbmFtZTogKF9lID0gcmVzb2x2ZWRJbmZvLnJlbW90ZU5hbWUpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VjdXJpdHk6IHNlY3VyaXR5TWVzc2FnZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAga2VlcF9hbGl2ZXNfc2VudDogcmVzb2x2ZWRJbmZvLmtlZXBBbGl2ZXNTZW50LFxuICAgICAgICAgICAgc3RyZWFtc19zdGFydGVkOiByZXNvbHZlZEluZm8uc3RyZWFtc1N0YXJ0ZWQsXG4gICAgICAgICAgICBzdHJlYW1zX3N1Y2NlZWRlZDogcmVzb2x2ZWRJbmZvLnN0cmVhbXNTdWNjZWVkZWQsXG4gICAgICAgICAgICBzdHJlYW1zX2ZhaWxlZDogcmVzb2x2ZWRJbmZvLnN0cmVhbXNGYWlsZWQsXG4gICAgICAgICAgICBsYXN0X2xvY2FsX3N0cmVhbV9jcmVhdGVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmxhc3RMb2NhbFN0cmVhbUNyZWF0ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgbGFzdF9yZW1vdGVfc3RyZWFtX2NyZWF0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8ubGFzdFJlbW90ZVN0cmVhbUNyZWF0ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgbWVzc2FnZXNfcmVjZWl2ZWQ6IHJlc29sdmVkSW5mby5tZXNzYWdlc1JlY2VpdmVkLFxuICAgICAgICAgICAgbWVzc2FnZXNfc2VudDogcmVzb2x2ZWRJbmZvLm1lc3NhZ2VzU2VudCxcbiAgICAgICAgICAgIGxhc3RfbWVzc2FnZV9yZWNlaXZlZF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIGxhc3RfbWVzc2FnZV9zZW50X3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCksXG4gICAgICAgICAgICBsb2NhbF9mbG93X2NvbnRyb2xfd2luZG93OiByZXNvbHZlZEluZm8ubG9jYWxGbG93Q29udHJvbFdpbmRvd1xuICAgICAgICAgICAgICAgID8geyB2YWx1ZTogcmVzb2x2ZWRJbmZvLmxvY2FsRmxvd0NvbnRyb2xXaW5kb3cgfVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgIHJlbW90ZV9mbG93X2NvbnRyb2xfd2luZG93OiByZXNvbHZlZEluZm8ucmVtb3RlRmxvd0NvbnRyb2xXaW5kb3dcbiAgICAgICAgICAgICAgICA/IHsgdmFsdWU6IHJlc29sdmVkSW5mby5yZW1vdGVGbG93Q29udHJvbFdpbmRvdyB9XG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgY2FsbGJhY2sobnVsbCwgeyBzb2NrZXQ6IHNvY2tldE1lc3NhZ2UgfSk7XG59XG5mdW5jdGlvbiBHZXRTZXJ2ZXJTb2NrZXRzKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2VydmVySWQgPSBOdW1iZXIucGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnNlcnZlcl9pZCk7XG4gICAgY29uc3Qgc2VydmVyRW50cnkgPSBzZXJ2ZXJzW3NlcnZlcklkXTtcbiAgICBpZiAoc2VydmVyRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIHNlcnZlciBkYXRhIGZvdW5kIGZvciBpZCAnICsgc2VydmVySWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0SWQgPSBOdW1iZXIucGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnN0YXJ0X3NvY2tldF9pZCk7XG4gICAgY29uc3QgbWF4UmVzdWx0cyA9IE51bWJlci5wYXJzZUludChjYWxsLnJlcXVlc3QubWF4X3Jlc3VsdHMpO1xuICAgIGNvbnN0IHJlc29sdmVkSW5mbyA9IHNlcnZlckVudHJ5LmdldEluZm8oKTtcbiAgICAvLyBJZiB3ZSB3YW50ZWQgdG8gaW5jbHVkZSBsaXN0ZW5lciBzb2NrZXRzIGluIHRoZSByZXN1bHQsIHRoaXMgbGluZSB3b3VsZFxuICAgIC8vIGluc3RlYWQgc2F5XG4gICAgLy8gY29uc3QgYWxsU29ja2V0cyA9IHJlc29sdmVkSW5mby5saXN0ZW5lckNoaWxkcmVuLnNvY2tldHMuY29uY2F0KHJlc29sdmVkSW5mby5zZXNzaW9uQ2hpbGRyZW4uc29ja2V0cykuc29ydCgocmVmMSwgcmVmMikgPT4gcmVmMS5pZCAtIHJlZjIuaWQpO1xuICAgIGNvbnN0IGFsbFNvY2tldHMgPSByZXNvbHZlZEluZm8uc2Vzc2lvbkNoaWxkcmVuLnNvY2tldHMuc29ydCgocmVmMSwgcmVmMikgPT4gcmVmMS5pZCAtIHJlZjIuaWQpO1xuICAgIGNvbnN0IHJlc3VsdExpc3QgPSBbXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBhbGxTb2NrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxTb2NrZXRzW2ldLmlkID49IHN0YXJ0SWQpIHtcbiAgICAgICAgICAgIHJlc3VsdExpc3QucHVzaChzb2NrZXRSZWZUb01lc3NhZ2UoYWxsU29ja2V0c1tpXSkpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdExpc3QubGVuZ3RoID49IG1heFJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIHNvY2tldF9yZWY6IHJlc3VsdExpc3QsXG4gICAgICAgIGVuZDogaSA+PSBhbGxTb2NrZXRzLmxlbmd0aCxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldENoYW5uZWx6SGFuZGxlcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgR2V0Q2hhbm5lbCxcbiAgICAgICAgR2V0VG9wQ2hhbm5lbHMsXG4gICAgICAgIEdldFNlcnZlcixcbiAgICAgICAgR2V0U2VydmVycyxcbiAgICAgICAgR2V0U3ViY2hhbm5lbCxcbiAgICAgICAgR2V0U29ja2V0LFxuICAgICAgICBHZXRTZXJ2ZXJTb2NrZXRzLFxuICAgIH07XG59XG5leHBvcnRzLmdldENoYW5uZWx6SGFuZGxlcnMgPSBnZXRDaGFubmVsekhhbmRsZXJzO1xubGV0IGxvYWRlZENoYW5uZWx6RGVmaW5pdGlvbiA9IG51bGw7XG5mdW5jdGlvbiBnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uKCkge1xuICAgIGlmIChsb2FkZWRDaGFubmVsekRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlZENoYW5uZWx6RGVmaW5pdGlvbjtcbiAgICB9XG4gICAgLyogVGhlIHB1cnBvc2Ugb2YgdGhpcyBjb21wbGV4aXR5IGlzIHRvIGF2b2lkIGxvYWRpbmcgQGdycGMvcHJvdG8tbG9hZGVyIGF0XG4gICAgICogcnVudGltZSBmb3IgdXNlcnMgd2hvIHdpbGwgbm90IHVzZS9lbmFibGUgY2hhbm5lbHouICovXG4gICAgY29uc3QgbG9hZGVyTG9hZFN5bmMgPSByZXF1aXJlKCdAZ3JwYy9wcm90by1sb2FkZXInKVxuICAgICAgICAubG9hZFN5bmM7XG4gICAgY29uc3QgbG9hZGVkUHJvdG8gPSBsb2FkZXJMb2FkU3luYygnY2hhbm5lbHoucHJvdG8nLCB7XG4gICAgICAgIGtlZXBDYXNlOiB0cnVlLFxuICAgICAgICBsb25nczogU3RyaW5nLFxuICAgICAgICBlbnVtczogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0czogdHJ1ZSxcbiAgICAgICAgb25lb2ZzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlRGlyczogW2Ake19fZGlybmFtZX0vLi4vLi4vcHJvdG9gXSxcbiAgICB9KTtcbiAgICBjb25zdCBjaGFubmVsekdycGNPYmplY3QgPSAoMCwgbWFrZV9jbGllbnRfMS5sb2FkUGFja2FnZURlZmluaXRpb24pKGxvYWRlZFByb3RvKTtcbiAgICBsb2FkZWRDaGFubmVsekRlZmluaXRpb24gPVxuICAgICAgICBjaGFubmVsekdycGNPYmplY3QuZ3JwYy5jaGFubmVsei52MS5DaGFubmVsei5zZXJ2aWNlO1xuICAgIHJldHVybiBsb2FkZWRDaGFubmVsekRlZmluaXRpb247XG59XG5leHBvcnRzLmdldENoYW5uZWx6U2VydmljZURlZmluaXRpb24gPSBnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uO1xuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgKDAsIGFkbWluXzEucmVnaXN0ZXJBZG1pblNlcnZpY2UpKGdldENoYW5uZWx6U2VydmljZURlZmluaXRpb24sIGdldENoYW5uZWx6SGFuZGxlcnMpO1xufVxuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbHouanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwic2V0dXAiLCJnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uIiwiZ2V0Q2hhbm5lbHpIYW5kbGVycyIsInVucmVnaXN0ZXJDaGFubmVselJlZiIsInJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQiLCJyZWdpc3RlckNoYW5uZWx6U2VydmVyIiwicmVnaXN0ZXJDaGFubmVselN1YmNoYW5uZWwiLCJyZWdpc3RlckNoYW5uZWx6Q2hhbm5lbCIsIkNoYW5uZWx6Q2FsbFRyYWNrZXIiLCJDaGFubmVsekNoaWxkcmVuVHJhY2tlciIsIkNoYW5uZWx6VHJhY2UiLCJuZXRfMSIsInJlcXVpcmUiLCJjb25uZWN0aXZpdHlfc3RhdGVfMSIsImNvbnN0YW50c18xIiwic3ViY2hhbm5lbF9hZGRyZXNzXzEiLCJhZG1pbl8xIiwibWFrZV9jbGllbnRfMSIsImNoYW5uZWxSZWZUb01lc3NhZ2UiLCJyZWYiLCJjaGFubmVsX2lkIiwiaWQiLCJuYW1lIiwic3ViY2hhbm5lbFJlZlRvTWVzc2FnZSIsInN1YmNoYW5uZWxfaWQiLCJzZXJ2ZXJSZWZUb01lc3NhZ2UiLCJzZXJ2ZXJfaWQiLCJzb2NrZXRSZWZUb01lc3NhZ2UiLCJzb2NrZXRfaWQiLCJUQVJHRVRfUkVUQUlORURfVFJBQ0VTIiwiY29uc3RydWN0b3IiLCJldmVudHMiLCJldmVudHNMb2dnZWQiLCJjcmVhdGlvblRpbWVzdGFtcCIsIkRhdGUiLCJhZGRUcmFjZSIsInNldmVyaXR5IiwiZGVzY3JpcHRpb24iLCJjaGlsZCIsInRpbWVzdGFtcCIsInB1c2giLCJjaGlsZENoYW5uZWwiLCJraW5kIiwidW5kZWZpbmVkIiwiY2hpbGRTdWJjaGFubmVsIiwibGVuZ3RoIiwic2xpY2UiLCJnZXRUcmFjZU1lc3NhZ2UiLCJjcmVhdGlvbl90aW1lc3RhbXAiLCJkYXRlVG9Qcm90b1RpbWVzdGFtcCIsIm51bV9ldmVudHNfbG9nZ2VkIiwibWFwIiwiZXZlbnQiLCJjaGFubmVsX3JlZiIsInN1YmNoYW5uZWxfcmVmIiwiY2hhbm5lbENoaWxkcmVuIiwiTWFwIiwic3ViY2hhbm5lbENoaWxkcmVuIiwic29ja2V0Q2hpbGRyZW4iLCJyZWZDaGlsZCIsIl9hIiwiX2IiLCJfYyIsInRyYWNrZWRDaGlsZCIsImdldCIsImNvdW50Iiwic2V0IiwidW5yZWZDaGlsZCIsImRlbGV0ZSIsImdldENoaWxkTGlzdHMiLCJjaGFubmVscyIsInZhbHVlcyIsInN1YmNoYW5uZWxzIiwic29ja2V0cyIsImNhbGxzU3RhcnRlZCIsImNhbGxzU3VjY2VlZGVkIiwiY2FsbHNGYWlsZWQiLCJsYXN0Q2FsbFN0YXJ0ZWRUaW1lc3RhbXAiLCJhZGRDYWxsU3RhcnRlZCIsImFkZENhbGxTdWNjZWVkZWQiLCJhZGRDYWxsRmFpbGVkIiwibmV4dElkIiwiZ2V0TmV4dElkIiwic2VydmVycyIsImdldEluZm8iLCJjaGFubmVsekVuYWJsZWQiLCJwYXJzZUlQdjZTZWN0aW9uIiwiYWRkcmVzc1NlY3Rpb24iLCJudW1iZXJWYWx1ZSIsIk51bWJlciIsInBhcnNlSW50IiwicGFyc2VJUHY2Q2h1bmsiLCJhZGRyZXNzQ2h1bmsiLCJieXRlUGFpcnMiLCJzcGxpdCIsInNlY3Rpb24iLCJyZXN1bHQiLCJjb25jYXQiLCJpcEFkZHJlc3NTdHJpbmdUb0J1ZmZlciIsImlwQWRkcmVzcyIsImlzSVB2NCIsIkJ1ZmZlciIsImZyb20iLCJVaW50OEFycmF5Iiwic2VnbWVudCIsImlzSVB2NiIsImxlZnRTZWN0aW9uIiwicmlnaHRTZWN0aW9uIiwiZG91YmxlQ29sb25JbmRleCIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJsZWZ0QnVmZmVyIiwicmlnaHRCdWZmZXIiLCJtaWRkbGVCdWZmZXIiLCJhbGxvYyIsImNvbm5lY3Rpdml0eVN0YXRlVG9NZXNzYWdlIiwic3RhdGUiLCJDb25uZWN0aXZpdHlTdGF0ZSIsIkNPTk5FQ1RJTkciLCJJRExFIiwiUkVBRFkiLCJTSFVURE9XTiIsIlRSQU5TSUVOVF9GQUlMVVJFIiwiZGF0ZSIsIm1pbGxpc1NpbmNlRXBvY2giLCJnZXRUaW1lIiwic2Vjb25kcyIsIm5hbm9zIiwiZ2V0Q2hhbm5lbE1lc3NhZ2UiLCJjaGFubmVsRW50cnkiLCJyZXNvbHZlZEluZm8iLCJkYXRhIiwidGFyZ2V0IiwiY2FsbHNfc3RhcnRlZCIsImNhbGxUcmFja2VyIiwiY2FsbHNfc3VjY2VlZGVkIiwiY2FsbHNfZmFpbGVkIiwibGFzdF9jYWxsX3N0YXJ0ZWRfdGltZXN0YW1wIiwidHJhY2UiLCJjaGlsZHJlbiIsIkdldENoYW5uZWwiLCJjYWxsIiwiY2FsbGJhY2siLCJjaGFubmVsSWQiLCJyZXF1ZXN0IiwiY29kZSIsIlN0YXR1cyIsIk5PVF9GT1VORCIsImRldGFpbHMiLCJjaGFubmVsIiwiR2V0VG9wQ2hhbm5lbHMiLCJtYXhSZXN1bHRzIiwibWF4X3Jlc3VsdHMiLCJyZXN1bHRMaXN0IiwiaSIsInN0YXJ0X2NoYW5uZWxfaWQiLCJlbmQiLCJnZXRTZXJ2ZXJNZXNzYWdlIiwic2VydmVyRW50cnkiLCJsaXN0ZW5fc29ja2V0IiwibGlzdGVuZXJDaGlsZHJlbiIsIkdldFNlcnZlciIsInNlcnZlcklkIiwic2VydmVyIiwiR2V0U2VydmVycyIsInN0YXJ0X3NlcnZlcl9pZCIsIkdldFN1YmNoYW5uZWwiLCJzdWJjaGFubmVsSWQiLCJzdWJjaGFubmVsRW50cnkiLCJzdWJjaGFubmVsTWVzc2FnZSIsInNvY2tldF9yZWYiLCJzdWJjaGFubmVsIiwic3ViY2hhbm5lbEFkZHJlc3NUb0FkZHJlc3NNZXNzYWdlIiwic3ViY2hhbm5lbEFkZHJlc3MiLCJpc1RjcFN1YmNoYW5uZWxBZGRyZXNzIiwiYWRkcmVzcyIsInRjcGlwX2FkZHJlc3MiLCJpcF9hZGRyZXNzIiwiaG9zdCIsInBvcnQiLCJ1ZHNfYWRkcmVzcyIsImZpbGVuYW1lIiwicGF0aCIsIkdldFNvY2tldCIsIl9kIiwiX2UiLCJzb2NrZXRJZCIsInNvY2tldEVudHJ5Iiwic2VjdXJpdHlNZXNzYWdlIiwic2VjdXJpdHkiLCJtb2RlbCIsInRscyIsImNpcGhlcl9zdWl0ZSIsImNpcGhlclN1aXRlU3RhbmRhcmROYW1lIiwic3RhbmRhcmRfbmFtZSIsIm90aGVyX25hbWUiLCJjaXBoZXJTdWl0ZU90aGVyTmFtZSIsImxvY2FsX2NlcnRpZmljYXRlIiwibG9jYWxDZXJ0aWZpY2F0ZSIsInJlbW90ZV9jZXJ0aWZpY2F0ZSIsInJlbW90ZUNlcnRpZmljYXRlIiwic29ja2V0TWVzc2FnZSIsImxvY2FsIiwibG9jYWxBZGRyZXNzIiwicmVtb3RlIiwicmVtb3RlQWRkcmVzcyIsInJlbW90ZV9uYW1lIiwicmVtb3RlTmFtZSIsImtlZXBfYWxpdmVzX3NlbnQiLCJrZWVwQWxpdmVzU2VudCIsInN0cmVhbXNfc3RhcnRlZCIsInN0cmVhbXNTdGFydGVkIiwic3RyZWFtc19zdWNjZWVkZWQiLCJzdHJlYW1zU3VjY2VlZGVkIiwic3RyZWFtc19mYWlsZWQiLCJzdHJlYW1zRmFpbGVkIiwibGFzdF9sb2NhbF9zdHJlYW1fY3JlYXRlZF90aW1lc3RhbXAiLCJsYXN0TG9jYWxTdHJlYW1DcmVhdGVkVGltZXN0YW1wIiwibGFzdF9yZW1vdGVfc3RyZWFtX2NyZWF0ZWRfdGltZXN0YW1wIiwibGFzdFJlbW90ZVN0cmVhbUNyZWF0ZWRUaW1lc3RhbXAiLCJtZXNzYWdlc19yZWNlaXZlZCIsIm1lc3NhZ2VzUmVjZWl2ZWQiLCJtZXNzYWdlc19zZW50IiwibWVzc2FnZXNTZW50IiwibGFzdF9tZXNzYWdlX3JlY2VpdmVkX3RpbWVzdGFtcCIsImxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXAiLCJsYXN0X21lc3NhZ2Vfc2VudF90aW1lc3RhbXAiLCJsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXAiLCJsb2NhbF9mbG93X2NvbnRyb2xfd2luZG93IiwibG9jYWxGbG93Q29udHJvbFdpbmRvdyIsInJlbW90ZV9mbG93X2NvbnRyb2xfd2luZG93IiwicmVtb3RlRmxvd0NvbnRyb2xXaW5kb3ciLCJzb2NrZXQiLCJHZXRTZXJ2ZXJTb2NrZXRzIiwic3RhcnRJZCIsInN0YXJ0X3NvY2tldF9pZCIsImFsbFNvY2tldHMiLCJzZXNzaW9uQ2hpbGRyZW4iLCJzb3J0IiwicmVmMSIsInJlZjIiLCJsb2FkZWRDaGFubmVsekRlZmluaXRpb24iLCJsb2FkZXJMb2FkU3luYyIsImxvYWRTeW5jIiwibG9hZGVkUHJvdG8iLCJrZWVwQ2FzZSIsImxvbmdzIiwiU3RyaW5nIiwiZW51bXMiLCJkZWZhdWx0cyIsIm9uZW9mcyIsImluY2x1ZGVEaXJzIiwiX19kaXJuYW1lIiwiY2hhbm5lbHpHcnBjT2JqZWN0IiwibG9hZFBhY2thZ2VEZWZpbml0aW9uIiwiZ3JwYyIsImNoYW5uZWx6IiwidjEiLCJDaGFubmVseiIsInNlcnZpY2UiLCJyZWdpc3RlckFkbWluU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/client-interceptors.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/client-interceptors.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getInterceptingCall = exports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.InterceptorConfigurationError = void 0;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/error.js\");\n/**\n * Error class associated with passing both interceptors and interceptor\n * providers to a client constructor or as call options.\n */\nclass InterceptorConfigurationError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'InterceptorConfigurationError';\n    Error.captureStackTrace(this, InterceptorConfigurationError);\n  }\n}\nexports.InterceptorConfigurationError = InterceptorConfigurationError;\nclass ListenerBuilder {\n  constructor() {\n    this.metadata = undefined;\n    this.message = undefined;\n    this.status = undefined;\n  }\n  withOnReceiveMetadata(onReceiveMetadata) {\n    this.metadata = onReceiveMetadata;\n    return this;\n  }\n  withOnReceiveMessage(onReceiveMessage) {\n    this.message = onReceiveMessage;\n    return this;\n  }\n  withOnReceiveStatus(onReceiveStatus) {\n    this.status = onReceiveStatus;\n    return this;\n  }\n  build() {\n    return {\n      onReceiveMetadata: this.metadata,\n      onReceiveMessage: this.message,\n      onReceiveStatus: this.status\n    };\n  }\n}\nexports.ListenerBuilder = ListenerBuilder;\nclass RequesterBuilder {\n  constructor() {\n    this.start = undefined;\n    this.message = undefined;\n    this.halfClose = undefined;\n    this.cancel = undefined;\n  }\n  withStart(start) {\n    this.start = start;\n    return this;\n  }\n  withSendMessage(sendMessage) {\n    this.message = sendMessage;\n    return this;\n  }\n  withHalfClose(halfClose) {\n    this.halfClose = halfClose;\n    return this;\n  }\n  withCancel(cancel) {\n    this.cancel = cancel;\n    return this;\n  }\n  build() {\n    return {\n      start: this.start,\n      sendMessage: this.message,\n      halfClose: this.halfClose,\n      cancel: this.cancel\n    };\n  }\n}\nexports.RequesterBuilder = RequesterBuilder;\n/**\n * A Listener with a default pass-through implementation of each method. Used\n * for filling out Listeners with some methods omitted.\n */\nconst defaultListener = {\n  onReceiveMetadata: (metadata, next) => {\n    next(metadata);\n  },\n  onReceiveMessage: (message, next) => {\n    next(message);\n  },\n  onReceiveStatus: (status, next) => {\n    next(status);\n  }\n};\n/**\n * A Requester with a default pass-through implementation of each method. Used\n * for filling out Requesters with some methods omitted.\n */\nconst defaultRequester = {\n  start: (metadata, listener, next) => {\n    next(metadata, listener);\n  },\n  sendMessage: (message, next) => {\n    next(message);\n  },\n  halfClose: next => {\n    next();\n  },\n  cancel: next => {\n    next();\n  }\n};\nclass InterceptingCall {\n  constructor(nextCall, requester) {\n    var _a, _b, _c, _d;\n    this.nextCall = nextCall;\n    /**\n     * Indicates that metadata has been passed to the requester's start\n     * method but it has not been passed to the corresponding next callback\n     */\n    this.processingMetadata = false;\n    /**\n     * Message context for a pending message that is waiting for\n     */\n    this.pendingMessageContext = null;\n    /**\n     * Indicates that a message has been passed to the requester's sendMessage\n     * method but it has not been passed to the corresponding next callback\n     */\n    this.processingMessage = false;\n    /**\n     * Indicates that a status was received but could not be propagated because\n     * a message was still being processed.\n     */\n    this.pendingHalfClose = false;\n    if (requester) {\n      this.requester = {\n        start: (_a = requester.start) !== null && _a !== void 0 ? _a : defaultRequester.start,\n        sendMessage: (_b = requester.sendMessage) !== null && _b !== void 0 ? _b : defaultRequester.sendMessage,\n        halfClose: (_c = requester.halfClose) !== null && _c !== void 0 ? _c : defaultRequester.halfClose,\n        cancel: (_d = requester.cancel) !== null && _d !== void 0 ? _d : defaultRequester.cancel\n      };\n    } else {\n      this.requester = defaultRequester;\n    }\n  }\n  cancelWithStatus(status, details) {\n    this.requester.cancel(() => {\n      this.nextCall.cancelWithStatus(status, details);\n    });\n  }\n  getPeer() {\n    return this.nextCall.getPeer();\n  }\n  processPendingMessage() {\n    if (this.pendingMessageContext) {\n      this.nextCall.sendMessageWithContext(this.pendingMessageContext, this.pendingMessage);\n      this.pendingMessageContext = null;\n      this.pendingMessage = null;\n    }\n  }\n  processPendingHalfClose() {\n    if (this.pendingHalfClose) {\n      this.nextCall.halfClose();\n    }\n  }\n  start(metadata, interceptingListener) {\n    var _a, _b, _c, _d, _e, _f;\n    const fullInterceptingListener = {\n      onReceiveMetadata: (_b = (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(interceptingListener)) !== null && _b !== void 0 ? _b : metadata => {},\n      onReceiveMessage: (_d = (_c = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _c === void 0 ? void 0 : _c.bind(interceptingListener)) !== null && _d !== void 0 ? _d : message => {},\n      onReceiveStatus: (_f = (_e = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _e === void 0 ? void 0 : _e.bind(interceptingListener)) !== null && _f !== void 0 ? _f : status => {}\n    };\n    this.processingMetadata = true;\n    this.requester.start(metadata, fullInterceptingListener, (md, listener) => {\n      var _a, _b, _c;\n      this.processingMetadata = false;\n      let finalInterceptingListener;\n      if ((0, call_interface_1.isInterceptingListener)(listener)) {\n        finalInterceptingListener = listener;\n      } else {\n        const fullListener = {\n          onReceiveMetadata: (_a = listener.onReceiveMetadata) !== null && _a !== void 0 ? _a : defaultListener.onReceiveMetadata,\n          onReceiveMessage: (_b = listener.onReceiveMessage) !== null && _b !== void 0 ? _b : defaultListener.onReceiveMessage,\n          onReceiveStatus: (_c = listener.onReceiveStatus) !== null && _c !== void 0 ? _c : defaultListener.onReceiveStatus\n        };\n        finalInterceptingListener = new call_interface_1.InterceptingListenerImpl(fullListener, fullInterceptingListener);\n      }\n      this.nextCall.start(md, finalInterceptingListener);\n      this.processPendingMessage();\n      this.processPendingHalfClose();\n    });\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  sendMessageWithContext(context, message) {\n    this.processingMessage = true;\n    this.requester.sendMessage(message, finalMessage => {\n      this.processingMessage = false;\n      if (this.processingMetadata) {\n        this.pendingMessageContext = context;\n        this.pendingMessage = message;\n      } else {\n        this.nextCall.sendMessageWithContext(context, finalMessage);\n        this.processPendingHalfClose();\n      }\n    });\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  sendMessage(message) {\n    this.sendMessageWithContext({}, message);\n  }\n  startRead() {\n    this.nextCall.startRead();\n  }\n  halfClose() {\n    this.requester.halfClose(() => {\n      if (this.processingMetadata || this.processingMessage) {\n        this.pendingHalfClose = true;\n      } else {\n        this.nextCall.halfClose();\n      }\n    });\n  }\n}\nexports.InterceptingCall = InterceptingCall;\nfunction getCall(channel, path, options) {\n  var _a, _b;\n  const deadline = (_a = options.deadline) !== null && _a !== void 0 ? _a : Infinity;\n  const host = options.host;\n  const parent = (_b = options.parent) !== null && _b !== void 0 ? _b : null;\n  const propagateFlags = options.propagate_flags;\n  const credentials = options.credentials;\n  const call = channel.createCall(path, deadline, host, parent, propagateFlags);\n  if (credentials) {\n    call.setCredentials(credentials);\n  }\n  return call;\n}\n/**\n * InterceptingCall implementation that directly owns the underlying Call\n * object and handles serialization and deseraizliation.\n */\nclass BaseInterceptingCall {\n  constructor(call,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  methodDefinition) {\n    this.call = call;\n    this.methodDefinition = methodDefinition;\n  }\n  cancelWithStatus(status, details) {\n    this.call.cancelWithStatus(status, details);\n  }\n  getPeer() {\n    return this.call.getPeer();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  sendMessageWithContext(context, message) {\n    let serialized;\n    try {\n      serialized = this.methodDefinition.requestSerialize(message);\n    } catch (e) {\n      this.call.cancelWithStatus(constants_1.Status.INTERNAL, `Request message serialization failure: ${(0, error_1.getErrorMessage)(e)}`);\n      return;\n    }\n    this.call.sendMessageWithContext(context, serialized);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  sendMessage(message) {\n    this.sendMessageWithContext({}, message);\n  }\n  start(metadata, interceptingListener) {\n    let readError = null;\n    this.call.start(metadata, {\n      onReceiveMetadata: metadata => {\n        var _a;\n        (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, metadata);\n      },\n      onReceiveMessage: message => {\n        var _a;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let deserialized;\n        try {\n          deserialized = this.methodDefinition.responseDeserialize(message);\n        } catch (e) {\n          readError = {\n            code: constants_1.Status.INTERNAL,\n            details: `Response message parsing error: ${(0, error_1.getErrorMessage)(e)}`,\n            metadata: new metadata_1.Metadata()\n          };\n          this.call.cancelWithStatus(readError.code, readError.details);\n          return;\n        }\n        (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, deserialized);\n      },\n      onReceiveStatus: status => {\n        var _a, _b;\n        if (readError) {\n          (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, readError);\n        } else {\n          (_b = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(interceptingListener, status);\n        }\n      }\n    });\n  }\n  startRead() {\n    this.call.startRead();\n  }\n  halfClose() {\n    this.call.halfClose();\n  }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with unary\n * responses.\n */\nclass BaseUnaryInterceptingCall extends BaseInterceptingCall {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(call, methodDefinition) {\n    super(call, methodDefinition);\n  }\n  start(metadata, listener) {\n    var _a, _b;\n    let receivedMessage = false;\n    const wrapperListener = {\n      onReceiveMetadata: (_b = (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(listener)) !== null && _b !== void 0 ? _b : metadata => {},\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onReceiveMessage: message => {\n        var _a;\n        receivedMessage = true;\n        (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, message);\n      },\n      onReceiveStatus: status => {\n        var _a, _b;\n        if (!receivedMessage) {\n          (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, null);\n        }\n        (_b = listener === null || listener === void 0 ? void 0 : listener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(listener, status);\n      }\n    };\n    super.start(metadata, wrapperListener);\n    this.call.startRead();\n  }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with streaming\n * responses.\n */\nclass BaseStreamingInterceptingCall extends BaseInterceptingCall {}\nfunction getBottomInterceptingCall(channel, options,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition) {\n  const call = getCall(channel, methodDefinition.path, options);\n  if (methodDefinition.responseStream) {\n    return new BaseStreamingInterceptingCall(call, methodDefinition);\n  } else {\n    return new BaseUnaryInterceptingCall(call, methodDefinition);\n  }\n}\nfunction getInterceptingCall(interceptorArgs,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition, options, channel) {\n  if (interceptorArgs.clientInterceptors.length > 0 && interceptorArgs.clientInterceptorProviders.length > 0) {\n    throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as options ' + 'to the client constructor. Only one of these is allowed.');\n  }\n  if (interceptorArgs.callInterceptors.length > 0 && interceptorArgs.callInterceptorProviders.length > 0) {\n    throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as call ' + 'options. Only one of these is allowed.');\n  }\n  let interceptors = [];\n  // Interceptors passed to the call override interceptors passed to the client constructor\n  if (interceptorArgs.callInterceptors.length > 0 || interceptorArgs.callInterceptorProviders.length > 0) {\n    interceptors = [].concat(interceptorArgs.callInterceptors, interceptorArgs.callInterceptorProviders.map(provider => provider(methodDefinition))).filter(interceptor => interceptor);\n    // Filter out falsy values when providers return nothing\n  } else {\n    interceptors = [].concat(interceptorArgs.clientInterceptors, interceptorArgs.clientInterceptorProviders.map(provider => provider(methodDefinition))).filter(interceptor => interceptor);\n    // Filter out falsy values when providers return nothing\n  }\n\n  const interceptorOptions = Object.assign({}, options, {\n    method_definition: methodDefinition\n  });\n  /* For each interceptor in the list, the nextCall function passed to it is\n   * based on the next interceptor in the list, using a nextCall function\n   * constructed with the following interceptor in the list, and so on. The\n   * initialValue, which is effectively at the end of the list, is a nextCall\n   * function that invokes getBottomInterceptingCall, the result of which\n   * handles (de)serialization and also gets the underlying call from the\n   * channel. */\n  const getCall = interceptors.reduceRight((nextCall, nextInterceptor) => {\n    return currentOptions => nextInterceptor(currentOptions, nextCall);\n  }, finalOptions => getBottomInterceptingCall(channel, finalOptions, methodDefinition));\n  return getCall(interceptorOptions);\n}\nexports.getInterceptingCall = getInterceptingCall;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LWludGVyY2VwdG9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCwyQkFBMkIsR0FBR0Esd0JBQXdCLEdBQUdBLHdCQUF3QixHQUFHQSx1QkFBdUIsR0FBR0EscUNBQXFDLEdBQUcsS0FBSyxDQUFDO0FBQzVKLE1BQU1PLFVBQVUsR0FBR0MsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1DLGdCQUFnQixHQUFHRCxtQkFBTyxDQUFDLHdGQUFrQixDQUFDO0FBQ3BELE1BQU1FLFdBQVcsR0FBR0YsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1HLE9BQU8sR0FBR0gsbUJBQU8sQ0FBQyxzRUFBUyxDQUFDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUYsNkJBQTZCLFNBQVNNLEtBQUssQ0FBQztFQUM5Q0MsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQ2pCLEtBQUssQ0FBQ0EsT0FBTyxDQUFDO0lBQ2QsSUFBSSxDQUFDQyxJQUFJLEdBQUcsK0JBQStCO0lBQzNDSCxLQUFLLENBQUNJLGlCQUFpQixDQUFDLElBQUksRUFBRVYsNkJBQTZCLENBQUM7RUFDaEU7QUFDSjtBQUNBTixxQ0FBcUMsR0FBR00sNkJBQTZCO0FBQ3JFLE1BQU1ELGVBQWUsQ0FBQztFQUNsQlEsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDSSxRQUFRLEdBQUdDLFNBQVM7SUFDekIsSUFBSSxDQUFDSixPQUFPLEdBQUdJLFNBQVM7SUFDeEIsSUFBSSxDQUFDQyxNQUFNLEdBQUdELFNBQVM7RUFDM0I7RUFDQUUscUJBQXFCQSxDQUFDQyxp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cEIseUJBQXlCLENBQUM5QixPQUFPLEVBQUVrRCxZQUFZLEVBQUVwQyxnQkFBZ0IsQ0FBQyxDQUFDO0VBQ3hGLE9BQU9mLE9BQU8sQ0FBQzZDLGtCQUFrQixDQUFDO0FBQ3RDO0FBQ0FsSCwyQkFBMkIsR0FBR0UsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jbGllbnQtaW50ZXJjZXB0b3JzLmpzPzEzMGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0SW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuSW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuUmVxdWVzdGVyQnVpbGRlciA9IGV4cG9ydHMuTGlzdGVuZXJCdWlsZGVyID0gZXhwb3J0cy5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciA9IHZvaWQgMDtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGNhbGxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9jYWxsLWludGVyZmFjZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuLyoqXG4gKiBFcnJvciBjbGFzcyBhc3NvY2lhdGVkIHdpdGggcGFzc2luZyBib3RoIGludGVyY2VwdG9ycyBhbmQgaW50ZXJjZXB0b3JcbiAqIHByb3ZpZGVycyB0byBhIGNsaWVudCBjb25zdHJ1Y3RvciBvciBhcyBjYWxsIG9wdGlvbnMuXG4gKi9cbmNsYXNzIEludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcic7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yKTtcbiAgICB9XG59XG5leHBvcnRzLkludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yID0gSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3I7XG5jbGFzcyBMaXN0ZW5lckJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB3aXRoT25SZWNlaXZlTWV0YWRhdGEob25SZWNlaXZlTWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG9uUmVjZWl2ZU1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aE9uUmVjZWl2ZU1lc3NhZ2Uob25SZWNlaXZlTWVzc2FnZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBvblJlY2VpdmVNZXNzYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aE9uUmVjZWl2ZVN0YXR1cyhvblJlY2VpdmVTdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBvblJlY2VpdmVTdGF0dXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBidWlsZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLkxpc3RlbmVyQnVpbGRlciA9IExpc3RlbmVyQnVpbGRlcjtcbmNsYXNzIFJlcXVlc3RlckJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFsZkNsb3NlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNhbmNlbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgd2l0aFN0YXJ0KHN0YXJ0KSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhTZW5kTWVzc2FnZShzZW5kTWVzc2FnZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhIYWxmQ2xvc2UoaGFsZkNsb3NlKSB7XG4gICAgICAgIHRoaXMuaGFsZkNsb3NlID0gaGFsZkNsb3NlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aENhbmNlbChjYW5jZWwpIHtcbiAgICAgICAgdGhpcy5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBidWlsZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgICAgICAgICAgc2VuZE1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIGhhbGZDbG9zZTogdGhpcy5oYWxmQ2xvc2UsXG4gICAgICAgICAgICBjYW5jZWw6IHRoaXMuY2FuY2VsLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuUmVxdWVzdGVyQnVpbGRlciA9IFJlcXVlc3RlckJ1aWxkZXI7XG4vKipcbiAqIEEgTGlzdGVuZXIgd2l0aCBhIGRlZmF1bHQgcGFzcy10aHJvdWdoIGltcGxlbWVudGF0aW9uIG9mIGVhY2ggbWV0aG9kLiBVc2VkXG4gKiBmb3IgZmlsbGluZyBvdXQgTGlzdGVuZXJzIHdpdGggc29tZSBtZXRob2RzIG9taXR0ZWQuXG4gKi9cbmNvbnN0IGRlZmF1bHRMaXN0ZW5lciA9IHtcbiAgICBvblJlY2VpdmVNZXRhZGF0YTogKG1ldGFkYXRhLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWV0YWRhdGEpO1xuICAgIH0sXG4gICAgb25SZWNlaXZlTWVzc2FnZTogKG1lc3NhZ2UsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChtZXNzYWdlKTtcbiAgICB9LFxuICAgIG9uUmVjZWl2ZVN0YXR1czogKHN0YXR1cywgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KHN0YXR1cyk7XG4gICAgfSxcbn07XG4vKipcbiAqIEEgUmVxdWVzdGVyIHdpdGggYSBkZWZhdWx0IHBhc3MtdGhyb3VnaCBpbXBsZW1lbnRhdGlvbiBvZiBlYWNoIG1ldGhvZC4gVXNlZFxuICogZm9yIGZpbGxpbmcgb3V0IFJlcXVlc3RlcnMgd2l0aCBzb21lIG1ldGhvZHMgb21pdHRlZC5cbiAqL1xuY29uc3QgZGVmYXVsdFJlcXVlc3RlciA9IHtcbiAgICBzdGFydDogKG1ldGFkYXRhLCBsaXN0ZW5lciwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1ldGFkYXRhLCBsaXN0ZW5lcik7XG4gICAgfSxcbiAgICBzZW5kTWVzc2FnZTogKG1lc3NhZ2UsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChtZXNzYWdlKTtcbiAgICB9LFxuICAgIGhhbGZDbG9zZTogbmV4dCA9PiB7XG4gICAgICAgIG5leHQoKTtcbiAgICB9LFxuICAgIGNhbmNlbDogbmV4dCA9PiB7XG4gICAgICAgIG5leHQoKTtcbiAgICB9LFxufTtcbmNsYXNzIEludGVyY2VwdGluZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKG5leHRDYWxsLCByZXF1ZXN0ZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICB0aGlzLm5leHRDYWxsID0gbmV4dENhbGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCBtZXRhZGF0YSBoYXMgYmVlbiBwYXNzZWQgdG8gdGhlIHJlcXVlc3RlcidzIHN0YXJ0XG4gICAgICAgICAqIG1ldGhvZCBidXQgaXQgaGFzIG5vdCBiZWVuIHBhc3NlZCB0byB0aGUgY29ycmVzcG9uZGluZyBuZXh0IGNhbGxiYWNrXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWVzc2FnZSBjb250ZXh0IGZvciBhIHBlbmRpbmcgbWVzc2FnZSB0aGF0IGlzIHdhaXRpbmcgZm9yXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlQ29udGV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCBhIG1lc3NhZ2UgaGFzIGJlZW4gcGFzc2VkIHRvIHRoZSByZXF1ZXN0ZXIncyBzZW5kTWVzc2FnZVxuICAgICAgICAgKiBtZXRob2QgYnV0IGl0IGhhcyBub3QgYmVlbiBwYXNzZWQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgbmV4dCBjYWxsYmFja1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgYSBzdGF0dXMgd2FzIHJlY2VpdmVkIGJ1dCBjb3VsZCBub3QgYmUgcHJvcGFnYXRlZCBiZWNhdXNlXG4gICAgICAgICAqIGEgbWVzc2FnZSB3YXMgc3RpbGwgYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gZmFsc2U7XG4gICAgICAgIGlmIChyZXF1ZXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdGVyID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiAoX2EgPSByZXF1ZXN0ZXIuc3RhcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRSZXF1ZXN0ZXIuc3RhcnQsXG4gICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2U6IChfYiA9IHJlcXVlc3Rlci5zZW5kTWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdFJlcXVlc3Rlci5zZW5kTWVzc2FnZSxcbiAgICAgICAgICAgICAgICBoYWxmQ2xvc2U6IChfYyA9IHJlcXVlc3Rlci5oYWxmQ2xvc2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRSZXF1ZXN0ZXIuaGFsZkNsb3NlLFxuICAgICAgICAgICAgICAgIGNhbmNlbDogKF9kID0gcmVxdWVzdGVyLmNhbmNlbCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZGVmYXVsdFJlcXVlc3Rlci5jYW5jZWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZXIgPSBkZWZhdWx0UmVxdWVzdGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdGVyLmNhbmNlbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRDYWxsLmdldFBlZXIoKTtcbiAgICB9XG4gICAgcHJvY2Vzc1BlbmRpbmdNZXNzYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh0aGlzLnBlbmRpbmdNZXNzYWdlQ29udGV4dCwgdGhpcy5wZW5kaW5nTWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlQ29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUGVuZGluZ0hhbGZDbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydChtZXRhZGF0YSwgaW50ZXJjZXB0aW5nTGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIGNvbnN0IGZ1bGxJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiAoX2IgPSAoX2EgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKGludGVyY2VwdGluZ0xpc3RlbmVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKG1ldGFkYXRhID0+IHsgfSksXG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiAoX2QgPSAoX2MgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJpbmQoaW50ZXJjZXB0aW5nTGlzdGVuZXIpKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAobWVzc2FnZSA9PiB7IH0pLFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiAoX2YgPSAoX2UgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuYmluZChpbnRlcmNlcHRpbmdMaXN0ZW5lcikpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IChzdGF0dXMgPT4geyB9KSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlcXVlc3Rlci5zdGFydChtZXRhZGF0YSwgZnVsbEludGVyY2VwdGluZ0xpc3RlbmVyLCAobWQsIGxpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lcjtcbiAgICAgICAgICAgIGlmICgoMCwgY2FsbF9pbnRlcmZhY2VfMS5pc0ludGVyY2VwdGluZ0xpc3RlbmVyKShsaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICBmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsTGlzdGVuZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiAoX2EgPSBsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdExpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiAoX2IgPSBsaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkZWZhdWx0TGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiAoX2MgPSBsaXN0ZW5lci5vblJlY2VpdmVTdGF0dXMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRMaXN0ZW5lci5vblJlY2VpdmVTdGF0dXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyID0gbmV3IGNhbGxfaW50ZXJmYWNlXzEuSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsKGZ1bGxMaXN0ZW5lciwgZnVsbEludGVyY2VwdGluZ0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuc3RhcnQobWQsIGZpbmFsSW50ZXJjZXB0aW5nTGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlcXVlc3Rlci5zZW5kTWVzc2FnZShtZXNzYWdlLCBmaW5hbE1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIGZpbmFsTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ0hhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh7fSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIHN0YXJ0UmVhZCgpIHtcbiAgICAgICAgdGhpcy5uZXh0Q2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgaGFsZkNsb3NlKCkge1xuICAgICAgICB0aGlzLnJlcXVlc3Rlci5oYWxmQ2xvc2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhIHx8IHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5JbnRlcmNlcHRpbmdDYWxsID0gSW50ZXJjZXB0aW5nQ2FsbDtcbmZ1bmN0aW9uIGdldENhbGwoY2hhbm5lbCwgcGF0aCwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgZGVhZGxpbmUgPSAoX2EgPSBvcHRpb25zLmRlYWRsaW5lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBJbmZpbml0eTtcbiAgICBjb25zdCBob3N0ID0gb3B0aW9ucy5ob3N0O1xuICAgIGNvbnN0IHBhcmVudCA9IChfYiA9IG9wdGlvbnMucGFyZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIGNvbnN0IHByb3BhZ2F0ZUZsYWdzID0gb3B0aW9ucy5wcm9wYWdhdGVfZmxhZ3M7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzO1xuICAgIGNvbnN0IGNhbGwgPSBjaGFubmVsLmNyZWF0ZUNhbGwocGF0aCwgZGVhZGxpbmUsIGhvc3QsIHBhcmVudCwgcHJvcGFnYXRlRmxhZ3MpO1xuICAgIGlmIChjcmVkZW50aWFscykge1xuICAgICAgICBjYWxsLnNldENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGw7XG59XG4vKipcbiAqIEludGVyY2VwdGluZ0NhbGwgaW1wbGVtZW50YXRpb24gdGhhdCBkaXJlY3RseSBvd25zIHRoZSB1bmRlcmx5aW5nIENhbGxcbiAqIG9iamVjdCBhbmQgaGFuZGxlcyBzZXJpYWxpemF0aW9uIGFuZCBkZXNlcmFpemxpYXRpb24uXG4gKi9cbmNsYXNzIEJhc2VJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIG1ldGhvZERlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRob2REZWZpbml0aW9uID0gbWV0aG9kRGVmaW5pdGlvbjtcbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgdGhpcy5jYWxsLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIGxldCBzZXJpYWxpemVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2VyaWFsaXplZCA9IHRoaXMubWV0aG9kRGVmaW5pdGlvbi5yZXF1ZXN0U2VyaWFsaXplKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGwuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsIGBSZXF1ZXN0IG1lc3NhZ2Ugc2VyaWFsaXphdGlvbiBmYWlsdXJlOiAkeygwLCBlcnJvcl8xLmdldEVycm9yTWVzc2FnZSkoZSl9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgc2VyaWFsaXplZCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe30sIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBzdGFydChtZXRhZGF0YSwgaW50ZXJjZXB0aW5nTGlzdGVuZXIpIHtcbiAgICAgICAgbGV0IHJlYWRFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FsbC5zdGFydChtZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChpbnRlcmNlcHRpbmdMaXN0ZW5lciwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIGxldCBkZXNlcmlhbGl6ZWQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemVkID0gdGhpcy5tZXRob2REZWZpbml0aW9uLnJlc3BvbnNlRGVzZXJpYWxpemUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRFcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZXNwb25zZSBtZXNzYWdlIHBhcnNpbmcgZXJyb3I6ICR7KDAsIGVycm9yXzEuZ2V0RXJyb3JNZXNzYWdlKShlKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbC5jYW5jZWxXaXRoU3RhdHVzKHJlYWRFcnJvci5jb2RlLCByZWFkRXJyb3IuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGludGVyY2VwdGluZ0xpc3RlbmVyLCBkZXNlcmlhbGl6ZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogc3RhdHVzID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaW50ZXJjZXB0aW5nTGlzdGVuZXIsIHJlYWRFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChpbnRlcmNlcHRpbmdMaXN0ZW5lciwgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0aGlzLmNhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jYWxsLmhhbGZDbG9zZSgpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZUludGVyY2VwdGluZ0NhbGwgd2l0aCBzcGVjaWFsLWNhc2VkIGJlaGF2aW9yIGZvciBtZXRob2RzIHdpdGggdW5hcnlcbiAqIHJlc3BvbnNlcy5cbiAqL1xuY2xhc3MgQmFzZVVuYXJ5SW50ZXJjZXB0aW5nQ2FsbCBleHRlbmRzIEJhc2VJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0cnVjdG9yKGNhbGwsIG1ldGhvZERlZmluaXRpb24pIHtcbiAgICAgICAgc3VwZXIoY2FsbCwgbWV0aG9kRGVmaW5pdGlvbik7XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgcmVjZWl2ZWRNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHdyYXBwZXJMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiAoX2IgPSAoX2EgPSBsaXN0ZW5lciA9PT0gbnVsbCB8fCBsaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKGxpc3RlbmVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKG1ldGFkYXRhID0+IHsgfSksXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoX2EgPSBsaXN0ZW5lciA9PT0gbnVsbCB8fCBsaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwobGlzdGVuZXIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWNlaXZlZE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gbGlzdGVuZXIgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGxpc3RlbmVyLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gbGlzdGVuZXIgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwobGlzdGVuZXIsIHN0YXR1cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBzdXBlci5zdGFydChtZXRhZGF0YSwgd3JhcHBlckxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5jYWxsLnN0YXJ0UmVhZCgpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZUludGVyY2VwdGluZ0NhbGwgd2l0aCBzcGVjaWFsLWNhc2VkIGJlaGF2aW9yIGZvciBtZXRob2RzIHdpdGggc3RyZWFtaW5nXG4gKiByZXNwb25zZXMuXG4gKi9cbmNsYXNzIEJhc2VTdHJlYW1pbmdJbnRlcmNlcHRpbmdDYWxsIGV4dGVuZHMgQmFzZUludGVyY2VwdGluZ0NhbGwge1xufVxuZnVuY3Rpb24gZ2V0Qm90dG9tSW50ZXJjZXB0aW5nQ2FsbChjaGFubmVsLCBvcHRpb25zLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5tZXRob2REZWZpbml0aW9uKSB7XG4gICAgY29uc3QgY2FsbCA9IGdldENhbGwoY2hhbm5lbCwgbWV0aG9kRGVmaW5pdGlvbi5wYXRoLCBvcHRpb25zKTtcbiAgICBpZiAobWV0aG9kRGVmaW5pdGlvbi5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VTdHJlYW1pbmdJbnRlcmNlcHRpbmdDYWxsKGNhbGwsIG1ldGhvZERlZmluaXRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXNlVW5hcnlJbnRlcmNlcHRpbmdDYWxsKGNhbGwsIG1ldGhvZERlZmluaXRpb24pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEludGVyY2VwdGluZ0NhbGwoaW50ZXJjZXB0b3JBcmdzLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5tZXRob2REZWZpbml0aW9uLCBvcHRpb25zLCBjaGFubmVsKSB7XG4gICAgaWYgKGludGVyY2VwdG9yQXJncy5jbGllbnRJbnRlcmNlcHRvcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICBpbnRlcmNlcHRvckFyZ3MuY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IoJ0JvdGggaW50ZXJjZXB0b3JzIGFuZCBpbnRlcmNlcHRvcl9wcm92aWRlcnMgd2VyZSBwYXNzZWQgYXMgb3B0aW9ucyAnICtcbiAgICAgICAgICAgICd0byB0aGUgY2xpZW50IGNvbnN0cnVjdG9yLiBPbmx5IG9uZSBvZiB0aGVzZSBpcyBhbGxvd2VkLicpO1xuICAgIH1cbiAgICBpZiAoaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICBpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yKCdCb3RoIGludGVyY2VwdG9ycyBhbmQgaW50ZXJjZXB0b3JfcHJvdmlkZXJzIHdlcmUgcGFzc2VkIGFzIGNhbGwgJyArXG4gICAgICAgICAgICAnb3B0aW9ucy4gT25seSBvbmUgb2YgdGhlc2UgaXMgYWxsb3dlZC4nKTtcbiAgICB9XG4gICAgbGV0IGludGVyY2VwdG9ycyA9IFtdO1xuICAgIC8vIEludGVyY2VwdG9ycyBwYXNzZWQgdG8gdGhlIGNhbGwgb3ZlcnJpZGUgaW50ZXJjZXB0b3JzIHBhc3NlZCB0byB0aGUgY2xpZW50IGNvbnN0cnVjdG9yXG4gICAgaWYgKGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvclByb3ZpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGludGVyY2VwdG9ycyA9IFtdXG4gICAgICAgICAgICAuY29uY2F0KGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JzLCBpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiBwcm92aWRlcihtZXRob2REZWZpbml0aW9uKSkpXG4gICAgICAgICAgICAuZmlsdGVyKGludGVyY2VwdG9yID0+IGludGVyY2VwdG9yKTtcbiAgICAgICAgLy8gRmlsdGVyIG91dCBmYWxzeSB2YWx1ZXMgd2hlbiBwcm92aWRlcnMgcmV0dXJuIG5vdGhpbmdcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGludGVyY2VwdG9ycyA9IFtdXG4gICAgICAgICAgICAuY29uY2F0KGludGVyY2VwdG9yQXJncy5jbGllbnRJbnRlcmNlcHRvcnMsIGludGVyY2VwdG9yQXJncy5jbGllbnRJbnRlcmNlcHRvclByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4gcHJvdmlkZXIobWV0aG9kRGVmaW5pdGlvbikpKVxuICAgICAgICAgICAgLmZpbHRlcihpbnRlcmNlcHRvciA9PiBpbnRlcmNlcHRvcik7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgZmFsc3kgdmFsdWVzIHdoZW4gcHJvdmlkZXJzIHJldHVybiBub3RoaW5nXG4gICAgfVxuICAgIGNvbnN0IGludGVyY2VwdG9yT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgbWV0aG9kX2RlZmluaXRpb246IG1ldGhvZERlZmluaXRpb24sXG4gICAgfSk7XG4gICAgLyogRm9yIGVhY2ggaW50ZXJjZXB0b3IgaW4gdGhlIGxpc3QsIHRoZSBuZXh0Q2FsbCBmdW5jdGlvbiBwYXNzZWQgdG8gaXQgaXNcbiAgICAgKiBiYXNlZCBvbiB0aGUgbmV4dCBpbnRlcmNlcHRvciBpbiB0aGUgbGlzdCwgdXNpbmcgYSBuZXh0Q2FsbCBmdW5jdGlvblxuICAgICAqIGNvbnN0cnVjdGVkIHdpdGggdGhlIGZvbGxvd2luZyBpbnRlcmNlcHRvciBpbiB0aGUgbGlzdCwgYW5kIHNvIG9uLiBUaGVcbiAgICAgKiBpbml0aWFsVmFsdWUsIHdoaWNoIGlzIGVmZmVjdGl2ZWx5IGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QsIGlzIGEgbmV4dENhbGxcbiAgICAgKiBmdW5jdGlvbiB0aGF0IGludm9rZXMgZ2V0Qm90dG9tSW50ZXJjZXB0aW5nQ2FsbCwgdGhlIHJlc3VsdCBvZiB3aGljaFxuICAgICAqIGhhbmRsZXMgKGRlKXNlcmlhbGl6YXRpb24gYW5kIGFsc28gZ2V0cyB0aGUgdW5kZXJseWluZyBjYWxsIGZyb20gdGhlXG4gICAgICogY2hhbm5lbC4gKi9cbiAgICBjb25zdCBnZXRDYWxsID0gaW50ZXJjZXB0b3JzLnJlZHVjZVJpZ2h0KChuZXh0Q2FsbCwgbmV4dEludGVyY2VwdG9yKSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJyZW50T3B0aW9ucyA9PiBuZXh0SW50ZXJjZXB0b3IoY3VycmVudE9wdGlvbnMsIG5leHRDYWxsKTtcbiAgICB9LCAoZmluYWxPcHRpb25zKSA9PiBnZXRCb3R0b21JbnRlcmNlcHRpbmdDYWxsKGNoYW5uZWwsIGZpbmFsT3B0aW9ucywgbWV0aG9kRGVmaW5pdGlvbikpO1xuICAgIHJldHVybiBnZXRDYWxsKGludGVyY2VwdG9yT3B0aW9ucyk7XG59XG5leHBvcnRzLmdldEludGVyY2VwdGluZ0NhbGwgPSBnZXRJbnRlcmNlcHRpbmdDYWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LWludGVyY2VwdG9ycy5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJnZXRJbnRlcmNlcHRpbmdDYWxsIiwiSW50ZXJjZXB0aW5nQ2FsbCIsIlJlcXVlc3RlckJ1aWxkZXIiLCJMaXN0ZW5lckJ1aWxkZXIiLCJJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciIsIm1ldGFkYXRhXzEiLCJyZXF1aXJlIiwiY2FsbF9pbnRlcmZhY2VfMSIsImNvbnN0YW50c18xIiwiZXJyb3JfMSIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwibmFtZSIsImNhcHR1cmVTdGFja1RyYWNlIiwibWV0YWRhdGEiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJ3aXRoT25SZWNlaXZlTWV0YWRhdGEiLCJvblJlY2VpdmVNZXRhZGF0YSIsIndpdGhPblJlY2VpdmVNZXNzYWdlIiwib25SZWNlaXZlTWVzc2FnZSIsIndpdGhPblJlY2VpdmVTdGF0dXMiLCJvblJlY2VpdmVTdGF0dXMiLCJidWlsZCIsInN0YXJ0IiwiaGFsZkNsb3NlIiwiY2FuY2VsIiwid2l0aFN0YXJ0Iiwid2l0aFNlbmRNZXNzYWdlIiwic2VuZE1lc3NhZ2UiLCJ3aXRoSGFsZkNsb3NlIiwid2l0aENhbmNlbCIsImRlZmF1bHRMaXN0ZW5lciIsIm5leHQiLCJkZWZhdWx0UmVxdWVzdGVyIiwibGlzdGVuZXIiLCJuZXh0Q2FsbCIsInJlcXVlc3RlciIsIl9hIiwiX2IiLCJfYyIsIl9kIiwicHJvY2Vzc2luZ01ldGFkYXRhIiwicGVuZGluZ01lc3NhZ2VDb250ZXh0IiwicHJvY2Vzc2luZ01lc3NhZ2UiLCJwZW5kaW5nSGFsZkNsb3NlIiwiY2FuY2VsV2l0aFN0YXR1cyIsImRldGFpbHMiLCJnZXRQZWVyIiwicHJvY2Vzc1BlbmRpbmdNZXNzYWdlIiwic2VuZE1lc3NhZ2VXaXRoQ29udGV4dCIsInBlbmRpbmdNZXNzYWdlIiwicHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UiLCJpbnRlcmNlcHRpbmdMaXN0ZW5lciIsIl9lIiwiX2YiLCJmdWxsSW50ZXJjZXB0aW5nTGlzdGVuZXIiLCJiaW5kIiwibWQiLCJmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyIiwiaXNJbnRlcmNlcHRpbmdMaXN0ZW5lciIsImZ1bGxMaXN0ZW5lciIsIkludGVyY2VwdGluZ0xpc3RlbmVySW1wbCIsImNvbnRleHQiLCJmaW5hbE1lc3NhZ2UiLCJzdGFydFJlYWQiLCJnZXRDYWxsIiwiY2hhbm5lbCIsInBhdGgiLCJvcHRpb25zIiwiZGVhZGxpbmUiLCJJbmZpbml0eSIsImhvc3QiLCJwYXJlbnQiLCJwcm9wYWdhdGVGbGFncyIsInByb3BhZ2F0ZV9mbGFncyIsImNyZWRlbnRpYWxzIiwiY2FsbCIsImNyZWF0ZUNhbGwiLCJzZXRDcmVkZW50aWFscyIsIkJhc2VJbnRlcmNlcHRpbmdDYWxsIiwibWV0aG9kRGVmaW5pdGlvbiIsInNlcmlhbGl6ZWQiLCJyZXF1ZXN0U2VyaWFsaXplIiwiZSIsIlN0YXR1cyIsIklOVEVSTkFMIiwiZ2V0RXJyb3JNZXNzYWdlIiwicmVhZEVycm9yIiwiZGVzZXJpYWxpemVkIiwicmVzcG9uc2VEZXNlcmlhbGl6ZSIsImNvZGUiLCJNZXRhZGF0YSIsIkJhc2VVbmFyeUludGVyY2VwdGluZ0NhbGwiLCJyZWNlaXZlZE1lc3NhZ2UiLCJ3cmFwcGVyTGlzdGVuZXIiLCJCYXNlU3RyZWFtaW5nSW50ZXJjZXB0aW5nQ2FsbCIsImdldEJvdHRvbUludGVyY2VwdGluZ0NhbGwiLCJyZXNwb25zZVN0cmVhbSIsImludGVyY2VwdG9yQXJncyIsImNsaWVudEludGVyY2VwdG9ycyIsImxlbmd0aCIsImNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzIiwiY2FsbEludGVyY2VwdG9ycyIsImNhbGxJbnRlcmNlcHRvclByb3ZpZGVycyIsImludGVyY2VwdG9ycyIsImNvbmNhdCIsIm1hcCIsInByb3ZpZGVyIiwiZmlsdGVyIiwiaW50ZXJjZXB0b3IiLCJpbnRlcmNlcHRvck9wdGlvbnMiLCJhc3NpZ24iLCJtZXRob2RfZGVmaW5pdGlvbiIsInJlZHVjZVJpZ2h0IiwibmV4dEludGVyY2VwdG9yIiwiY3VycmVudE9wdGlvbnMiLCJmaW5hbE9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/client-interceptors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/client.js":
/*!********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/client.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Client = void 0;\nconst call_1 = __webpack_require__(/*! ./call */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/call.js\");\nconst channel_1 = __webpack_require__(/*! ./channel */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channel.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst client_interceptors_1 = __webpack_require__(/*! ./client-interceptors */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/client-interceptors.js\");\nconst CHANNEL_SYMBOL = Symbol();\nconst INTERCEPTOR_SYMBOL = Symbol();\nconst INTERCEPTOR_PROVIDER_SYMBOL = Symbol();\nconst CALL_INVOCATION_TRANSFORMER_SYMBOL = Symbol();\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nfunction getErrorStackString(error) {\n  return error.stack.split('\\n').slice(1).join('\\n');\n}\n/**\n * A generic gRPC client. Primarily useful as a base class for all generated\n * clients.\n */\nclass Client {\n  constructor(address, credentials, options = {}) {\n    var _a, _b;\n    options = Object.assign({}, options);\n    this[INTERCEPTOR_SYMBOL] = (_a = options.interceptors) !== null && _a !== void 0 ? _a : [];\n    delete options.interceptors;\n    this[INTERCEPTOR_PROVIDER_SYMBOL] = (_b = options.interceptor_providers) !== null && _b !== void 0 ? _b : [];\n    delete options.interceptor_providers;\n    if (this[INTERCEPTOR_SYMBOL].length > 0 && this[INTERCEPTOR_PROVIDER_SYMBOL].length > 0) {\n      throw new Error('Both interceptors and interceptor_providers were passed as options ' + 'to the client constructor. Only one of these is allowed.');\n    }\n    this[CALL_INVOCATION_TRANSFORMER_SYMBOL] = options.callInvocationTransformer;\n    delete options.callInvocationTransformer;\n    if (options.channelOverride) {\n      this[CHANNEL_SYMBOL] = options.channelOverride;\n    } else if (options.channelFactoryOverride) {\n      const channelFactoryOverride = options.channelFactoryOverride;\n      delete options.channelFactoryOverride;\n      this[CHANNEL_SYMBOL] = channelFactoryOverride(address, credentials, options);\n    } else {\n      this[CHANNEL_SYMBOL] = new channel_1.ChannelImplementation(address, credentials, options);\n    }\n  }\n  close() {\n    this[CHANNEL_SYMBOL].close();\n  }\n  getChannel() {\n    return this[CHANNEL_SYMBOL];\n  }\n  waitForReady(deadline, callback) {\n    const checkState = err => {\n      if (err) {\n        callback(new Error('Failed to connect before the deadline'));\n        return;\n      }\n      let newState;\n      try {\n        newState = this[CHANNEL_SYMBOL].getConnectivityState(true);\n      } catch (e) {\n        callback(new Error('The channel has been closed'));\n        return;\n      }\n      if (newState === connectivity_state_1.ConnectivityState.READY) {\n        callback();\n      } else {\n        try {\n          this[CHANNEL_SYMBOL].watchConnectivityState(newState, deadline, checkState);\n        } catch (e) {\n          callback(new Error('The channel has been closed'));\n        }\n      }\n    };\n    setImmediate(checkState);\n  }\n  checkOptionalUnaryResponseArguments(arg1, arg2, arg3) {\n    if (isFunction(arg1)) {\n      return {\n        metadata: new metadata_1.Metadata(),\n        options: {},\n        callback: arg1\n      };\n    } else if (isFunction(arg2)) {\n      if (arg1 instanceof metadata_1.Metadata) {\n        return {\n          metadata: arg1,\n          options: {},\n          callback: arg2\n        };\n      } else {\n        return {\n          metadata: new metadata_1.Metadata(),\n          options: arg1,\n          callback: arg2\n        };\n      }\n    } else {\n      if (!(arg1 instanceof metadata_1.Metadata && arg2 instanceof Object && isFunction(arg3))) {\n        throw new Error('Incorrect arguments passed');\n      }\n      return {\n        metadata: arg1,\n        options: arg2,\n        callback: arg3\n      };\n    }\n  }\n  makeUnaryRequest(method, serialize, deserialize, argument, metadata, options, callback) {\n    var _a, _b;\n    const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n    const methodDefinition = {\n      path: method,\n      requestStream: false,\n      responseStream: false,\n      requestSerialize: serialize,\n      responseDeserialize: deserialize\n    };\n    let callProperties = {\n      argument: argument,\n      metadata: checkedArguments.metadata,\n      call: new call_1.ClientUnaryCallImpl(),\n      channel: this[CHANNEL_SYMBOL],\n      methodDefinition: methodDefinition,\n      callOptions: checkedArguments.options,\n      callback: checkedArguments.callback\n    };\n    if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n      callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n    }\n    const emitter = callProperties.call;\n    const interceptorArgs = {\n      clientInterceptors: this[INTERCEPTOR_SYMBOL],\n      clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n      callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n      callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : []\n    };\n    const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n    /* This needs to happen before the emitter is used. Unfortunately we can't\n     * enforce this with the type system. We need to construct this emitter\n     * before calling the CallInvocationTransformer, and we need to create the\n     * call after that. */\n    emitter.call = call;\n    let responseMessage = null;\n    let receivedStatus = false;\n    let callerStackError = new Error();\n    call.start(callProperties.metadata, {\n      onReceiveMetadata: metadata => {\n        emitter.emit('metadata', metadata);\n      },\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onReceiveMessage(message) {\n        if (responseMessage !== null) {\n          call.cancelWithStatus(constants_1.Status.INTERNAL, 'Too many responses received');\n        }\n        responseMessage = message;\n      },\n      onReceiveStatus(status) {\n        if (receivedStatus) {\n          return;\n        }\n        receivedStatus = true;\n        if (status.code === constants_1.Status.OK) {\n          if (responseMessage === null) {\n            const callerStack = getErrorStackString(callerStackError);\n            callProperties.callback((0, call_1.callErrorFromStatus)({\n              code: constants_1.Status.INTERNAL,\n              details: 'No message received',\n              metadata: status.metadata\n            }, callerStack));\n          } else {\n            callProperties.callback(null, responseMessage);\n          }\n        } else {\n          const callerStack = getErrorStackString(callerStackError);\n          callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n        }\n        /* Avoid retaining the callerStackError object in the call context of\n         * the status event handler. */\n        callerStackError = null;\n        emitter.emit('status', status);\n      }\n    });\n    call.sendMessage(argument);\n    call.halfClose();\n    return emitter;\n  }\n  makeClientStreamRequest(method, serialize, deserialize, metadata, options, callback) {\n    var _a, _b;\n    const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n    const methodDefinition = {\n      path: method,\n      requestStream: true,\n      responseStream: false,\n      requestSerialize: serialize,\n      responseDeserialize: deserialize\n    };\n    let callProperties = {\n      metadata: checkedArguments.metadata,\n      call: new call_1.ClientWritableStreamImpl(serialize),\n      channel: this[CHANNEL_SYMBOL],\n      methodDefinition: methodDefinition,\n      callOptions: checkedArguments.options,\n      callback: checkedArguments.callback\n    };\n    if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n      callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n    }\n    const emitter = callProperties.call;\n    const interceptorArgs = {\n      clientInterceptors: this[INTERCEPTOR_SYMBOL],\n      clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n      callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n      callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : []\n    };\n    const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n    /* This needs to happen before the emitter is used. Unfortunately we can't\n     * enforce this with the type system. We need to construct this emitter\n     * before calling the CallInvocationTransformer, and we need to create the\n     * call after that. */\n    emitter.call = call;\n    let responseMessage = null;\n    let receivedStatus = false;\n    let callerStackError = new Error();\n    call.start(callProperties.metadata, {\n      onReceiveMetadata: metadata => {\n        emitter.emit('metadata', metadata);\n      },\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onReceiveMessage(message) {\n        if (responseMessage !== null) {\n          call.cancelWithStatus(constants_1.Status.INTERNAL, 'Too many responses received');\n        }\n        responseMessage = message;\n      },\n      onReceiveStatus(status) {\n        if (receivedStatus) {\n          return;\n        }\n        receivedStatus = true;\n        if (status.code === constants_1.Status.OK) {\n          if (responseMessage === null) {\n            const callerStack = getErrorStackString(callerStackError);\n            callProperties.callback((0, call_1.callErrorFromStatus)({\n              code: constants_1.Status.INTERNAL,\n              details: 'No message received',\n              metadata: status.metadata\n            }, callerStack));\n          } else {\n            callProperties.callback(null, responseMessage);\n          }\n        } else {\n          const callerStack = getErrorStackString(callerStackError);\n          callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n        }\n        /* Avoid retaining the callerStackError object in the call context of\n         * the status event handler. */\n        callerStackError = null;\n        emitter.emit('status', status);\n      }\n    });\n    return emitter;\n  }\n  checkMetadataAndOptions(arg1, arg2) {\n    let metadata;\n    let options;\n    if (arg1 instanceof metadata_1.Metadata) {\n      metadata = arg1;\n      if (arg2) {\n        options = arg2;\n      } else {\n        options = {};\n      }\n    } else {\n      if (arg1) {\n        options = arg1;\n      } else {\n        options = {};\n      }\n      metadata = new metadata_1.Metadata();\n    }\n    return {\n      metadata,\n      options\n    };\n  }\n  makeServerStreamRequest(method, serialize, deserialize, argument, metadata, options) {\n    var _a, _b;\n    const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n    const methodDefinition = {\n      path: method,\n      requestStream: false,\n      responseStream: true,\n      requestSerialize: serialize,\n      responseDeserialize: deserialize\n    };\n    let callProperties = {\n      argument: argument,\n      metadata: checkedArguments.metadata,\n      call: new call_1.ClientReadableStreamImpl(deserialize),\n      channel: this[CHANNEL_SYMBOL],\n      methodDefinition: methodDefinition,\n      callOptions: checkedArguments.options\n    };\n    if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n      callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n    }\n    const stream = callProperties.call;\n    const interceptorArgs = {\n      clientInterceptors: this[INTERCEPTOR_SYMBOL],\n      clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n      callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n      callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : []\n    };\n    const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n    /* This needs to happen before the emitter is used. Unfortunately we can't\n     * enforce this with the type system. We need to construct this emitter\n     * before calling the CallInvocationTransformer, and we need to create the\n     * call after that. */\n    stream.call = call;\n    let receivedStatus = false;\n    let callerStackError = new Error();\n    call.start(callProperties.metadata, {\n      onReceiveMetadata(metadata) {\n        stream.emit('metadata', metadata);\n      },\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onReceiveMessage(message) {\n        stream.push(message);\n      },\n      onReceiveStatus(status) {\n        if (receivedStatus) {\n          return;\n        }\n        receivedStatus = true;\n        stream.push(null);\n        if (status.code !== constants_1.Status.OK) {\n          const callerStack = getErrorStackString(callerStackError);\n          stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n        }\n        /* Avoid retaining the callerStackError object in the call context of\n         * the status event handler. */\n        callerStackError = null;\n        stream.emit('status', status);\n      }\n    });\n    call.sendMessage(argument);\n    call.halfClose();\n    return stream;\n  }\n  makeBidiStreamRequest(method, serialize, deserialize, metadata, options) {\n    var _a, _b;\n    const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n    const methodDefinition = {\n      path: method,\n      requestStream: true,\n      responseStream: true,\n      requestSerialize: serialize,\n      responseDeserialize: deserialize\n    };\n    let callProperties = {\n      metadata: checkedArguments.metadata,\n      call: new call_1.ClientDuplexStreamImpl(serialize, deserialize),\n      channel: this[CHANNEL_SYMBOL],\n      methodDefinition: methodDefinition,\n      callOptions: checkedArguments.options\n    };\n    if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n      callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n    }\n    const stream = callProperties.call;\n    const interceptorArgs = {\n      clientInterceptors: this[INTERCEPTOR_SYMBOL],\n      clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n      callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n      callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : []\n    };\n    const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n    /* This needs to happen before the emitter is used. Unfortunately we can't\n     * enforce this with the type system. We need to construct this emitter\n     * before calling the CallInvocationTransformer, and we need to create the\n     * call after that. */\n    stream.call = call;\n    let receivedStatus = false;\n    let callerStackError = new Error();\n    call.start(callProperties.metadata, {\n      onReceiveMetadata(metadata) {\n        stream.emit('metadata', metadata);\n      },\n      onReceiveMessage(message) {\n        stream.push(message);\n      },\n      onReceiveStatus(status) {\n        if (receivedStatus) {\n          return;\n        }\n        receivedStatus = true;\n        stream.push(null);\n        if (status.code !== constants_1.Status.OK) {\n          const callerStack = getErrorStackString(callerStackError);\n          stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n        }\n        /* Avoid retaining the callerStackError object in the call context of\n         * the status event handler. */\n        callerStackError = null;\n        stream.emit('status', status);\n      }\n    });\n    return stream;\n  }\n}\nexports.Client = Client;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGNBQWMsR0FBRyxLQUFLLENBQUM7QUFDdkIsTUFBTUcsTUFBTSxHQUFHQyxtQkFBTyxDQUFDLG9FQUFRLENBQUM7QUFDaEMsTUFBTUMsU0FBUyxHQUFHRCxtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDdEMsTUFBTUUsb0JBQW9CLEdBQUdGLG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUcsV0FBVyxHQUFHSCxtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUksVUFBVSxHQUFHSixtQkFBTyxDQUFDLDRFQUFZLENBQUM7QUFDeEMsTUFBTUsscUJBQXFCLEdBQUdMLG1CQUFPLENBQUMsa0dBQXVCLENBQUM7QUFDOUQsTUFBTU0sY0FBYyxHQUFHQyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNQyxrQkFBa0IsR0FBR0QsTUFBTSxDQUFDLENBQUM7QUFDbkMsTUFBTUUsMkJBQTJCLEdBQUdGLE1BQU0sQ0FBQyxDQUFDO0FBQzVDLE1BQU1HLGtDQUFrQyxHQUFHSCxNQUFNLENBQUMsQ0FBQztBQUNuRCxTQUFTSSxVQUFVQSxDQUFDQyxHQUFHLEVBQUU7RUFDckIsT0FBTyxPQUFPQSxHQUFHLEtBQUssVUFBVTtBQUNwQztBQUNBLFNBQVNDLG1CQUFtQkEsQ0FBQ0MsS0FBSyxFQUFFO0VBQ2hDLE9BQU9BLEtBQUssQ0FBQ0MsS0FBSyxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUNDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztBQUN0RDtB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QUMsQ0FBQztJQUNGLE9BQU9hLE1BQU07RUFDakI7QUFDSjtBQUNBM0csY0FBYyxHQUFHRSxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jbGllbnQuanM/ODI2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGllbnQgPSB2b2lkIDA7XG5jb25zdCBjYWxsXzEgPSByZXF1aXJlKFwiLi9jYWxsXCIpO1xuY29uc3QgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vY2hhbm5lbFwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBjbGllbnRfaW50ZXJjZXB0b3JzXzEgPSByZXF1aXJlKFwiLi9jbGllbnQtaW50ZXJjZXB0b3JzXCIpO1xuY29uc3QgQ0hBTk5FTF9TWU1CT0wgPSBTeW1ib2woKTtcbmNvbnN0IElOVEVSQ0VQVE9SX1NZTUJPTCA9IFN5bWJvbCgpO1xuY29uc3QgSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MID0gU3ltYm9sKCk7XG5jb25zdCBDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MID0gU3ltYm9sKCk7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JTdGFja1N0cmluZyhlcnJvcikge1xuICAgIHJldHVybiBlcnJvci5zdGFjay5zcGxpdCgnXFxuJykuc2xpY2UoMSkuam9pbignXFxuJyk7XG59XG4vKipcbiAqIEEgZ2VuZXJpYyBnUlBDIGNsaWVudC4gUHJpbWFyaWx5IHVzZWZ1bCBhcyBhIGJhc2UgY2xhc3MgZm9yIGFsbCBnZW5lcmF0ZWRcbiAqIGNsaWVudHMuXG4gKi9cbmNsYXNzIENsaWVudCB7XG4gICAgY29uc3RydWN0b3IoYWRkcmVzcywgY3JlZGVudGlhbHMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXSA9IChfYSA9IG9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW50ZXJjZXB0b3JzO1xuICAgICAgICB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0gPSAoX2IgPSBvcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW107XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycztcbiAgICAgICAgaWYgKHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIGludGVyY2VwdG9ycyBhbmQgaW50ZXJjZXB0b3JfcHJvdmlkZXJzIHdlcmUgcGFzc2VkIGFzIG9wdGlvbnMgJyArXG4gICAgICAgICAgICAgICAgJ3RvIHRoZSBjbGllbnQgY29uc3RydWN0b3IuIE9ubHkgb25lIG9mIHRoZXNlIGlzIGFsbG93ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXSA9XG4gICAgICAgICAgICBvcHRpb25zLmNhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXI7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmNhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXI7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYW5uZWxPdmVycmlkZSkge1xuICAgICAgICAgICAgdGhpc1tDSEFOTkVMX1NZTUJPTF0gPSBvcHRpb25zLmNoYW5uZWxPdmVycmlkZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmNoYW5uZWxGYWN0b3J5T3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxGYWN0b3J5T3ZlcnJpZGUgPSBvcHRpb25zLmNoYW5uZWxGYWN0b3J5T3ZlcnJpZGU7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jaGFubmVsRmFjdG9yeU92ZXJyaWRlO1xuICAgICAgICAgICAgdGhpc1tDSEFOTkVMX1NZTUJPTF0gPSBjaGFubmVsRmFjdG9yeU92ZXJyaWRlKGFkZHJlc3MsIGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbQ0hBTk5FTF9TWU1CT0xdID0gbmV3IGNoYW5uZWxfMS5DaGFubmVsSW1wbGVtZW50YXRpb24oYWRkcmVzcywgY3JlZGVudGlhbHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzW0NIQU5ORUxfU1lNQk9MXS5jbG9zZSgpO1xuICAgIH1cbiAgICBnZXRDaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tDSEFOTkVMX1NZTUJPTF07XG4gICAgfVxuICAgIHdhaXRGb3JSZWFkeShkZWFkbGluZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2hlY2tTdGF0ZSA9IChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IGJlZm9yZSB0aGUgZGVhZGxpbmUnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5ld1N0YXRlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLmdldENvbm5lY3Rpdml0eVN0YXRlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1RoZSBjaGFubmVsIGhhcyBiZWVuIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbQ0hBTk5FTF9TWU1CT0xdLndhdGNoQ29ubmVjdGl2aXR5U3RhdGUobmV3U3RhdGUsIGRlYWRsaW5lLCBjaGVja1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgY2hhbm5lbCBoYXMgYmVlbiBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRJbW1lZGlhdGUoY2hlY2tTdGF0ZSk7XG4gICAgfVxuICAgIGNoZWNrT3B0aW9uYWxVbmFyeVJlc3BvbnNlQXJndW1lbnRzKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oYXJnMSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLCBvcHRpb25zOiB7fSwgY2FsbGJhY2s6IGFyZzEgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGFyZzIpKSB7XG4gICAgICAgICAgICBpZiAoYXJnMSBpbnN0YW5jZW9mIG1ldGFkYXRhXzEuTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXRhZGF0YTogYXJnMSwgb3B0aW9uczoge30sIGNhbGxiYWNrOiBhcmcyIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSwgb3B0aW9uczogYXJnMSwgY2FsbGJhY2s6IGFyZzIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghKGFyZzEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLk1ldGFkYXRhICYmXG4gICAgICAgICAgICAgICAgYXJnMiBpbnN0YW5jZW9mIE9iamVjdCAmJlxuICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oYXJnMykpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgYXJndW1lbnRzIHBhc3NlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGE6IGFyZzEsIG9wdGlvbnM6IGFyZzIsIGNhbGxiYWNrOiBhcmczIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFrZVVuYXJ5UmVxdWVzdChtZXRob2QsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIGFyZ3VtZW50LCBtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hlY2tlZEFyZ3VtZW50cyA9IHRoaXMuY2hlY2tPcHRpb25hbFVuYXJ5UmVzcG9uc2VBcmd1bWVudHMobWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgY29uc3QgbWV0aG9kRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIHBhdGg6IG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgcmVxdWVzdFNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcmVzcG9uc2VEZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYWxsUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIGFyZ3VtZW50OiBhcmd1bWVudCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjaGVja2VkQXJndW1lbnRzLm1ldGFkYXRhLFxuICAgICAgICAgICAgY2FsbDogbmV3IGNhbGxfMS5DbGllbnRVbmFyeUNhbGxJbXBsKCksXG4gICAgICAgICAgICBjaGFubmVsOiB0aGlzW0NIQU5ORUxfU1lNQk9MXSxcbiAgICAgICAgICAgIG1ldGhvZERlZmluaXRpb246IG1ldGhvZERlZmluaXRpb24sXG4gICAgICAgICAgICBjYWxsT3B0aW9uczogY2hlY2tlZEFyZ3VtZW50cy5vcHRpb25zLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGNoZWNrZWRBcmd1bWVudHMuY2FsbGJhY2ssXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKSB7XG4gICAgICAgICAgICBjYWxsUHJvcGVydGllcyA9IHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0oY2FsbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjYWxsUHJvcGVydGllcy5jYWxsO1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRvckFyZ3MgPSB7XG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvcnM6IHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXSxcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzOiB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JzOiAoX2EgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzOiAoX2IgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcl9wcm92aWRlcnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsID0gKDAsIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5nZXRJbnRlcmNlcHRpbmdDYWxsKShpbnRlcmNlcHRvckFyZ3MsIGNhbGxQcm9wZXJ0aWVzLm1ldGhvZERlZmluaXRpb24sIGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLCBjYWxsUHJvcGVydGllcy5jaGFubmVsKTtcbiAgICAgICAgLyogVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHRoZSBlbWl0dGVyIGlzIHVzZWQuIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3RcbiAgICAgICAgICogZW5mb3JjZSB0aGlzIHdpdGggdGhlIHR5cGUgc3lzdGVtLiBXZSBuZWVkIHRvIGNvbnN0cnVjdCB0aGlzIGVtaXR0ZXJcbiAgICAgICAgICogYmVmb3JlIGNhbGxpbmcgdGhlIENhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXIsIGFuZCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgICogY2FsbCBhZnRlciB0aGF0LiAqL1xuICAgICAgICBlbWl0dGVyLmNhbGwgPSBjYWxsO1xuICAgICAgICBsZXQgcmVzcG9uc2VNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgbGV0IHJlY2VpdmVkU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIGxldCBjYWxsZXJTdGFja0Vycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGNhbGwuc3RhcnQoY2FsbFByb3BlcnRpZXMubWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdtZXRhZGF0YScsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlTWVzc2FnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLCAnVG9vIG1hbnkgcmVzcG9uc2VzIHJlY2VpdmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY2VpdmVkU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjaygoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ05vIG1lc3NhZ2UgcmVjZWl2ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzdGF0dXMubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMuY2FsbGJhY2sobnVsbCwgcmVzcG9uc2VNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGVyU3RhY2sgPSBnZXRFcnJvclN0YWNrU3RyaW5nKGNhbGxlclN0YWNrRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjaygoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHN0YXR1cywgY2FsbGVyU3RhY2spKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQXZvaWQgcmV0YWluaW5nIHRoZSBjYWxsZXJTdGFja0Vycm9yIG9iamVjdCBpbiB0aGUgY2FsbCBjb250ZXh0IG9mXG4gICAgICAgICAgICAgICAgICogdGhlIHN0YXR1cyBldmVudCBoYW5kbGVyLiAqL1xuICAgICAgICAgICAgICAgIGNhbGxlclN0YWNrRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsLnNlbmRNZXNzYWdlKGFyZ3VtZW50KTtcbiAgICAgICAgY2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIGVtaXR0ZXI7XG4gICAgfVxuICAgIG1ha2VDbGllbnRTdHJlYW1SZXF1ZXN0KG1ldGhvZCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgbWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGNoZWNrZWRBcmd1bWVudHMgPSB0aGlzLmNoZWNrT3B0aW9uYWxVbmFyeVJlc3BvbnNlQXJndW1lbnRzKG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgIGNvbnN0IG1ldGhvZERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICBwYXRoOiBtZXRob2QsXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgcmVxdWVzdFNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcmVzcG9uc2VEZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYWxsUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjaGVja2VkQXJndW1lbnRzLm1ldGFkYXRhLFxuICAgICAgICAgICAgY2FsbDogbmV3IGNhbGxfMS5DbGllbnRXcml0YWJsZVN0cmVhbUltcGwoc2VyaWFsaXplKSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLFxuICAgICAgICAgICAgbWV0aG9kRGVmaW5pdGlvbjogbWV0aG9kRGVmaW5pdGlvbixcbiAgICAgICAgICAgIGNhbGxPcHRpb25zOiBjaGVja2VkQXJndW1lbnRzLm9wdGlvbnMsXG4gICAgICAgICAgICBjYWxsYmFjazogY2hlY2tlZEFyZ3VtZW50cy5jYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0pIHtcbiAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzID0gdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXShjYWxsUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNhbGxQcm9wZXJ0aWVzLmNhbGw7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yQXJncyA9IHtcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yczogdGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnM6IHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvcnM6IChfYSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JQcm92aWRlcnM6IChfYiA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgY2xpZW50X2ludGVyY2VwdG9yc18xLmdldEludGVyY2VwdGluZ0NhbGwpKGludGVyY2VwdG9yQXJncywgY2FsbFByb3BlcnRpZXMubWV0aG9kRGVmaW5pdGlvbiwgY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMsIGNhbGxQcm9wZXJ0aWVzLmNoYW5uZWwpO1xuICAgICAgICAvKiBUaGlzIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgdGhlIGVtaXR0ZXIgaXMgdXNlZC4gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndFxuICAgICAgICAgKiBlbmZvcmNlIHRoaXMgd2l0aCB0aGUgdHlwZSBzeXN0ZW0uIFdlIG5lZWQgdG8gY29uc3RydWN0IHRoaXMgZW1pdHRlclxuICAgICAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGUgQ2FsbEludm9jYXRpb25UcmFuc2Zvcm1lciwgYW5kIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgKiBjYWxsIGFmdGVyIHRoYXQuICovXG4gICAgICAgIGVtaXR0ZXIuY2FsbCA9IGNhbGw7XG4gICAgICAgIGxldCByZXNwb25zZU1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBsZXQgcmVjZWl2ZWRTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNhbGxlclN0YWNrRXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgY2FsbC5zdGFydChjYWxsUHJvcGVydGllcy5tZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ21ldGFkYXRhJywgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VNZXNzYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsICdUb28gbWFueSByZXNwb25zZXMgcmVjZWl2ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKCgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnTm8gbWVzc2FnZSByZWNlaXZlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHN0YXR1cy5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjayhudWxsLCByZXNwb25zZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKCgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoc3RhdHVzLCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBBdm9pZCByZXRhaW5pbmcgdGhlIGNhbGxlclN0YWNrRXJyb3Igb2JqZWN0IGluIHRoZSBjYWxsIGNvbnRleHQgb2ZcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3RhdHVzIGV2ZW50IGhhbmRsZXIuICovXG4gICAgICAgICAgICAgICAgY2FsbGVyU3RhY2tFcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdzdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlbWl0dGVyO1xuICAgIH1cbiAgICBjaGVja01ldGFkYXRhQW5kT3B0aW9ucyhhcmcxLCBhcmcyKSB7XG4gICAgICAgIGxldCBtZXRhZGF0YTtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgbWV0YWRhdGFfMS5NZXRhZGF0YSkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBhcmcxO1xuICAgICAgICAgICAgaWYgKGFyZzIpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJnMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGEsIG9wdGlvbnMgfTtcbiAgICB9XG4gICAgbWFrZVNlcnZlclN0cmVhbVJlcXVlc3QobWV0aG9kLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplLCBhcmd1bWVudCwgbWV0YWRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hlY2tlZEFyZ3VtZW50cyA9IHRoaXMuY2hlY2tNZXRhZGF0YUFuZE9wdGlvbnMobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgcGF0aDogbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICByZXNwb25zZVN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICAgIHJlcXVlc3RTZXJpYWxpemU6IHNlcmlhbGl6ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgY2FsbFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBhcmd1bWVudDogYXJndW1lbnQsXG4gICAgICAgICAgICBtZXRhZGF0YTogY2hlY2tlZEFyZ3VtZW50cy5tZXRhZGF0YSxcbiAgICAgICAgICAgIGNhbGw6IG5ldyBjYWxsXzEuQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsKGRlc2VyaWFsaXplKSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLFxuICAgICAgICAgICAgbWV0aG9kRGVmaW5pdGlvbjogbWV0aG9kRGVmaW5pdGlvbixcbiAgICAgICAgICAgIGNhbGxPcHRpb25zOiBjaGVja2VkQXJndW1lbnRzLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKSB7XG4gICAgICAgICAgICBjYWxsUHJvcGVydGllcyA9IHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0oY2FsbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGw7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yQXJncyA9IHtcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yczogdGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnM6IHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvcnM6IChfYSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JQcm92aWRlcnM6IChfYiA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgY2xpZW50X2ludGVyY2VwdG9yc18xLmdldEludGVyY2VwdGluZ0NhbGwpKGludGVyY2VwdG9yQXJncywgY2FsbFByb3BlcnRpZXMubWV0aG9kRGVmaW5pdGlvbiwgY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMsIGNhbGxQcm9wZXJ0aWVzLmNoYW5uZWwpO1xuICAgICAgICAvKiBUaGlzIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgdGhlIGVtaXR0ZXIgaXMgdXNlZC4gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndFxuICAgICAgICAgKiBlbmZvcmNlIHRoaXMgd2l0aCB0aGUgdHlwZSBzeXN0ZW0uIFdlIG5lZWQgdG8gY29uc3RydWN0IHRoaXMgZW1pdHRlclxuICAgICAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGUgQ2FsbEludm9jYXRpb25UcmFuc2Zvcm1lciwgYW5kIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgKiBjYWxsIGFmdGVyIHRoYXQuICovXG4gICAgICAgIHN0cmVhbS5jYWxsID0gY2FsbDtcbiAgICAgICAgbGV0IHJlY2VpdmVkU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIGxldCBjYWxsZXJTdGFja0Vycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGNhbGwuc3RhcnQoY2FsbFByb3BlcnRpZXMubWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ21ldGFkYXRhJywgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgKDAsIGNhbGxfMS5jYWxsRXJyb3JGcm9tU3RhdHVzKShzdGF0dXMsIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEF2b2lkIHJldGFpbmluZyB0aGUgY2FsbGVyU3RhY2tFcnJvciBvYmplY3QgaW4gdGhlIGNhbGwgY29udGV4dCBvZlxuICAgICAgICAgICAgICAgICAqIHRoZSBzdGF0dXMgZXZlbnQgaGFuZGxlci4gKi9cbiAgICAgICAgICAgICAgICBjYWxsZXJTdGFja0Vycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsLnNlbmRNZXNzYWdlKGFyZ3VtZW50KTtcbiAgICAgICAgY2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG4gICAgbWFrZUJpZGlTdHJlYW1SZXF1ZXN0KG1ldGhvZCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgbWV0YWRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hlY2tlZEFyZ3VtZW50cyA9IHRoaXMuY2hlY2tNZXRhZGF0YUFuZE9wdGlvbnMobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgcGF0aDogbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgcmVxdWVzdFNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcmVzcG9uc2VEZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYWxsUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjaGVja2VkQXJndW1lbnRzLm1ldGFkYXRhLFxuICAgICAgICAgICAgY2FsbDogbmV3IGNhbGxfMS5DbGllbnREdXBsZXhTdHJlYW1JbXBsKHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpLFxuICAgICAgICAgICAgY2hhbm5lbDogdGhpc1tDSEFOTkVMX1NZTUJPTF0sXG4gICAgICAgICAgICBtZXRob2REZWZpbml0aW9uOiBtZXRob2REZWZpbml0aW9uLFxuICAgICAgICAgICAgY2FsbE9wdGlvbnM6IGNoZWNrZWRBcmd1bWVudHMub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0pIHtcbiAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzID0gdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXShjYWxsUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gY2FsbFByb3BlcnRpZXMuY2FsbDtcbiAgICAgICAgY29uc3QgaW50ZXJjZXB0b3JBcmdzID0ge1xuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JzOiB0aGlzW0lOVEVSQ0VQVE9SX1NZTUJPTF0sXG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvclByb3ZpZGVyczogdGhpc1tJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yczogKF9hID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvclByb3ZpZGVyczogKF9iID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JfcHJvdmlkZXJzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2FsbCA9ICgwLCBjbGllbnRfaW50ZXJjZXB0b3JzXzEuZ2V0SW50ZXJjZXB0aW5nQ2FsbCkoaW50ZXJjZXB0b3JBcmdzLCBjYWxsUHJvcGVydGllcy5tZXRob2REZWZpbml0aW9uLCBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucywgY2FsbFByb3BlcnRpZXMuY2hhbm5lbCk7XG4gICAgICAgIC8qIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB0aGUgZW1pdHRlciBpcyB1c2VkLiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0XG4gICAgICAgICAqIGVuZm9yY2UgdGhpcyB3aXRoIHRoZSB0eXBlIHN5c3RlbS4gV2UgbmVlZCB0byBjb25zdHJ1Y3QgdGhpcyBlbWl0dGVyXG4gICAgICAgICAqIGJlZm9yZSBjYWxsaW5nIHRoZSBDYWxsSW52b2NhdGlvblRyYW5zZm9ybWVyLCBhbmQgd2UgbmVlZCB0byBjcmVhdGUgdGhlXG4gICAgICAgICAqIGNhbGwgYWZ0ZXIgdGhhdC4gKi9cbiAgICAgICAgc3RyZWFtLmNhbGwgPSBjYWxsO1xuICAgICAgICBsZXQgcmVjZWl2ZWRTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNhbGxlclN0YWNrRXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgY2FsbC5zdGFydChjYWxsUHJvcGVydGllcy5tZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnbWV0YWRhdGEnLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY2VpdmVkU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgIT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsICgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoc3RhdHVzLCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBBdm9pZCByZXRhaW5pbmcgdGhlIGNhbGxlclN0YWNrRXJyb3Igb2JqZWN0IGluIHRoZSBjYWxsIGNvbnRleHQgb2ZcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3RhdHVzIGV2ZW50IGhhbmRsZXIuICovXG4gICAgICAgICAgICAgICAgY2FsbGVyU3RhY2tFcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ3N0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudCA9IENsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJDbGllbnQiLCJjYWxsXzEiLCJyZXF1aXJlIiwiY2hhbm5lbF8xIiwiY29ubmVjdGl2aXR5X3N0YXRlXzEiLCJjb25zdGFudHNfMSIsIm1ldGFkYXRhXzEiLCJjbGllbnRfaW50ZXJjZXB0b3JzXzEiLCJDSEFOTkVMX1NZTUJPTCIsIlN5bWJvbCIsIklOVEVSQ0VQVE9SX1NZTUJPTCIsIklOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTCIsIkNBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0wiLCJpc0Z1bmN0aW9uIiwiYXJnIiwiZ2V0RXJyb3JTdGFja1N0cmluZyIsImVycm9yIiwic3RhY2siLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsImNvbnN0cnVjdG9yIiwiYWRkcmVzcyIsImNyZWRlbnRpYWxzIiwib3B0aW9ucyIsIl9hIiwiX2IiLCJhc3NpZ24iLCJpbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvcl9wcm92aWRlcnMiLCJsZW5ndGgiLCJFcnJvciIsImNhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXIiLCJjaGFubmVsT3ZlcnJpZGUiLCJjaGFubmVsRmFjdG9yeU92ZXJyaWRlIiwiQ2hhbm5lbEltcGxlbWVudGF0aW9uIiwiY2xvc2UiLCJnZXRDaGFubmVsIiwid2FpdEZvclJlYWR5IiwiZGVhZGxpbmUiLCJjYWxsYmFjayIsImNoZWNrU3RhdGUiLCJlcnIiLCJuZXdTdGF0ZSIsImdldENvbm5lY3Rpdml0eVN0YXRlIiwiZSIsIkNvbm5lY3Rpdml0eVN0YXRlIiwiUkVBRFkiLCJ3YXRjaENvbm5lY3Rpdml0eVN0YXRlIiwic2V0SW1tZWRpYXRlIiwiY2hlY2tPcHRpb25hbFVuYXJ5UmVzcG9uc2VBcmd1bWVudHMiLCJhcmcxIiwiYXJnMiIsImFyZzMiLCJtZXRhZGF0YSIsIk1ldGFkYXRhIiwibWFrZVVuYXJ5UmVxdWVzdCIsIm1ldGhvZCIsInNlcmlhbGl6ZSIsImRlc2VyaWFsaXplIiwiYXJndW1lbnQiLCJjaGVja2VkQXJndW1lbnRzIiwibWV0aG9kRGVmaW5pdGlvbiIsInBhdGgiLCJyZXF1ZXN0U3RyZWFtIiwicmVzcG9uc2VTdHJlYW0iLCJyZXF1ZXN0U2VyaWFsaXplIiwicmVzcG9uc2VEZXNlcmlhbGl6ZSIsImNhbGxQcm9wZXJ0aWVzIiwiY2FsbCIsIkNsaWVudFVuYXJ5Q2FsbEltcGwiLCJjaGFubmVsIiwiY2FsbE9wdGlvbnMiLCJlbWl0dGVyIiwiaW50ZXJjZXB0b3JBcmdzIiwiY2xpZW50SW50ZXJjZXB0b3JzIiwiY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnMiLCJjYWxsSW50ZXJjZXB0b3JzIiwiY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzIiwiZ2V0SW50ZXJjZXB0aW5nQ2FsbCIsInJlc3BvbnNlTWVzc2FnZSIsInJlY2VpdmVkU3RhdHVzIiwiY2FsbGVyU3RhY2tFcnJvciIsInN0YXJ0Iiwib25SZWNlaXZlTWV0YWRhdGEiLCJlbWl0Iiwib25SZWNlaXZlTWVzc2FnZSIsIm1lc3NhZ2UiLCJjYW5jZWxXaXRoU3RhdHVzIiwiU3RhdHVzIiwiSU5URVJOQUwiLCJvblJlY2VpdmVTdGF0dXMiLCJzdGF0dXMiLCJjb2RlIiwiT0siLCJjYWxsZXJTdGFjayIsImNhbGxFcnJvckZyb21TdGF0dXMiLCJkZXRhaWxzIiwic2VuZE1lc3NhZ2UiLCJoYWxmQ2xvc2UiLCJtYWtlQ2xpZW50U3RyZWFtUmVxdWVzdCIsIkNsaWVudFdyaXRhYmxlU3RyZWFtSW1wbCIsImNoZWNrTWV0YWRhdGFBbmRPcHRpb25zIiwibWFrZVNlcnZlclN0cmVhbVJlcXVlc3QiLCJDbGllbnRSZWFkYWJsZVN0cmVhbUltcGwiLCJzdHJlYW0iLCJwdXNoIiwibWFrZUJpZGlTdHJlYW1SZXF1ZXN0IiwiQ2xpZW50RHVwbGV4U3RyZWFtSW1wbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/compression-algorithms.js":
/*!************************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/compression-algorithms.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CompressionAlgorithms = void 0;\nvar CompressionAlgorithms;\n(function (CompressionAlgorithms) {\n  CompressionAlgorithms[CompressionAlgorithms[\"identity\"] = 0] = \"identity\";\n  CompressionAlgorithms[CompressionAlgorithms[\"deflate\"] = 1] = \"deflate\";\n  CompressionAlgorithms[CompressionAlgorithms[\"gzip\"] = 2] = \"gzip\";\n})(CompressionAlgorithms || (exports.CompressionAlgorithms = CompressionAlgorithms = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tYWxnb3JpdGhtcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCw2QkFBNkIsR0FBRyxLQUFLLENBQUM7QUFDdEMsSUFBSUUscUJBQXFCO0FBQ3pCLENBQUMsVUFBVUEscUJBQXFCLEVBQUU7RUFDOUJBLHFCQUFxQixDQUFDQSxxQkFBcUIsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVO0VBQ3pFQSxxQkFBcUIsQ0FBQ0EscUJBQXFCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsU0FBUztFQUN2RUEscUJBQXFCLENBQUNBLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU07QUFDckUsQ0FBQyxFQUFFQSxxQkFBcUIsS0FBS0YsNkJBQTZCLEdBQUdFLHFCQUFxQixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NvbXByZXNzaW9uLWFsZ29yaXRobXMuanM/MjkyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21wcmVzc2lvbkFsZ29yaXRobXMgPSB2b2lkIDA7XG52YXIgQ29tcHJlc3Npb25BbGdvcml0aG1zO1xuKGZ1bmN0aW9uIChDb21wcmVzc2lvbkFsZ29yaXRobXMpIHtcbiAgICBDb21wcmVzc2lvbkFsZ29yaXRobXNbQ29tcHJlc3Npb25BbGdvcml0aG1zW1wiaWRlbnRpdHlcIl0gPSAwXSA9IFwiaWRlbnRpdHlcIjtcbiAgICBDb21wcmVzc2lvbkFsZ29yaXRobXNbQ29tcHJlc3Npb25BbGdvcml0aG1zW1wiZGVmbGF0ZVwiXSA9IDFdID0gXCJkZWZsYXRlXCI7XG4gICAgQ29tcHJlc3Npb25BbGdvcml0aG1zW0NvbXByZXNzaW9uQWxnb3JpdGhtc1tcImd6aXBcIl0gPSAyXSA9IFwiZ3ppcFwiO1xufSkoQ29tcHJlc3Npb25BbGdvcml0aG1zIHx8IChleHBvcnRzLkNvbXByZXNzaW9uQWxnb3JpdGhtcyA9IENvbXByZXNzaW9uQWxnb3JpdGhtcyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wcmVzc2lvbi1hbGdvcml0aG1zLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkNvbXByZXNzaW9uQWxnb3JpdGhtcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/compression-filter.js":
/*!********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/compression-filter.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CompressionFilterFactory = exports.CompressionFilter = void 0;\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\nconst compression_algorithms_1 = __webpack_require__(/*! ./compression-algorithms */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst filter_1 = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/filter.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst isCompressionAlgorithmKey = key => {\n  return typeof key === 'number' && typeof compression_algorithms_1.CompressionAlgorithms[key] === 'string';\n};\nclass CompressionHandler {\n  /**\n   * @param message Raw uncompressed message bytes\n   * @param compress Indicates whether the message should be compressed\n   * @return Framed message, compressed if applicable\n   */\n  async writeMessage(message, compress) {\n    let messageBuffer = message;\n    if (compress) {\n      messageBuffer = await this.compressMessage(messageBuffer);\n    }\n    const output = Buffer.allocUnsafe(messageBuffer.length + 5);\n    output.writeUInt8(compress ? 1 : 0, 0);\n    output.writeUInt32BE(messageBuffer.length, 1);\n    messageBuffer.copy(output, 5);\n    return output;\n  }\n  /**\n   * @param data Framed message, possibly compressed\n   * @return Uncompressed message\n   */\n  async readMessage(data) {\n    const compressed = data.readUInt8(0) === 1;\n    let messageBuffer = data.slice(5);\n    if (compressed) {\n      messageBuffer = await this.decompressMessage(messageBuffer);\n    }\n    return messageBuffer;\n  }\n}\nclass IdentityHandler extends CompressionHandler {\n  async compressMessage(message) {\n    return message;\n  }\n  async writeMessage(message, compress) {\n    const output = Buffer.allocUnsafe(message.length + 5);\n    /* With \"identity\" compression, messages should always be marked as\n     * uncompressed */\n    output.writeUInt8(0, 0);\n    output.writeUInt32BE(message.length, 1);\n    message.copy(output, 5);\n    return output;\n  }\n  decompressMessage(message) {\n    return Promise.reject(new Error('Received compressed message but \"grpc-encoding\" header was identity'));\n  }\n}\nclass DeflateHandler extends CompressionHandler {\n  compressMessage(message) {\n    return new Promise((resolve, reject) => {\n      zlib.deflate(message, (err, output) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(output);\n        }\n      });\n    });\n  }\n  decompressMessage(message) {\n    return new Promise((resolve, reject) => {\n      zlib.inflate(message, (err, output) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(output);\n        }\n      });\n    });\n  }\n}\nclass GzipHandler extends CompressionHandler {\n  compressMessage(message) {\n    return new Promise((resolve, reject) => {\n      zlib.gzip(message, (err, output) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(output);\n        }\n      });\n    });\n  }\n  decompressMessage(message) {\n    return new Promise((resolve, reject) => {\n      zlib.unzip(message, (err, output) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(output);\n        }\n      });\n    });\n  }\n}\nclass UnknownHandler extends CompressionHandler {\n  constructor(compressionName) {\n    super();\n    this.compressionName = compressionName;\n  }\n  compressMessage(message) {\n    return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`));\n  }\n  decompressMessage(message) {\n    // This should be unreachable\n    return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`));\n  }\n}\nfunction getCompressionHandler(compressionName) {\n  switch (compressionName) {\n    case 'identity':\n      return new IdentityHandler();\n    case 'deflate':\n      return new DeflateHandler();\n    case 'gzip':\n      return new GzipHandler();\n    default:\n      return new UnknownHandler(compressionName);\n  }\n}\nclass CompressionFilter extends filter_1.BaseFilter {\n  constructor(channelOptions, sharedFilterConfig) {\n    var _a;\n    super();\n    this.sharedFilterConfig = sharedFilterConfig;\n    this.sendCompression = new IdentityHandler();\n    this.receiveCompression = new IdentityHandler();\n    this.currentCompressionAlgorithm = 'identity';\n    const compressionAlgorithmKey = channelOptions['grpc.default_compression_algorithm'];\n    if (compressionAlgorithmKey !== undefined) {\n      if (isCompressionAlgorithmKey(compressionAlgorithmKey)) {\n        const clientSelectedEncoding = compression_algorithms_1.CompressionAlgorithms[compressionAlgorithmKey];\n        const serverSupportedEncodings = (_a = sharedFilterConfig.serverSupportedEncodingHeader) === null || _a === void 0 ? void 0 : _a.split(',');\n        /**\n         * There are two possible situations here:\n         * 1) We don't have any info yet from the server about what compression it supports\n         *    In that case we should just use what the client tells us to use\n         * 2) We've previously received a response from the server including a grpc-accept-encoding header\n         *    In that case we only want to use the encoding chosen by the client if the server supports it\n         */\n        if (!serverSupportedEncodings || serverSupportedEncodings.includes(clientSelectedEncoding)) {\n          this.currentCompressionAlgorithm = clientSelectedEncoding;\n          this.sendCompression = getCompressionHandler(this.currentCompressionAlgorithm);\n        }\n      } else {\n        logging.log(constants_1.LogVerbosity.ERROR, `Invalid value provided for grpc.default_compression_algorithm option: ${compressionAlgorithmKey}`);\n      }\n    }\n  }\n  async sendMetadata(metadata) {\n    const headers = await metadata;\n    headers.set('grpc-accept-encoding', 'identity,deflate,gzip');\n    headers.set('accept-encoding', 'identity');\n    // No need to send the header if it's \"identity\" -  behavior is identical; save the bandwidth\n    if (this.currentCompressionAlgorithm === 'identity') {\n      headers.remove('grpc-encoding');\n    } else {\n      headers.set('grpc-encoding', this.currentCompressionAlgorithm);\n    }\n    return headers;\n  }\n  receiveMetadata(metadata) {\n    const receiveEncoding = metadata.get('grpc-encoding');\n    if (receiveEncoding.length > 0) {\n      const encoding = receiveEncoding[0];\n      if (typeof encoding === 'string') {\n        this.receiveCompression = getCompressionHandler(encoding);\n      }\n    }\n    metadata.remove('grpc-encoding');\n    /* Check to see if the compression we're using to send messages is supported by the server\n     * If not, reset the sendCompression filter and have it use the default IdentityHandler */\n    const serverSupportedEncodingsHeader = metadata.get('grpc-accept-encoding')[0];\n    if (serverSupportedEncodingsHeader) {\n      this.sharedFilterConfig.serverSupportedEncodingHeader = serverSupportedEncodingsHeader;\n      const serverSupportedEncodings = serverSupportedEncodingsHeader.split(',');\n      if (!serverSupportedEncodings.includes(this.currentCompressionAlgorithm)) {\n        this.sendCompression = new IdentityHandler();\n        this.currentCompressionAlgorithm = 'identity';\n      }\n    }\n    metadata.remove('grpc-accept-encoding');\n    return metadata;\n  }\n  async sendMessage(message) {\n    var _a;\n    /* This filter is special. The input message is the bare message bytes,\n     * and the output is a framed and possibly compressed message. For this\n     * reason, this filter should be at the bottom of the filter stack */\n    const resolvedMessage = await message;\n    let compress;\n    if (this.sendCompression instanceof IdentityHandler) {\n      compress = false;\n    } else {\n      compress = (((_a = resolvedMessage.flags) !== null && _a !== void 0 ? _a : 0) & 2 /* WriteFlags.NoCompress */) === 0;\n    }\n    return {\n      message: await this.sendCompression.writeMessage(resolvedMessage.message, compress),\n      flags: resolvedMessage.flags\n    };\n  }\n  async receiveMessage(message) {\n    /* This filter is also special. The input message is framed and possibly\n     * compressed, and the output message is deframed and uncompressed. So\n     * this is another reason that this filter should be at the bottom of the\n     * filter stack. */\n    return this.receiveCompression.readMessage(await message);\n  }\n}\nexports.CompressionFilter = CompressionFilter;\nclass CompressionFilterFactory {\n  constructor(channel, options) {\n    this.options = options;\n    this.sharedFilterConfig = {};\n  }\n  createFilter() {\n    return new CompressionFilter(this.options, this.sharedFilterConfig);\n  }\n}\nexports.CompressionFilterFactory = CompressionFilterFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tZmlsdGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGdDQUFnQyxHQUFHQSx5QkFBeUIsR0FBRyxLQUFLLENBQUM7QUFDckUsTUFBTUksSUFBSSxHQUFHQyxtQkFBTyxDQUFDLGtCQUFNLENBQUM7QUFDNUIsTUFBTUMsd0JBQXdCLEdBQUdELG1CQUFPLENBQUMsd0dBQTBCLENBQUM7QUFDcEUsTUFBTUUsV0FBVyxHQUFHRixtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUcsUUFBUSxHQUFHSCxtQkFBTyxDQUFDLHdFQUFVLENBQUM7QUFDcEMsTUFBTUksT0FBTyxHQUFHSixtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDcEMsTUFBTUsseUJBQXlCLEdBQUlDLEdBQUcsSUFBSztFQUN2QyxPQUFRLE9BQU9BLEdBQUcsS0FBSyxRQUFRLElBQUksT0FBT0wsd0JBQXdCLENBQUNNLHFCQUFxQixDQUFDRCxHQUFHLENBQUMsS0FBSyxRQUFRO0FBQzlHLENBQUM7QUFDRCxNQUFNRSxrQkFBa0IsQ0FBQztFQUNyQjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0ksTUFBTUMsWUFBWUEsQ0FBQ0MsT0FBTyxFQUFFQyxRQUFRLEVBQUU7SUFDbEMsSUFBSUMsYUFBYSxHQUFHRixPQUFPO0lBQzNCLElBQUlDLFFBQVEsRUFBRTtNQUNWQyxhQUFhLEdBQUcsTUFBTSxJQUFJLENBQUNDLGVBQWUsQ0FBQ0QsYUFBYSxDQUFDO0lBQzdEO0lBQ0EsTUFBTUUsTUFBTSxHQUFHQyxNQUFNLENBQUNDLFdBQVcsQ0FBQ0osYUFBYSxDQUFDSyxNQUFNLEdB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QU8sRUFBRUMsUUFBUSxDQUFDO01BQ25GNkQsS0FBSyxFQUFFRCxlQUFlLENBQUNDO0lBQzNCLENBQUM7RUFDTDtFQUNBLE1BQU1DLGNBQWNBLENBQUMvRCxPQUFPLEVBQUU7SUFDMUI7QUFDUjtBQUNBO0FBQ0E7SUFDUSxPQUFPLElBQUksQ0FBQ3NDLGtCQUFrQixDQUFDM0IsV0FBVyxDQUFDLE1BQU1YLE9BQU8sQ0FBQztFQUM3RDtBQUNKO0FBQ0FmLHlCQUF5QixHQUFHRyxpQkFBaUI7QUFDN0MsTUFBTUQsd0JBQXdCLENBQUM7RUFDM0IyQyxXQUFXQSxDQUFDa0MsT0FBTyxFQUFFQyxPQUFPLEVBQUU7SUFDMUIsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87SUFDdEIsSUFBSSxDQUFDOUIsa0JBQWtCLEdBQUcsQ0FBQyxDQUFDO0VBQ2hDO0VBQ0ErQixZQUFZQSxDQUFBLEVBQUc7SUFDWCxPQUFPLElBQUk5RSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM2RSxPQUFPLEVBQUUsSUFBSSxDQUFDOUIsa0JBQWtCLENBQUM7RUFDdkU7QUFDSjtBQUNBbEQsZ0NBQWdDLEdBQUdFLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tZmlsdGVyLmpzPzc1ZTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5ID0gZXhwb3J0cy5Db21wcmVzc2lvbkZpbHRlciA9IHZvaWQgMDtcbmNvbnN0IHpsaWIgPSByZXF1aXJlKFwiemxpYlwiKTtcbmNvbnN0IGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMSA9IHJlcXVpcmUoXCIuL2NvbXByZXNzaW9uLWFsZ29yaXRobXNcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBpc0NvbXByZXNzaW9uQWxnb3JpdGhtS2V5ID0gKGtleSkgPT4ge1xuICAgIHJldHVybiAodHlwZW9mIGtleSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMS5Db21wcmVzc2lvbkFsZ29yaXRobXNba2V5XSA9PT0gJ3N0cmluZycpO1xufTtcbmNsYXNzIENvbXByZXNzaW9uSGFuZGxlciB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgUmF3IHVuY29tcHJlc3NlZCBtZXNzYWdlIGJ5dGVzXG4gICAgICogQHBhcmFtIGNvbXByZXNzIEluZGljYXRlcyB3aGV0aGVyIHRoZSBtZXNzYWdlIHNob3VsZCBiZSBjb21wcmVzc2VkXG4gICAgICogQHJldHVybiBGcmFtZWQgbWVzc2FnZSwgY29tcHJlc3NlZCBpZiBhcHBsaWNhYmxlXG4gICAgICovXG4gICAgYXN5bmMgd3JpdGVNZXNzYWdlKG1lc3NhZ2UsIGNvbXByZXNzKSB7XG4gICAgICAgIGxldCBtZXNzYWdlQnVmZmVyID0gbWVzc2FnZTtcbiAgICAgICAgaWYgKGNvbXByZXNzKSB7XG4gICAgICAgICAgICBtZXNzYWdlQnVmZmVyID0gYXdhaXQgdGhpcy5jb21wcmVzc01lc3NhZ2UobWVzc2FnZUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG1lc3NhZ2VCdWZmZXIubGVuZ3RoICsgNSk7XG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQ4KGNvbXByZXNzID8gMSA6IDAsIDApO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50MzJCRShtZXNzYWdlQnVmZmVyLmxlbmd0aCwgMSk7XG4gICAgICAgIG1lc3NhZ2VCdWZmZXIuY29weShvdXRwdXQsIDUpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGF0YSBGcmFtZWQgbWVzc2FnZSwgcG9zc2libHkgY29tcHJlc3NlZFxuICAgICAqIEByZXR1cm4gVW5jb21wcmVzc2VkIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBhc3luYyByZWFkTWVzc2FnZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNvbXByZXNzZWQgPSBkYXRhLnJlYWRVSW50OCgwKSA9PT0gMTtcbiAgICAgICAgbGV0IG1lc3NhZ2VCdWZmZXIgPSBkYXRhLnNsaWNlKDUpO1xuICAgICAgICBpZiAoY29tcHJlc3NlZCkge1xuICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlciA9IGF3YWl0IHRoaXMuZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VCdWZmZXI7XG4gICAgfVxufVxuY2xhc3MgSWRlbnRpdHlIYW5kbGVyIGV4dGVuZHMgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICBhc3luYyBjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgYXN5bmMgd3JpdGVNZXNzYWdlKG1lc3NhZ2UsIGNvbXByZXNzKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShtZXNzYWdlLmxlbmd0aCArIDUpO1xuICAgICAgICAvKiBXaXRoIFwiaWRlbnRpdHlcIiBjb21wcmVzc2lvbiwgbWVzc2FnZXMgc2hvdWxkIGFsd2F5cyBiZSBtYXJrZWQgYXNcbiAgICAgICAgICogdW5jb21wcmVzc2VkICovXG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQ4KDAsIDApO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50MzJCRShtZXNzYWdlLmxlbmd0aCwgMSk7XG4gICAgICAgIG1lc3NhZ2UuY29weShvdXRwdXQsIDUpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBkZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1JlY2VpdmVkIGNvbXByZXNzZWQgbWVzc2FnZSBidXQgXCJncnBjLWVuY29kaW5nXCIgaGVhZGVyIHdhcyBpZGVudGl0eScpKTtcbiAgICB9XG59XG5jbGFzcyBEZWZsYXRlSGFuZGxlciBleHRlbmRzIENvbXByZXNzaW9uSGFuZGxlciB7XG4gICAgY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHpsaWIuZGVmbGF0ZShtZXNzYWdlLCAoZXJyLCBvdXRwdXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgemxpYi5pbmZsYXRlKG1lc3NhZ2UsIChlcnIsIG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIEd6aXBIYW5kbGVyIGV4dGVuZHMgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICBjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgemxpYi5nemlwKG1lc3NhZ2UsIChlcnIsIG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB6bGliLnVuemlwKG1lc3NhZ2UsIChlcnIsIG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFVua25vd25IYW5kbGVyIGV4dGVuZHMgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wcmVzc2lvbk5hbWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wcmVzc2lvbk5hbWUgPSBjb21wcmVzc2lvbk5hbWU7XG4gICAgfVxuICAgIGNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYFJlY2VpdmVkIG1lc3NhZ2UgY29tcHJlc3NlZCB3aXRoIHVuc3VwcG9ydGVkIGNvbXByZXNzaW9uIG1ldGhvZCAke3RoaXMuY29tcHJlc3Npb25OYW1lfWApKTtcbiAgICB9XG4gICAgZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSB1bnJlYWNoYWJsZVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBDb21wcmVzc2lvbiBtZXRob2Qgbm90IHN1cHBvcnRlZDogJHt0aGlzLmNvbXByZXNzaW9uTmFtZX1gKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcHJlc3Npb25IYW5kbGVyKGNvbXByZXNzaW9uTmFtZSkge1xuICAgIHN3aXRjaCAoY29tcHJlc3Npb25OYW1lKSB7XG4gICAgICAgIGNhc2UgJ2lkZW50aXR5JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSWRlbnRpdHlIYW5kbGVyKCk7XG4gICAgICAgIGNhc2UgJ2RlZmxhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWZsYXRlSGFuZGxlcigpO1xuICAgICAgICBjYXNlICdnemlwJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgR3ppcEhhbmRsZXIoKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5rbm93bkhhbmRsZXIoY29tcHJlc3Npb25OYW1lKTtcbiAgICB9XG59XG5jbGFzcyBDb21wcmVzc2lvbkZpbHRlciBleHRlbmRzIGZpbHRlcl8xLkJhc2VGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxPcHRpb25zLCBzaGFyZWRGaWx0ZXJDb25maWcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNoYXJlZEZpbHRlckNvbmZpZyA9IHNoYXJlZEZpbHRlckNvbmZpZztcbiAgICAgICAgdGhpcy5zZW5kQ29tcHJlc3Npb24gPSBuZXcgSWRlbnRpdHlIYW5kbGVyKCk7XG4gICAgICAgIHRoaXMucmVjZWl2ZUNvbXByZXNzaW9uID0gbmV3IElkZW50aXR5SGFuZGxlcigpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSA9ICdpZGVudGl0eSc7XG4gICAgICAgIGNvbnN0IGNvbXByZXNzaW9uQWxnb3JpdGhtS2V5ID0gY2hhbm5lbE9wdGlvbnNbJ2dycGMuZGVmYXVsdF9jb21wcmVzc2lvbl9hbGdvcml0aG0nXTtcbiAgICAgICAgaWYgKGNvbXByZXNzaW9uQWxnb3JpdGhtS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChpc0NvbXByZXNzaW9uQWxnb3JpdGhtS2V5KGNvbXByZXNzaW9uQWxnb3JpdGhtS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFNlbGVjdGVkRW5jb2RpbmcgPSBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEuQ29tcHJlc3Npb25BbGdvcml0aG1zW2NvbXByZXNzaW9uQWxnb3JpdGhtS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MgPSAoX2EgPSBzaGFyZWRGaWx0ZXJDb25maWcuc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdIZWFkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZXJlIGFyZSB0d28gcG9zc2libGUgc2l0dWF0aW9ucyBoZXJlOlxuICAgICAgICAgICAgICAgICAqIDEpIFdlIGRvbid0IGhhdmUgYW55IGluZm8geWV0IGZyb20gdGhlIHNlcnZlciBhYm91dCB3aGF0IGNvbXByZXNzaW9uIGl0IHN1cHBvcnRzXG4gICAgICAgICAgICAgICAgICogICAgSW4gdGhhdCBjYXNlIHdlIHNob3VsZCBqdXN0IHVzZSB3aGF0IHRoZSBjbGllbnQgdGVsbHMgdXMgdG8gdXNlXG4gICAgICAgICAgICAgICAgICogMikgV2UndmUgcHJldmlvdXNseSByZWNlaXZlZCBhIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBpbmNsdWRpbmcgYSBncnBjLWFjY2VwdC1lbmNvZGluZyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgKiAgICBJbiB0aGF0IGNhc2Ugd2Ugb25seSB3YW50IHRvIHVzZSB0aGUgZW5jb2RpbmcgY2hvc2VuIGJ5IHRoZSBjbGllbnQgaWYgdGhlIHNlcnZlciBzdXBwb3J0cyBpdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmICghc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZEVuY29kaW5ncy5pbmNsdWRlcyhjbGllbnRTZWxlY3RlZEVuY29kaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSA9IGNsaWVudFNlbGVjdGVkRW5jb2Rpbmc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZENvbXByZXNzaW9uID0gZ2V0Q29tcHJlc3Npb25IYW5kbGVyKHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nLmxvZyhjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIGBJbnZhbGlkIHZhbHVlIHByb3ZpZGVkIGZvciBncnBjLmRlZmF1bHRfY29tcHJlc3Npb25fYWxnb3JpdGhtIG9wdGlvbjogJHtjb21wcmVzc2lvbkFsZ29yaXRobUtleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzZW5kTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGF3YWl0IG1ldGFkYXRhO1xuICAgICAgICBoZWFkZXJzLnNldCgnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnLCAnaWRlbnRpdHksZGVmbGF0ZSxnemlwJyk7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQtZW5jb2RpbmcnLCAnaWRlbnRpdHknKTtcbiAgICAgICAgLy8gTm8gbmVlZCB0byBzZW5kIHRoZSBoZWFkZXIgaWYgaXQncyBcImlkZW50aXR5XCIgLSAgYmVoYXZpb3IgaXMgaWRlbnRpY2FsOyBzYXZlIHRoZSBiYW5kd2lkdGhcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtID09PSAnaWRlbnRpdHknKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnJlbW92ZSgnZ3JwYy1lbmNvZGluZycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ2dycGMtZW5jb2RpbmcnLCB0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgfVxuICAgIHJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCByZWNlaXZlRW5jb2RpbmcgPSBtZXRhZGF0YS5nZXQoJ2dycGMtZW5jb2RpbmcnKTtcbiAgICAgICAgaWYgKHJlY2VpdmVFbmNvZGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGluZyA9IHJlY2VpdmVFbmNvZGluZ1swXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlQ29tcHJlc3Npb24gPSBnZXRDb21wcmVzc2lvbkhhbmRsZXIoZW5jb2RpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1lbmNvZGluZycpO1xuICAgICAgICAvKiBDaGVjayB0byBzZWUgaWYgdGhlIGNvbXByZXNzaW9uIHdlJ3JlIHVzaW5nIHRvIHNlbmQgbWVzc2FnZXMgaXMgc3VwcG9ydGVkIGJ5IHRoZSBzZXJ2ZXJcbiAgICAgICAgICogSWYgbm90LCByZXNldCB0aGUgc2VuZENvbXByZXNzaW9uIGZpbHRlciBhbmQgaGF2ZSBpdCB1c2UgdGhlIGRlZmF1bHQgSWRlbnRpdHlIYW5kbGVyICovXG4gICAgICAgIGNvbnN0IHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlciA9IG1ldGFkYXRhLmdldCgnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnKVswXTtcbiAgICAgICAgaWYgKHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlcikge1xuICAgICAgICAgICAgdGhpcy5zaGFyZWRGaWx0ZXJDb25maWcuc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdIZWFkZXIgPVxuICAgICAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlcjtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlclN1cHBvcnRlZEVuY29kaW5ncyA9IHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlci5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgaWYgKCFzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MuaW5jbHVkZXModGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kQ29tcHJlc3Npb24gPSBuZXcgSWRlbnRpdHlIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0gPSAnaWRlbnRpdHknO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnKTtcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICBhc3luYyBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLyogVGhpcyBmaWx0ZXIgaXMgc3BlY2lhbC4gVGhlIGlucHV0IG1lc3NhZ2UgaXMgdGhlIGJhcmUgbWVzc2FnZSBieXRlcyxcbiAgICAgICAgICogYW5kIHRoZSBvdXRwdXQgaXMgYSBmcmFtZWQgYW5kIHBvc3NpYmx5IGNvbXByZXNzZWQgbWVzc2FnZS4gRm9yIHRoaXNcbiAgICAgICAgICogcmVhc29uLCB0aGlzIGZpbHRlciBzaG91bGQgYmUgYXQgdGhlIGJvdHRvbSBvZiB0aGUgZmlsdGVyIHN0YWNrICovXG4gICAgICAgIGNvbnN0IHJlc29sdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2U7XG4gICAgICAgIGxldCBjb21wcmVzcztcbiAgICAgICAgaWYgKHRoaXMuc2VuZENvbXByZXNzaW9uIGluc3RhbmNlb2YgSWRlbnRpdHlIYW5kbGVyKSB7XG4gICAgICAgICAgICBjb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcHJlc3MgPSAoKChfYSA9IHJlc29sdmVkTWVzc2FnZS5mbGFncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgJiAyIC8qIFdyaXRlRmxhZ3MuTm9Db21wcmVzcyAqLykgPT09IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGF3YWl0IHRoaXMuc2VuZENvbXByZXNzaW9uLndyaXRlTWVzc2FnZShyZXNvbHZlZE1lc3NhZ2UubWVzc2FnZSwgY29tcHJlc3MpLFxuICAgICAgICAgICAgZmxhZ3M6IHJlc29sdmVkTWVzc2FnZS5mbGFncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgcmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAvKiBUaGlzIGZpbHRlciBpcyBhbHNvIHNwZWNpYWwuIFRoZSBpbnB1dCBtZXNzYWdlIGlzIGZyYW1lZCBhbmQgcG9zc2libHlcbiAgICAgICAgICogY29tcHJlc3NlZCwgYW5kIHRoZSBvdXRwdXQgbWVzc2FnZSBpcyBkZWZyYW1lZCBhbmQgdW5jb21wcmVzc2VkLiBTb1xuICAgICAgICAgKiB0aGlzIGlzIGFub3RoZXIgcmVhc29uIHRoYXQgdGhpcyBmaWx0ZXIgc2hvdWxkIGJlIGF0IHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAgICAqIGZpbHRlciBzdGFjay4gKi9cbiAgICAgICAgcmV0dXJuIHRoaXMucmVjZWl2ZUNvbXByZXNzaW9uLnJlYWRNZXNzYWdlKGF3YWl0IG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29tcHJlc3Npb25GaWx0ZXIgPSBDb21wcmVzc2lvbkZpbHRlcjtcbmNsYXNzIENvbXByZXNzaW9uRmlsdGVyRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnNoYXJlZEZpbHRlckNvbmZpZyA9IHt9O1xuICAgIH1cbiAgICBjcmVhdGVGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcHJlc3Npb25GaWx0ZXIodGhpcy5vcHRpb25zLCB0aGlzLnNoYXJlZEZpbHRlckNvbmZpZyk7XG4gICAgfVxufVxuZXhwb3J0cy5Db21wcmVzc2lvbkZpbHRlckZhY3RvcnkgPSBDb21wcmVzc2lvbkZpbHRlckZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wcmVzc2lvbi1maWx0ZXIuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5IiwiQ29tcHJlc3Npb25GaWx0ZXIiLCJ6bGliIiwicmVxdWlyZSIsImNvbXByZXNzaW9uX2FsZ29yaXRobXNfMSIsImNvbnN0YW50c18xIiwiZmlsdGVyXzEiLCJsb2dnaW5nIiwiaXNDb21wcmVzc2lvbkFsZ29yaXRobUtleSIsImtleSIsIkNvbXByZXNzaW9uQWxnb3JpdGhtcyIsIkNvbXByZXNzaW9uSGFuZGxlciIsIndyaXRlTWVzc2FnZSIsIm1lc3NhZ2UiLCJjb21wcmVzcyIsIm1lc3NhZ2VCdWZmZXIiLCJjb21wcmVzc01lc3NhZ2UiLCJvdXRwdXQiLCJCdWZmZXIiLCJhbGxvY1Vuc2FmZSIsImxlbmd0aCIsIndyaXRlVUludDgiLCJ3cml0ZVVJbnQzMkJFIiwiY29weSIsInJlYWRNZXNzYWdlIiwiZGF0YSIsImNvbXByZXNzZWQiLCJyZWFkVUludDgiLCJzbGljZSIsImRlY29tcHJlc3NNZXNzYWdlIiwiSWRlbnRpdHlIYW5kbGVyIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiRGVmbGF0ZUhhbmRsZXIiLCJyZXNvbHZlIiwiZGVmbGF0ZSIsImVyciIsImluZmxhdGUiLCJHemlwSGFuZGxlciIsImd6aXAiLCJ1bnppcCIsIlVua25vd25IYW5kbGVyIiwiY29uc3RydWN0b3IiLCJjb21wcmVzc2lvbk5hbWUiLCJnZXRDb21wcmVzc2lvbkhhbmRsZXIiLCJCYXNlRmlsdGVyIiwiY2hhbm5lbE9wdGlvbnMiLCJzaGFyZWRGaWx0ZXJDb25maWciLCJfYSIsInNlbmRDb21wcmVzc2lvbiIsInJlY2VpdmVDb21wcmVzc2lvbiIsImN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSIsImNvbXByZXNzaW9uQWxnb3JpdGhtS2V5IiwidW5kZWZpbmVkIiwiY2xpZW50U2VsZWN0ZWRFbmNvZGluZyIsInNlcnZlclN1cHBvcnRlZEVuY29kaW5ncyIsInNlcnZlclN1cHBvcnRlZEVuY29kaW5nSGVhZGVyIiwic3BsaXQiLCJpbmNsdWRlcyIsImxvZyIsIkxvZ1ZlcmJvc2l0eSIsIkVSUk9SIiwic2VuZE1ldGFkYXRhIiwibWV0YWRhdGEiLCJoZWFkZXJzIiwic2V0IiwicmVtb3ZlIiwicmVjZWl2ZU1ldGFkYXRhIiwicmVjZWl2ZUVuY29kaW5nIiwiZ2V0IiwiZW5jb2RpbmciLCJzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3NIZWFkZXIiLCJzZW5kTWVzc2FnZSIsInJlc29sdmVkTWVzc2FnZSIsImZsYWdzIiwicmVjZWl2ZU1lc3NhZ2UiLCJjaGFubmVsIiwib3B0aW9ucyIsImNyZWF0ZUZpbHRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/compression-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js":
/*!********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/connectivity-state.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ConnectivityState = void 0;\nvar ConnectivityState;\n(function (ConnectivityState) {\n  ConnectivityState[ConnectivityState[\"IDLE\"] = 0] = \"IDLE\";\n  ConnectivityState[ConnectivityState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n  ConnectivityState[ConnectivityState[\"READY\"] = 2] = \"READY\";\n  ConnectivityState[ConnectivityState[\"TRANSIENT_FAILURE\"] = 3] = \"TRANSIENT_FAILURE\";\n  ConnectivityState[ConnectivityState[\"SHUTDOWN\"] = 4] = \"SHUTDOWN\";\n})(ConnectivityState || (exports.ConnectivityState = ConnectivityState = {}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29ubmVjdGl2aXR5LXN0YXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELHlCQUF5QixHQUFHLEtBQUssQ0FBQztBQUNsQyxJQUFJRSxpQkFBaUI7QUFDckIsQ0FBQyxVQUFVQSxpQkFBaUIsRUFBRTtFQUMxQkEsaUJBQWlCLENBQUNBLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU07RUFDekRBLGlCQUFpQixDQUFDQSxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZO0VBQ3JFQSxpQkFBaUIsQ0FBQ0EsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTztFQUMzREEsaUJBQWlCLENBQUNBLGlCQUFpQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsbUJBQW1CO0VBQ25GQSxpQkFBaUIsQ0FBQ0EsaUJBQWlCLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVTtBQUNyRSxDQUFDLEVBQUVBLGlCQUFpQixLQUFLRix5QkFBeUIsR0FBR0UsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29ubmVjdGl2aXR5LXN0YXRlLmpzPzRlZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29ubmVjdGl2aXR5U3RhdGUgPSB2b2lkIDA7XG52YXIgQ29ubmVjdGl2aXR5U3RhdGU7XG4oZnVuY3Rpb24gKENvbm5lY3Rpdml0eVN0YXRlKSB7XG4gICAgQ29ubmVjdGl2aXR5U3RhdGVbQ29ubmVjdGl2aXR5U3RhdGVbXCJJRExFXCJdID0gMF0gPSBcIklETEVcIjtcbiAgICBDb25uZWN0aXZpdHlTdGF0ZVtDb25uZWN0aXZpdHlTdGF0ZVtcIkNPTk5FQ1RJTkdcIl0gPSAxXSA9IFwiQ09OTkVDVElOR1wiO1xuICAgIENvbm5lY3Rpdml0eVN0YXRlW0Nvbm5lY3Rpdml0eVN0YXRlW1wiUkVBRFlcIl0gPSAyXSA9IFwiUkVBRFlcIjtcbiAgICBDb25uZWN0aXZpdHlTdGF0ZVtDb25uZWN0aXZpdHlTdGF0ZVtcIlRSQU5TSUVOVF9GQUlMVVJFXCJdID0gM10gPSBcIlRSQU5TSUVOVF9GQUlMVVJFXCI7XG4gICAgQ29ubmVjdGl2aXR5U3RhdGVbQ29ubmVjdGl2aXR5U3RhdGVbXCJTSFVURE9XTlwiXSA9IDRdID0gXCJTSFVURE9XTlwiO1xufSkoQ29ubmVjdGl2aXR5U3RhdGUgfHwgKGV4cG9ydHMuQ29ubmVjdGl2aXR5U3RhdGUgPSBDb25uZWN0aXZpdHlTdGF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0aXZpdHktc3RhdGUuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ29ubmVjdGl2aXR5U3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js":
/*!***********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/constants.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = exports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = exports.Propagate = exports.LogVerbosity = exports.Status = void 0;\nvar Status;\n(function (Status) {\n  Status[Status[\"OK\"] = 0] = \"OK\";\n  Status[Status[\"CANCELLED\"] = 1] = \"CANCELLED\";\n  Status[Status[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n  Status[Status[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n  Status[Status[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n  Status[Status[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n  Status[Status[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n  Status[Status[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n  Status[Status[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n  Status[Status[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n  Status[Status[\"ABORTED\"] = 10] = \"ABORTED\";\n  Status[Status[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n  Status[Status[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n  Status[Status[\"INTERNAL\"] = 13] = \"INTERNAL\";\n  Status[Status[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n  Status[Status[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n  Status[Status[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n})(Status || (exports.Status = Status = {}));\nvar LogVerbosity;\n(function (LogVerbosity) {\n  LogVerbosity[LogVerbosity[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogVerbosity[LogVerbosity[\"INFO\"] = 1] = \"INFO\";\n  LogVerbosity[LogVerbosity[\"ERROR\"] = 2] = \"ERROR\";\n  LogVerbosity[LogVerbosity[\"NONE\"] = 3] = \"NONE\";\n})(LogVerbosity || (exports.LogVerbosity = LogVerbosity = {}));\n/**\n * NOTE: This enum is not currently used in any implemented API in this\n * library. It is included only for type parity with the other implementation.\n */\nvar Propagate;\n(function (Propagate) {\n  Propagate[Propagate[\"DEADLINE\"] = 1] = \"DEADLINE\";\n  Propagate[Propagate[\"CENSUS_STATS_CONTEXT\"] = 2] = \"CENSUS_STATS_CONTEXT\";\n  Propagate[Propagate[\"CENSUS_TRACING_CONTEXT\"] = 4] = \"CENSUS_TRACING_CONTEXT\";\n  Propagate[Propagate[\"CANCELLATION\"] = 8] = \"CANCELLATION\";\n  // https://github.com/grpc/grpc/blob/master/include/grpc/impl/codegen/propagation_bits.h#L43\n  Propagate[Propagate[\"DEFAULTS\"] = 65535] = \"DEFAULTS\";\n})(Propagate || (exports.Propagate = Propagate = {}));\n// -1 means unlimited\nexports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = -1;\n// 4 MB default\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = 4 * 1024 * 1024;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELDBDQUEwQyxHQUFHQSx1Q0FBdUMsR0FBR0EsaUJBQWlCLEdBQUdBLG9CQUFvQixHQUFHQSxjQUFjLEdBQUcsS0FBSyxDQUFDO0FBQ3pKLElBQUlNLE1BQU07QUFDVixDQUFDLFVBQVVBLE1BQU0sRUFBRTtFQUNmQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJO0VBQy9CQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxXQUFXO0VBQzdDQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxTQUFTO0VBQ3pDQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLGtCQUFrQjtFQUMzREEsTUFBTSxDQUFDQSxNQUFNLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxtQkFBbUI7RUFDN0RBLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFdBQVc7RUFDN0NBLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsZ0JBQWdCO0VBQ3ZEQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLG1CQUFtQjtFQUM3REEsTUFBTSxDQUFDQSxNQUFNLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxvQkFBb0I7RUFDL0RBLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcscUJBQXFCO0VBQ2pFQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxTQUFTO0VBQzFDQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxjQUFjO0VBQ3BEQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxlQUFlO0VBQ3REQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxVQUFVO0VBQzVDQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxhQUFhO0VBQ2xEQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxXQUFXO0VBQzlDQSxNQUFNLENBQUNBLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLGlCQUFpQjtBQUM5RCxDQUFDLEVBQUVBLE1BQU0sS0FBS04sY0FBYyxHQUFHTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QyxJQUFJRCxZQUFZO0FBQ2hCLENBQUMsVUFBVUEsWUFBWSxFQUFFO0VBQ3JCQSxZQUFZLENBQUNBLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxPQUFPO0VBQ2pEQSxZQUFZLENBQUNBLFlBQVksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNO0VBQy9DQSxZQUFZLENBQUNBLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxPQUFPO0VBQ2pEQSxZQUFZLENBQUNBLFlBQVksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNO0FBQ25ELENBQUMsRUFBRUEsWUFBWSxLQUFLTCxvQkFBb0IsR0FBR0ssWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJRCxTQUFTO0FBQ2IsQ0FBQyxVQUFVQSxTQUFTLEVBQUU7RUFDbEJBLFNBQVMsQ0FBQ0EsU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFVBQVU7RUFDakRBLFNBQVMsQ0FBQ0EsU0FBUyxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsc0JBQXNCO0VBQ3pFQSxTQUFTLENBQUNBLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLHdCQUF3QjtFQUM3RUEsU0FBUyxDQUFDQSxTQUFTLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsY0FBYztFQUN6RDtFQUNBQSxTQUFTLENBQUNBLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxVQUFVO0FBQ3pELENBQUMsRUFBRUEsU0FBUyxLQUFLSixpQkFBaUIsR0FBR0ksU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckQ7QUFDQUosdUNBQXVDLEdBQUcsQ0FBQyxDQUFDO0FBQzVDO0FBQ0FBLDBDQUEwQyxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29uc3RhbnRzLmpzPzFjMmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSCA9IGV4cG9ydHMuREVGQVVMVF9NQVhfU0VORF9NRVNTQUdFX0xFTkdUSCA9IGV4cG9ydHMuUHJvcGFnYXRlID0gZXhwb3J0cy5Mb2dWZXJib3NpdHkgPSBleHBvcnRzLlN0YXR1cyA9IHZvaWQgMDtcbnZhciBTdGF0dXM7XG4oZnVuY3Rpb24gKFN0YXR1cykge1xuICAgIFN0YXR1c1tTdGF0dXNbXCJPS1wiXSA9IDBdID0gXCJPS1wiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJDQU5DRUxMRURcIl0gPSAxXSA9IFwiQ0FOQ0VMTEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOS05PV05cIl0gPSAyXSA9IFwiVU5LTk9XTlwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJJTlZBTElEX0FSR1VNRU5UXCJdID0gM10gPSBcIklOVkFMSURfQVJHVU1FTlRcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiREVBRExJTkVfRVhDRUVERURcIl0gPSA0XSA9IFwiREVBRExJTkVfRVhDRUVERURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiTk9UX0ZPVU5EXCJdID0gNV0gPSBcIk5PVF9GT1VORFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJBTFJFQURZX0VYSVNUU1wiXSA9IDZdID0gXCJBTFJFQURZX0VYSVNUU1wiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJQRVJNSVNTSU9OX0RFTklFRFwiXSA9IDddID0gXCJQRVJNSVNTSU9OX0RFTklFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJSRVNPVVJDRV9FWEhBVVNURURcIl0gPSA4XSA9IFwiUkVTT1VSQ0VfRVhIQVVTVEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkZBSUxFRF9QUkVDT05ESVRJT05cIl0gPSA5XSA9IFwiRkFJTEVEX1BSRUNPTkRJVElPTlwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJBQk9SVEVEXCJdID0gMTBdID0gXCJBQk9SVEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIk9VVF9PRl9SQU5HRVwiXSA9IDExXSA9IFwiT1VUX09GX1JBTkdFXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOSU1QTEVNRU5URURcIl0gPSAxMl0gPSBcIlVOSU1QTEVNRU5URURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiSU5URVJOQUxcIl0gPSAxM10gPSBcIklOVEVSTkFMXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOQVZBSUxBQkxFXCJdID0gMTRdID0gXCJVTkFWQUlMQUJMRVwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJEQVRBX0xPU1NcIl0gPSAxNV0gPSBcIkRBVEFfTE9TU1wiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTkFVVEhFTlRJQ0FURURcIl0gPSAxNl0gPSBcIlVOQVVUSEVOVElDQVRFRFwiO1xufSkoU3RhdHVzIHx8IChleHBvcnRzLlN0YXR1cyA9IFN0YXR1cyA9IHt9KSk7XG52YXIgTG9nVmVyYm9zaXR5O1xuKGZ1bmN0aW9uIChMb2dWZXJib3NpdHkpIHtcbiAgICBMb2dWZXJib3NpdHlbTG9nVmVyYm9zaXR5W1wiREVCVUdcIl0gPSAwXSA9IFwiREVCVUdcIjtcbiAgICBMb2dWZXJib3NpdHlbTG9nVmVyYm9zaXR5W1wiSU5GT1wiXSA9IDFdID0gXCJJTkZPXCI7XG4gICAgTG9nVmVyYm9zaXR5W0xvZ1ZlcmJvc2l0eVtcIkVSUk9SXCJdID0gMl0gPSBcIkVSUk9SXCI7XG4gICAgTG9nVmVyYm9zaXR5W0xvZ1ZlcmJvc2l0eVtcIk5PTkVcIl0gPSAzXSA9IFwiTk9ORVwiO1xufSkoTG9nVmVyYm9zaXR5IHx8IChleHBvcnRzLkxvZ1ZlcmJvc2l0eSA9IExvZ1ZlcmJvc2l0eSA9IHt9KSk7XG4vKipcbiAqIE5PVEU6IFRoaXMgZW51bSBpcyBub3QgY3VycmVudGx5IHVzZWQgaW4gYW55IGltcGxlbWVudGVkIEFQSSBpbiB0aGlzXG4gKiBsaWJyYXJ5LiBJdCBpcyBpbmNsdWRlZCBvbmx5IGZvciB0eXBlIHBhcml0eSB3aXRoIHRoZSBvdGhlciBpbXBsZW1lbnRhdGlvbi5cbiAqL1xudmFyIFByb3BhZ2F0ZTtcbihmdW5jdGlvbiAoUHJvcGFnYXRlKSB7XG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkRFQURMSU5FXCJdID0gMV0gPSBcIkRFQURMSU5FXCI7XG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkNFTlNVU19TVEFUU19DT05URVhUXCJdID0gMl0gPSBcIkNFTlNVU19TVEFUU19DT05URVhUXCI7XG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkNFTlNVU19UUkFDSU5HX0NPTlRFWFRcIl0gPSA0XSA9IFwiQ0VOU1VTX1RSQUNJTkdfQ09OVEVYVFwiO1xuICAgIFByb3BhZ2F0ZVtQcm9wYWdhdGVbXCJDQU5DRUxMQVRJT05cIl0gPSA4XSA9IFwiQ0FOQ0VMTEFUSU9OXCI7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL21hc3Rlci9pbmNsdWRlL2dycGMvaW1wbC9jb2RlZ2VuL3Byb3BhZ2F0aW9uX2JpdHMuaCNMNDNcbiAgICBQcm9wYWdhdGVbUHJvcGFnYXRlW1wiREVGQVVMVFNcIl0gPSA2NTUzNV0gPSBcIkRFRkFVTFRTXCI7XG59KShQcm9wYWdhdGUgfHwgKGV4cG9ydHMuUHJvcGFnYXRlID0gUHJvcGFnYXRlID0ge30pKTtcbi8vIC0xIG1lYW5zIHVubGltaXRlZFxuZXhwb3J0cy5ERUZBVUxUX01BWF9TRU5EX01FU1NBR0VfTEVOR1RIID0gLTE7XG4vLyA0IE1CIGRlZmF1bHRcbmV4cG9ydHMuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSCA9IDQgKiAxMDI0ICogMTAyNDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJERUZBVUxUX01BWF9SRUNFSVZFX01FU1NBR0VfTEVOR1RIIiwiREVGQVVMVF9NQVhfU0VORF9NRVNTQUdFX0xFTkdUSCIsIlByb3BhZ2F0ZSIsIkxvZ1ZlcmJvc2l0eSIsIlN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/control-plane-status.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/control-plane-status.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.restrictControlPlaneStatusCode = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst INAPPROPRIATE_CONTROL_PLANE_CODES = [constants_1.Status.OK, constants_1.Status.INVALID_ARGUMENT, constants_1.Status.NOT_FOUND, constants_1.Status.ALREADY_EXISTS, constants_1.Status.FAILED_PRECONDITION, constants_1.Status.ABORTED, constants_1.Status.OUT_OF_RANGE, constants_1.Status.DATA_LOSS];\nfunction restrictControlPlaneStatusCode(code, details) {\n  if (INAPPROPRIATE_CONTROL_PLANE_CODES.includes(code)) {\n    return {\n      code: constants_1.Status.INTERNAL,\n      details: `Invalid status from control plane: ${code} ${constants_1.Status[code]} ${details}`\n    };\n  } else {\n    return {\n      code,\n      details\n    };\n  }\n}\nexports.restrictControlPlaneStatusCode = restrictControlPlaneStatusCode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29udHJvbC1wbGFuZS1zdGF0dXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsc0NBQXNDLEdBQUcsS0FBSyxDQUFDO0FBQy9DLE1BQU1HLFdBQVcsR0FBR0MsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1DLGlDQUFpQyxHQUFHLENBQ3RDRixXQUFXLENBQUNHLE1BQU0sQ0FBQ0MsRUFBRSxFQUNyQkosV0FBVyxDQUFDRyxNQUFNLENBQUNFLGdCQUFnQixFQUNuQ0wsV0FBVyxDQUFDRyxNQUFNLENBQUNHLFNBQVMsRUFDNUJOLFdBQVcsQ0FBQ0csTUFBTSxDQUFDSSxjQUFjLEVBQ2pDUCxXQUFXLENBQUNHLE1BQU0sQ0FBQ0ssbUJBQW1CLEVBQ3RDUixXQUFXLENBQUNHLE1BQU0sQ0FBQ00sT0FBTyxFQUMxQlQsV0FBVyxDQUFDRyxNQUFNLENBQUNPLFlBQVksRUFDL0JWLFdBQVcsQ0FBQ0csTUFBTSxDQUFDUSxTQUFTLENBQy9CO0FBQ0QsU0FBU1osOEJBQThCQSxDQUFDYSxJQUFJLEVBQUVDLE9BQU8sRUFBRTtFQUNuRCxJQUFJWCxpQ0FBaUMsQ0FBQ1ksUUFBUSxDQUFDRixJQUFJLENBQUMsRUFBRTtJQUNsRCxPQUFPO01BQ0hBLElBQUksRUFBRVosV0FBVyxDQUFDRyxNQUFNLENBQUNZLFFBQVE7TUFDakNGLE9BQU8sRUFBRyxzQ0FBcUNELElBQUssSUFBR1osV0FBVyxDQUFDRyxNQUFNLENBQUNTLElBQUksQ0FBRSxJQUFHQyxPQUFRO0lBQy9GLENBQUM7RUFDTCxDQUFDLE1BQ0k7SUFDRCxPQUFPO01BQUVELElBQUk7TUFBRUM7SUFBUSxDQUFDO0VBQzVCO0FBQ0o7QUFDQWhCLHNDQUFzQyxHQUFHRSw4QkFBOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NvbnRyb2wtcGxhbmUtc3RhdHVzLmpzPzc1NDIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBJTkFQUFJPUFJJQVRFX0NPTlRST0xfUExBTkVfQ09ERVMgPSBbXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5JTlZBTElEX0FSR1VNRU5ULFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkFMUkVBRFlfRVhJU1RTLFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5GQUlMRURfUFJFQ09ORElUSU9OLFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5BQk9SVEVELFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5PVVRfT0ZfUkFOR0UsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkRBVEFfTE9TUyxcbl07XG5mdW5jdGlvbiByZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUoY29kZSwgZGV0YWlscykge1xuICAgIGlmIChJTkFQUFJPUFJJQVRFX0NPTlRST0xfUExBTkVfQ09ERVMuaW5jbHVkZXMoY29kZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgIGRldGFpbHM6IGBJbnZhbGlkIHN0YXR1cyBmcm9tIGNvbnRyb2wgcGxhbmU6ICR7Y29kZX0gJHtjb25zdGFudHNfMS5TdGF0dXNbY29kZV19ICR7ZGV0YWlsc31gLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgY29kZSwgZGV0YWlscyB9O1xuICAgIH1cbn1cbmV4cG9ydHMucmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlID0gcmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udHJvbC1wbGFuZS1zdGF0dXMuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlIiwiY29uc3RhbnRzXzEiLCJyZXF1aXJlIiwiSU5BUFBST1BSSUFURV9DT05UUk9MX1BMQU5FX0NPREVTIiwiU3RhdHVzIiwiT0siLCJJTlZBTElEX0FSR1VNRU5UIiwiTk9UX0ZPVU5EIiwiQUxSRUFEWV9FWElTVFMiLCJGQUlMRURfUFJFQ09ORElUSU9OIiwiQUJPUlRFRCIsIk9VVF9PRl9SQU5HRSIsIkRBVEFfTE9TUyIsImNvZGUiLCJkZXRhaWxzIiwiaW5jbHVkZXMiLCJJTlRFUk5BTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/control-plane-status.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/deadline.js":
/*!**********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/deadline.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.deadlineToString = exports.getRelativeTimeout = exports.getDeadlineTimeoutString = exports.minDeadline = void 0;\nfunction minDeadline(...deadlineList) {\n  let minValue = Infinity;\n  for (const deadline of deadlineList) {\n    const deadlineMsecs = deadline instanceof Date ? deadline.getTime() : deadline;\n    if (deadlineMsecs < minValue) {\n      minValue = deadlineMsecs;\n    }\n  }\n  return minValue;\n}\nexports.minDeadline = minDeadline;\nconst units = [['m', 1], ['S', 1000], ['M', 60 * 1000], ['H', 60 * 60 * 1000]];\nfunction getDeadlineTimeoutString(deadline) {\n  const now = new Date().getTime();\n  if (deadline instanceof Date) {\n    deadline = deadline.getTime();\n  }\n  const timeoutMs = Math.max(deadline - now, 0);\n  for (const [unit, factor] of units) {\n    const amount = timeoutMs / factor;\n    if (amount < 1e8) {\n      return String(Math.ceil(amount)) + unit;\n    }\n  }\n  throw new Error('Deadline is too far in the future');\n}\nexports.getDeadlineTimeoutString = getDeadlineTimeoutString;\n/**\n * See https://nodejs.org/api/timers.html#settimeoutcallback-delay-args\n * In particular, \"When delay is larger than 2147483647 or less than 1, the\n * delay will be set to 1. Non-integer delays are truncated to an integer.\"\n * This number of milliseconds is almost 25 days.\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\n/**\n * Get the timeout value that should be passed to setTimeout now for the timer\n * to end at the deadline. For any deadline before now, the timer should end\n * immediately, represented by a value of 0. For any deadline more than\n * MAX_TIMEOUT_TIME milliseconds in the future, a timer cannot be set that will\n * end at that time, so it is treated as infinitely far in the future.\n * @param deadline\n * @returns\n */\nfunction getRelativeTimeout(deadline) {\n  const deadlineMs = deadline instanceof Date ? deadline.getTime() : deadline;\n  const now = new Date().getTime();\n  const timeout = deadlineMs - now;\n  if (timeout < 0) {\n    return 0;\n  } else if (timeout > MAX_TIMEOUT_TIME) {\n    return Infinity;\n  } else {\n    return timeout;\n  }\n}\nexports.getRelativeTimeout = getRelativeTimeout;\nfunction deadlineToString(deadline) {\n  if (deadline instanceof Date) {\n    return deadline.toISOString();\n  } else {\n    const dateDeadline = new Date(deadline);\n    if (Number.isNaN(dateDeadline.getTime())) {\n      return '' + deadline;\n    } else {\n      return dateDeadline.toISOString();\n    }\n  }\n}\nexports.deadlineToString = deadlineToString;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZGVhZGxpbmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsd0JBQXdCLEdBQUdBLDBCQUEwQixHQUFHQSxnQ0FBZ0MsR0FBR0EsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO0FBQ3ZILFNBQVNLLFdBQVdBLENBQUMsR0FBR0MsWUFBWSxFQUFFO0VBQ2xDLElBQUlDLFFBQVEsR0FBR0MsUUFBUTtFQUN2QixLQUFLLE1BQU1DLFFBQVEsSUFBSUgsWUFBWSxFQUFFO0lBQ2pDLE1BQU1JLGFBQWEsR0FBR0QsUUFBUSxZQUFZRSxJQUFJLEdBQUdGLFFBQVEsQ0FBQ0csT0FBTyxDQUFDLENBQUMsR0FBR0gsUUFBUTtJQUM5RSxJQUFJQyxhQUFhLEdBQUdILFFBQVEsRUFBRTtNQUMxQkEsUUFBUSxHQUFHRyxhQUFhO0lBQzVCO0VBQ0o7RUFDQSxPQUFPSCxRQUFRO0FBQ25CO0FBQ0FQLG1CQUFtQixHQUFHSyxXQUFXO0FBQ2pDLE1BQU1RLEtBQUssR0FBRyxDQUNWLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUNSLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUNYLENBQUMsR0FBRyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFDaEIsQ0FBQyxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FDeEI7QUFDRCxTQUFTVCx3QkFBd0JBLENBQUNLLFFBQVEsRUFBRTtFQUN4QyxNQUFNSyxHQUFHLEdBQUcsSUFBSUgsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7RUFDaEMsSUFBSUgsUUFBUSxZQUFZRSxJQUFJLEVBQUU7SUFDMUJGLFFBQVEsR0FBR0EsUUFBUSxDQUFDRyxPQUFPLENBQUMsQ0FBQztFQUNqQztFQUNBLE1BQU1HLFNBQVMsR0FBR0MsSUFBSSxDQUFDQyxHQUFHLENBQUNSLFFBQVEsR0FBR0ssR0FBRyxFQUFFLENBQUMsQ0FBQztFQUM3QyxLQUFLLE1BQU0sQ0FBQ0ksSUFBSSxFQUFFQyxNQUFNLENBQUMsSUFBSU4sS0FBSyxFQUFFO0lBQ2hDLE1BQU1PLE1BQU0sR0FBR0wsU0FBUyxHQUFHSSxNQUFNO0lBQ2pDLElBQUlDLE1BQU0sR0FBRyxHQUFHLEVBQUU7TUFDZCxPQUFPQyxNQUFNLENBQUNMLElBQUksQ0FBQ00sSUFBSSxDQUFDRixNQUFNLENBQUMsQ0FBQyxHQUFHRixJQUFJO0lBQzNDO0VBQ0o7RUFDQSxNQUFNLElBQUlLLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQztBQUN4RDtBQUNBdkIsZ0NBQWdDLEdBQUdJLHdCQUF3QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNb0IsZ0JBQWdCLEdBQUcsVUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTckIsa0JBQWtCQSxDQUFDTSxRQUFRLEVBQUU7RUFDbEMsTUFBTWdCLFVBQVUsR0FBR2hCLFFBQVEsWUFBWUUsSUFBSSxHQUFHRixRQUFRLENBQUNHLE9BQU8sQ0FBQyxDQUFDLEdBQUdILFFBQVE7RUFDM0UsTUFBTUssR0FBRyxHQUFHLElBQUlILElBQUksQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0VBQ2hDLE1BQU1jLE9BQU8sR0FBR0QsVUFBVSxHQUFHWCxHQUFHO0VBQ2hDLElBQUlZLE9BQU8sR0FBRyxDQUFDLEVBQUU7SUFDYixPQUFPLENBQUM7RUFDWixDQUFDLE1BQ0ksSUFBSUEsT0FBTyxHQUFHRixnQkFBZ0IsRUFBRTtJQUNqQyxPQUFPaEIsUUFBUTtFQUNuQixDQUFDLE1BQ0k7SUFDRCxPQUFPa0IsT0FBTztFQUNsQjtBQUNKO0FBQ0ExQiwwQkFBMEIsR0FBR0csa0JBQWtCO0FBQy9DLFNBQVNELGdCQUFnQkEsQ0FBQ08sUUFBUSxFQUFFO0VBQ2hDLElBQUlBLFFBQVEsWUFBWUUsSUFBSSxFQUFFO0lBQzFCLE9BQU9GLFFBQVEsQ0FBQ2tCLFdBQVcsQ0FBQyxDQUFDO0VBQ2pDLENBQUMsTUFDSTtJQUNELE1BQU1DLFlBQVksR0FBRyxJQUFJakIsSUFBSSxDQUFDRixRQUFRLENBQUM7SUFDdkMsSUFBSW9CLE1BQU0sQ0FBQ0MsS0FBSyxDQUFDRixZQUFZLENBQUNoQixPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7TUFDdEMsT0FBTyxFQUFFLEdBQUdILFFBQVE7SUFDeEIsQ0FBQyxNQUNJO01BQ0QsT0FBT21CLFlBQVksQ0FBQ0QsV0FBVyxDQUFDLENBQUM7SUFDckM7RUFDSjtBQUNKO0FBQ0EzQix3QkFBd0IsR0FBR0UsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kZWFkbGluZS5qcz9kZWNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlYWRsaW5lVG9TdHJpbmcgPSBleHBvcnRzLmdldFJlbGF0aXZlVGltZW91dCA9IGV4cG9ydHMuZ2V0RGVhZGxpbmVUaW1lb3V0U3RyaW5nID0gZXhwb3J0cy5taW5EZWFkbGluZSA9IHZvaWQgMDtcbmZ1bmN0aW9uIG1pbkRlYWRsaW5lKC4uLmRlYWRsaW5lTGlzdCkge1xuICAgIGxldCBtaW5WYWx1ZSA9IEluZmluaXR5O1xuICAgIGZvciAoY29uc3QgZGVhZGxpbmUgb2YgZGVhZGxpbmVMaXN0KSB7XG4gICAgICAgIGNvbnN0IGRlYWRsaW5lTXNlY3MgPSBkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUgPyBkZWFkbGluZS5nZXRUaW1lKCkgOiBkZWFkbGluZTtcbiAgICAgICAgaWYgKGRlYWRsaW5lTXNlY3MgPCBtaW5WYWx1ZSkge1xuICAgICAgICAgICAgbWluVmFsdWUgPSBkZWFkbGluZU1zZWNzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW5WYWx1ZTtcbn1cbmV4cG9ydHMubWluRGVhZGxpbmUgPSBtaW5EZWFkbGluZTtcbmNvbnN0IHVuaXRzID0gW1xuICAgIFsnbScsIDFdLFxuICAgIFsnUycsIDEwMDBdLFxuICAgIFsnTScsIDYwICogMTAwMF0sXG4gICAgWydIJywgNjAgKiA2MCAqIDEwMDBdLFxuXTtcbmZ1bmN0aW9uIGdldERlYWRsaW5lVGltZW91dFN0cmluZyhkZWFkbGluZSkge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGlmIChkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgZGVhZGxpbmUgPSBkZWFkbGluZS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVvdXRNcyA9IE1hdGgubWF4KGRlYWRsaW5lIC0gbm93LCAwKTtcbiAgICBmb3IgKGNvbnN0IFt1bml0LCBmYWN0b3JdIG9mIHVuaXRzKSB7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHRpbWVvdXRNcyAvIGZhY3RvcjtcbiAgICAgICAgaWYgKGFtb3VudCA8IDFlOCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhNYXRoLmNlaWwoYW1vdW50KSkgKyB1bml0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignRGVhZGxpbmUgaXMgdG9vIGZhciBpbiB0aGUgZnV0dXJlJyk7XG59XG5leHBvcnRzLmdldERlYWRsaW5lVGltZW91dFN0cmluZyA9IGdldERlYWRsaW5lVGltZW91dFN0cmluZztcbi8qKlxuICogU2VlIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdGltZXJzLmh0bWwjc2V0dGltZW91dGNhbGxiYWNrLWRlbGF5LWFyZ3NcbiAqIEluIHBhcnRpY3VsYXIsIFwiV2hlbiBkZWxheSBpcyBsYXJnZXIgdGhhbiAyMTQ3NDgzNjQ3IG9yIGxlc3MgdGhhbiAxLCB0aGVcbiAqIGRlbGF5IHdpbGwgYmUgc2V0IHRvIDEuIE5vbi1pbnRlZ2VyIGRlbGF5cyBhcmUgdHJ1bmNhdGVkIHRvIGFuIGludGVnZXIuXCJcbiAqIFRoaXMgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpcyBhbG1vc3QgMjUgZGF5cy5cbiAqL1xuY29uc3QgTUFYX1RJTUVPVVRfVElNRSA9IDIxNDc0ODM2NDc7XG4vKipcbiAqIEdldCB0aGUgdGltZW91dCB2YWx1ZSB0aGF0IHNob3VsZCBiZSBwYXNzZWQgdG8gc2V0VGltZW91dCBub3cgZm9yIHRoZSB0aW1lclxuICogdG8gZW5kIGF0IHRoZSBkZWFkbGluZS4gRm9yIGFueSBkZWFkbGluZSBiZWZvcmUgbm93LCB0aGUgdGltZXIgc2hvdWxkIGVuZFxuICogaW1tZWRpYXRlbHksIHJlcHJlc2VudGVkIGJ5IGEgdmFsdWUgb2YgMC4gRm9yIGFueSBkZWFkbGluZSBtb3JlIHRoYW5cbiAqIE1BWF9USU1FT1VUX1RJTUUgbWlsbGlzZWNvbmRzIGluIHRoZSBmdXR1cmUsIGEgdGltZXIgY2Fubm90IGJlIHNldCB0aGF0IHdpbGxcbiAqIGVuZCBhdCB0aGF0IHRpbWUsIHNvIGl0IGlzIHRyZWF0ZWQgYXMgaW5maW5pdGVseSBmYXIgaW4gdGhlIGZ1dHVyZS5cbiAqIEBwYXJhbSBkZWFkbGluZVxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gZ2V0UmVsYXRpdmVUaW1lb3V0KGRlYWRsaW5lKSB7XG4gICAgY29uc3QgZGVhZGxpbmVNcyA9IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSA/IGRlYWRsaW5lLmdldFRpbWUoKSA6IGRlYWRsaW5lO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHRpbWVvdXQgPSBkZWFkbGluZU1zIC0gbm93O1xuICAgIGlmICh0aW1lb3V0IDwgMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGltZW91dCA+IE1BWF9USU1FT1VUX1RJTUUpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXQ7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRSZWxhdGl2ZVRpbWVvdXQgPSBnZXRSZWxhdGl2ZVRpbWVvdXQ7XG5mdW5jdGlvbiBkZWFkbGluZVRvU3RyaW5nKGRlYWRsaW5lKSB7XG4gICAgaWYgKGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gZGVhZGxpbmUudG9JU09TdHJpbmcoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGVEZWFkbGluZSA9IG5ldyBEYXRlKGRlYWRsaW5lKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihkYXRlRGVhZGxpbmUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuICcnICsgZGVhZGxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZURlYWRsaW5lLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmRlYWRsaW5lVG9TdHJpbmcgPSBkZWFkbGluZVRvU3RyaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVhZGxpbmUuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVhZGxpbmVUb1N0cmluZyIsImdldFJlbGF0aXZlVGltZW91dCIsImdldERlYWRsaW5lVGltZW91dFN0cmluZyIsIm1pbkRlYWRsaW5lIiwiZGVhZGxpbmVMaXN0IiwibWluVmFsdWUiLCJJbmZpbml0eSIsImRlYWRsaW5lIiwiZGVhZGxpbmVNc2VjcyIsIkRhdGUiLCJnZXRUaW1lIiwidW5pdHMiLCJub3ciLCJ0aW1lb3V0TXMiLCJNYXRoIiwibWF4IiwidW5pdCIsImZhY3RvciIsImFtb3VudCIsIlN0cmluZyIsImNlaWwiLCJFcnJvciIsIk1BWF9USU1FT1VUX1RJTUUiLCJkZWFkbGluZU1zIiwidGltZW91dCIsInRvSVNPU3RyaW5nIiwiZGF0ZURlYWRsaW5lIiwiTnVtYmVyIiwiaXNOYU4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/deadline.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/duration.js":
/*!**********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/duration.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.isDuration = exports.durationToMs = exports.msToDuration = void 0;\nfunction msToDuration(millis) {\n  return {\n    seconds: millis / 1000 | 0,\n    nanos: millis % 1000 * 1000000 | 0\n  };\n}\nexports.msToDuration = msToDuration;\nfunction durationToMs(duration) {\n  return duration.seconds * 1000 + duration.nanos / 1000000 | 0;\n}\nexports.durationToMs = durationToMs;\nfunction isDuration(value) {\n  return typeof value.seconds === 'number' && typeof value.nanos === 'number';\n}\nexports.isDuration = isDuration;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZHVyYXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsa0JBQWtCLEdBQUdBLG9CQUFvQixHQUFHQSxvQkFBb0IsR0FBRyxLQUFLLENBQUM7QUFDekUsU0FBU0ksWUFBWUEsQ0FBQ0MsTUFBTSxFQUFFO0VBQzFCLE9BQU87SUFDSEMsT0FBTyxFQUFHRCxNQUFNLEdBQUcsSUFBSSxHQUFJLENBQUM7SUFDNUJFLEtBQUssRUFBSUYsTUFBTSxHQUFHLElBQUksR0FBSSxPQUFPLEdBQUk7RUFDekMsQ0FBQztBQUNMO0FBQ0FMLG9CQUFvQixHQUFHSSxZQUFZO0FBQ25DLFNBQVNELFlBQVlBLENBQUNLLFFBQVEsRUFBRTtFQUM1QixPQUFRQSxRQUFRLENBQUNGLE9BQU8sR0FBRyxJQUFJLEdBQUdFLFFBQVEsQ0FBQ0QsS0FBSyxHQUFHLE9BQU8sR0FBSSxDQUFDO0FBQ25FO0FBQ0FQLG9CQUFvQixHQUFHRyxZQUFZO0FBQ25DLFNBQVNELFVBQVVBLENBQUNELEtBQUssRUFBRTtFQUN2QixPQUFPLE9BQU9BLEtBQUssQ0FBQ0ssT0FBTyxLQUFLLFFBQVEsSUFBSSxPQUFPTCxLQUFLLENBQUNNLEtBQUssS0FBSyxRQUFRO0FBQy9FO0FBQ0FQLGtCQUFrQixHQUFHRSxVQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kdXJhdGlvbi5qcz9kMTEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzRHVyYXRpb24gPSBleHBvcnRzLmR1cmF0aW9uVG9NcyA9IGV4cG9ydHMubXNUb0R1cmF0aW9uID0gdm9pZCAwO1xuZnVuY3Rpb24gbXNUb0R1cmF0aW9uKG1pbGxpcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlY29uZHM6IChtaWxsaXMgLyAxMDAwKSB8IDAsXG4gICAgICAgIG5hbm9zOiAoKG1pbGxpcyAlIDEwMDApICogMTAwMDAwMCkgfCAwLFxuICAgIH07XG59XG5leHBvcnRzLm1zVG9EdXJhdGlvbiA9IG1zVG9EdXJhdGlvbjtcbmZ1bmN0aW9uIGR1cmF0aW9uVG9NcyhkdXJhdGlvbikge1xuICAgIHJldHVybiAoZHVyYXRpb24uc2Vjb25kcyAqIDEwMDAgKyBkdXJhdGlvbi5uYW5vcyAvIDEwMDAwMDApIHwgMDtcbn1cbmV4cG9ydHMuZHVyYXRpb25Ub01zID0gZHVyYXRpb25Ub01zO1xuZnVuY3Rpb24gaXNEdXJhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUuc2Vjb25kcyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLm5hbm9zID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNEdXJhdGlvbiA9IGlzRHVyYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kdXJhdGlvbi5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJpc0R1cmF0aW9uIiwiZHVyYXRpb25Ub01zIiwibXNUb0R1cmF0aW9uIiwibWlsbGlzIiwic2Vjb25kcyIsIm5hbm9zIiwiZHVyYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/duration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/error.js":
/*!*******************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/error.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getErrorCode = exports.getErrorMessage = void 0;\nfunction getErrorMessage(error) {\n  if (error instanceof Error) {\n    return error.message;\n  } else {\n    return String(error);\n  }\n}\nexports.getErrorMessage = getErrorMessage;\nfunction getErrorCode(error) {\n  if (typeof error === 'object' && error !== null && 'code' in error && typeof error.code === 'number') {\n    return error.code;\n  } else {\n    return null;\n  }\n}\nexports.getErrorCode = getErrorCode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsb0JBQW9CLEdBQUdBLHVCQUF1QixHQUFHLEtBQUssQ0FBQztBQUN2RCxTQUFTRyxlQUFlQSxDQUFDQyxLQUFLLEVBQUU7RUFDNUIsSUFBSUEsS0FBSyxZQUFZQyxLQUFLLEVBQUU7SUFDeEIsT0FBT0QsS0FBSyxDQUFDRSxPQUFPO0VBQ3hCLENBQUMsTUFDSTtJQUNELE9BQU9DLE1BQU0sQ0FBQ0gsS0FBSyxDQUFDO0VBQ3hCO0FBQ0o7QUFDQUosdUJBQXVCLEdBQUdHLGVBQWU7QUFDekMsU0FBU0QsWUFBWUEsQ0FBQ0UsS0FBSyxFQUFFO0VBQ3pCLElBQUksT0FBT0EsS0FBSyxLQUFLLFFBQVEsSUFDekJBLEtBQUssS0FBSyxJQUFJLElBQ2QsTUFBTSxJQUFJQSxLQUFLLElBQ2YsT0FBT0EsS0FBSyxDQUFDSSxJQUFJLEtBQUssUUFBUSxFQUFFO0lBQ2hDLE9BQU9KLEtBQUssQ0FBQ0ksSUFBSTtFQUNyQixDQUFDLE1BQ0k7SUFDRCxPQUFPLElBQUk7RUFDZjtBQUNKO0FBQ0FSLG9CQUFvQixHQUFHRSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9lcnJvci5qcz9lYzk0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEVycm9yQ29kZSA9IGV4cG9ydHMuZ2V0RXJyb3JNZXNzYWdlID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gU3RyaW5nKGVycm9yKTtcbiAgICB9XG59XG5leHBvcnRzLmdldEVycm9yTWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZTtcbmZ1bmN0aW9uIGdldEVycm9yQ29kZShlcnJvcikge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGVycm9yICE9PSBudWxsICYmXG4gICAgICAgICdjb2RlJyBpbiBlcnJvciAmJlxuICAgICAgICB0eXBlb2YgZXJyb3IuY29kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLmNvZGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLmdldEVycm9yQ29kZSA9IGdldEVycm9yQ29kZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImdldEVycm9yQ29kZSIsImdldEVycm9yTWVzc2FnZSIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwiU3RyaW5nIiwiY29kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/experimental.js":
/*!**************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/experimental.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.OutlierDetectionLoadBalancingConfig = exports.BaseSubchannelWrapper = exports.registerAdminService = exports.FilterStackFactory = exports.BaseFilter = exports.PickResultType = exports.QueuePicker = exports.UnavailablePicker = exports.ChildLoadBalancerHandler = exports.subchannelAddressToString = exports.validateLoadBalancingConfig = exports.getFirstUsableConfig = exports.registerLoadBalancerType = exports.createChildChannelControlHelper = exports.BackoffTimeout = exports.durationToMs = exports.uriToString = exports.createResolver = exports.registerResolver = exports.log = exports.trace = void 0;\nvar logging_1 = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nObject.defineProperty(exports, \"trace\", ({\n  enumerable: true,\n  get: function () {\n    return logging_1.trace;\n  }\n}));\nObject.defineProperty(exports, \"log\", ({\n  enumerable: true,\n  get: function () {\n    return logging_1.log;\n  }\n}));\nvar resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nObject.defineProperty(exports, \"registerResolver\", ({\n  enumerable: true,\n  get: function () {\n    return resolver_1.registerResolver;\n  }\n}));\nObject.defineProperty(exports, \"createResolver\", ({\n  enumerable: true,\n  get: function () {\n    return resolver_1.createResolver;\n  }\n}));\nvar uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nObject.defineProperty(exports, \"uriToString\", ({\n  enumerable: true,\n  get: function () {\n    return uri_parser_1.uriToString;\n  }\n}));\nvar duration_1 = __webpack_require__(/*! ./duration */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/duration.js\");\nObject.defineProperty(exports, \"durationToMs\", ({\n  enumerable: true,\n  get: function () {\n    return duration_1.durationToMs;\n  }\n}));\nvar backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nObject.defineProperty(exports, \"BackoffTimeout\", ({\n  enumerable: true,\n  get: function () {\n    return backoff_timeout_1.BackoffTimeout;\n  }\n}));\nvar load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nObject.defineProperty(exports, \"createChildChannelControlHelper\", ({\n  enumerable: true,\n  get: function () {\n    return load_balancer_1.createChildChannelControlHelper;\n  }\n}));\nObject.defineProperty(exports, \"registerLoadBalancerType\", ({\n  enumerable: true,\n  get: function () {\n    return load_balancer_1.registerLoadBalancerType;\n  }\n}));\nObject.defineProperty(exports, \"getFirstUsableConfig\", ({\n  enumerable: true,\n  get: function () {\n    return load_balancer_1.getFirstUsableConfig;\n  }\n}));\nObject.defineProperty(exports, \"validateLoadBalancingConfig\", ({\n  enumerable: true,\n  get: function () {\n    return load_balancer_1.validateLoadBalancingConfig;\n  }\n}));\nvar subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nObject.defineProperty(exports, \"subchannelAddressToString\", ({\n  enumerable: true,\n  get: function () {\n    return subchannel_address_1.subchannelAddressToString;\n  }\n}));\nvar load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nObject.defineProperty(exports, \"ChildLoadBalancerHandler\", ({\n  enumerable: true,\n  get: function () {\n    return load_balancer_child_handler_1.ChildLoadBalancerHandler;\n  }\n}));\nvar picker_1 = __webpack_require__(/*! ./picker */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\");\nObject.defineProperty(exports, \"UnavailablePicker\", ({\n  enumerable: true,\n  get: function () {\n    return picker_1.UnavailablePicker;\n  }\n}));\nObject.defineProperty(exports, \"QueuePicker\", ({\n  enumerable: true,\n  get: function () {\n    return picker_1.QueuePicker;\n  }\n}));\nObject.defineProperty(exports, \"PickResultType\", ({\n  enumerable: true,\n  get: function () {\n    return picker_1.PickResultType;\n  }\n}));\nvar filter_1 = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/filter.js\");\nObject.defineProperty(exports, \"BaseFilter\", ({\n  enumerable: true,\n  get: function () {\n    return filter_1.BaseFilter;\n  }\n}));\nvar filter_stack_1 = __webpack_require__(/*! ./filter-stack */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/filter-stack.js\");\nObject.defineProperty(exports, \"FilterStackFactory\", ({\n  enumerable: true,\n  get: function () {\n    return filter_stack_1.FilterStackFactory;\n  }\n}));\nvar admin_1 = __webpack_require__(/*! ./admin */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/admin.js\");\nObject.defineProperty(exports, \"registerAdminService\", ({\n  enumerable: true,\n  get: function () {\n    return admin_1.registerAdminService;\n  }\n}));\nvar subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\nObject.defineProperty(exports, \"BaseSubchannelWrapper\", ({\n  enumerable: true,\n  get: function () {\n    return subchannel_interface_1.BaseSubchannelWrapper;\n  }\n}));\nvar load_balancer_outlier_detection_1 = __webpack_require__(/*! ./load-balancer-outlier-detection */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js\");\nObject.defineProperty(exports, \"OutlierDetectionLoadBalancingConfig\", ({\n  enumerable: true,\n  get: function () {\n    return load_balancer_outlier_detection_1.OutlierDetectionLoadBalancingConfig;\n  }\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZXhwZXJpbWVudGFsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCwyQ0FBMkMsR0FBR0EsNkJBQTZCLEdBQUdBLDRCQUE0QixHQUFHQSwwQkFBMEIsR0FBR0Esa0JBQWtCLEdBQUdBLHNCQUFzQixHQUFHQSxtQkFBbUIsR0FBR0EseUJBQXlCLEdBQUdBLGdDQUFnQyxHQUFHQSxpQ0FBaUMsR0FBR0EsbUNBQW1DLEdBQUdBLDRCQUE0QixHQUFHQSxnQ0FBZ0MsR0FBR0EsdUNBQXVDLEdBQUdBLHNCQUFzQixHQUFHQSxvQkFBb0IsR0FBR0EsbUJBQW1CLEdBQUdBLHNCQUFzQixHQUFHQSx3QkFBd0IsR0FBR0EsV0FBVyxHQUFHQSxhQUFhLEdBQUcsS0FBSyxDQUFDO0FBQ2ptQixJQUFJdUIsU0FBUyxHQUFHQyxtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDcEMxQix5Q0FBd0M7RUFBRTJCLFVBQVUsRUFBRSxJQUFJO0VBQUVDLEdBQUcsRUFBRSxTQUFBQSxDQUFBLEVBQVk7SUFBRSxPQUFPSCxTQUFTLENBQUNELEtBQUs7RUFBRTtBQUFFLENBQUMsRUFBQztBQUMzR3hCLHVDQUFzQztFQUFFMkIsVUFBVSxFQUFFLElBQUk7RUFBRUMsR0FBRyxFQUFFLFNBQUFBLENBQUEsRUFBWTtJQUFFLE9BQU9ILFNBQVMsQ0FBQ0YsR0FBRztFQUFFO0FBQUUsQ0FBQyxFQUFDO0FBQ3ZHLElBQUlNLFVBQVUsR0FBR0gsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3RDMUIsb0RBQW1EO0VBQUUyQixVQUFVLEVBQUUsSUFBSTtFQUFFQyxHQUFHLEVBQUUsU0FBQUEsQ0FBQSxFQUFZO0lBQUUsT0FBT0MsVUFBVSxDQUFDUCxnQkFBZ0I7RUFBRTtBQUFFLENBQUMsRUFBQztBQUNsSXRCLGtEQUFpRDtFQUFFMkIsVUFBVSxF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bmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9leHBlcmltZW50YWwuanM/NGFkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWcgPSBleHBvcnRzLkJhc2VTdWJjaGFubmVsV3JhcHBlciA9IGV4cG9ydHMucmVnaXN0ZXJBZG1pblNlcnZpY2UgPSBleHBvcnRzLkZpbHRlclN0YWNrRmFjdG9yeSA9IGV4cG9ydHMuQmFzZUZpbHRlciA9IGV4cG9ydHMuUGlja1Jlc3VsdFR5cGUgPSBleHBvcnRzLlF1ZXVlUGlja2VyID0gZXhwb3J0cy5VbmF2YWlsYWJsZVBpY2tlciA9IGV4cG9ydHMuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyID0gZXhwb3J0cy5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nID0gZXhwb3J0cy52YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWcgPSBleHBvcnRzLmdldEZpcnN0VXNhYmxlQ29uZmlnID0gZXhwb3J0cy5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGUgPSBleHBvcnRzLmNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIgPSBleHBvcnRzLkJhY2tvZmZUaW1lb3V0ID0gZXhwb3J0cy5kdXJhdGlvblRvTXMgPSBleHBvcnRzLnVyaVRvU3RyaW5nID0gZXhwb3J0cy5jcmVhdGVSZXNvbHZlciA9IGV4cG9ydHMucmVnaXN0ZXJSZXNvbHZlciA9IGV4cG9ydHMubG9nID0gZXhwb3J0cy50cmFjZSA9IHZvaWQgMDtcbnZhciBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidHJhY2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvZ2dpbmdfMS50cmFjZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImxvZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9nZ2luZ18xLmxvZzsgfSB9KTtcbnZhciByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWdpc3RlclJlc29sdmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVSZXNvbHZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZXJfMS5jcmVhdGVSZXNvbHZlcjsgfSB9KTtcbnZhciB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidXJpVG9TdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZzsgfSB9KTtcbnZhciBkdXJhdGlvbl8xID0gcmVxdWlyZShcIi4vZHVyYXRpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkdXJhdGlvblRvTXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zOyB9IH0pO1xudmFyIGJhY2tvZmZfdGltZW91dF8xID0gcmVxdWlyZShcIi4vYmFja29mZi10aW1lb3V0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmFja29mZlRpbWVvdXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0OyB9IH0pO1xudmFyIGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyXzEuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImdldEZpcnN0VXNhYmxlQ29uZmlnXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyXzEuZ2V0Rmlyc3RVc2FibGVDb25maWc7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvYWRfYmFsYW5jZXJfMS52YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWc7IH0gfSk7XG52YXIgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nOyB9IH0pO1xudmFyIGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyX2NoaWxkX2hhbmRsZXJfMS5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXI7IH0gfSk7XG52YXIgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJVbmF2YWlsYWJsZVBpY2tlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJRdWV1ZVBpY2tlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGlja2VyXzEuUXVldWVQaWNrZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQaWNrUmVzdWx0VHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGlja2VyXzEuUGlja1Jlc3VsdFR5cGU7IH0gfSk7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCYXNlRmlsdGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXJfMS5CYXNlRmlsdGVyOyB9IH0pO1xudmFyIGZpbHRlcl9zdGFja18xID0gcmVxdWlyZShcIi4vZmlsdGVyLXN0YWNrXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmlsdGVyU3RhY2tGYWN0b3J5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXJfc3RhY2tfMS5GaWx0ZXJTdGFja0ZhY3Rvcnk7IH0gfSk7XG52YXIgYWRtaW5fMSA9IHJlcXVpcmUoXCIuL2FkbWluXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVnaXN0ZXJBZG1pblNlcnZpY2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFkbWluXzEucmVnaXN0ZXJBZG1pblNlcnZpY2U7IH0gfSk7XG52YXIgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtaW50ZXJmYWNlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmFzZVN1YmNoYW5uZWxXcmFwcGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJjaGFubmVsX2ludGVyZmFjZV8xLkJhc2VTdWJjaGFubmVsV3JhcHBlcjsgfSB9KTtcbnZhciBsb2FkX2JhbGFuY2VyX291dGxpZXJfZGV0ZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvYWRfYmFsYW5jZXJfb3V0bGllcl9kZXRlY3Rpb25fMS5PdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2luZ0NvbmZpZzsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGVyaW1lbnRhbC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJPdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2luZ0NvbmZpZyIsIkJhc2VTdWJjaGFubmVsV3JhcHBlciIsInJlZ2lzdGVyQWRtaW5TZXJ2aWNlIiwiRmlsdGVyU3RhY2tGYWN0b3J5IiwiQmFzZUZpbHRlciIsIlBpY2tSZXN1bHRUeXBlIiwiUXVldWVQaWNrZXIiLCJVbmF2YWlsYWJsZVBpY2tlciIsIkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlciIsInN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmciLCJ2YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWciLCJnZXRGaXJzdFVzYWJsZUNvbmZpZyIsInJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSIsImNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIiLCJCYWNrb2ZmVGltZW91dCIsImR1cmF0aW9uVG9NcyIsInVyaVRvU3RyaW5nIiwiY3JlYXRlUmVzb2x2ZXIiLCJyZWdpc3RlclJlc29sdmVyIiwibG9nIiwidHJhY2UiLCJsb2dnaW5nXzEiLCJyZXF1aXJlIiwiZW51bWVyYWJsZSIsImdldCIsInJlc29sdmVyXzEiLCJ1cmlfcGFyc2VyXzEiLCJkdXJhdGlvbl8xIiwiYmFja29mZl90aW1lb3V0XzEiLCJsb2FkX2JhbGFuY2VyXzEiLCJzdWJjaGFubmVsX2FkZHJlc3NfMSIsImxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xIiwicGlja2VyXzEiLCJmaWx0ZXJfMSIsImZpbHRlcl9zdGFja18xIiwiYWRtaW5fMSIsInN1YmNoYW5uZWxfaW50ZXJmYWNlXzEiLCJsb2FkX2JhbGFuY2VyX291dGxpZXJfZGV0ZWN0aW9uXzEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/experimental.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/filter-stack.js":
/*!**************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/filter-stack.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.FilterStackFactory = exports.FilterStack = void 0;\nclass FilterStack {\n  constructor(filters) {\n    this.filters = filters;\n  }\n  sendMetadata(metadata) {\n    let result = metadata;\n    for (let i = 0; i < this.filters.length; i++) {\n      result = this.filters[i].sendMetadata(result);\n    }\n    return result;\n  }\n  receiveMetadata(metadata) {\n    let result = metadata;\n    for (let i = this.filters.length - 1; i >= 0; i--) {\n      result = this.filters[i].receiveMetadata(result);\n    }\n    return result;\n  }\n  sendMessage(message) {\n    let result = message;\n    for (let i = 0; i < this.filters.length; i++) {\n      result = this.filters[i].sendMessage(result);\n    }\n    return result;\n  }\n  receiveMessage(message) {\n    let result = message;\n    for (let i = this.filters.length - 1; i >= 0; i--) {\n      result = this.filters[i].receiveMessage(result);\n    }\n    return result;\n  }\n  receiveTrailers(status) {\n    let result = status;\n    for (let i = this.filters.length - 1; i >= 0; i--) {\n      result = this.filters[i].receiveTrailers(result);\n    }\n    return result;\n  }\n  push(filters) {\n    this.filters.unshift(...filters);\n  }\n  getFilters() {\n    return this.filters;\n  }\n}\nexports.FilterStack = FilterStack;\nclass FilterStackFactory {\n  constructor(factories) {\n    this.factories = factories;\n  }\n  push(filterFactories) {\n    this.factories.unshift(...filterFactories);\n  }\n  clone() {\n    return new FilterStackFactory([...this.factories]);\n  }\n  createFilter() {\n    return new FilterStack(this.factories.map(factory => factory.createFilter()));\n  }\n}\nexports.FilterStackFactory = FilterStackFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLXN0YWNrLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELDBCQUEwQixHQUFHQSxtQkFBbUIsR0FBRyxLQUFLLENBQUM7QUFDekQsTUFBTUcsV0FBVyxDQUFDO0VBQ2RDLFdBQVdBLENBQUNDLE9BQU8sRUFBRTtJQUNqQixJQUFJLENBQUNBLE9BQU8sR0FBR0EsT0FBTztFQUMxQjtFQUNBQyxZQUFZQSxDQUFDQyxRQUFRLEVBQUU7SUFDbkIsSUFBSUMsTUFBTSxHQUFHRCxRQUFRO0lBQ3JCLEtBQUssSUFBSUUsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQzFDRCxNQUFNLEdBQUcsSUFBSSxDQUFDSCxPQUFPLENBQUNJLENBQUMsQ0FBQyxDQUFDSCxZQUFZLENBQUNFLE1BQU0sQ0FBQztJQUNqRDtJQUNBLE9BQU9BLE1BQU07RUFDakI7RUFDQUcsZUFBZUEsQ0FBQ0osUUFBUSxFQUFFO0lBQ3RCLElBQUlDLE1BQU0sR0FBR0QsUUFBUTtJQUNyQixLQUFLLElBQUlFLENBQUMsR0FBRyxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ssTUFBTSxHQUFHLENBQUMsRUFBRUQsQ0FBQyxJQUFJLENBQUMsRUFBRUEsQ0FBQyxFQUFFLEVBQUU7TUFDL0NELE1BQU0sR0FBRyxJQUFJLENBQUNILE9BQU8sQ0FBQ0ksQ0FBQyxDQUFDLENBQUNFLGVBQWUsQ0FBQ0gsTUFBTSxDQUFDO0lBQ3BEO0lBQ0EsT0FBT0EsTUFBTTtFQUNqQjtFQUNBSSxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDakIsSUFBSUwsTUFBTSxHQUFHSyxPQUFPO0lBQ3BCLEtBQUssSUFBSUosQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQzFDRCxNQUFNLEdBQUcsSUFBSSxDQUFDSCxPQUFPLENBQUNJLENBQUMsQ0FBQyxDQUFDRyxXQUFXLENBQUNKLE1BQU0sQ0FBQztJQUNoRDtJQUNBLE9BQU9BLE1BQU07RUFDakI7RUFDQU0sY0FBY0EsQ0FBQ0QsT0FBTyxFQUFFO0lBQ3BCLElBQUlMLE1BQU0sR0FBR0ssT0FBTztJQUNwQixLQUFLLElBQUlKLENBQUMsR0FBRyxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ssTUFBTSxHQUFHLENBQUMsRUFBRUQsQ0FBQyxJQUFJLENBQUMsRUFBRUEsQ0FBQyxFQUFFLEVBQUU7TUFDL0NELE1BQU0sR0FBRyxJQUFJLENBQUNILE9BQU8sQ0FBQ0ksQ0FBQyxDQUFDLENBQUNLLGNBQWMsQ0FBQ04sTUFBTSxDQUFDO0lBQ25EO0lBQ0EsT0FBT0EsTUFBTTtFQUNqQjtFQUNBTyxlQUFlQSxDQUFDQyxNQUFNLEVBQUU7SUFDcEIsSUFBSVIsTUFBTSxHQUFHUSxNQUFNO0lBQ25CLEtBQUssSUFBSVAsQ0FBQyxHQUFHLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxNQUFNLEdBQUcsQ0FBQyxFQUFFRCxDQUFDLElBQUksQ0FBQyxFQUFFQSxDQUFDLEVBQUUsRUFBRTtNQUMvQ0QsTUFBTSxHQUFHLElBQUksQ0FBQ0gsT0FBTyxDQUFDSSxDQUFDLENBQUMsQ0FBQ00sZUFBZSxDQUFDUCxNQUFNLENBQUM7SUFDcEQ7SUFDQSxPQUFPQSxNQUFNO0VBQ2pCO0VBQ0FTLElBQUlBLENBQUNaLE9BQU8sRUFBRTtJQUNWLElBQUksQ0FBQ0EsT0FBTyxDQUFDYSxPQUFPLENBQUMsR0FBR2IsT0FBTyxDQUFDO0VBQ3BDO0VBQ0FjLFVBQVVBLENBQUEsRUFBRztJQUNULE9BQU8sSUFBSSxDQUFDZCxPQUFPO0VBQ3ZCO0FBQ0o7QUFDQUwsbUJBQW1CLEdBQUdHLFdBQVc7QUFDakMsTUFBTUQsa0JBQWtCLENBQUM7RUFDckJFLFdBQVdBLENBQUNnQixTQUFTLEVBQUU7SUFDbkIsSUFBSSxDQUFDQSxTQUFTLEdBQUdBLFNBQVM7RUFDOUI7RUFDQUgsSUFBSUEsQ0FBQ0ksZUFBZSxFQUFFO0lBQ2xCLElBQUksQ0FBQ0QsU0FBUyxDQUFDRixPQUFPLENBQUMsR0FBR0csZUFBZSxDQUFDO0VBQzlDO0VBQ0FDLEtBQUtBLENBQUEsRUFBRztJQUNKLE9BQU8sSUFBSXBCLGtCQUFrQixDQUFDLENBQUMsR0FBRyxJQUFJLENBQUNrQixTQUFTLENBQUMsQ0FBQztFQUN0RDtFQUNBRyxZQUFZQSxDQUFBLEVBQUc7SUFDWCxPQUFPLElBQUlwQixXQUFXLENBQUMsSUFBSSxDQUFDaUIsU0FBUyxDQUFDSSxHQUFHLENBQUNDLE9BQU8sSUFBSUEsT0FBTyxDQUFDRixZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDakY7QUFDSjtBQUNBdkIsMEJBQTBCLEdBQUdFLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLXN0YWNrLmpzPzc1MzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmlsdGVyU3RhY2tGYWN0b3J5ID0gZXhwb3J0cy5GaWx0ZXJTdGFjayA9IHZvaWQgMDtcbmNsYXNzIEZpbHRlclN0YWNrIHtcbiAgICBjb25zdHJ1Y3RvcihmaWx0ZXJzKSB7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbWV0YWRhdGE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0uc2VuZE1ldGFkYXRhKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBtZXRhZGF0YTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maWx0ZXJzW2ldLnJlY2VpdmVNZXRhZGF0YShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG1lc3NhZ2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0uc2VuZE1lc3NhZ2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBtZXNzYWdlO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5maWx0ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0ucmVjZWl2ZU1lc3NhZ2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZWNlaXZlVHJhaWxlcnMoc3RhdHVzKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBzdGF0dXM7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmlsdGVyc1tpXS5yZWNlaXZlVHJhaWxlcnMocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBwdXNoKGZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJzLnVuc2hpZnQoLi4uZmlsdGVycyk7XG4gICAgfVxuICAgIGdldEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcnM7XG4gICAgfVxufVxuZXhwb3J0cy5GaWx0ZXJTdGFjayA9IEZpbHRlclN0YWNrO1xuY2xhc3MgRmlsdGVyU3RhY2tGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBmYWN0b3JpZXM7XG4gICAgfVxuICAgIHB1c2goZmlsdGVyRmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzLnVuc2hpZnQoLi4uZmlsdGVyRmFjdG9yaWVzKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmlsdGVyU3RhY2tGYWN0b3J5KFsuLi50aGlzLmZhY3Rvcmllc10pO1xuICAgIH1cbiAgICBjcmVhdGVGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmlsdGVyU3RhY2sodGhpcy5mYWN0b3JpZXMubWFwKGZhY3RvcnkgPT4gZmFjdG9yeS5jcmVhdGVGaWx0ZXIoKSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmlsdGVyU3RhY2tGYWN0b3J5ID0gRmlsdGVyU3RhY2tGYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLXN0YWNrLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkZpbHRlclN0YWNrRmFjdG9yeSIsIkZpbHRlclN0YWNrIiwiY29uc3RydWN0b3IiLCJmaWx0ZXJzIiwic2VuZE1ldGFkYXRhIiwibWV0YWRhdGEiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwicmVjZWl2ZU1ldGFkYXRhIiwic2VuZE1lc3NhZ2UiLCJtZXNzYWdlIiwicmVjZWl2ZU1lc3NhZ2UiLCJyZWNlaXZlVHJhaWxlcnMiLCJzdGF0dXMiLCJwdXNoIiwidW5zaGlmdCIsImdldEZpbHRlcnMiLCJmYWN0b3JpZXMiLCJmaWx0ZXJGYWN0b3JpZXMiLCJjbG9uZSIsImNyZWF0ZUZpbHRlciIsIm1hcCIsImZhY3RvcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/filter-stack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/filter.js":
/*!********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/filter.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseFilter = void 0;\nclass BaseFilter {\n  async sendMetadata(metadata) {\n    return metadata;\n  }\n  receiveMetadata(metadata) {\n    return metadata;\n  }\n  async sendMessage(message) {\n    return message;\n  }\n  async receiveMessage(message) {\n    return message;\n  }\n  receiveTrailers(status) {\n    return status;\n  }\n}\nexports.BaseFilter = BaseFilter;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGtCQUFrQixHQUFHLEtBQUssQ0FBQztBQUMzQixNQUFNRSxVQUFVLENBQUM7RUFDYixNQUFNQyxZQUFZQSxDQUFDQyxRQUFRLEVBQUU7SUFDekIsT0FBT0EsUUFBUTtFQUNuQjtFQUNBQyxlQUFlQSxDQUFDRCxRQUFRLEVBQUU7SUFDdEIsT0FBT0EsUUFBUTtFQUNuQjtFQUNBLE1BQU1FLFdBQVdBLENBQUNDLE9BQU8sRUFBRTtJQUN2QixPQUFPQSxPQUFPO0VBQ2xCO0VBQ0EsTUFBTUMsY0FBY0EsQ0FBQ0QsT0FBTyxFQUFFO0lBQzFCLE9BQU9BLE9BQU87RUFDbEI7RUFDQUUsZUFBZUEsQ0FBQ0MsTUFBTSxFQUFFO0lBQ3BCLE9BQU9BLE1BQU07RUFDakI7QUFDSjtBQUNBVixrQkFBa0IsR0FBR0UsVUFBVSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLmpzPzBmMzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFzZUZpbHRlciA9IHZvaWQgMDtcbmNsYXNzIEJhc2VGaWx0ZXIge1xuICAgIGFzeW5jIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIHJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGFzeW5jIHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHJlY2VpdmVUcmFpbGVycyhzdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59XG5leHBvcnRzLkJhc2VGaWx0ZXIgPSBCYXNlRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkJhc2VGaWx0ZXIiLCJzZW5kTWV0YWRhdGEiLCJtZXRhZGF0YSIsInJlY2VpdmVNZXRhZGF0YSIsInNlbmRNZXNzYWdlIiwibWVzc2FnZSIsInJlY2VpdmVNZXNzYWdlIiwicmVjZWl2ZVRyYWlsZXJzIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/http_proxy.js":
/*!************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/http_proxy.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getProxiedConnection = exports.mapProxyName = void 0;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst url_1 = __webpack_require__(/*! url */ \"url\");\nconst resolver_dns_1 = __webpack_require__(/*! ./resolver-dns */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-dns.js\");\nconst TRACER_NAME = 'proxy';\nfunction trace(text) {\n  logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nfunction getProxyInfo() {\n  let proxyEnv = '';\n  let envVar = '';\n  /* Prefer using 'grpc_proxy'. Fallback on 'http_proxy' if it is not set.\n   * Also prefer using 'https_proxy' with fallback on 'http_proxy'. The\n   * fallback behavior can be removed if there's a demand for it.\n   */\n  if (process.env.grpc_proxy) {\n    envVar = 'grpc_proxy';\n    proxyEnv = process.env.grpc_proxy;\n  } else if (process.env.https_proxy) {\n    envVar = 'https_proxy';\n    proxyEnv = process.env.https_proxy;\n  } else if (process.env.http_proxy) {\n    envVar = 'http_proxy';\n    proxyEnv = process.env.http_proxy;\n  } else {\n    return {};\n  }\n  let proxyUrl;\n  try {\n    proxyUrl = new url_1.URL(proxyEnv);\n  } catch (e) {\n    (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `cannot parse value of \"${envVar}\" env var`);\n    return {};\n  }\n  if (proxyUrl.protocol !== 'http:') {\n    (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `\"${proxyUrl.protocol}\" scheme not supported in proxy URI`);\n    return {};\n  }\n  let userCred = null;\n  if (proxyUrl.username) {\n    if (proxyUrl.password) {\n      (0, logging_1.log)(constants_1.LogVerbosity.INFO, 'userinfo found in proxy URI');\n      userCred = `${proxyUrl.username}:${proxyUrl.password}`;\n    } else {\n      userCred = proxyUrl.username;\n    }\n  }\n  const hostname = proxyUrl.hostname;\n  let port = proxyUrl.port;\n  /* The proxy URL uses the scheme \"http:\", which has a default port number of\n   * 80. We need to set that explicitly here if it is omitted because otherwise\n   * it will use gRPC's default port 443. */\n  if (port === '') {\n    port = '80';\n  }\n  const result = {\n    address: `${hostname}:${port}`\n  };\n  if (userCred) {\n    result.creds = userCred;\n  }\n  trace('Proxy server ' + result.address + ' set by environment variable ' + envVar);\n  return result;\n}\nfunction getNoProxyHostList() {\n  /* Prefer using 'no_grpc_proxy'. Fallback on 'no_proxy' if it is not set. */\n  let noProxyStr = process.env.no_grpc_proxy;\n  let envVar = 'no_grpc_proxy';\n  if (!noProxyStr) {\n    noProxyStr = process.env.no_proxy;\n    envVar = 'no_proxy';\n  }\n  if (noProxyStr) {\n    trace('No proxy server list set by environment variable ' + envVar);\n    return noProxyStr.split(',');\n  } else {\n    return [];\n  }\n}\nfunction mapProxyName(target, options) {\n  var _a;\n  const noProxyResult = {\n    target: target,\n    extraOptions: {}\n  };\n  if (((_a = options['grpc.enable_http_proxy']) !== null && _a !== void 0 ? _a : 1) === 0) {\n    return noProxyResult;\n  }\n  if (target.scheme === 'unix') {\n    return noProxyResult;\n  }\n  const proxyInfo = getProxyInfo();\n  if (!proxyInfo.address) {\n    return noProxyResult;\n  }\n  const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n  if (!hostPort) {\n    return noProxyResult;\n  }\n  const serverHost = hostPort.host;\n  for (const host of getNoProxyHostList()) {\n    if (host === serverHost) {\n      trace('Not using proxy for target in no_proxy list: ' + (0, uri_parser_1.uriToString)(target));\n      return noProxyResult;\n    }\n  }\n  const extraOptions = {\n    'grpc.http_connect_target': (0, uri_parser_1.uriToString)(target)\n  };\n  if (proxyInfo.creds) {\n    extraOptions['grpc.http_connect_creds'] = proxyInfo.creds;\n  }\n  return {\n    target: {\n      scheme: 'dns',\n      path: proxyInfo.address\n    },\n    extraOptions: extraOptions\n  };\n}\nexports.mapProxyName = mapProxyName;\nfunction getProxiedConnection(address, channelOptions, connectionOptions) {\n  var _a;\n  if (!('grpc.http_connect_target' in channelOptions)) {\n    return Promise.resolve({});\n  }\n  const realTarget = channelOptions['grpc.http_connect_target'];\n  const parsedTarget = (0, uri_parser_1.parseUri)(realTarget);\n  if (parsedTarget === null) {\n    return Promise.resolve({});\n  }\n  const splitHostPost = (0, uri_parser_1.splitHostPort)(parsedTarget.path);\n  if (splitHostPost === null) {\n    return Promise.resolve({});\n  }\n  const hostPort = `${splitHostPost.host}:${(_a = splitHostPost.port) !== null && _a !== void 0 ? _a : resolver_dns_1.DEFAULT_PORT}`;\n  const options = {\n    method: 'CONNECT',\n    path: hostPort\n  };\n  const headers = {\n    Host: hostPort\n  };\n  // Connect to the subchannel address as a proxy\n  if ((0, subchannel_address_1.isTcpSubchannelAddress)(address)) {\n    options.host = address.host;\n    options.port = address.port;\n  } else {\n    options.socketPath = address.path;\n  }\n  if ('grpc.http_connect_creds' in channelOptions) {\n    headers['Proxy-Authorization'] = 'Basic ' + Buffer.from(channelOptions['grpc.http_connect_creds']).toString('base64');\n  }\n  options.headers = headers;\n  const proxyAddressString = (0, subchannel_address_1.subchannelAddressToString)(address);\n  trace('Using proxy ' + proxyAddressString + ' to connect to ' + options.path);\n  return new Promise((resolve, reject) => {\n    const request = http.request(options);\n    request.once('connect', (res, socket, head) => {\n      var _a;\n      request.removeAllListeners();\n      socket.removeAllListeners();\n      if (res.statusCode === 200) {\n        trace('Successfully connected to ' + options.path + ' through proxy ' + proxyAddressString);\n        if ('secureContext' in connectionOptions) {\n          /* The proxy is connecting to a TLS server, so upgrade this socket\n           * connection to a TLS connection.\n           * This is a workaround for https://github.com/nodejs/node/issues/32922\n           * See https://github.com/grpc/grpc-node/pull/1369 for more info. */\n          const targetPath = (0, resolver_1.getDefaultAuthority)(parsedTarget);\n          const hostPort = (0, uri_parser_1.splitHostPort)(targetPath);\n          const remoteHost = (_a = hostPort === null || hostPort === void 0 ? void 0 : hostPort.host) !== null && _a !== void 0 ? _a : targetPath;\n          const cts = tls.connect(Object.assign({\n            host: remoteHost,\n            servername: remoteHost,\n            socket: socket\n          }, connectionOptions), () => {\n            trace('Successfully established a TLS connection to ' + options.path + ' through proxy ' + proxyAddressString);\n            resolve({\n              socket: cts,\n              realTarget: parsedTarget\n            });\n          });\n          cts.on('error', error => {\n            trace('Failed to establish a TLS connection to ' + options.path + ' through proxy ' + proxyAddressString + ' with error ' + error.message);\n            reject();\n          });\n        } else {\n          trace('Successfully established a plaintext connection to ' + options.path + ' through proxy ' + proxyAddressString);\n          resolve({\n            socket,\n            realTarget: parsedTarget\n          });\n        }\n      } else {\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to ' + options.path + ' through proxy ' + proxyAddressString + ' with status ' + res.statusCode);\n        reject();\n      }\n    });\n    request.once('error', err => {\n      request.removeAllListeners();\n      (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to proxy ' + proxyAddressString + ' with error ' + err.message);\n      reject();\n    });\n    request.end();\n  });\n}\nexports.getProxiedConnection = getProxiedConnection;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaHR0cF9wcm94eS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCw0QkFBNEIsR0FBR0Esb0JBQW9CLEdBQUcsS0FBSyxDQUFDO0FBQzVELE1BQU1JLFNBQVMsR0FBR0MsbUJBQU8sQ0FBQywwRUFBVyxDQUFDO0FBQ3RDLE1BQU1DLFdBQVcsR0FBR0QsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1FLFVBQVUsR0FBR0YsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1HLElBQUksR0FBR0gsbUJBQU8sQ0FBQyxrQkFBTSxDQUFDO0FBQzVCLE1BQU1JLEdBQUcsR0FBR0osbUJBQU8sQ0FBQyxnQkFBSyxDQUFDO0FBQzFCLE1BQU1LLE9BQU8sR0FBR0wsbUJBQU8sQ0FBQywwRUFBVyxDQUFDO0FBQ3BDLE1BQU1NLG9CQUFvQixHQUFHTixtQkFBTyxDQUFDLGdHQUFzQixDQUFDO0FBQzVELE1BQU1PLFlBQVksR0FBR1AsbUJBQU8sQ0FBQyxnRkFBYyxDQUFDO0FBQzVDLE1BQU1RLEtBQUssR0FBR1IsbUJBQU8sQ0FBQyxnQkFBSyxDQUFDO0FBQzVCLE1BQU1TLGNBQWMsR0FBR1QsbUJBQU8sQ0FBQyxvRkFBZ0IsQ0FBQztBQUNoRCxNQUFNVSxXQUFXLEdBQUcsT0FBTztBQUMzQixTQUFTQyxLQUFLQSxDQUFDQyxJQUFJLEVBQUU7RUFDakJQLE9BQU8sQ0FBQ00sS0FBSyxDQUFDVixXQUFXLENBQUNZLFlBQVksQ0FBQ0MsS0FBSyxFQUFFSixXQUFXLEVBQUVFLElBQUksQ0FBQztBQUNwRTtBQUNBLFNBQVNHLFlBQVlBLENBQUEsRUFBRztFQUNw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QyxDQUFDO01BQzVCLENBQUMsQ0FBQyxFQUFFbEYsU0FBUyxDQUFDMkIsR0FBRyxFQUFFekIsV0FBVyxDQUFDWSxZQUFZLENBQUNjLEtBQUssRUFBRSw2QkFBNkIsR0FDNUU4QyxrQkFBa0IsR0FDbEIsY0FBYyxHQUNkb0IsR0FBRyxDQUFDRCxPQUFPLENBQUM7TUFDaEJqQixNQUFNLENBQUMsQ0FBQztJQUNaLENBQUMsQ0FBQztJQUNGQyxPQUFPLENBQUNrQixHQUFHLENBQUMsQ0FBQztFQUNqQixDQUFDLENBQUM7QUFDTjtBQUNBbkcsNEJBQTRCLEdBQUdFLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaHR0cF9wcm94eS5qcz8yOGUzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFByb3hpZWRDb25uZWN0aW9uID0gZXhwb3J0cy5tYXBQcm94eU5hbWUgPSB2b2lkIDA7XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5jb25zdCBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG5jb25zdCB0bHMgPSByZXF1aXJlKFwidGxzXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCB1cmxfMSA9IHJlcXVpcmUoXCJ1cmxcIik7XG5jb25zdCByZXNvbHZlcl9kbnNfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyLWRuc1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3Byb3h5JztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuZnVuY3Rpb24gZ2V0UHJveHlJbmZvKCkge1xuICAgIGxldCBwcm94eUVudiA9ICcnO1xuICAgIGxldCBlbnZWYXIgPSAnJztcbiAgICAvKiBQcmVmZXIgdXNpbmcgJ2dycGNfcHJveHknLiBGYWxsYmFjayBvbiAnaHR0cF9wcm94eScgaWYgaXQgaXMgbm90IHNldC5cbiAgICAgKiBBbHNvIHByZWZlciB1c2luZyAnaHR0cHNfcHJveHknIHdpdGggZmFsbGJhY2sgb24gJ2h0dHBfcHJveHknLiBUaGVcbiAgICAgKiBmYWxsYmFjayBiZWhhdmlvciBjYW4gYmUgcmVtb3ZlZCBpZiB0aGVyZSdzIGEgZGVtYW5kIGZvciBpdC5cbiAgICAgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuZ3JwY19wcm94eSkge1xuICAgICAgICBlbnZWYXIgPSAnZ3JwY19wcm94eSc7XG4gICAgICAgIHByb3h5RW52ID0gcHJvY2Vzcy5lbnYuZ3JwY19wcm94eTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuaHR0cHNfcHJveHkpIHtcbiAgICAgICAgZW52VmFyID0gJ2h0dHBzX3Byb3h5JztcbiAgICAgICAgcHJveHlFbnYgPSBwcm9jZXNzLmVudi5odHRwc19wcm94eTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuaHR0cF9wcm94eSkge1xuICAgICAgICBlbnZWYXIgPSAnaHR0cF9wcm94eSc7XG4gICAgICAgIHByb3h5RW52ID0gcHJvY2Vzcy5lbnYuaHR0cF9wcm94eTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgbGV0IHByb3h5VXJsO1xuICAgIHRyeSB7XG4gICAgICAgIHByb3h5VXJsID0gbmV3IHVybF8xLlVSTChwcm94eUVudik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIGBjYW5ub3QgcGFyc2UgdmFsdWUgb2YgXCIke2VudlZhcn1cIiBlbnYgdmFyYCk7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKHByb3h5VXJsLnByb3RvY29sICE9PSAnaHR0cDonKSB7XG4gICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIGBcIiR7cHJveHlVcmwucHJvdG9jb2x9XCIgc2NoZW1lIG5vdCBzdXBwb3J0ZWQgaW4gcHJveHkgVVJJYCk7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgbGV0IHVzZXJDcmVkID0gbnVsbDtcbiAgICBpZiAocHJveHlVcmwudXNlcm5hbWUpIHtcbiAgICAgICAgaWYgKHByb3h5VXJsLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LklORk8sICd1c2VyaW5mbyBmb3VuZCBpbiBwcm94eSBVUkknKTtcbiAgICAgICAgICAgIHVzZXJDcmVkID0gYCR7cHJveHlVcmwudXNlcm5hbWV9OiR7cHJveHlVcmwucGFzc3dvcmR9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJDcmVkID0gcHJveHlVcmwudXNlcm5hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaG9zdG5hbWUgPSBwcm94eVVybC5ob3N0bmFtZTtcbiAgICBsZXQgcG9ydCA9IHByb3h5VXJsLnBvcnQ7XG4gICAgLyogVGhlIHByb3h5IFVSTCB1c2VzIHRoZSBzY2hlbWUgXCJodHRwOlwiLCB3aGljaCBoYXMgYSBkZWZhdWx0IHBvcnQgbnVtYmVyIG9mXG4gICAgICogODAuIFdlIG5lZWQgdG8gc2V0IHRoYXQgZXhwbGljaXRseSBoZXJlIGlmIGl0IGlzIG9taXR0ZWQgYmVjYXVzZSBvdGhlcndpc2VcbiAgICAgKiBpdCB3aWxsIHVzZSBnUlBDJ3MgZGVmYXVsdCBwb3J0IDQ0My4gKi9cbiAgICBpZiAocG9ydCA9PT0gJycpIHtcbiAgICAgICAgcG9ydCA9ICc4MCc7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgYWRkcmVzczogYCR7aG9zdG5hbWV9OiR7cG9ydH1gLFxuICAgIH07XG4gICAgaWYgKHVzZXJDcmVkKSB7XG4gICAgICAgIHJlc3VsdC5jcmVkcyA9IHVzZXJDcmVkO1xuICAgIH1cbiAgICB0cmFjZSgnUHJveHkgc2VydmVyICcgKyByZXN1bHQuYWRkcmVzcyArICcgc2V0IGJ5IGVudmlyb25tZW50IHZhcmlhYmxlICcgKyBlbnZWYXIpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXROb1Byb3h5SG9zdExpc3QoKSB7XG4gICAgLyogUHJlZmVyIHVzaW5nICdub19ncnBjX3Byb3h5Jy4gRmFsbGJhY2sgb24gJ25vX3Byb3h5JyBpZiBpdCBpcyBub3Qgc2V0LiAqL1xuICAgIGxldCBub1Byb3h5U3RyID0gcHJvY2Vzcy5lbnYubm9fZ3JwY19wcm94eTtcbiAgICBsZXQgZW52VmFyID0gJ25vX2dycGNfcHJveHknO1xuICAgIGlmICghbm9Qcm94eVN0cikge1xuICAgICAgICBub1Byb3h5U3RyID0gcHJvY2Vzcy5lbnYubm9fcHJveHk7XG4gICAgICAgIGVudlZhciA9ICdub19wcm94eSc7XG4gICAgfVxuICAgIGlmIChub1Byb3h5U3RyKSB7XG4gICAgICAgIHRyYWNlKCdObyBwcm94eSBzZXJ2ZXIgbGlzdCBzZXQgYnkgZW52aXJvbm1lbnQgdmFyaWFibGUgJyArIGVudlZhcik7XG4gICAgICAgIHJldHVybiBub1Byb3h5U3RyLnNwbGl0KCcsJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwUHJveHlOYW1lKHRhcmdldCwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBub1Byb3h5UmVzdWx0ID0ge1xuICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgZXh0cmFPcHRpb25zOiB7fSxcbiAgICB9O1xuICAgIGlmICgoKF9hID0gb3B0aW9uc1snZ3JwYy5lbmFibGVfaHR0cF9wcm94eSddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgaWYgKHRhcmdldC5zY2hlbWUgPT09ICd1bml4Jykge1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgcHJveHlJbmZvID0gZ2V0UHJveHlJbmZvKCk7XG4gICAgaWYgKCFwcm94eUluZm8uYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgaG9zdFBvcnQgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRhcmdldC5wYXRoKTtcbiAgICBpZiAoIWhvc3RQb3J0KSB7XG4gICAgICAgIHJldHVybiBub1Byb3h5UmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBzZXJ2ZXJIb3N0ID0gaG9zdFBvcnQuaG9zdDtcbiAgICBmb3IgKGNvbnN0IGhvc3Qgb2YgZ2V0Tm9Qcm94eUhvc3RMaXN0KCkpIHtcbiAgICAgICAgaWYgKGhvc3QgPT09IHNlcnZlckhvc3QpIHtcbiAgICAgICAgICAgIHRyYWNlKCdOb3QgdXNpbmcgcHJveHkgZm9yIHRhcmdldCBpbiBub19wcm94eSBsaXN0OiAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSk7XG4gICAgICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBleHRyYU9wdGlvbnMgPSB7XG4gICAgICAgICdncnBjLmh0dHBfY29ubmVjdF90YXJnZXQnOiAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpLFxuICAgIH07XG4gICAgaWYgKHByb3h5SW5mby5jcmVkcykge1xuICAgICAgICBleHRyYU9wdGlvbnNbJ2dycGMuaHR0cF9jb25uZWN0X2NyZWRzJ10gPSBwcm94eUluZm8uY3JlZHM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgc2NoZW1lOiAnZG5zJyxcbiAgICAgICAgICAgIHBhdGg6IHByb3h5SW5mby5hZGRyZXNzLFxuICAgICAgICB9LFxuICAgICAgICBleHRyYU9wdGlvbnM6IGV4dHJhT3B0aW9ucyxcbiAgICB9O1xufVxuZXhwb3J0cy5tYXBQcm94eU5hbWUgPSBtYXBQcm94eU5hbWU7XG5mdW5jdGlvbiBnZXRQcm94aWVkQ29ubmVjdGlvbihhZGRyZXNzLCBjaGFubmVsT3B0aW9ucywgY29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCEoJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCcgaW4gY2hhbm5lbE9wdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pO1xuICAgIH1cbiAgICBjb25zdCByZWFsVGFyZ2V0ID0gY2hhbm5lbE9wdGlvbnNbJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCddO1xuICAgIGNvbnN0IHBhcnNlZFRhcmdldCA9ICgwLCB1cmlfcGFyc2VyXzEucGFyc2VVcmkpKHJlYWxUYXJnZXQpO1xuICAgIGlmIChwYXJzZWRUYXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gICAgfVxuICAgIGNvbnN0IHNwbGl0SG9zdFBvc3QgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHBhcnNlZFRhcmdldC5wYXRoKTtcbiAgICBpZiAoc3BsaXRIb3N0UG9zdCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbiAgICB9XG4gICAgY29uc3QgaG9zdFBvcnQgPSBgJHtzcGxpdEhvc3RQb3N0Lmhvc3R9OiR7KF9hID0gc3BsaXRIb3N0UG9zdC5wb3J0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiByZXNvbHZlcl9kbnNfMS5ERUZBVUxUX1BPUlR9YDtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdDT05ORUNUJyxcbiAgICAgICAgcGF0aDogaG9zdFBvcnQsXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBIb3N0OiBob3N0UG9ydCxcbiAgICB9O1xuICAgIC8vIENvbm5lY3QgdG8gdGhlIHN1YmNoYW5uZWwgYWRkcmVzcyBhcyBhIHByb3h5XG4gICAgaWYgKCgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzKShhZGRyZXNzKSkge1xuICAgICAgICBvcHRpb25zLmhvc3QgPSBhZGRyZXNzLmhvc3Q7XG4gICAgICAgIG9wdGlvbnMucG9ydCA9IGFkZHJlc3MucG9ydDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuc29ja2V0UGF0aCA9IGFkZHJlc3MucGF0aDtcbiAgICB9XG4gICAgaWYgKCdncnBjLmh0dHBfY29ubmVjdF9jcmVkcycgaW4gY2hhbm5lbE9wdGlvbnMpIHtcbiAgICAgICAgaGVhZGVyc1snUHJveHktQXV0aG9yaXphdGlvbiddID1cbiAgICAgICAgICAgICdCYXNpYyAnICtcbiAgICAgICAgICAgICAgICBCdWZmZXIuZnJvbShjaGFubmVsT3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfY3JlZHMnXSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICBvcHRpb25zLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgIGNvbnN0IHByb3h5QWRkcmVzc1N0cmluZyA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKTtcbiAgICB0cmFjZSgnVXNpbmcgcHJveHkgJyArIHByb3h5QWRkcmVzc1N0cmluZyArICcgdG8gY29ubmVjdCB0byAnICsgb3B0aW9ucy5wYXRoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gaHR0cC5yZXF1ZXN0KG9wdGlvbnMpO1xuICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Nvbm5lY3QnLCAocmVzLCBzb2NrZXQsIGhlYWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRyYWNlKCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggK1xuICAgICAgICAgICAgICAgICAgICAnIHRocm91Z2ggcHJveHkgJyArXG4gICAgICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgaWYgKCdzZWN1cmVDb250ZXh0JyBpbiBjb25uZWN0aW9uT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAvKiBUaGUgcHJveHkgaXMgY29ubmVjdGluZyB0byBhIFRMUyBzZXJ2ZXIsIHNvIHVwZ3JhZGUgdGhpcyBzb2NrZXRcbiAgICAgICAgICAgICAgICAgICAgICogY29ubmVjdGlvbiB0byBhIFRMUyBjb25uZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2lzc3Vlcy8zMjkyMlxuICAgICAgICAgICAgICAgICAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy1ub2RlL3B1bGwvMTM2OSBmb3IgbW9yZSBpbmZvLiAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQYXRoID0gKDAsIHJlc29sdmVyXzEuZ2V0RGVmYXVsdEF1dGhvcml0eSkocGFyc2VkVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdFBvcnQgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRhcmdldFBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVIb3N0ID0gKF9hID0gaG9zdFBvcnQgPT09IG51bGwgfHwgaG9zdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvc3RQb3J0Lmhvc3QpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRhcmdldFBhdGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0cyA9IHRscy5jb25uZWN0KE9iamVjdC5hc3NpZ24oeyBob3N0OiByZW1vdGVIb3N0LCBzZXJ2ZXJuYW1lOiByZW1vdGVIb3N0LCBzb2NrZXQ6IHNvY2tldCB9LCBjb25uZWN0aW9uT3B0aW9ucyksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlKCdTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgYSBUTFMgY29ubmVjdGlvbiB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgdGhyb3VnaCBwcm94eSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eUFkZHJlc3NTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHNvY2tldDogY3RzLCByZWFsVGFyZ2V0OiBwYXJzZWRUYXJnZXQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjdHMub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZSgnRmFpbGVkIHRvIGVzdGFibGlzaCBhIFRMUyBjb25uZWN0aW9uIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGF0aCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyB0aHJvdWdoIHByb3h5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UoJ1N1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCBhIHBsYWludGV4dCBjb25uZWN0aW9uIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXRoICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgdGhyb3VnaCBwcm94eSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFRhcmdldDogcGFyc2VkVGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCAnRmFpbGVkIHRvIGNvbm5lY3QgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGF0aCArXG4gICAgICAgICAgICAgICAgICAgICcgdGhyb3VnaCBwcm94eSAnICtcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICAgICAgICAgJyB3aXRoIHN0YXR1cyAnICtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5vbmNlKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgJ0ZhaWxlZCB0byBjb25uZWN0IHRvIHByb3h5ICcgK1xuICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAgICAgJyB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5lbmQoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZ2V0UHJveGllZENvbm5lY3Rpb24gPSBnZXRQcm94aWVkQ29ubmVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBfcHJveHkuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZ2V0UHJveGllZENvbm5lY3Rpb24iLCJtYXBQcm94eU5hbWUiLCJsb2dnaW5nXzEiLCJyZXF1aXJlIiwiY29uc3RhbnRzXzEiLCJyZXNvbHZlcl8xIiwiaHR0cCIsInRscyIsImxvZ2dpbmciLCJzdWJjaGFubmVsX2FkZHJlc3NfMSIsInVyaV9wYXJzZXJfMSIsInVybF8xIiwicmVzb2x2ZXJfZG5zXzEiLCJUUkFDRVJfTkFNRSIsInRyYWNlIiwidGV4dCIsIkxvZ1ZlcmJvc2l0eSIsIkRFQlVHIiwiZ2V0UHJveHlJbmZvIiwicHJveHlFbnYiLCJlbnZWYXIiLCJwcm9jZXNzIiwiZW52IiwiZ3JwY19wcm94eSIsImh0dHBzX3Byb3h5IiwiaHR0cF9wcm94eSIsInByb3h5VXJsIiwiVVJMIiwiZSIsImxvZyIsIkVSUk9SIiwicHJvdG9jb2wiLCJ1c2VyQ3JlZCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJJTkZPIiwiaG9zdG5hbWUiLCJwb3J0IiwicmVzdWx0IiwiYWRkcmVzcyIsImNyZWRzIiwiZ2V0Tm9Qcm94eUhvc3RMaXN0Iiwibm9Qcm94eVN0ciIsIm5vX2dycGNfcHJveHkiLCJub19wcm94eSIsInNwbGl0IiwidGFyZ2V0Iiwib3B0aW9ucyIsIl9hIiwibm9Qcm94eVJlc3VsdCIsImV4dHJhT3B0aW9ucyIsInNjaGVtZSIsInByb3h5SW5mbyIsImhvc3RQb3J0Iiwic3BsaXRIb3N0UG9ydCIsInBhdGgiLCJzZXJ2ZXJIb3N0IiwiaG9zdCIsInVyaVRvU3RyaW5nIiwiY2hhbm5lbE9wdGlvbnMiLCJjb25uZWN0aW9uT3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVhbFRhcmdldCIsInBhcnNlZFRhcmdldCIsInBhcnNlVXJpIiwic3BsaXRIb3N0UG9zdCIsIkRFRkFVTFRfUE9SVCIsIm1ldGhvZCIsImhlYWRlcnMiLCJIb3N0IiwiaXNUY3BTdWJjaGFubmVsQWRkcmVzcyIsInNvY2tldFBhdGgiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJwcm94eUFkZHJlc3NTdHJpbmciLCJzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nIiwicmVqZWN0IiwicmVxdWVzdCIsIm9uY2UiLCJyZXMiLCJzb2NrZXQiLCJoZWFkIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwic3RhdHVzQ29kZSIsInRhcmdldFBhdGgiLCJnZXREZWZhdWx0QXV0aG9yaXR5IiwicmVtb3RlSG9zdCIsImN0cyIsImNvbm5lY3QiLCJhc3NpZ24iLCJzZXJ2ZXJuYW1lIiwib24iLCJlcnJvciIsIm1lc3NhZ2UiLCJlcnIiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/http_proxy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.experimental = exports.addAdminServicesToServer = exports.getChannelzHandlers = exports.getChannelzServiceDefinition = exports.InterceptorConfigurationError = exports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.StatusBuilder = exports.getClientChannel = exports.ServerCredentials = exports.Server = exports.setLogVerbosity = exports.setLogger = exports.load = exports.loadObject = exports.CallCredentials = exports.ChannelCredentials = exports.waitForClientReady = exports.closeClient = exports.Channel = exports.makeGenericClientConstructor = exports.makeClientConstructor = exports.loadPackageDefinition = exports.Client = exports.compressionAlgorithms = exports.propagate = exports.connectivityState = exports.status = exports.logVerbosity = exports.Metadata = exports.credentials = void 0;\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nObject.defineProperty(exports, \"CallCredentials\", ({\n  enumerable: true,\n  get: function () {\n    return call_credentials_1.CallCredentials;\n  }\n}));\nconst channel_1 = __webpack_require__(/*! ./channel */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channel.js\");\nObject.defineProperty(exports, \"Channel\", ({\n  enumerable: true,\n  get: function () {\n    return channel_1.ChannelImplementation;\n  }\n}));\nconst compression_algorithms_1 = __webpack_require__(/*! ./compression-algorithms */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\");\nObject.defineProperty(exports, \"compressionAlgorithms\", ({\n  enumerable: true,\n  get: function () {\n    return compression_algorithms_1.CompressionAlgorithms;\n  }\n}));\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nObject.defineProperty(exports, \"connectivityState\", ({\n  enumerable: true,\n  get: function () {\n    return connectivity_state_1.ConnectivityState;\n  }\n}));\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nObject.defineProperty(exports, \"ChannelCredentials\", ({\n  enumerable: true,\n  get: function () {\n    return channel_credentials_1.ChannelCredentials;\n  }\n}));\nconst client_1 = __webpack_require__(/*! ./client */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/client.js\");\nObject.defineProperty(exports, \"Client\", ({\n  enumerable: true,\n  get: function () {\n    return client_1.Client;\n  }\n}));\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nObject.defineProperty(exports, \"logVerbosity\", ({\n  enumerable: true,\n  get: function () {\n    return constants_1.LogVerbosity;\n  }\n}));\nObject.defineProperty(exports, \"status\", ({\n  enumerable: true,\n  get: function () {\n    return constants_1.Status;\n  }\n}));\nObject.defineProperty(exports, \"propagate\", ({\n  enumerable: true,\n  get: function () {\n    return constants_1.Propagate;\n  }\n}));\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst make_client_1 = __webpack_require__(/*! ./make-client */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/make-client.js\");\nObject.defineProperty(exports, \"loadPackageDefinition\", ({\n  enumerable: true,\n  get: function () {\n    return make_client_1.loadPackageDefinition;\n  }\n}));\nObject.defineProperty(exports, \"makeClientConstructor\", ({\n  enumerable: true,\n  get: function () {\n    return make_client_1.makeClientConstructor;\n  }\n}));\nObject.defineProperty(exports, \"makeGenericClientConstructor\", ({\n  enumerable: true,\n  get: function () {\n    return make_client_1.makeClientConstructor;\n  }\n}));\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nObject.defineProperty(exports, \"Metadata\", ({\n  enumerable: true,\n  get: function () {\n    return metadata_1.Metadata;\n  }\n}));\nconst server_1 = __webpack_require__(/*! ./server */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/server.js\");\nObject.defineProperty(exports, \"Server\", ({\n  enumerable: true,\n  get: function () {\n    return server_1.Server;\n  }\n}));\nconst server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nObject.defineProperty(exports, \"ServerCredentials\", ({\n  enumerable: true,\n  get: function () {\n    return server_credentials_1.ServerCredentials;\n  }\n}));\nconst status_builder_1 = __webpack_require__(/*! ./status-builder */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/status-builder.js\");\nObject.defineProperty(exports, \"StatusBuilder\", ({\n  enumerable: true,\n  get: function () {\n    return status_builder_1.StatusBuilder;\n  }\n}));\n/**** Client Credentials ****/\n// Using assign only copies enumerable properties, which is what we want\nexports.credentials = {\n  /**\n   * Combine a ChannelCredentials with any number of CallCredentials into a\n   * single ChannelCredentials object.\n   * @param channelCredentials The ChannelCredentials object.\n   * @param callCredentials Any number of CallCredentials objects.\n   * @return The resulting ChannelCredentials object.\n   */\n  combineChannelCredentials: (channelCredentials, ...callCredentials) => {\n    return callCredentials.reduce((acc, other) => acc.compose(other), channelCredentials);\n  },\n  /**\n   * Combine any number of CallCredentials into a single CallCredentials\n   * object.\n   * @param first The first CallCredentials object.\n   * @param additional Any number of additional CallCredentials objects.\n   * @return The resulting CallCredentials object.\n   */\n  combineCallCredentials: (first, ...additional) => {\n    return additional.reduce((acc, other) => acc.compose(other), first);\n  },\n  // from channel-credentials.ts\n  createInsecure: channel_credentials_1.ChannelCredentials.createInsecure,\n  createSsl: channel_credentials_1.ChannelCredentials.createSsl,\n  createFromSecureContext: channel_credentials_1.ChannelCredentials.createFromSecureContext,\n  // from call-credentials.ts\n  createFromMetadataGenerator: call_credentials_1.CallCredentials.createFromMetadataGenerator,\n  createFromGoogleCredential: call_credentials_1.CallCredentials.createFromGoogleCredential,\n  createEmpty: call_credentials_1.CallCredentials.createEmpty\n};\n/**\n * Close a Client object.\n * @param client The client to close.\n */\nconst closeClient = client => client.close();\nexports.closeClient = closeClient;\nconst waitForClientReady = (client, deadline, callback) => client.waitForReady(deadline, callback);\nexports.waitForClientReady = waitForClientReady;\n/* eslint-enable @typescript-eslint/no-explicit-any */\n/**** Unimplemented function stubs ****/\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst loadObject = (value, options) => {\n  throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.loadObject = loadObject;\nconst load = (filename, format, options) => {\n  throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.load = load;\nconst setLogger = logger => {\n  logging.setLogger(logger);\n};\nexports.setLogger = setLogger;\nconst setLogVerbosity = verbosity => {\n  logging.setLoggerVerbosity(verbosity);\n};\nexports.setLogVerbosity = setLogVerbosity;\nconst getClientChannel = client => {\n  return client_1.Client.prototype.getChannel.call(client);\n};\nexports.getClientChannel = getClientChannel;\nvar client_interceptors_1 = __webpack_require__(/*! ./client-interceptors */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/client-interceptors.js\");\nObject.defineProperty(exports, \"ListenerBuilder\", ({\n  enumerable: true,\n  get: function () {\n    return client_interceptors_1.ListenerBuilder;\n  }\n}));\nObject.defineProperty(exports, \"RequesterBuilder\", ({\n  enumerable: true,\n  get: function () {\n    return client_interceptors_1.RequesterBuilder;\n  }\n}));\nObject.defineProperty(exports, \"InterceptingCall\", ({\n  enumerable: true,\n  get: function () {\n    return client_interceptors_1.InterceptingCall;\n  }\n}));\nObject.defineProperty(exports, \"InterceptorConfigurationError\", ({\n  enumerable: true,\n  get: function () {\n    return client_interceptors_1.InterceptorConfigurationError;\n  }\n}));\nvar channelz_1 = __webpack_require__(/*! ./channelz */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js\");\nObject.defineProperty(exports, \"getChannelzServiceDefinition\", ({\n  enumerable: true,\n  get: function () {\n    return channelz_1.getChannelzServiceDefinition;\n  }\n}));\nObject.defineProperty(exports, \"getChannelzHandlers\", ({\n  enumerable: true,\n  get: function () {\n    return channelz_1.getChannelzHandlers;\n  }\n}));\nvar admin_1 = __webpack_require__(/*! ./admin */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/admin.js\");\nObject.defineProperty(exports, \"addAdminServicesToServer\", ({\n  enumerable: true,\n  get: function () {\n    return admin_1.addAdminServicesToServer;\n  }\n}));\nconst experimental = __webpack_require__(/*! ./experimental */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/experimental.js\");\nexports.experimental = experimental;\nconst resolver_dns = __webpack_require__(/*! ./resolver-dns */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-dns.js\");\nconst resolver_uds = __webpack_require__(/*! ./resolver-uds */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-uds.js\");\nconst resolver_ip = __webpack_require__(/*! ./resolver-ip */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-ip.js\");\nconst load_balancer_pick_first = __webpack_require__(/*! ./load-balancer-pick-first */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nconst load_balancer_round_robin = __webpack_require__(/*! ./load-balancer-round-robin */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js\");\nconst load_balancer_outlier_detection = __webpack_require__(/*! ./load-balancer-outlier-detection */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js\");\nconst channelz = __webpack_require__(/*! ./channelz */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js\");\n(() => {\n  resolver_dns.setup();\n  resolver_uds.setup();\n  resolver_ip.setup();\n  load_balancer_pick_first.setup();\n  load_balancer_round_robin.setup();\n  load_balancer_outlier_detection.setup();\n  channelz.setup();\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsb0JBQW9CLEdBQUdBLGdDQUFnQyxHQUFHQSwyQkFBMkIsR0FBR0Esb0NBQW9DLEdBQUdBLHFDQUFxQyxHQUFHQSx3QkFBd0IsR0FBR0Esd0JBQXdCLEdBQUdBLHVCQUF1QixHQUFHQSxxQkFBcUIsR0FBR0Esd0JBQXdCLEdBQUdBLHlCQUF5QixHQUFHQSxjQUFjLEdBQUdBLHVCQUF1QixHQUFHQSxpQkFBaUIsR0FBR0EsWUFBWSxHQUFHQSxrQkFBa0IsR0FBR0EsdUJBQXVCLEdBQUdBLDBCQUEwQixHQUFHQSwwQkFBMEIsR0FBR0EsbUJBQW1CLEdBQUdBLGVBQWUsR0FBR0Esb0NBQW9DLEdBQUdBLDZCQUE2QixHQUFHQSw2QkFBNkIsR0FBR0EsY0FBYyxHQUFHQSw2QkFBNkIsR0FBR0EsaUJBQWlCLEdBQUdBLHlCQUF5QixHQUFHQSxjQUFjLEdBQUdBLG9CQUFvQixHQUFHQSxnQkFBZ0IsR0FBR0EsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO0FBQ3AwQixNQUFNa0Msa0JBQWtCLEdBQUdDLG1CQUFPLENBQUMsNEZBQW9CLENBQUM7QUFDeERyQyxtREFBa0Q7RUFBRXNDLFVBQVUsRUFBRSxJQUFJO0VBQUVDLEdBQUcsRUFBRSxTQUFBQSxDQUFBLEVBQVk7SUFBRSxPQUFPSCxrQkFBa0IsQ0FBQ2hCLGVBQWU7RUFBRTtBQUFFLENBQUMsRUFBQztBQUN4SSxNQUFNb0IsU0FBUyxHQUFHSCxtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDdENyQywyQ0FBMEM7RUFBRXNDLFVBQVUsRUFBRSxJQUFJO0VBQUVDLEdB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QUNNLEtBQUssQ0FBQyxDQUFDO0VBQ3BCTCxXQUFXLENBQUNLLEtBQUssQ0FBQyxDQUFDO0VBQ25CSix3QkFBd0IsQ0FBQ0ksS0FBSyxDQUFDLENBQUM7RUFDaENILHlCQUF5QixDQUFDRyxLQUFLLENBQUMsQ0FBQztFQUNqQ0YsK0JBQStCLENBQUNFLEtBQUssQ0FBQyxDQUFDO0VBQ3ZDRCxRQUFRLENBQUNDLEtBQUssQ0FBQyxDQUFDO0FBQ3BCLENBQUMsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9pbmRleC5qcz8zOTVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4cGVyaW1lbnRhbCA9IGV4cG9ydHMuYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyID0gZXhwb3J0cy5nZXRDaGFubmVsekhhbmRsZXJzID0gZXhwb3J0cy5nZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uID0gZXhwb3J0cy5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciA9IGV4cG9ydHMuSW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuUmVxdWVzdGVyQnVpbGRlciA9IGV4cG9ydHMuTGlzdGVuZXJCdWlsZGVyID0gZXhwb3J0cy5TdGF0dXNCdWlsZGVyID0gZXhwb3J0cy5nZXRDbGllbnRDaGFubmVsID0gZXhwb3J0cy5TZXJ2ZXJDcmVkZW50aWFscyA9IGV4cG9ydHMuU2VydmVyID0gZXhwb3J0cy5zZXRMb2dWZXJib3NpdHkgPSBleHBvcnRzLnNldExvZ2dlciA9IGV4cG9ydHMubG9hZCA9IGV4cG9ydHMubG9hZE9iamVjdCA9IGV4cG9ydHMuQ2FsbENyZWRlbnRpYWxzID0gZXhwb3J0cy5DaGFubmVsQ3JlZGVudGlhbHMgPSBleHBvcnRzLndhaXRGb3JDbGllbnRSZWFkeSA9IGV4cG9ydHMuY2xvc2VDbGllbnQgPSBleHBvcnRzLkNoYW5uZWwgPSBleHBvcnRzLm1ha2VHZW5lcmljQ2xpZW50Q29uc3RydWN0b3IgPSBleHBvcnRzLm1ha2VDbGllbnRDb25zdHJ1Y3RvciA9IGV4cG9ydHMubG9hZFBhY2thZ2VEZWZpbml0aW9uID0gZXhwb3J0cy5DbGllbnQgPSBleHBvcnRzLmNvbXByZXNzaW9uQWxnb3JpdGhtcyA9IGV4cG9ydHMucHJvcGFnYXRlID0gZXhwb3J0cy5jb25uZWN0aXZpdHlTdGF0ZSA9IGV4cG9ydHMuc3RhdHVzID0gZXhwb3J0cy5sb2dWZXJib3NpdHkgPSBleHBvcnRzLk1ldGFkYXRhID0gZXhwb3J0cy5jcmVkZW50aWFscyA9IHZvaWQgMDtcbmNvbnN0IGNhbGxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NhbGwtY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDYWxsQ3JlZGVudGlhbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHM7IH0gfSk7XG5jb25zdCBjaGFubmVsXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2hhbm5lbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbF8xLkNoYW5uZWxJbXBsZW1lbnRhdGlvbjsgfSB9KTtcbmNvbnN0IGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMSA9IHJlcXVpcmUoXCIuL2NvbXByZXNzaW9uLWFsZ29yaXRobXNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21wcmVzc2lvbkFsZ29yaXRobXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMS5Db21wcmVzc2lvbkFsZ29yaXRobXM7IH0gfSk7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbm5lY3Rpdml0eVN0YXRlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZTsgfSB9KTtcbmNvbnN0IGNoYW5uZWxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaGFubmVsQ3JlZGVudGlhbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHM7IH0gfSk7XG5jb25zdCBjbGllbnRfMSA9IHJlcXVpcmUoXCIuL2NsaWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNsaWVudFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50XzEuQ2xpZW50OyB9IH0pO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsb2dWZXJib3NpdHlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0YXR1c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uc3RhbnRzXzEuU3RhdHVzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicHJvcGFnYXRlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25zdGFudHNfMS5Qcm9wYWdhdGU7IH0gfSk7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IG1ha2VfY2xpZW50XzEgPSByZXF1aXJlKFwiLi9tYWtlLWNsaWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImxvYWRQYWNrYWdlRGVmaW5pdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFrZV9jbGllbnRfMS5sb2FkUGFja2FnZURlZmluaXRpb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYWtlQ2xpZW50Q29uc3RydWN0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ha2VfY2xpZW50XzEubWFrZUNsaWVudENvbnN0cnVjdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZUdlbmVyaWNDbGllbnRDb25zdHJ1Y3RvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFrZV9jbGllbnRfMS5tYWtlQ2xpZW50Q29uc3RydWN0b3I7IH0gfSk7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNZXRhZGF0YVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0YWRhdGFfMS5NZXRhZGF0YTsgfSB9KTtcbmNvbnN0IHNlcnZlcl8xID0gcmVxdWlyZShcIi4vc2VydmVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VydmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2ZXJfMS5TZXJ2ZXI7IH0gfSk7XG5jb25zdCBzZXJ2ZXJfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL3NlcnZlci1jcmVkZW50aWFsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlckNyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2ZXJfY3JlZGVudGlhbHNfMS5TZXJ2ZXJDcmVkZW50aWFsczsgfSB9KTtcbmNvbnN0IHN0YXR1c19idWlsZGVyXzEgPSByZXF1aXJlKFwiLi9zdGF0dXMtYnVpbGRlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0YXR1c0J1aWxkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXR1c19idWlsZGVyXzEuU3RhdHVzQnVpbGRlcjsgfSB9KTtcbi8qKioqIENsaWVudCBDcmVkZW50aWFscyAqKioqL1xuLy8gVXNpbmcgYXNzaWduIG9ubHkgY29waWVzIGVudW1lcmFibGUgcHJvcGVydGllcywgd2hpY2ggaXMgd2hhdCB3ZSB3YW50XG5leHBvcnRzLmNyZWRlbnRpYWxzID0ge1xuICAgIC8qKlxuICAgICAqIENvbWJpbmUgYSBDaGFubmVsQ3JlZGVudGlhbHMgd2l0aCBhbnkgbnVtYmVyIG9mIENhbGxDcmVkZW50aWFscyBpbnRvIGFcbiAgICAgKiBzaW5nbGUgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbENyZWRlbnRpYWxzIFRoZSBDaGFubmVsQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBjYWxsQ3JlZGVudGlhbHMgQW55IG51bWJlciBvZiBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb21iaW5lQ2hhbm5lbENyZWRlbnRpYWxzOiAoY2hhbm5lbENyZWRlbnRpYWxzLCAuLi5jYWxsQ3JlZGVudGlhbHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGxDcmVkZW50aWFscy5yZWR1Y2UoKGFjYywgb3RoZXIpID0+IGFjYy5jb21wb3NlKG90aGVyKSwgY2hhbm5lbENyZWRlbnRpYWxzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbWJpbmUgYW55IG51bWJlciBvZiBDYWxsQ3JlZGVudGlhbHMgaW50byBhIHNpbmdsZSBDYWxsQ3JlZGVudGlhbHNcbiAgICAgKiBvYmplY3QuXG4gICAgICogQHBhcmFtIGZpcnN0IFRoZSBmaXJzdCBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBhZGRpdGlvbmFsIEFueSBudW1iZXIgb2YgYWRkaXRpb25hbCBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQ2FsbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb21iaW5lQ2FsbENyZWRlbnRpYWxzOiAoZmlyc3QsIC4uLmFkZGl0aW9uYWwpID0+IHtcbiAgICAgICAgcmV0dXJuIGFkZGl0aW9uYWwucmVkdWNlKChhY2MsIG90aGVyKSA9PiBhY2MuY29tcG9zZShvdGhlciksIGZpcnN0KTtcbiAgICB9LFxuICAgIC8vIGZyb20gY2hhbm5lbC1jcmVkZW50aWFscy50c1xuICAgIGNyZWF0ZUluc2VjdXJlOiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzLmNyZWF0ZUluc2VjdXJlLFxuICAgIGNyZWF0ZVNzbDogY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscy5jcmVhdGVTc2wsXG4gICAgY3JlYXRlRnJvbVNlY3VyZUNvbnRleHQ6IGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHMuY3JlYXRlRnJvbVNlY3VyZUNvbnRleHQsXG4gICAgLy8gZnJvbSBjYWxsLWNyZWRlbnRpYWxzLnRzXG4gICAgY3JlYXRlRnJvbU1ldGFkYXRhR2VuZXJhdG9yOiBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUZyb21NZXRhZGF0YUdlbmVyYXRvcixcbiAgICBjcmVhdGVGcm9tR29vZ2xlQ3JlZGVudGlhbDogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVGcm9tR29vZ2xlQ3JlZGVudGlhbCxcbiAgICBjcmVhdGVFbXB0eTogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVFbXB0eSxcbn07XG4vKipcbiAqIENsb3NlIGEgQ2xpZW50IG9iamVjdC5cbiAqIEBwYXJhbSBjbGllbnQgVGhlIGNsaWVudCB0byBjbG9zZS5cbiAqL1xuY29uc3QgY2xvc2VDbGllbnQgPSAoY2xpZW50KSA9PiBjbGllbnQuY2xvc2UoKTtcbmV4cG9ydHMuY2xvc2VDbGllbnQgPSBjbG9zZUNsaWVudDtcbmNvbnN0IHdhaXRGb3JDbGllbnRSZWFkeSA9IChjbGllbnQsIGRlYWRsaW5lLCBjYWxsYmFjaykgPT4gY2xpZW50LndhaXRGb3JSZWFkeShkZWFkbGluZSwgY2FsbGJhY2spO1xuZXhwb3J0cy53YWl0Rm9yQ2xpZW50UmVhZHkgPSB3YWl0Rm9yQ2xpZW50UmVhZHk7XG4vKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKioqIFVuaW1wbGVtZW50ZWQgZnVuY3Rpb24gc3R1YnMgKioqKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmNvbnN0IGxvYWRPYmplY3QgPSAodmFsdWUsIG9wdGlvbnMpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdmFpbGFibGUgaW4gdGhpcyBsaWJyYXJ5LiBVc2UgQGdycGMvcHJvdG8tbG9hZGVyIGFuZCBsb2FkUGFja2FnZURlZmluaXRpb24gaW5zdGVhZCcpO1xufTtcbmV4cG9ydHMubG9hZE9iamVjdCA9IGxvYWRPYmplY3Q7XG5jb25zdCBsb2FkID0gKGZpbGVuYW1lLCBmb3JtYXQsIG9wdGlvbnMpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdmFpbGFibGUgaW4gdGhpcyBsaWJyYXJ5LiBVc2UgQGdycGMvcHJvdG8tbG9hZGVyIGFuZCBsb2FkUGFja2FnZURlZmluaXRpb24gaW5zdGVhZCcpO1xufTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5jb25zdCBzZXRMb2dnZXIgPSAobG9nZ2VyKSA9PiB7XG4gICAgbG9nZ2luZy5zZXRMb2dnZXIobG9nZ2VyKTtcbn07XG5leHBvcnRzLnNldExvZ2dlciA9IHNldExvZ2dlcjtcbmNvbnN0IHNldExvZ1ZlcmJvc2l0eSA9ICh2ZXJib3NpdHkpID0+IHtcbiAgICBsb2dnaW5nLnNldExvZ2dlclZlcmJvc2l0eSh2ZXJib3NpdHkpO1xufTtcbmV4cG9ydHMuc2V0TG9nVmVyYm9zaXR5ID0gc2V0TG9nVmVyYm9zaXR5O1xuY29uc3QgZ2V0Q2xpZW50Q2hhbm5lbCA9IChjbGllbnQpID0+IHtcbiAgICByZXR1cm4gY2xpZW50XzEuQ2xpZW50LnByb3RvdHlwZS5nZXRDaGFubmVsLmNhbGwoY2xpZW50KTtcbn07XG5leHBvcnRzLmdldENsaWVudENoYW5uZWwgPSBnZXRDbGllbnRDaGFubmVsO1xudmFyIGNsaWVudF9pbnRlcmNlcHRvcnNfMSA9IHJlcXVpcmUoXCIuL2NsaWVudC1pbnRlcmNlcHRvcnNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMaXN0ZW5lckJ1aWxkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5MaXN0ZW5lckJ1aWxkZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSZXF1ZXN0ZXJCdWlsZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuUmVxdWVzdGVyQnVpbGRlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkludGVyY2VwdGluZ0NhbGxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5JbnRlcmNlcHRpbmdDYWxsOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcjsgfSB9KTtcbnZhciBjaGFubmVsel8xID0gcmVxdWlyZShcIi4vY2hhbm5lbHpcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGFubmVsel8xLmdldENoYW5uZWx6U2VydmljZURlZmluaXRpb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRDaGFubmVsekhhbmRsZXJzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGFubmVsel8xLmdldENoYW5uZWx6SGFuZGxlcnM7IH0gfSk7XG52YXIgYWRtaW5fMSA9IHJlcXVpcmUoXCIuL2FkbWluXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhZG1pbl8xLmFkZEFkbWluU2VydmljZXNUb1NlcnZlcjsgfSB9KTtcbmNvbnN0IGV4cGVyaW1lbnRhbCA9IHJlcXVpcmUoXCIuL2V4cGVyaW1lbnRhbFwiKTtcbmV4cG9ydHMuZXhwZXJpbWVudGFsID0gZXhwZXJpbWVudGFsO1xuY29uc3QgcmVzb2x2ZXJfZG5zID0gcmVxdWlyZShcIi4vcmVzb2x2ZXItZG5zXCIpO1xuY29uc3QgcmVzb2x2ZXJfdWRzID0gcmVxdWlyZShcIi4vcmVzb2x2ZXItdWRzXCIpO1xuY29uc3QgcmVzb2x2ZXJfaXAgPSByZXF1aXJlKFwiLi9yZXNvbHZlci1pcFwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfcGlja19maXJzdCA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItcGljay1maXJzdFwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfcm91bmRfcm9iaW4gPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLXJvdW5kLXJvYmluXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl9vdXRsaWVyX2RldGVjdGlvbiA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItb3V0bGllci1kZXRlY3Rpb25cIik7XG5jb25zdCBjaGFubmVseiA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuKCgpID0+IHtcbiAgICByZXNvbHZlcl9kbnMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl91ZHMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl9pcC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcGlja19maXJzdC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcm91bmRfcm9iaW4uc2V0dXAoKTtcbiAgICBsb2FkX2JhbGFuY2VyX291dGxpZXJfZGV0ZWN0aW9uLnNldHVwKCk7XG4gICAgY2hhbm5lbHouc2V0dXAoKTtcbn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJleHBlcmltZW50YWwiLCJhZGRBZG1pblNlcnZpY2VzVG9TZXJ2ZXIiLCJnZXRDaGFubmVsekhhbmRsZXJzIiwiZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbiIsIkludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yIiwiSW50ZXJjZXB0aW5nQ2FsbCIsIlJlcXVlc3RlckJ1aWxkZXIiLCJMaXN0ZW5lckJ1aWxkZXIiLCJTdGF0dXNCdWlsZGVyIiwiZ2V0Q2xpZW50Q2hhbm5lbCIsIlNlcnZlckNyZWRlbnRpYWxzIiwiU2VydmVyIiwic2V0TG9nVmVyYm9zaXR5Iiwic2V0TG9nZ2VyIiwibG9hZCIsImxvYWRPYmplY3QiLCJDYWxsQ3JlZGVudGlhbHMiLCJDaGFubmVsQ3JlZGVudGlhbHMiLCJ3YWl0Rm9yQ2xpZW50UmVhZHkiLCJjbG9zZUNsaWVudCIsIkNoYW5uZWwiLCJtYWtlR2VuZXJpY0NsaWVudENvbnN0cnVjdG9yIiwibWFrZUNsaWVudENvbnN0cnVjdG9yIiwibG9hZFBhY2thZ2VEZWZpbml0aW9uIiwiQ2xpZW50IiwiY29tcHJlc3Npb25BbGdvcml0aG1zIiwicHJvcGFnYXRlIiwiY29ubmVjdGl2aXR5U3RhdGUiLCJzdGF0dXMiLCJsb2dWZXJib3NpdHkiLCJNZXRhZGF0YSIsImNyZWRlbnRpYWxzIiwiY2FsbF9jcmVkZW50aWFsc18xIiwicmVxdWlyZSIsImVudW1lcmFibGUiLCJnZXQiLCJjaGFubmVsXzEiLCJDaGFubmVsSW1wbGVtZW50YXRpb24iLCJjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEiLCJDb21wcmVzc2lvbkFsZ29yaXRobXMiLCJjb25uZWN0aXZpdHlfc3RhdGVfMSIsIkNvbm5lY3Rpdml0eVN0YXRlIiwiY2hhbm5lbF9jcmVkZW50aWFsc18xIiwiY2xpZW50XzEiLCJjb25zdGFudHNfMSIsIkxvZ1ZlcmJvc2l0eSIsIlN0YXR1cyIsIlByb3BhZ2F0ZSIsImxvZ2dpbmciLCJtYWtlX2NsaWVudF8xIiwibWV0YWRhdGFfMSIsInNlcnZlcl8xIiwic2VydmVyX2NyZWRlbnRpYWxzXzEiLCJzdGF0dXNfYnVpbGRlcl8xIiwiY29tYmluZUNoYW5uZWxDcmVkZW50aWFscyIsImNoYW5uZWxDcmVkZW50aWFscyIsImNhbGxDcmVkZW50aWFscyIsInJlZHVjZSIsImFjYyIsIm90aGVyIiwiY29tcG9zZSIsImNvbWJpbmVDYWxsQ3JlZGVudGlhbHMiLCJmaXJzdCIsImFkZGl0aW9uYWwiLCJjcmVhdGVJbnNlY3VyZSIsImNyZWF0ZVNzbCIsImNyZWF0ZUZyb21TZWN1cmVDb250ZXh0IiwiY3JlYXRlRnJvbU1ldGFkYXRhR2VuZXJhdG9yIiwiY3JlYXRlRnJvbUdvb2dsZUNyZWRlbnRpYWwiLCJjcmVhdGVFbXB0eSIsImNsaWVudCIsImNsb3NlIiwiZGVhZGxpbmUiLCJjYWxsYmFjayIsIndhaXRGb3JSZWFkeSIsIm9wdGlvbnMiLCJFcnJvciIsImZpbGVuYW1lIiwiZm9ybWF0IiwibG9nZ2VyIiwidmVyYm9zaXR5Iiwic2V0TG9nZ2VyVmVyYm9zaXR5IiwicHJvdG90eXBlIiwiZ2V0Q2hhbm5lbCIsImNhbGwiLCJjbGllbnRfaW50ZXJjZXB0b3JzXzEiLCJjaGFubmVsel8xIiwiYWRtaW5fMSIsInJlc29sdmVyX2RucyIsInJlc29sdmVyX3VkcyIsInJlc29sdmVyX2lwIiwibG9hZF9iYWxhbmNlcl9waWNrX2ZpcnN0IiwibG9hZF9iYWxhbmNlcl9yb3VuZF9yb2JpbiIsImxvYWRfYmFsYW5jZXJfb3V0bGllcl9kZXRlY3Rpb24iLCJjaGFubmVseiIsInNldHVwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/internal-channel.js":
/*!******************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/internal-channel.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.InternalChannel = void 0;\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nconst resolving_load_balancer_1 = __webpack_require__(/*! ./resolving-load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js\");\nconst subchannel_pool_1 = __webpack_require__(/*! ./subchannel-pool */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-pool.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst filter_stack_1 = __webpack_require__(/*! ./filter-stack */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/filter-stack.js\");\nconst compression_filter_1 = __webpack_require__(/*! ./compression-filter */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/compression-filter.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst max_message_size_filter_1 = __webpack_require__(/*! ./max-message-size-filter */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/max-message-size-filter.js\");\nconst http_proxy_1 = __webpack_require__(/*! ./http_proxy */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/http_proxy.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst load_balancing_call_1 = __webpack_require__(/*! ./load-balancing-call */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancing-call.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst resolving_call_1 = __webpack_require__(/*! ./resolving-call */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolving-call.js\");\nconst call_number_1 = __webpack_require__(/*! ./call-number */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/call-number.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst retrying_call_1 = __webpack_require__(/*! ./retrying-call */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/retrying-call.js\");\nconst subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\n/**\n * See https://nodejs.org/api/timers.html#timers_setinterval_callback_delay_args\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\nconst MIN_IDLE_TIMEOUT_MS = 1000;\n// 30 minutes\nconst DEFAULT_IDLE_TIMEOUT_MS = 30 * 60 * 1000;\nconst RETRY_THROTTLER_MAP = new Map();\nconst DEFAULT_RETRY_BUFFER_SIZE_BYTES = 1 << 24; // 16 MB\nconst DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES = 1 << 20; // 1 MB\nclass ChannelSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n  constructor(childSubchannel, channel) {\n    super(childSubchannel);\n    this.channel = channel;\n    this.refCount = 0;\n    this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime) => {\n      channel.throttleKeepalive(keepaliveTime);\n    };\n    childSubchannel.addConnectivityStateListener(this.subchannelStateListener);\n  }\n  ref() {\n    this.child.ref();\n    this.refCount += 1;\n  }\n  unref() {\n    this.child.unref();\n    this.refCount -= 1;\n    if (this.refCount <= 0) {\n      this.child.removeConnectivityStateListener(this.subchannelStateListener);\n      this.channel.removeWrappedSubchannel(this);\n    }\n  }\n}\nclass InternalChannel {\n  constructor(target, credentials, options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.credentials = credentials;\n    this.options = options;\n    this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n    this.currentPicker = new picker_1.UnavailablePicker();\n    /**\n     * Calls queued up to get a call config. Should only be populated before the\n     * first time the resolver returns a result, which includes the ConfigSelector.\n     */\n    this.configSelectionQueue = [];\n    this.pickQueue = [];\n    this.connectivityStateWatchers = [];\n    this.configSelector = null;\n    /**\n     * This is the error from the name resolver if it failed most recently. It\n     * is only used to end calls that start while there is no config selector\n     * and the name resolver is in backoff, so it should be nulled if\n     * configSelector becomes set or the channel state becomes anything other\n     * than TRANSIENT_FAILURE.\n     */\n    this.currentResolutionError = null;\n    this.wrappedSubchannels = new Set();\n    this.callCount = 0;\n    this.idleTimer = null;\n    // Channelz info\n    this.channelzEnabled = true;\n    this.callTracker = new channelz_1.ChannelzCallTracker();\n    this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n    if (typeof target !== 'string') {\n      throw new TypeError('Channel target must be a string');\n    }\n    if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n      throw new TypeError('Channel credentials must be a ChannelCredentials object');\n    }\n    if (options) {\n      if (typeof options !== 'object') {\n        throw new TypeError('Channel options must be an object');\n      }\n    }\n    this.originalTarget = target;\n    const originalTargetUri = (0, uri_parser_1.parseUri)(target);\n    if (originalTargetUri === null) {\n      throw new Error(`Could not parse target name \"${target}\"`);\n    }\n    /* This ensures that the target has a scheme that is registered with the\n     * resolver */\n    const defaultSchemeMapResult = (0, resolver_1.mapUriDefaultScheme)(originalTargetUri);\n    if (defaultSchemeMapResult === null) {\n      throw new Error(`Could not find a default scheme for target name \"${target}\"`);\n    }\n    this.callRefTimer = setInterval(() => {}, MAX_TIMEOUT_TIME);\n    (_b = (_a = this.callRefTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    if (this.options['grpc.enable_channelz'] === 0) {\n      this.channelzEnabled = false;\n    }\n    this.channelzTrace = new channelz_1.ChannelzTrace();\n    this.channelzRef = (0, channelz_1.registerChannelzChannel)(target, () => this.getChannelzInfo(), this.channelzEnabled);\n    if (this.channelzEnabled) {\n      this.channelzTrace.addTrace('CT_INFO', 'Channel created');\n    }\n    if (this.options['grpc.default_authority']) {\n      this.defaultAuthority = this.options['grpc.default_authority'];\n    } else {\n      this.defaultAuthority = (0, resolver_1.getDefaultAuthority)(defaultSchemeMapResult);\n    }\n    const proxyMapResult = (0, http_proxy_1.mapProxyName)(defaultSchemeMapResult, options);\n    this.target = proxyMapResult.target;\n    this.options = Object.assign({}, this.options, proxyMapResult.extraOptions);\n    /* The global boolean parameter to getSubchannelPool has the inverse meaning to what\n     * the grpc.use_local_subchannel_pool channel option means. */\n    this.subchannelPool = (0, subchannel_pool_1.getSubchannelPool)(((_c = options['grpc.use_local_subchannel_pool']) !== null && _c !== void 0 ? _c : 0) === 0);\n    this.retryBufferTracker = new retrying_call_1.MessageBufferTracker((_d = options['grpc.retry_buffer_size']) !== null && _d !== void 0 ? _d : DEFAULT_RETRY_BUFFER_SIZE_BYTES, (_e = options['grpc.per_rpc_retry_buffer_size']) !== null && _e !== void 0 ? _e : DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES);\n    this.keepaliveTime = (_f = options['grpc.keepalive_time_ms']) !== null && _f !== void 0 ? _f : -1;\n    this.idleTimeoutMs = Math.max((_g = options['grpc.client_idle_timeout_ms']) !== null && _g !== void 0 ? _g : DEFAULT_IDLE_TIMEOUT_MS, MIN_IDLE_TIMEOUT_MS);\n    const channelControlHelper = {\n      createSubchannel: (subchannelAddress, subchannelArgs) => {\n        const subchannel = this.subchannelPool.getOrCreateSubchannel(this.target, subchannelAddress, Object.assign({}, this.options, subchannelArgs), this.credentials);\n        subchannel.throttleKeepalive(this.keepaliveTime);\n        if (this.channelzEnabled) {\n          this.channelzTrace.addTrace('CT_INFO', 'Created subchannel or used existing subchannel', subchannel.getChannelzRef());\n        }\n        const wrappedSubchannel = new ChannelSubchannelWrapper(subchannel, this);\n        this.wrappedSubchannels.add(wrappedSubchannel);\n        return wrappedSubchannel;\n      },\n      updateState: (connectivityState, picker) => {\n        this.currentPicker = picker;\n        const queueCopy = this.pickQueue.slice();\n        this.pickQueue = [];\n        this.callRefTimerUnref();\n        for (const call of queueCopy) {\n          call.doPick();\n        }\n        this.updateState(connectivityState);\n      },\n      requestReresolution: () => {\n        // This should never be called.\n        throw new Error('Resolving load balancer should never call requestReresolution');\n      },\n      addChannelzChild: child => {\n        if (this.channelzEnabled) {\n          this.childrenTracker.refChild(child);\n        }\n      },\n      removeChannelzChild: child => {\n        if (this.channelzEnabled) {\n          this.childrenTracker.unrefChild(child);\n        }\n      }\n    };\n    this.resolvingLoadBalancer = new resolving_load_balancer_1.ResolvingLoadBalancer(this.target, channelControlHelper, options, (serviceConfig, configSelector) => {\n      if (serviceConfig.retryThrottling) {\n        RETRY_THROTTLER_MAP.set(this.getTarget(), new retrying_call_1.RetryThrottler(serviceConfig.retryThrottling.maxTokens, serviceConfig.retryThrottling.tokenRatio, RETRY_THROTTLER_MAP.get(this.getTarget())));\n      } else {\n        RETRY_THROTTLER_MAP.delete(this.getTarget());\n      }\n      if (this.channelzEnabled) {\n        this.channelzTrace.addTrace('CT_INFO', 'Address resolution succeeded');\n      }\n      this.configSelector = configSelector;\n      this.currentResolutionError = null;\n      /* We process the queue asynchronously to ensure that the corresponding\n       * load balancer update has completed. */\n      process.nextTick(() => {\n        const localQueue = this.configSelectionQueue;\n        this.configSelectionQueue = [];\n        this.callRefTimerUnref();\n        for (const call of localQueue) {\n          call.getConfig();\n        }\n        this.configSelectionQueue = [];\n      });\n    }, status => {\n      if (this.channelzEnabled) {\n        this.channelzTrace.addTrace('CT_WARNING', 'Address resolution failed with code ' + status.code + ' and details \"' + status.details + '\"');\n      }\n      if (this.configSelectionQueue.length > 0) {\n        this.trace('Name resolution failed with calls queued for config selection');\n      }\n      if (this.configSelector === null) {\n        this.currentResolutionError = Object.assign(Object.assign({}, (0, control_plane_status_1.restrictControlPlaneStatusCode)(status.code, status.details)), {\n          metadata: status.metadata\n        });\n      }\n      const localQueue = this.configSelectionQueue;\n      this.configSelectionQueue = [];\n      this.callRefTimerUnref();\n      for (const call of localQueue) {\n        call.reportResolverError(status);\n      }\n    });\n    this.filterStackFactory = new filter_stack_1.FilterStackFactory([new max_message_size_filter_1.MaxMessageSizeFilterFactory(this.options), new compression_filter_1.CompressionFilterFactory(this, this.options)]);\n    this.trace('Channel constructed with options ' + JSON.stringify(options, undefined, 2));\n    const error = new Error();\n    (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'channel_stacktrace', '(' + this.channelzRef.id + ') ' + 'Channel constructed \\n' + ((_h = error.stack) === null || _h === void 0 ? void 0 : _h.substring(error.stack.indexOf('\\n') + 1)));\n  }\n  getChannelzInfo() {\n    return {\n      target: this.originalTarget,\n      state: this.connectivityState,\n      trace: this.channelzTrace,\n      callTracker: this.callTracker,\n      children: this.childrenTracker.getChildLists()\n    };\n  }\n  trace(text, verbosityOverride) {\n    (0, logging_1.trace)(verbosityOverride !== null && verbosityOverride !== void 0 ? verbosityOverride : constants_1.LogVerbosity.DEBUG, 'channel', '(' + this.channelzRef.id + ') ' + (0, uri_parser_1.uriToString)(this.target) + ' ' + text);\n  }\n  callRefTimerRef() {\n    var _a, _b, _c, _d;\n    // If the hasRef function does not exist, always run the code\n    if (!((_b = (_a = this.callRefTimer).hasRef) === null || _b === void 0 ? void 0 : _b.call(_a))) {\n      this.trace('callRefTimer.ref | configSelectionQueue.length=' + this.configSelectionQueue.length + ' pickQueue.length=' + this.pickQueue.length);\n      (_d = (_c = this.callRefTimer).ref) === null || _d === void 0 ? void 0 : _d.call(_c);\n    }\n  }\n  callRefTimerUnref() {\n    var _a, _b;\n    // If the hasRef function does not exist, always run the code\n    if (!this.callRefTimer.hasRef || this.callRefTimer.hasRef()) {\n      this.trace('callRefTimer.unref | configSelectionQueue.length=' + this.configSelectionQueue.length + ' pickQueue.length=' + this.pickQueue.length);\n      (_b = (_a = this.callRefTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n  }\n  removeConnectivityStateWatcher(watcherObject) {\n    const watcherIndex = this.connectivityStateWatchers.findIndex(value => value === watcherObject);\n    if (watcherIndex >= 0) {\n      this.connectivityStateWatchers.splice(watcherIndex, 1);\n    }\n  }\n  updateState(newState) {\n    (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'connectivity_state', '(' + this.channelzRef.id + ') ' + (0, uri_parser_1.uriToString)(this.target) + ' ' + connectivity_state_1.ConnectivityState[this.connectivityState] + ' -> ' + connectivity_state_1.ConnectivityState[newState]);\n    if (this.channelzEnabled) {\n      this.channelzTrace.addTrace('CT_INFO', 'Connectivity state change to ' + connectivity_state_1.ConnectivityState[newState]);\n    }\n    this.connectivityState = newState;\n    const watchersCopy = this.connectivityStateWatchers.slice();\n    for (const watcherObject of watchersCopy) {\n      if (newState !== watcherObject.currentState) {\n        if (watcherObject.timer) {\n          clearTimeout(watcherObject.timer);\n        }\n        this.removeConnectivityStateWatcher(watcherObject);\n        watcherObject.callback();\n      }\n    }\n    if (newState !== connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n      this.currentResolutionError = null;\n    }\n  }\n  throttleKeepalive(newKeepaliveTime) {\n    if (newKeepaliveTime > this.keepaliveTime) {\n      this.keepaliveTime = newKeepaliveTime;\n      for (const wrappedSubchannel of this.wrappedSubchannels) {\n        wrappedSubchannel.throttleKeepalive(newKeepaliveTime);\n      }\n    }\n  }\n  removeWrappedSubchannel(wrappedSubchannel) {\n    this.wrappedSubchannels.delete(wrappedSubchannel);\n  }\n  doPick(metadata, extraPickInfo) {\n    return this.currentPicker.pick({\n      metadata: metadata,\n      extraPickInfo: extraPickInfo\n    });\n  }\n  queueCallForPick(call) {\n    this.pickQueue.push(call);\n    this.callRefTimerRef();\n  }\n  getConfig(method, metadata) {\n    this.resolvingLoadBalancer.exitIdle();\n    if (this.configSelector) {\n      return {\n        type: 'SUCCESS',\n        config: this.configSelector(method, metadata)\n      };\n    } else {\n      if (this.currentResolutionError) {\n        return {\n          type: 'ERROR',\n          error: this.currentResolutionError\n        };\n      } else {\n        return {\n          type: 'NONE'\n        };\n      }\n    }\n  }\n  queueCallForConfig(call) {\n    this.configSelectionQueue.push(call);\n    this.callRefTimerRef();\n  }\n  enterIdle() {\n    this.resolvingLoadBalancer.destroy();\n    this.updateState(connectivity_state_1.ConnectivityState.IDLE);\n    this.currentPicker = new picker_1.QueuePicker(this.resolvingLoadBalancer);\n  }\n  maybeStartIdleTimer() {\n    var _a, _b;\n    if (this.connectivityState !== connectivity_state_1.ConnectivityState.SHUTDOWN && this.callCount === 0) {\n      this.idleTimer = setTimeout(() => {\n        this.trace('Idle timer triggered after ' + this.idleTimeoutMs + 'ms of inactivity');\n        this.enterIdle();\n      }, this.idleTimeoutMs);\n      (_b = (_a = this.idleTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n  }\n  onCallStart() {\n    if (this.channelzEnabled) {\n      this.callTracker.addCallStarted();\n    }\n    this.callCount += 1;\n    if (this.idleTimer) {\n      clearTimeout(this.idleTimer);\n      this.idleTimer = null;\n    }\n  }\n  onCallEnd(status) {\n    if (this.channelzEnabled) {\n      if (status.code === constants_1.Status.OK) {\n        this.callTracker.addCallSucceeded();\n      } else {\n        this.callTracker.addCallFailed();\n      }\n    }\n    this.callCount -= 1;\n    this.maybeStartIdleTimer();\n  }\n  createLoadBalancingCall(callConfig, method, host, credentials, deadline) {\n    const callNumber = (0, call_number_1.getNextCallNumber)();\n    this.trace('createLoadBalancingCall [' + callNumber + '] method=\"' + method + '\"');\n    return new load_balancing_call_1.LoadBalancingCall(this, callConfig, method, host, credentials, deadline, callNumber);\n  }\n  createRetryingCall(callConfig, method, host, credentials, deadline) {\n    const callNumber = (0, call_number_1.getNextCallNumber)();\n    this.trace('createRetryingCall [' + callNumber + '] method=\"' + method + '\"');\n    return new retrying_call_1.RetryingCall(this, callConfig, method, host, credentials, deadline, callNumber, this.retryBufferTracker, RETRY_THROTTLER_MAP.get(this.getTarget()));\n  }\n  createInnerCall(callConfig, method, host, credentials, deadline) {\n    // Create a RetryingCall if retries are enabled\n    if (this.options['grpc.enable_retries'] === 0) {\n      return this.createLoadBalancingCall(callConfig, method, host, credentials, deadline);\n    } else {\n      return this.createRetryingCall(callConfig, method, host, credentials, deadline);\n    }\n  }\n  createResolvingCall(method, deadline, host, parentCall, propagateFlags) {\n    const callNumber = (0, call_number_1.getNextCallNumber)();\n    this.trace('createResolvingCall [' + callNumber + '] method=\"' + method + '\", deadline=' + (0, deadline_1.deadlineToString)(deadline));\n    const finalOptions = {\n      deadline: deadline,\n      flags: propagateFlags !== null && propagateFlags !== void 0 ? propagateFlags : constants_1.Propagate.DEFAULTS,\n      host: host !== null && host !== void 0 ? host : this.defaultAuthority,\n      parentCall: parentCall\n    };\n    const call = new resolving_call_1.ResolvingCall(this, method, finalOptions, this.filterStackFactory.clone(), this.credentials._getCallCredentials(), callNumber);\n    this.onCallStart();\n    call.addStatusWatcher(status => {\n      this.onCallEnd(status);\n    });\n    return call;\n  }\n  close() {\n    this.resolvingLoadBalancer.destroy();\n    this.updateState(connectivity_state_1.ConnectivityState.SHUTDOWN);\n    clearInterval(this.callRefTimer);\n    if (this.idleTimer) {\n      clearTimeout(this.idleTimer);\n    }\n    if (this.channelzEnabled) {\n      (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n    }\n    this.subchannelPool.unrefUnusedSubchannels();\n  }\n  getTarget() {\n    return (0, uri_parser_1.uriToString)(this.target);\n  }\n  getConnectivityState(tryToConnect) {\n    const connectivityState = this.connectivityState;\n    if (tryToConnect) {\n      this.resolvingLoadBalancer.exitIdle();\n      this.maybeStartIdleTimer();\n    }\n    return connectivityState;\n  }\n  watchConnectivityState(currentState, deadline, callback) {\n    if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n      throw new Error('Channel has been shut down');\n    }\n    let timer = null;\n    if (deadline !== Infinity) {\n      const deadlineDate = deadline instanceof Date ? deadline : new Date(deadline);\n      const now = new Date();\n      if (deadline === -Infinity || deadlineDate <= now) {\n        process.nextTick(callback, new Error('Deadline passed without connectivity state change'));\n        return;\n      }\n      timer = setTimeout(() => {\n        this.removeConnectivityStateWatcher(watcherObject);\n        callback(new Error('Deadline passed without connectivity state change'));\n      }, deadlineDate.getTime() - now.getTime());\n    }\n    const watcherObject = {\n      currentState,\n      callback,\n      timer\n    };\n    this.connectivityStateWatchers.push(watcherObject);\n  }\n  /**\n   * Get the channelz reference object for this channel. The returned value is\n   * garbage if channelz is disabled for this channel.\n   * @returns\n   */\n  getChannelzRef() {\n    return this.channelzRef;\n  }\n  createCall(method, deadline, host, parentCall, propagateFlags) {\n    if (typeof method !== 'string') {\n      throw new TypeError('Channel#createCall: method must be a string');\n    }\n    if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n      throw new TypeError('Channel#createCall: deadline must be a number or Date');\n    }\n    if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n      throw new Error('Channel has been shut down');\n    }\n    return this.createResolvingCall(method, deadline, host, parentCall, propagateFlags);\n  }\n}\nexports.InternalChannel = InternalChannel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaW50ZXJuYWwtY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCx1QkFBdUIsR0FBRyxLQUFLLENBQUM7QUFDaEMsTUFBTUcscUJBQXFCLEdBQUdDLG1CQUFPLENBQUMsa0dBQXVCLENBQUM7QUFDOUQsTUFBTUMseUJBQXlCLEdBQUdELG1CQUFPLENBQUMsMEdBQTJCLENBQUM7QUFDdEUsTUFBTUUsaUJBQWlCLEdBQUdGLG1CQUFPLENBQUMsMEZBQW1CLENBQUM7QUFDdEQsTUFBTUcsUUFBUSxHQUFHSCxtQkFBTyxDQUFDLHdFQUFVLENBQUM7QUFDcEMsTUFBTUksV0FBVyxHQUFHSixtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUssY0FBYyxHQUFHTCxtQkFBTyxDQUFDLG9GQUFnQixDQUFDO0FBQ2hELE1BQU1NLG9CQUFvQixHQUFHTixtQkFBTyxDQUFDLGdHQUFzQixDQUFDO0FBQzVELE1BQU1PLFVBQVUsR0FBR1AsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1RLFNBQVMsR0FBR1IsbUJBQU8sQ0FBQywwRUFBVyxDQUFDO0FBQ3RDLE1BQU1TLHlCQUF5QixHQUFHVCxtQkFBTyxDQUFDLDBHQUEyQixDQUFDO0FBQ3RFLE1BQU1VLFlBQVksR0FBR1YsbUJBQU8sQ0FBQyxnRkFBYyxDQUFDO0FBQzVDLE1BQU1XLFlBQVksR0FBR1gsbUJBQU8sQ0FBQyxnRkFBYyxDQUFDO0FBQzVDLE1BQU1ZLG9CQUFvQixHQUFHWixtQkFBTyxDQUFDLGdHQUFzQixDQUFDO0FBQzVELE1BQU1hLFVBQVUsR0FBR2IsbUJBQU8sQ0FBQyw0RUFB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Z3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9pbnRlcm5hbC1jaGFubmVsLmpzPzM0ZDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJuYWxDaGFubmVsID0gdm9pZCAwO1xuY29uc3QgY2hhbm5lbF9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jcmVkZW50aWFsc1wiKTtcbmNvbnN0IHJlc29sdmluZ19sb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZpbmctbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfcG9vbF8xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1wb29sXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGZpbHRlcl9zdGFja18xID0gcmVxdWlyZShcIi4vZmlsdGVyLXN0YWNrXCIpO1xuY29uc3QgY29tcHJlc3Npb25fZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9jb21wcmVzc2lvbi1maWx0ZXJcIik7XG5jb25zdCByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgbWF4X21lc3NhZ2Vfc2l6ZV9maWx0ZXJfMSA9IHJlcXVpcmUoXCIuL21heC1tZXNzYWdlLXNpemUtZmlsdGVyXCIpO1xuY29uc3QgaHR0cF9wcm94eV8xID0gcmVxdWlyZShcIi4vaHR0cF9wcm94eVwiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jaW5nX2NhbGxfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jaW5nLWNhbGxcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCByZXNvbHZpbmdfY2FsbF8xID0gcmVxdWlyZShcIi4vcmVzb2x2aW5nLWNhbGxcIik7XG5jb25zdCBjYWxsX251bWJlcl8xID0gcmVxdWlyZShcIi4vY2FsbC1udW1iZXJcIik7XG5jb25zdCBjb250cm9sX3BsYW5lX3N0YXR1c18xID0gcmVxdWlyZShcIi4vY29udHJvbC1wbGFuZS1zdGF0dXNcIik7XG5jb25zdCByZXRyeWluZ19jYWxsXzEgPSByZXF1aXJlKFwiLi9yZXRyeWluZy1jYWxsXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtaW50ZXJmYWNlXCIpO1xuLyoqXG4gKiBTZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS90aW1lcnMuaHRtbCN0aW1lcnNfc2V0aW50ZXJ2YWxfY2FsbGJhY2tfZGVsYXlfYXJnc1xuICovXG5jb25zdCBNQVhfVElNRU9VVF9USU1FID0gMjE0NzQ4MzY0NztcbmNvbnN0IE1JTl9JRExFX1RJTUVPVVRfTVMgPSAxMDAwO1xuLy8gMzAgbWludXRlc1xuY29uc3QgREVGQVVMVF9JRExFX1RJTUVPVVRfTVMgPSAzMCAqIDYwICogMTAwMDtcbmNvbnN0IFJFVFJZX1RIUk9UVExFUl9NQVAgPSBuZXcgTWFwKCk7XG5jb25zdCBERUZBVUxUX1JFVFJZX0JVRkZFUl9TSVpFX0JZVEVTID0gMSA8PCAyNDsgLy8gMTYgTUJcbmNvbnN0IERFRkFVTFRfUEVSX1JQQ19SRVRSWV9CVUZGRVJfU0laRV9CWVRFUyA9IDEgPDwgMjA7IC8vIDEgTUJcbmNsYXNzIENoYW5uZWxTdWJjaGFubmVsV3JhcHBlciBleHRlbmRzIHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEuQmFzZVN1YmNoYW5uZWxXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZFN1YmNoYW5uZWwsIGNoYW5uZWwpIHtcbiAgICAgICAgc3VwZXIoY2hpbGRTdWJjaGFubmVsKTtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUpID0+IHtcbiAgICAgICAgICAgIGNoYW5uZWwudGhyb3R0bGVLZWVwYWxpdmUoa2VlcGFsaXZlVGltZSk7XG4gICAgICAgIH07XG4gICAgICAgIGNoaWxkU3ViY2hhbm5lbC5hZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgIH1cbiAgICByZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQucmVmKCk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgKz0gMTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudW5yZWYoKTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5yZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwucmVtb3ZlV3JhcHBlZFN1YmNoYW5uZWwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBJbnRlcm5hbENoYW5uZWwge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgY3JlZGVudGlhbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyID0gbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyBxdWV1ZWQgdXAgdG8gZ2V0IGEgY2FsbCBjb25maWcuIFNob3VsZCBvbmx5IGJlIHBvcHVsYXRlZCBiZWZvcmUgdGhlXG4gICAgICAgICAqIGZpcnN0IHRpbWUgdGhlIHJlc29sdmVyIHJldHVybnMgYSByZXN1bHQsIHdoaWNoIGluY2x1ZGVzIHRoZSBDb25maWdTZWxlY3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5waWNrUXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXJzID0gW107XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0b3IgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZXJyb3IgZnJvbSB0aGUgbmFtZSByZXNvbHZlciBpZiBpdCBmYWlsZWQgbW9zdCByZWNlbnRseS4gSXRcbiAgICAgICAgICogaXMgb25seSB1c2VkIHRvIGVuZCBjYWxscyB0aGF0IHN0YXJ0IHdoaWxlIHRoZXJlIGlzIG5vIGNvbmZpZyBzZWxlY3RvclxuICAgICAgICAgKiBhbmQgdGhlIG5hbWUgcmVzb2x2ZXIgaXMgaW4gYmFja29mZiwgc28gaXQgc2hvdWxkIGJlIG51bGxlZCBpZlxuICAgICAgICAgKiBjb25maWdTZWxlY3RvciBiZWNvbWVzIHNldCBvciB0aGUgY2hhbm5lbCBzdGF0ZSBiZWNvbWVzIGFueXRoaW5nIG90aGVyXG4gICAgICAgICAqIHRoYW4gVFJBTlNJRU5UX0ZBSUxVUkUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLndyYXBwZWRTdWJjaGFubmVscyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5jYWxsQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmlkbGVUaW1lciA9IG51bGw7XG4gICAgICAgIC8vIENoYW5uZWx6IGluZm9cbiAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbGxUcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCB0YXJnZXQgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGNyZWRlbnRpYWxzIGluc3RhbmNlb2YgY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgY3JlZGVudGlhbHMgbXVzdCBiZSBhIENoYW5uZWxDcmVkZW50aWFscyBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub3JpZ2luYWxUYXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGFyZ2V0VXJpID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkodGFyZ2V0KTtcbiAgICAgICAgaWYgKG9yaWdpbmFsVGFyZ2V0VXJpID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBwYXJzZSB0YXJnZXQgbmFtZSBcIiR7dGFyZ2V0fVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogVGhpcyBlbnN1cmVzIHRoYXQgdGhlIHRhcmdldCBoYXMgYSBzY2hlbWUgdGhhdCBpcyByZWdpc3RlcmVkIHdpdGggdGhlXG4gICAgICAgICAqIHJlc29sdmVyICovXG4gICAgICAgIGNvbnN0IGRlZmF1bHRTY2hlbWVNYXBSZXN1bHQgPSAoMCwgcmVzb2x2ZXJfMS5tYXBVcmlEZWZhdWx0U2NoZW1lKShvcmlnaW5hbFRhcmdldFVyaSk7XG4gICAgICAgIGlmIChkZWZhdWx0U2NoZW1lTWFwUmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGEgZGVmYXVsdCBzY2hlbWUgZm9yIHRhcmdldCBuYW1lIFwiJHt0YXJnZXR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxSZWZUaW1lciA9IHNldEludGVydmFsKCgpID0+IHsgfSwgTUFYX1RJTUVPVVRfVElNRSk7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuY2FsbFJlZlRpbWVyKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zWydncnBjLmVuYWJsZV9jaGFubmVseiddID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpDaGFubmVsKSh0YXJnZXQsICgpID0+IHRoaXMuZ2V0Q2hhbm5lbHpJbmZvKCksIHRoaXMuY2hhbm5lbHpFbmFibGVkKTtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ2hhbm5lbCBjcmVhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1snZ3JwYy5kZWZhdWx0X2F1dGhvcml0eSddKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRBdXRob3JpdHkgPSB0aGlzLm9wdGlvbnNbJ2dycGMuZGVmYXVsdF9hdXRob3JpdHknXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEF1dGhvcml0eSA9ICgwLCByZXNvbHZlcl8xLmdldERlZmF1bHRBdXRob3JpdHkpKGRlZmF1bHRTY2hlbWVNYXBSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3h5TWFwUmVzdWx0ID0gKDAsIGh0dHBfcHJveHlfMS5tYXBQcm94eU5hbWUpKGRlZmF1bHRTY2hlbWVNYXBSZXN1bHQsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHByb3h5TWFwUmVzdWx0LnRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLCBwcm94eU1hcFJlc3VsdC5leHRyYU9wdGlvbnMpO1xuICAgICAgICAvKiBUaGUgZ2xvYmFsIGJvb2xlYW4gcGFyYW1ldGVyIHRvIGdldFN1YmNoYW5uZWxQb29sIGhhcyB0aGUgaW52ZXJzZSBtZWFuaW5nIHRvIHdoYXRcbiAgICAgICAgICogdGhlIGdycGMudXNlX2xvY2FsX3N1YmNoYW5uZWxfcG9vbCBjaGFubmVsIG9wdGlvbiBtZWFucy4gKi9cbiAgICAgICAgdGhpcy5zdWJjaGFubmVsUG9vbCA9ICgwLCBzdWJjaGFubmVsX3Bvb2xfMS5nZXRTdWJjaGFubmVsUG9vbCkoKChfYyA9IG9wdGlvbnNbJ2dycGMudXNlX2xvY2FsX3N1YmNoYW5uZWxfcG9vbCddKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAwKSA9PT0gMCk7XG4gICAgICAgIHRoaXMucmV0cnlCdWZmZXJUcmFja2VyID0gbmV3IHJldHJ5aW5nX2NhbGxfMS5NZXNzYWdlQnVmZmVyVHJhY2tlcigoX2QgPSBvcHRpb25zWydncnBjLnJldHJ5X2J1ZmZlcl9zaXplJ10pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IERFRkFVTFRfUkVUUllfQlVGRkVSX1NJWkVfQllURVMsIChfZSA9IG9wdGlvbnNbJ2dycGMucGVyX3JwY19yZXRyeV9idWZmZXJfc2l6ZSddKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBERUZBVUxUX1BFUl9SUENfUkVUUllfQlVGRkVSX1NJWkVfQllURVMpO1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWUgPSAoX2YgPSBvcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lX21zJ10pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IC0xO1xuICAgICAgICB0aGlzLmlkbGVUaW1lb3V0TXMgPSBNYXRoLm1heCgoX2cgPSBvcHRpb25zWydncnBjLmNsaWVudF9pZGxlX3RpbWVvdXRfbXMnXSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogREVGQVVMVF9JRExFX1RJTUVPVVRfTVMsIE1JTl9JRExFX1RJTUVPVVRfTVMpO1xuICAgICAgICBjb25zdCBjaGFubmVsQ29udHJvbEhlbHBlciA9IHtcbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsID0gdGhpcy5zdWJjaGFubmVsUG9vbC5nZXRPckNyZWF0ZVN1YmNoYW5uZWwodGhpcy50YXJnZXQsIHN1YmNoYW5uZWxBZGRyZXNzLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIHN1YmNoYW5uZWxBcmdzKSwgdGhpcy5jcmVkZW50aWFscyk7XG4gICAgICAgICAgICAgICAgc3ViY2hhbm5lbC50aHJvdHRsZUtlZXBhbGl2ZSh0aGlzLmtlZXBhbGl2ZVRpbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ3JlYXRlZCBzdWJjaGFubmVsIG9yIHVzZWQgZXhpc3Rpbmcgc3ViY2hhbm5lbCcsIHN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRTdWJjaGFubmVsID0gbmV3IENoYW5uZWxTdWJjaGFubmVsV3JhcHBlcihzdWJjaGFubmVsLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZWRTdWJjaGFubmVscy5hZGQod3JhcHBlZFN1YmNoYW5uZWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkU3ViY2hhbm5lbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVldWVDb3B5ID0gdGhpcy5waWNrUXVldWUuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyVW5yZWYoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgcXVldWVDb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuZG9QaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb246ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvbHZpbmcgbG9hZCBiYWxhbmNlciBzaG91bGQgbmV2ZXIgY2FsbCByZXF1ZXN0UmVyZXNvbHV0aW9uJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkQ2hhbm5lbHpDaGlsZDogKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyLnJlZkNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlQ2hhbm5lbHpDaGlsZDogKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyID0gbmV3IHJlc29sdmluZ19sb2FkX2JhbGFuY2VyXzEuUmVzb2x2aW5nTG9hZEJhbGFuY2VyKHRoaXMudGFyZ2V0LCBjaGFubmVsQ29udHJvbEhlbHBlciwgb3B0aW9ucywgKHNlcnZpY2VDb25maWcsIGNvbmZpZ1NlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2VydmljZUNvbmZpZy5yZXRyeVRocm90dGxpbmcpIHtcbiAgICAgICAgICAgICAgICBSRVRSWV9USFJPVFRMRVJfTUFQLnNldCh0aGlzLmdldFRhcmdldCgpLCBuZXcgcmV0cnlpbmdfY2FsbF8xLlJldHJ5VGhyb3R0bGVyKHNlcnZpY2VDb25maWcucmV0cnlUaHJvdHRsaW5nLm1heFRva2Vucywgc2VydmljZUNvbmZpZy5yZXRyeVRocm90dGxpbmcudG9rZW5SYXRpbywgUkVUUllfVEhST1RUTEVSX01BUC5nZXQodGhpcy5nZXRUYXJnZXQoKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFJFVFJZX1RIUk9UVExFUl9NQVAuZGVsZXRlKHRoaXMuZ2V0VGFyZ2V0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0FkZHJlc3MgcmVzb2x1dGlvbiBzdWNjZWVkZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29uZmlnU2VsZWN0b3IgPSBjb25maWdTZWxlY3RvcjtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJlc29sdXRpb25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICAvKiBXZSBwcm9jZXNzIHRoZSBxdWV1ZSBhc3luY2hyb25vdXNseSB0byBlbnN1cmUgdGhhdCB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAgICAgICAgICogbG9hZCBiYWxhbmNlciB1cGRhdGUgaGFzIGNvbXBsZXRlZC4gKi9cbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsUXVldWUgPSB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclVucmVmKCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIGxvY2FsUXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5nZXRDb25maWcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZSA9IFtdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHN0YXR1cyA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX1dBUk5JTkcnLCAnQWRkcmVzcyByZXNvbHV0aW9uIGZhaWxlZCB3aXRoIGNvZGUgJyArXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAgICAgJyBhbmQgZGV0YWlscyBcIicgK1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgICAgICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ05hbWUgcmVzb2x1dGlvbiBmYWlsZWQgd2l0aCBjYWxscyBxdWV1ZWQgZm9yIGNvbmZpZyBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ1NlbGVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVzb2x1dGlvbkVycm9yID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHN0YXR1cy5jb2RlLCBzdGF0dXMuZGV0YWlscykpLCB7IG1ldGFkYXRhOiBzdGF0dXMubWV0YWRhdGEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFF1ZXVlID0gdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyVW5yZWYoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiBsb2NhbFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5yZXBvcnRSZXNvbHZlckVycm9yKHN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeSA9IG5ldyBmaWx0ZXJfc3RhY2tfMS5GaWx0ZXJTdGFja0ZhY3RvcnkoW1xuICAgICAgICAgICAgbmV3IG1heF9tZXNzYWdlX3NpemVfZmlsdGVyXzEuTWF4TWVzc2FnZVNpemVGaWx0ZXJGYWN0b3J5KHRoaXMub3B0aW9ucyksXG4gICAgICAgICAgICBuZXcgY29tcHJlc3Npb25fZmlsdGVyXzEuQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5KHRoaXMsIHRoaXMub3B0aW9ucyksXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnRyYWNlKCdDaGFubmVsIGNvbnN0cnVjdGVkIHdpdGggb3B0aW9ucyAnICtcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMsIHVuZGVmaW5lZCwgMikpO1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjaGFubmVsX3N0YWNrdHJhY2UnLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgICdDaGFubmVsIGNvbnN0cnVjdGVkIFxcbicgK1xuICAgICAgICAgICAgKChfaCA9IGVycm9yLnN0YWNrKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guc3Vic3RyaW5nKGVycm9yLnN0YWNrLmluZGV4T2YoJ1xcbicpICsgMSkpKTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpJbmZvKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm9yaWdpbmFsVGFyZ2V0LFxuICAgICAgICAgICAgc3RhdGU6IHRoaXMuY29ubmVjdGl2aXR5U3RhdGUsXG4gICAgICAgICAgICB0cmFjZTogdGhpcy5jaGFubmVselRyYWNlLFxuICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlblRyYWNrZXIuZ2V0Q2hpbGRMaXN0cygpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0LCB2ZXJib3NpdHlPdmVycmlkZSkge1xuICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKSh2ZXJib3NpdHlPdmVycmlkZSAhPT0gbnVsbCAmJiB2ZXJib3NpdHlPdmVycmlkZSAhPT0gdm9pZCAwID8gdmVyYm9zaXR5T3ZlcnJpZGUgOiBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjaGFubmVsJywgJygnICsgdGhpcy5jaGFubmVselJlZi5pZCArICcpICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgKyAnICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgY2FsbFJlZlRpbWVyUmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIC8vIElmIHRoZSBoYXNSZWYgZnVuY3Rpb24gZG9lcyBub3QgZXhpc3QsIGFsd2F5cyBydW4gdGhlIGNvZGVcbiAgICAgICAgaWYgKCEoKF9iID0gKF9hID0gdGhpcy5jYWxsUmVmVGltZXIpLmhhc1JlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSkge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnY2FsbFJlZlRpbWVyLnJlZiB8IGNvbmZpZ1NlbGVjdGlvblF1ZXVlLmxlbmd0aD0nICtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlLmxlbmd0aCArXG4gICAgICAgICAgICAgICAgJyBwaWNrUXVldWUubGVuZ3RoPScgK1xuICAgICAgICAgICAgICAgIHRoaXMucGlja1F1ZXVlLmxlbmd0aCk7XG4gICAgICAgICAgICAoX2QgPSAoX2MgPSB0aGlzLmNhbGxSZWZUaW1lcikucmVmKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChfYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsbFJlZlRpbWVyVW5yZWYoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIElmIHRoZSBoYXNSZWYgZnVuY3Rpb24gZG9lcyBub3QgZXhpc3QsIGFsd2F5cyBydW4gdGhlIGNvZGVcbiAgICAgICAgaWYgKCF0aGlzLmNhbGxSZWZUaW1lci5oYXNSZWYgfHwgdGhpcy5jYWxsUmVmVGltZXIuaGFzUmVmKCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2NhbGxSZWZUaW1lci51bnJlZiB8IGNvbmZpZ1NlbGVjdGlvblF1ZXVlLmxlbmd0aD0nICtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlLmxlbmd0aCArXG4gICAgICAgICAgICAgICAgJyBwaWNrUXVldWUubGVuZ3RoPScgK1xuICAgICAgICAgICAgICAgIHRoaXMucGlja1F1ZXVlLmxlbmd0aCk7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmNhbGxSZWZUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXIod2F0Y2hlck9iamVjdCkge1xuICAgICAgICBjb25zdCB3YXRjaGVySW5kZXggPSB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcnMuZmluZEluZGV4KHZhbHVlID0+IHZhbHVlID09PSB3YXRjaGVyT2JqZWN0KTtcbiAgICAgICAgaWYgKHdhdGNoZXJJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcnMuc3BsaWNlKHdhdGNoZXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlU3RhdGUobmV3U3RhdGUpIHtcbiAgICAgICAgKDAsIGxvZ2dpbmdfMS50cmFjZSkoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnY29ubmVjdGl2aXR5X3N0YXRlJywgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY29ubmVjdGl2aXR5U3RhdGVdICtcbiAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aXZpdHkgc3RhdGUgY2hhbmdlIHRvICcgKyBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgY29uc3Qgd2F0Y2hlcnNDb3B5ID0gdGhpcy5jb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAoY29uc3Qgd2F0Y2hlck9iamVjdCBvZiB3YXRjaGVyc0NvcHkpIHtcbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSAhPT0gd2F0Y2hlck9iamVjdC5jdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAod2F0Y2hlck9iamVjdC50aW1lcikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQod2F0Y2hlck9iamVjdC50aW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVXYXRjaGVyKHdhdGNoZXJPYmplY3QpO1xuICAgICAgICAgICAgICAgIHdhdGNoZXJPYmplY3QuY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgaWYgKG5ld0tlZXBhbGl2ZVRpbWUgPiB0aGlzLmtlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IG5ld0tlZXBhbGl2ZVRpbWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHdyYXBwZWRTdWJjaGFubmVsIG9mIHRoaXMud3JhcHBlZFN1YmNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlZFN1YmNoYW5uZWwudGhyb3R0bGVLZWVwYWxpdmUobmV3S2VlcGFsaXZlVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlV3JhcHBlZFN1YmNoYW5uZWwod3JhcHBlZFN1YmNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkU3ViY2hhbm5lbHMuZGVsZXRlKHdyYXBwZWRTdWJjaGFubmVsKTtcbiAgICB9XG4gICAgZG9QaWNrKG1ldGFkYXRhLCBleHRyYVBpY2tJbmZvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQaWNrZXIucGljayh7XG4gICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGEsXG4gICAgICAgICAgICBleHRyYVBpY2tJbmZvOiBleHRyYVBpY2tJbmZvLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcXVldWVDYWxsRm9yUGljayhjYWxsKSB7XG4gICAgICAgIHRoaXMucGlja1F1ZXVlLnB1c2goY2FsbCk7XG4gICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyUmVmKCk7XG4gICAgfVxuICAgIGdldENvbmZpZyhtZXRob2QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ1NlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdTVUNDRVNTJyxcbiAgICAgICAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlnU2VsZWN0b3IobWV0aG9kLCBtZXRhZGF0YSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlc29sdXRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdFUlJPUicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdOT05FJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlQ2FsbEZvckNvbmZpZyhjYWxsKSB7XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUucHVzaChjYWxsKTtcbiAgICAgICAgdGhpcy5jYWxsUmVmVGltZXJSZWYoKTtcbiAgICB9XG4gICAgZW50ZXJJZGxlKCkge1xuICAgICAgICB0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSk7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlciA9IG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlcik7XG4gICAgfVxuICAgIG1heWJlU3RhcnRJZGxlVGltZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTiAmJiB0aGlzLmNhbGxDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pZGxlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdJZGxlIHRpbWVyIHRyaWdnZXJlZCBhZnRlciAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlVGltZW91dE1zICtcbiAgICAgICAgICAgICAgICAgICAgJ21zIG9mIGluYWN0aXZpdHknKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGVySWRsZSgpO1xuICAgICAgICAgICAgfSwgdGhpcy5pZGxlVGltZW91dE1zKTtcbiAgICAgICAgICAgIChfYiA9IChfYSA9IHRoaXMuaWRsZVRpbWVyKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2FsbFN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbFN0YXJ0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxDb3VudCArPSAxO1xuICAgICAgICBpZiAodGhpcy5pZGxlVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmlkbGVUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmlkbGVUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25DYWxsRW5kKHN0YXR1cykge1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsU3VjY2VlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxDb3VudCAtPSAxO1xuICAgICAgICB0aGlzLm1heWJlU3RhcnRJZGxlVGltZXIoKTtcbiAgICB9XG4gICAgY3JlYXRlTG9hZEJhbGFuY2luZ0NhbGwoY2FsbENvbmZpZywgbWV0aG9kLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUpIHtcbiAgICAgICAgY29uc3QgY2FsbE51bWJlciA9ICgwLCBjYWxsX251bWJlcl8xLmdldE5leHRDYWxsTnVtYmVyKSgpO1xuICAgICAgICB0aGlzLnRyYWNlKCdjcmVhdGVMb2FkQmFsYW5jaW5nQ2FsbCBbJyArIGNhbGxOdW1iZXIgKyAnXSBtZXRob2Q9XCInICsgbWV0aG9kICsgJ1wiJyk7XG4gICAgICAgIHJldHVybiBuZXcgbG9hZF9iYWxhbmNpbmdfY2FsbF8xLkxvYWRCYWxhbmNpbmdDYWxsKHRoaXMsIGNhbGxDb25maWcsIG1ldGhvZCwgaG9zdCwgY3JlZGVudGlhbHMsIGRlYWRsaW5lLCBjYWxsTnVtYmVyKTtcbiAgICB9XG4gICAgY3JlYXRlUmV0cnlpbmdDYWxsKGNhbGxDb25maWcsIG1ldGhvZCwgaG9zdCwgY3JlZGVudGlhbHMsIGRlYWRsaW5lKSB7XG4gICAgICAgIGNvbnN0IGNhbGxOdW1iZXIgPSAoMCwgY2FsbF9udW1iZXJfMS5nZXROZXh0Q2FsbE51bWJlcikoKTtcbiAgICAgICAgdGhpcy50cmFjZSgnY3JlYXRlUmV0cnlpbmdDYWxsIFsnICsgY2FsbE51bWJlciArICddIG1ldGhvZD1cIicgKyBtZXRob2QgKyAnXCInKTtcbiAgICAgICAgcmV0dXJuIG5ldyByZXRyeWluZ19jYWxsXzEuUmV0cnlpbmdDYWxsKHRoaXMsIGNhbGxDb25maWcsIG1ldGhvZCwgaG9zdCwgY3JlZGVudGlhbHMsIGRlYWRsaW5lLCBjYWxsTnVtYmVyLCB0aGlzLnJldHJ5QnVmZmVyVHJhY2tlciwgUkVUUllfVEhST1RUTEVSX01BUC5nZXQodGhpcy5nZXRUYXJnZXQoKSkpO1xuICAgIH1cbiAgICBjcmVhdGVJbm5lckNhbGwoY2FsbENvbmZpZywgbWV0aG9kLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgUmV0cnlpbmdDYWxsIGlmIHJldHJpZXMgYXJlIGVuYWJsZWRcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1snZ3JwYy5lbmFibGVfcmV0cmllcyddID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVMb2FkQmFsYW5jaW5nQ2FsbChjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVSZXRyeWluZ0NhbGwoY2FsbENvbmZpZywgbWV0aG9kLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZVJlc29sdmluZ0NhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpIHtcbiAgICAgICAgY29uc3QgY2FsbE51bWJlciA9ICgwLCBjYWxsX251bWJlcl8xLmdldE5leHRDYWxsTnVtYmVyKSgpO1xuICAgICAgICB0aGlzLnRyYWNlKCdjcmVhdGVSZXNvbHZpbmdDYWxsIFsnICtcbiAgICAgICAgICAgIGNhbGxOdW1iZXIgK1xuICAgICAgICAgICAgJ10gbWV0aG9kPVwiJyArXG4gICAgICAgICAgICBtZXRob2QgK1xuICAgICAgICAgICAgJ1wiLCBkZWFkbGluZT0nICtcbiAgICAgICAgICAgICgwLCBkZWFkbGluZV8xLmRlYWRsaW5lVG9TdHJpbmcpKGRlYWRsaW5lKSk7XG4gICAgICAgIGNvbnN0IGZpbmFsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGRlYWRsaW5lOiBkZWFkbGluZSxcbiAgICAgICAgICAgIGZsYWdzOiBwcm9wYWdhdGVGbGFncyAhPT0gbnVsbCAmJiBwcm9wYWdhdGVGbGFncyAhPT0gdm9pZCAwID8gcHJvcGFnYXRlRmxhZ3MgOiBjb25zdGFudHNfMS5Qcm9wYWdhdGUuREVGQVVMVFMsXG4gICAgICAgICAgICBob3N0OiBob3N0ICE9PSBudWxsICYmIGhvc3QgIT09IHZvaWQgMCA/IGhvc3QgOiB0aGlzLmRlZmF1bHRBdXRob3JpdHksXG4gICAgICAgICAgICBwYXJlbnRDYWxsOiBwYXJlbnRDYWxsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsID0gbmV3IHJlc29sdmluZ19jYWxsXzEuUmVzb2x2aW5nQ2FsbCh0aGlzLCBtZXRob2QsIGZpbmFsT3B0aW9ucywgdGhpcy5maWx0ZXJTdGFja0ZhY3RvcnkuY2xvbmUoKSwgdGhpcy5jcmVkZW50aWFscy5fZ2V0Q2FsbENyZWRlbnRpYWxzKCksIGNhbGxOdW1iZXIpO1xuICAgICAgICB0aGlzLm9uQ2FsbFN0YXJ0KCk7XG4gICAgICAgIGNhbGwuYWRkU3RhdHVzV2F0Y2hlcihzdGF0dXMgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNhbGxFbmQoc3RhdHVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYWxsO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNhbGxSZWZUaW1lcik7XG4gICAgICAgIGlmICh0aGlzLmlkbGVUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWRsZVRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJjaGFubmVsUG9vbC51bnJlZlVudXNlZFN1YmNoYW5uZWxzKCk7XG4gICAgfVxuICAgIGdldFRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KTtcbiAgICB9XG4gICAgZ2V0Q29ubmVjdGl2aXR5U3RhdGUodHJ5VG9Db25uZWN0KSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpdml0eVN0YXRlID0gdGhpcy5jb25uZWN0aXZpdHlTdGF0ZTtcbiAgICAgICAgaWYgKHRyeVRvQ29ubmVjdCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIuZXhpdElkbGUoKTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydElkbGVUaW1lcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aXZpdHlTdGF0ZTtcbiAgICB9XG4gICAgd2F0Y2hDb25uZWN0aXZpdHlTdGF0ZShjdXJyZW50U3RhdGUsIGRlYWRsaW5lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuU0hVVERPV04pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhbm5lbCBoYXMgYmVlbiBzaHV0IGRvd24nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGltZXIgPSBudWxsO1xuICAgICAgICBpZiAoZGVhZGxpbmUgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBjb25zdCBkZWFkbGluZURhdGUgPSBkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUgPyBkZWFkbGluZSA6IG5ldyBEYXRlKGRlYWRsaW5lKTtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBpZiAoZGVhZGxpbmUgPT09IC1JbmZpbml0eSB8fCBkZWFkbGluZURhdGUgPD0gbm93KSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFjaywgbmV3IEVycm9yKCdEZWFkbGluZSBwYXNzZWQgd2l0aG91dCBjb25uZWN0aXZpdHkgc3RhdGUgY2hhbmdlJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXIod2F0Y2hlck9iamVjdCk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdEZWFkbGluZSBwYXNzZWQgd2l0aG91dCBjb25uZWN0aXZpdHkgc3RhdGUgY2hhbmdlJykpO1xuICAgICAgICAgICAgfSwgZGVhZGxpbmVEYXRlLmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdhdGNoZXJPYmplY3QgPSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIHRpbWVyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcnMucHVzaCh3YXRjaGVyT2JqZWN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjaGFubmVseiByZWZlcmVuY2Ugb2JqZWN0IGZvciB0aGlzIGNoYW5uZWwuIFRoZSByZXR1cm5lZCB2YWx1ZSBpc1xuICAgICAqIGdhcmJhZ2UgaWYgY2hhbm5lbHogaXMgZGlzYWJsZWQgZm9yIHRoaXMgY2hhbm5lbC5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICB9XG4gICAgY3JlYXRlQ2FsbChtZXRob2QsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnRDYWxsLCBwcm9wYWdhdGVGbGFncykge1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwjY3JlYXRlQ2FsbDogbWV0aG9kIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0eXBlb2YgZGVhZGxpbmUgPT09ICdudW1iZXInIHx8IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwjY3JlYXRlQ2FsbDogZGVhZGxpbmUgbXVzdCBiZSBhIG51bWJlciBvciBEYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYW5uZWwgaGFzIGJlZW4gc2h1dCBkb3duJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUmVzb2x2aW5nQ2FsbChtZXRob2QsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnRDYWxsLCBwcm9wYWdhdGVGbGFncyk7XG4gICAgfVxufVxuZXhwb3J0cy5JbnRlcm5hbENoYW5uZWwgPSBJbnRlcm5hbENoYW5uZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcm5hbC1jaGFubmVsLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkludGVybmFsQ2hhbm5lbCIsImNoYW5uZWxfY3JlZGVudGlhbHNfMSIsInJlcXVpcmUiLCJyZXNvbHZpbmdfbG9hZF9iYWxhbmNlcl8xIiwic3ViY2hhbm5lbF9wb29sXzEiLCJwaWNrZXJfMSIsImNvbnN0YW50c18xIiwiZmlsdGVyX3N0YWNrXzEiLCJjb21wcmVzc2lvbl9maWx0ZXJfMSIsInJlc29sdmVyXzEiLCJsb2dnaW5nXzEiLCJtYXhfbWVzc2FnZV9zaXplX2ZpbHRlcl8xIiwiaHR0cF9wcm94eV8xIiwidXJpX3BhcnNlcl8xIiwiY29ubmVjdGl2aXR5X3N0YXRlXzEiLCJjaGFubmVsel8xIiwibG9hZF9iYWxhbmNpbmdfY2FsbF8xIiwiZGVhZGxpbmVfMSIsInJlc29sdmluZ19jYWxsXzEiLCJjYWxsX251bWJlcl8xIiwiY29udHJvbF9wbGFuZV9zdGF0dXNfMSIsInJldHJ5aW5nX2NhbGxfMSIsInN1YmNoYW5uZWxfaW50ZXJmYWNlXzEiLCJNQVhfVElNRU9VVF9USU1FIiwiTUlOX0lETEVfVElNRU9VVF9NUyIsIkRFRkFVTFRfSURMRV9USU1FT1VUX01TIiwiUkVUUllfVEhST1RUTEVSX01BUCIsIk1hcCIsIkRFRkFVTFRfUkVUUllfQlVGRkVSX1NJWkVfQllURVMiLCJERUZBVUxUX1BFUl9SUENfUkVUUllfQlVGRkVSX1NJWkVfQllURVMiLCJDaGFubmVsU3ViY2hhbm5lbFdyYXBwZXIiLCJCYXNlU3ViY2hhbm5lbFdyYXBwZXIiLCJjb25zdHJ1Y3RvciIsImNoaWxkU3ViY2hhbm5lbCIsImNoYW5uZWwiLCJyZWZDb3VudCIsInN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyIiwic3ViY2hhbm5lbCIsInByZXZpb3VzU3RhdGUiLCJuZXdTdGF0ZSIsImtlZXBhbGl2ZVRpbWUiLCJ0aHJvdHRsZUtlZXBhbGl2ZSIsImFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIiLCJyZWYiLCJjaGlsZCIsInVucmVmIiwicmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lciIsInJlbW92ZVdyYXBwZWRTdWJjaGFubmVsIiwidGFyZ2V0IiwiY3JlZGVudGlhbHMiLCJvcHRpb25zIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsImNvbm5lY3Rpdml0eVN0YXRlIiwiQ29ubmVjdGl2aXR5U3RhdGUiLCJJRExFIiwiY3VycmVudFBpY2tlciIsIlVuYXZhaWxhYmxlUGlja2VyIiwiY29uZmlnU2VsZWN0aW9uUXVldWUiLCJwaWNrUXVldWUiLCJjb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXJzIiwiY29uZmlnU2VsZWN0b3IiLCJjdXJyZW50UmVzb2x1dGlvbkVycm9yIiwid3JhcHBlZFN1YmNoYW5uZWxzIiwiU2V0IiwiY2FsbENvdW50IiwiaWRsZVRpbWVyIiwiY2hhbm5lbHpFbmFibGVkIiwiY2FsbFRyYWNrZXIiLCJDaGFubmVsekNhbGxUcmFja2VyIiwiY2hpbGRyZW5UcmFja2VyIiwiQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIiLCJUeXBlRXJyb3IiLCJDaGFubmVsQ3JlZGVudGlhbHMiLCJvcmlnaW5hbFRhcmdldCIsIm9yaWdpbmFsVGFyZ2V0VXJpIiwicGFyc2VVcmkiLCJFcnJvciIsImRlZmF1bHRTY2hlbWVNYXBSZXN1bHQiLCJtYXBVcmlEZWZhdWx0U2NoZW1lIiwiY2FsbFJlZlRpbWVyIiwic2V0SW50ZXJ2YWwiLCJjYWxsIiwiY2hhbm5lbHpUcmFjZSIsIkNoYW5uZWx6VHJhY2UiLCJjaGFubmVselJlZiIsInJlZ2lzdGVyQ2hhbm5lbHpDaGFubmVsIiwiZ2V0Q2hhbm5lbHpJbmZvIiwiYWRkVHJhY2UiLCJkZWZhdWx0QXV0aG9yaXR5IiwiZ2V0RGVmYXVsdEF1dGhvcml0eSIsInByb3h5TWFwUmVzdWx0IiwibWFwUHJveHlOYW1lIiwiYXNzaWduIiwiZXh0cmFPcHRpb25zIiwic3ViY2hhbm5lbFBvb2wiLCJnZXRTdWJjaGFubmVsUG9vbCIsInJldHJ5QnVmZmVyVHJhY2tlciIsIk1lc3NhZ2VCdWZmZXJUcmFja2VyIiwiaWRsZVRpbWVvdXRNcyIsIk1hdGgiLCJtYXgiLCJjaGFubmVsQ29udHJvbEhlbHBlciIsImNyZWF0ZVN1YmNoYW5uZWwiLCJzdWJjaGFubmVsQWRkcmVzcyIsInN1YmNoYW5uZWxBcmdzIiwiZ2V0T3JDcmVhdGVTdWJjaGFubmVsIiwiZ2V0Q2hhbm5lbHpSZWYiLCJ3cmFwcGVkU3ViY2hhbm5lbCIsImFkZCIsInVwZGF0ZVN0YXRlIiwicGlja2VyIiwicXVldWVDb3B5Iiwic2xpY2UiLCJjYWxsUmVmVGltZXJVbnJlZiIsImRvUGljayIsInJlcXVlc3RSZXJlc29sdXRpb24iLCJhZGRDaGFubmVsekNoaWxkIiwicmVmQ2hpbGQiLCJyZW1vdmVDaGFubmVsekNoaWxkIiwidW5yZWZDaGlsZCIsInJlc29sdmluZ0xvYWRCYWxhbmNlciIsIlJlc29sdmluZ0xvYWRCYWxhbmNlciIsInNlcnZpY2VDb25maWciLCJyZXRyeVRocm90dGxpbmciLCJzZXQiLCJnZXRUYXJnZXQiLCJSZXRyeVRocm90dGxlciIsIm1heFRva2VucyIsInRva2VuUmF0aW8iLCJnZXQiLCJkZWxldGUiLCJwcm9jZXNzIiwibmV4dFRpY2siLCJsb2NhbFF1ZXVlIiwiZ2V0Q29uZmlnIiwic3RhdHVzIiwiY29kZSIsImRldGFpbHMiLCJsZW5ndGgiLCJ0cmFjZSIsInJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSIsIm1ldGFkYXRhIiwicmVwb3J0UmVzb2x2ZXJFcnJvciIsImZpbHRlclN0YWNrRmFjdG9yeSIsIkZpbHRlclN0YWNrRmFjdG9yeSIsIk1heE1lc3NhZ2VTaXplRmlsdGVyRmFjdG9yeSIsIkNvbXByZXNzaW9uRmlsdGVyRmFjdG9yeSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1bmRlZmluZWQiLCJlcnJvciIsIkxvZ1ZlcmJvc2l0eSIsIkRFQlVHIiwiaWQiLCJzdGFjayIsInN1YnN0cmluZyIsImluZGV4T2YiLCJzdGF0ZSIsImNoaWxkcmVuIiwiZ2V0Q2hpbGRMaXN0cyIsInRleHQiLCJ2ZXJib3NpdHlPdmVycmlkZSIsInVyaVRvU3RyaW5nIiwiY2FsbFJlZlRpbWVyUmVmIiwiaGFzUmVmIiwicmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVXYXRjaGVyIiwid2F0Y2hlck9iamVjdCIsIndhdGNoZXJJbmRleCIsImZpbmRJbmRleCIsInNwbGljZSIsIndhdGNoZXJzQ29weSIsImN1cnJlbnRTdGF0ZSIsInRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiY2FsbGJhY2siLCJUUkFOU0lFTlRfRkFJTFVSRSIsIm5ld0tlZXBhbGl2ZVRpbWUiLCJleHRyYVBpY2tJbmZvIiwicGljayIsInF1ZXVlQ2FsbEZvclBpY2siLCJwdXNoIiwibWV0aG9kIiwiZXhpdElkbGUiLCJ0eXBlIiwiY29uZmlnIiwicXVldWVDYWxsRm9yQ29uZmlnIiwiZW50ZXJJZGxlIiwiZGVzdHJveSIsIlF1ZXVlUGlja2VyIiwibWF5YmVTdGFydElkbGVUaW1lciIsIlNIVVRET1dOIiwic2V0VGltZW91dCIsIm9uQ2FsbFN0YXJ0IiwiYWRkQ2FsbFN0YXJ0ZWQiLCJvbkNhbGxFbmQiLCJTdGF0dXMiLCJPSyIsImFkZENhbGxTdWNjZWVkZWQiLCJhZGRDYWxsRmFpbGVkIiwiY3JlYXRlTG9hZEJhbGFuY2luZ0NhbGwiLCJjYWxsQ29uZmlnIiwiaG9zdCIsImRlYWRsaW5lIiwiY2FsbE51bWJlciIsImdldE5leHRDYWxsTnVtYmVyIiwiTG9hZEJhbGFuY2luZ0NhbGwiLCJjcmVhdGVSZXRyeWluZ0NhbGwiLCJSZXRyeWluZ0NhbGwiLCJjcmVhdGVJbm5lckNhbGwiLCJjcmVhdGVSZXNvbHZpbmdDYWxsIiwicGFyZW50Q2FsbCIsInByb3BhZ2F0ZUZsYWdzIiwiZGVhZGxpbmVUb1N0cmluZyIsImZpbmFsT3B0aW9ucyIsImZsYWdzIiwiUHJvcGFnYXRlIiwiREVGQVVMVFMiLCJSZXNvbHZpbmdDYWxsIiwiY2xvbmUiLCJfZ2V0Q2FsbENyZWRlbnRpYWxzIiwiYWRkU3RhdHVzV2F0Y2hlciIsImNsb3NlIiwiY2xlYXJJbnRlcnZhbCIsInVucmVnaXN0ZXJDaGFubmVselJlZiIsInVucmVmVW51c2VkU3ViY2hhbm5lbHMiLCJnZXRDb25uZWN0aXZpdHlTdGF0ZSIsInRyeVRvQ29ubmVjdCIsIndhdGNoQ29ubmVjdGl2aXR5U3RhdGUiLCJJbmZpbml0eSIsImRlYWRsaW5lRGF0ZSIsIkRhdGUiLCJub3ciLCJnZXRUaW1lIiwiY3JlYXRlQ2FsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/internal-channel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ChildLoadBalancerHandler = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst TYPE_NAME = 'child_load_balancer_helper';\nclass ChildLoadBalancerHandler {\n  constructor(channelControlHelper) {\n    this.channelControlHelper = channelControlHelper;\n    this.currentChild = null;\n    this.pendingChild = null;\n    this.latestConfig = null;\n    this.ChildPolicyHelper = class {\n      constructor(parent) {\n        this.parent = parent;\n        this.child = null;\n      }\n      createSubchannel(subchannelAddress, subchannelArgs) {\n        return this.parent.channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n      }\n      updateState(connectivityState, picker) {\n        var _a;\n        if (this.calledByPendingChild()) {\n          if (connectivityState === connectivity_state_1.ConnectivityState.CONNECTING) {\n            return;\n          }\n          (_a = this.parent.currentChild) === null || _a === void 0 ? void 0 : _a.destroy();\n          this.parent.currentChild = this.parent.pendingChild;\n          this.parent.pendingChild = null;\n        } else if (!this.calledByCurrentChild()) {\n          return;\n        }\n        this.parent.channelControlHelper.updateState(connectivityState, picker);\n      }\n      requestReresolution() {\n        var _a;\n        const latestChild = (_a = this.parent.pendingChild) !== null && _a !== void 0 ? _a : this.parent.currentChild;\n        if (this.child === latestChild) {\n          this.parent.channelControlHelper.requestReresolution();\n        }\n      }\n      setChild(newChild) {\n        this.child = newChild;\n      }\n      addChannelzChild(child) {\n        this.parent.channelControlHelper.addChannelzChild(child);\n      }\n      removeChannelzChild(child) {\n        this.parent.channelControlHelper.removeChannelzChild(child);\n      }\n      calledByPendingChild() {\n        return this.child === this.parent.pendingChild;\n      }\n      calledByCurrentChild() {\n        return this.child === this.parent.currentChild;\n      }\n    };\n  }\n  configUpdateRequiresNewPolicyInstance(oldConfig, newConfig) {\n    return oldConfig.getLoadBalancerName() !== newConfig.getLoadBalancerName();\n  }\n  /**\n   * Prerequisites: lbConfig !== null and lbConfig.name is registered\n   * @param addressList\n   * @param lbConfig\n   * @param attributes\n   */\n  updateAddressList(addressList, lbConfig, attributes) {\n    let childToUpdate;\n    if (this.currentChild === null || this.latestConfig === null || this.configUpdateRequiresNewPolicyInstance(this.latestConfig, lbConfig)) {\n      const newHelper = new this.ChildPolicyHelper(this);\n      const newChild = (0, load_balancer_1.createLoadBalancer)(lbConfig, newHelper);\n      newHelper.setChild(newChild);\n      if (this.currentChild === null) {\n        this.currentChild = newChild;\n        childToUpdate = this.currentChild;\n      } else {\n        if (this.pendingChild) {\n          this.pendingChild.destroy();\n        }\n        this.pendingChild = newChild;\n        childToUpdate = this.pendingChild;\n      }\n    } else {\n      if (this.pendingChild === null) {\n        childToUpdate = this.currentChild;\n      } else {\n        childToUpdate = this.pendingChild;\n      }\n    }\n    this.latestConfig = lbConfig;\n    childToUpdate.updateAddressList(addressList, lbConfig, attributes);\n  }\n  exitIdle() {\n    if (this.currentChild) {\n      this.currentChild.exitIdle();\n      if (this.pendingChild) {\n        this.pendingChild.exitIdle();\n      }\n    }\n  }\n  resetBackoff() {\n    if (this.currentChild) {\n      this.currentChild.resetBackoff();\n      if (this.pendingChild) {\n        this.pendingChild.resetBackoff();\n      }\n    }\n  }\n  destroy() {\n    /* Note: state updates are only propagated from the child balancer if that\n     * object is equal to this.currentChild or this.pendingChild. Since this\n     * function sets both of those to null, no further state updates will\n     * occur after this function returns. */\n    if (this.currentChild) {\n      this.currentChild.destroy();\n      this.currentChild = null;\n    }\n    if (this.pendingChild) {\n      this.pendingChild.destroy();\n      this.pendingChild = null;\n    }\n  }\n  getTypeName() {\n    return TYPE_NAME;\n  }\n}\nexports.ChildLoadBalancerHandler = ChildLoadBalancerHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGdDQUFnQyxHQUFHLEtBQUssQ0FBQztBQUN6QyxNQUFNRyxlQUFlLEdBQUdDLG1CQUFPLENBQUMsc0ZBQWlCLENBQUM7QUFDbEQsTUFBTUMsb0JBQW9CLEdBQUdELG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUUsU0FBUyxHQUFHLDRCQUE0QjtBQUM5QyxNQUFNSix3QkFBd0IsQ0FBQztFQUMzQkssV0FBV0EsQ0FBQ0Msb0JBQW9CLEVBQUU7SUFDOUIsSUFBSSxDQUFDQSxvQkFBb0IsR0FBR0Esb0JBQW9CO0lBQ2hELElBQUksQ0FBQ0MsWUFBWSxHQUFHLElBQUk7SUFDeEIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSTtJQUN4QixJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJO0lBQ3hCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsTUFBTTtNQUMzQkwsV0FBV0EsQ0FBQ00sTUFBTSxFQUFFO1FBQ2hCLElBQUksQ0FBQ0EsTUFBTSxHQUFHQSxNQUFNO1FBQ3BCLElBQUksQ0FBQ0MsS0FBSyxHQUFHLElBQUk7TUFDckI7TUFDQUMsZ0JBQWdCQSxDQUFDQyxpQkFBaUIsRUFBRUMsY0FBYyxFQUFFO1FBQ2hELE9BQU8sSUFBSSxDQUFDSixNQUFNLENBQUNMLG9CQUFvQixDQUFDTyxnQkFBZ0IsQ0FBQ0MsaUJBQWlCLEVBQUVDLGNBQWMsQ0FBQztNQUMvRjtNQUNBQyxXQUFXQSxDQUFDQyxpQkFBaUIsRUFBRUMsTUFBTSxFQUFFO1FBQ25DLElBQUlDLEVB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QUFDbUMsWUFBWSxDQUFDLENBQUM7TUFDcEM7SUFDSjtFQUNKO0VBQ0FwQixPQUFPQSxDQUFBLEVBQUc7SUFDTjtBQUNSO0FBQ0E7QUFDQTtJQUNRLElBQUksSUFBSSxDQUFDaEIsWUFBWSxFQUFFO01BQ25CLElBQUksQ0FBQ0EsWUFBWSxDQUFDZ0IsT0FBTyxDQUFDLENBQUM7TUFDM0IsSUFBSSxDQUFDaEIsWUFBWSxHQUFHLElBQUk7SUFDNUI7SUFDQSxJQUFJLElBQUksQ0FBQ0MsWUFBWSxFQUFFO01BQ25CLElBQUksQ0FBQ0EsWUFBWSxDQUFDZSxPQUFPLENBQUMsQ0FBQztNQUMzQixJQUFJLENBQUNmLFlBQVksR0FBRyxJQUFJO0lBQzVCO0VBQ0o7RUFDQW9DLFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU94QyxTQUFTO0VBQ3BCO0FBQ0o7QUFDQU4sZ0NBQWdDLEdBQUdFLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyLmpzPzdlMTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjAgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyID0gdm9pZCAwO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgVFlQRV9OQU1FID0gJ2NoaWxkX2xvYWRfYmFsYW5jZXJfaGVscGVyJztcbmNsYXNzIENoaWxkTG9hZEJhbGFuY2VySGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbENvbnRyb2xIZWxwZXIpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlciA9IGNoYW5uZWxDb250cm9sSGVscGVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZCA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ0NoaWxkID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBudWxsO1xuICAgICAgICB0aGlzLkNoaWxkUG9saWN5SGVscGVyID0gY2xhc3Mge1xuICAgICAgICAgICAgY29uc3RydWN0b3IocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcmVhdGVTdWJjaGFubmVsKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci5jcmVhdGVTdWJjaGFubmVsKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxlZEJ5UGVuZGluZ0NoaWxkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGhpcy5wYXJlbnQuY3VycmVudENoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jdXJyZW50Q2hpbGQgPSB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnBlbmRpbmdDaGlsZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmNhbGxlZEJ5Q3VycmVudENoaWxkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdENoaWxkID0gKF9hID0gdGhpcy5wYXJlbnQucGVuZGluZ0NoaWxkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnBhcmVudC5jdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGQgPT09IGxhdGVzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWxDb250cm9sSGVscGVyLnJlcXVlc3RSZXJlc29sdXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDaGlsZChuZXdDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQgPSBuZXdDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZENoYW5uZWx6Q2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci5hZGRDaGFubmVsekNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci5yZW1vdmVDaGFubmVsekNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxlZEJ5UGVuZGluZ0NoaWxkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkID09PSB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsZWRCeUN1cnJlbnRDaGlsZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZCA9PT0gdGhpcy5wYXJlbnQuY3VycmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25maWdVcGRhdGVSZXF1aXJlc05ld1BvbGljeUluc3RhbmNlKG9sZENvbmZpZywgbmV3Q29uZmlnKSB7XG4gICAgICAgIHJldHVybiBvbGRDb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpICE9PSBuZXdDb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVyZXF1aXNpdGVzOiBsYkNvbmZpZyAhPT0gbnVsbCBhbmQgbGJDb25maWcubmFtZSBpcyByZWdpc3RlcmVkXG4gICAgICogQHBhcmFtIGFkZHJlc3NMaXN0XG4gICAgICogQHBhcmFtIGxiQ29uZmlnXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICB1cGRhdGVBZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgbGJDb25maWcsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgbGV0IGNoaWxkVG9VcGRhdGU7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnVXBkYXRlUmVxdWlyZXNOZXdQb2xpY3lJbnN0YW5jZSh0aGlzLmxhdGVzdENvbmZpZywgbGJDb25maWcpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdIZWxwZXIgPSBuZXcgdGhpcy5DaGlsZFBvbGljeUhlbHBlcih0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NoaWxkID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5jcmVhdGVMb2FkQmFsYW5jZXIpKGxiQ29uZmlnLCBuZXdIZWxwZXIpO1xuICAgICAgICAgICAgbmV3SGVscGVyLnNldENoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENoaWxkID0gbmV3Q2hpbGQ7XG4gICAgICAgICAgICAgICAgY2hpbGRUb1VwZGF0ZSA9IHRoaXMuY3VycmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQgPSBuZXdDaGlsZDtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5jdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBsYkNvbmZpZztcbiAgICAgICAgY2hpbGRUb1VwZGF0ZS51cGRhdGVBZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgbGJDb25maWcsIGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZC5leGl0SWRsZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQuZXhpdElkbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2hpbGQucmVzZXRCYWNrb2ZmKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5yZXNldEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICAvKiBOb3RlOiBzdGF0ZSB1cGRhdGVzIGFyZSBvbmx5IHByb3BhZ2F0ZWQgZnJvbSB0aGUgY2hpbGQgYmFsYW5jZXIgaWYgdGhhdFxuICAgICAgICAgKiBvYmplY3QgaXMgZXF1YWwgdG8gdGhpcy5jdXJyZW50Q2hpbGQgb3IgdGhpcy5wZW5kaW5nQ2hpbGQuIFNpbmNlIHRoaXNcbiAgICAgICAgICogZnVuY3Rpb24gc2V0cyBib3RoIG9mIHRob3NlIHRvIG51bGwsIG5vIGZ1cnRoZXIgc3RhdGUgdXBkYXRlcyB3aWxsXG4gICAgICAgICAqIG9jY3VyIGFmdGVyIHRoaXMgZnVuY3Rpb24gcmV0dXJucy4gKi9cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxufVxuZXhwb3J0cy5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIgPSBDaGlsZExvYWRCYWxhbmNlckhhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXIuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyIiwibG9hZF9iYWxhbmNlcl8xIiwicmVxdWlyZSIsImNvbm5lY3Rpdml0eV9zdGF0ZV8xIiwiVFlQRV9OQU1FIiwiY29uc3RydWN0b3IiLCJjaGFubmVsQ29udHJvbEhlbHBlciIsImN1cnJlbnRDaGlsZCIsInBlbmRpbmdDaGlsZCIsImxhdGVzdENvbmZpZyIsIkNoaWxkUG9saWN5SGVscGVyIiwicGFyZW50IiwiY2hpbGQiLCJjcmVhdGVTdWJjaGFubmVsIiwic3ViY2hhbm5lbEFkZHJlc3MiLCJzdWJjaGFubmVsQXJncyIsInVwZGF0ZVN0YXRlIiwiY29ubmVjdGl2aXR5U3RhdGUiLCJwaWNrZXIiLCJfYSIsImNhbGxlZEJ5UGVuZGluZ0NoaWxkIiwiQ29ubmVjdGl2aXR5U3RhdGUiLCJDT05ORUNUSU5HIiwiZGVzdHJveSIsImNhbGxlZEJ5Q3VycmVudENoaWxkIiwicmVxdWVzdFJlcmVzb2x1dGlvbiIsImxhdGVzdENoaWxkIiwic2V0Q2hpbGQiLCJuZXdDaGlsZCIsImFkZENoYW5uZWx6Q2hpbGQiLCJyZW1vdmVDaGFubmVsekNoaWxkIiwiY29uZmlnVXBkYXRlUmVxdWlyZXNOZXdQb2xpY3lJbnN0YW5jZSIsIm9sZENvbmZpZyIsIm5ld0NvbmZpZyIsImdldExvYWRCYWxhbmNlck5hbWUiLCJ1cGRhdGVBZGRyZXNzTGlzdCIsImFkZHJlc3NMaXN0IiwibGJDb25maWciLCJhdHRyaWJ1dGVzIiwiY2hpbGRUb1VwZGF0ZSIsIm5ld0hlbHBlciIsImNyZWF0ZUxvYWRCYWxhbmNlciIsImV4aXRJZGxlIiwicmVzZXRCYWNrb2ZmIiwiZ2V0VHlwZU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setup = exports.OutlierDetectionLoadBalancer = exports.OutlierDetectionLoadBalancingConfig = void 0;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst duration_1 = __webpack_require__(/*! ./duration */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/duration.js\");\nconst experimental_1 = __webpack_require__(/*! ./experimental */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/experimental.js\");\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'outlier_detection';\nfunction trace(text) {\n  logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'outlier_detection';\nconst OUTLIER_DETECTION_ENABLED = ((_a = process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION) !== null && _a !== void 0 ? _a : 'true') === 'true';\nconst defaultSuccessRateEjectionConfig = {\n  stdev_factor: 1900,\n  enforcement_percentage: 100,\n  minimum_hosts: 5,\n  request_volume: 100\n};\nconst defaultFailurePercentageEjectionConfig = {\n  threshold: 85,\n  enforcement_percentage: 100,\n  minimum_hosts: 5,\n  request_volume: 50\n};\nfunction validateFieldType(obj, fieldName, expectedType, objectName) {\n  if (fieldName in obj && typeof obj[fieldName] !== expectedType) {\n    const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n    throw new Error(`outlier detection config ${fullFieldName} parse error: expected ${expectedType}, got ${typeof obj[fieldName]}`);\n  }\n}\nfunction validatePositiveDuration(obj, fieldName, objectName) {\n  const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n  if (fieldName in obj) {\n    if (!(0, duration_1.isDuration)(obj[fieldName])) {\n      throw new Error(`outlier detection config ${fullFieldName} parse error: expected Duration, got ${typeof obj[fieldName]}`);\n    }\n    if (!(obj[fieldName].seconds >= 0 && obj[fieldName].seconds <= 315576000000 && obj[fieldName].nanos >= 0 && obj[fieldName].nanos <= 999999999)) {\n      throw new Error(`outlier detection config ${fullFieldName} parse error: values out of range for non-negative Duaration`);\n    }\n  }\n}\nfunction validatePercentage(obj, fieldName, objectName) {\n  const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n  validateFieldType(obj, fieldName, 'number', objectName);\n  if (fieldName in obj && !(obj[fieldName] >= 0 && obj[fieldName] <= 100)) {\n    throw new Error(`outlier detection config ${fullFieldName} parse error: value out of range for percentage (0-100)`);\n  }\n}\nclass OutlierDetectionLoadBalancingConfig {\n  constructor(intervalMs, baseEjectionTimeMs, maxEjectionTimeMs, maxEjectionPercent, successRateEjection, failurePercentageEjection, childPolicy) {\n    this.childPolicy = childPolicy;\n    if (childPolicy.length > 0 && childPolicy[0].getLoadBalancerName() === 'pick_first') {\n      throw new Error('outlier_detection LB policy cannot have a pick_first child policy');\n    }\n    this.intervalMs = intervalMs !== null && intervalMs !== void 0 ? intervalMs : 10000;\n    this.baseEjectionTimeMs = baseEjectionTimeMs !== null && baseEjectionTimeMs !== void 0 ? baseEjectionTimeMs : 30000;\n    this.maxEjectionTimeMs = maxEjectionTimeMs !== null && maxEjectionTimeMs !== void 0 ? maxEjectionTimeMs : 300000;\n    this.maxEjectionPercent = maxEjectionPercent !== null && maxEjectionPercent !== void 0 ? maxEjectionPercent : 10;\n    this.successRateEjection = successRateEjection ? Object.assign(Object.assign({}, defaultSuccessRateEjectionConfig), successRateEjection) : null;\n    this.failurePercentageEjection = failurePercentageEjection ? Object.assign(Object.assign({}, defaultFailurePercentageEjectionConfig), failurePercentageEjection) : null;\n  }\n  getLoadBalancerName() {\n    return TYPE_NAME;\n  }\n  toJsonObject() {\n    return {\n      interval: (0, duration_1.msToDuration)(this.intervalMs),\n      base_ejection_time: (0, duration_1.msToDuration)(this.baseEjectionTimeMs),\n      max_ejection_time: (0, duration_1.msToDuration)(this.maxEjectionTimeMs),\n      max_ejection_percent: this.maxEjectionPercent,\n      success_rate_ejection: this.successRateEjection,\n      failure_percentage_ejection: this.failurePercentageEjection,\n      child_policy: this.childPolicy.map(policy => policy.toJsonObject())\n    };\n  }\n  getIntervalMs() {\n    return this.intervalMs;\n  }\n  getBaseEjectionTimeMs() {\n    return this.baseEjectionTimeMs;\n  }\n  getMaxEjectionTimeMs() {\n    return this.maxEjectionTimeMs;\n  }\n  getMaxEjectionPercent() {\n    return this.maxEjectionPercent;\n  }\n  getSuccessRateEjectionConfig() {\n    return this.successRateEjection;\n  }\n  getFailurePercentageEjectionConfig() {\n    return this.failurePercentageEjection;\n  }\n  getChildPolicy() {\n    return this.childPolicy;\n  }\n  copyWithChildPolicy(childPolicy) {\n    return new OutlierDetectionLoadBalancingConfig(this.intervalMs, this.baseEjectionTimeMs, this.maxEjectionTimeMs, this.maxEjectionPercent, this.successRateEjection, this.failurePercentageEjection, childPolicy);\n  }\n  static createFromJson(obj) {\n    var _a;\n    validatePositiveDuration(obj, 'interval');\n    validatePositiveDuration(obj, 'base_ejection_time');\n    validatePositiveDuration(obj, 'max_ejection_time');\n    validatePercentage(obj, 'max_ejection_percent');\n    if ('success_rate_ejection' in obj) {\n      if (typeof obj.success_rate_ejection !== 'object') {\n        throw new Error('outlier detection config success_rate_ejection must be an object');\n      }\n      validateFieldType(obj.success_rate_ejection, 'stdev_factor', 'number', 'success_rate_ejection');\n      validatePercentage(obj.success_rate_ejection, 'enforcement_percentage', 'success_rate_ejection');\n      validateFieldType(obj.success_rate_ejection, 'minimum_hosts', 'number', 'success_rate_ejection');\n      validateFieldType(obj.success_rate_ejection, 'request_volume', 'number', 'success_rate_ejection');\n    }\n    if ('failure_percentage_ejection' in obj) {\n      if (typeof obj.failure_percentage_ejection !== 'object') {\n        throw new Error('outlier detection config failure_percentage_ejection must be an object');\n      }\n      validatePercentage(obj.failure_percentage_ejection, 'threshold', 'failure_percentage_ejection');\n      validatePercentage(obj.failure_percentage_ejection, 'enforcement_percentage', 'failure_percentage_ejection');\n      validateFieldType(obj.failure_percentage_ejection, 'minimum_hosts', 'number', 'failure_percentage_ejection');\n      validateFieldType(obj.failure_percentage_ejection, 'request_volume', 'number', 'failure_percentage_ejection');\n    }\n    return new OutlierDetectionLoadBalancingConfig(obj.interval ? (0, duration_1.durationToMs)(obj.interval) : null, obj.base_ejection_time ? (0, duration_1.durationToMs)(obj.base_ejection_time) : null, obj.max_ejection_time ? (0, duration_1.durationToMs)(obj.max_ejection_time) : null, (_a = obj.max_ejection_percent) !== null && _a !== void 0 ? _a : null, obj.success_rate_ejection, obj.failure_percentage_ejection, obj.child_policy.map(load_balancer_1.validateLoadBalancingConfig));\n  }\n}\nexports.OutlierDetectionLoadBalancingConfig = OutlierDetectionLoadBalancingConfig;\nclass OutlierDetectionSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n  constructor(childSubchannel, mapEntry) {\n    super(childSubchannel);\n    this.mapEntry = mapEntry;\n    this.stateListeners = [];\n    this.ejected = false;\n    this.refCount = 0;\n    this.childSubchannelState = childSubchannel.getConnectivityState();\n    childSubchannel.addConnectivityStateListener((subchannel, previousState, newState, keepaliveTime) => {\n      this.childSubchannelState = newState;\n      if (!this.ejected) {\n        for (const listener of this.stateListeners) {\n          listener(this, previousState, newState, keepaliveTime);\n        }\n      }\n    });\n  }\n  getConnectivityState() {\n    if (this.ejected) {\n      return connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE;\n    } else {\n      return this.childSubchannelState;\n    }\n  }\n  /**\n   * Add a listener function to be called whenever the wrapper's\n   * connectivity state changes.\n   * @param listener\n   */\n  addConnectivityStateListener(listener) {\n    this.stateListeners.push(listener);\n  }\n  /**\n   * Remove a listener previously added with `addConnectivityStateListener`\n   * @param listener A reference to a function previously passed to\n   *     `addConnectivityStateListener`\n   */\n  removeConnectivityStateListener(listener) {\n    const listenerIndex = this.stateListeners.indexOf(listener);\n    if (listenerIndex > -1) {\n      this.stateListeners.splice(listenerIndex, 1);\n    }\n  }\n  ref() {\n    this.child.ref();\n    this.refCount += 1;\n  }\n  unref() {\n    this.child.unref();\n    this.refCount -= 1;\n    if (this.refCount <= 0) {\n      if (this.mapEntry) {\n        const index = this.mapEntry.subchannelWrappers.indexOf(this);\n        if (index >= 0) {\n          this.mapEntry.subchannelWrappers.splice(index, 1);\n        }\n      }\n    }\n  }\n  eject() {\n    this.ejected = true;\n    for (const listener of this.stateListeners) {\n      listener(this, this.childSubchannelState, connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, -1);\n    }\n  }\n  uneject() {\n    this.ejected = false;\n    for (const listener of this.stateListeners) {\n      listener(this, connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, this.childSubchannelState, -1);\n    }\n  }\n  getMapEntry() {\n    return this.mapEntry;\n  }\n  getWrappedSubchannel() {\n    return this.child;\n  }\n}\nfunction createEmptyBucket() {\n  return {\n    success: 0,\n    failure: 0\n  };\n}\nclass CallCounter {\n  constructor() {\n    this.activeBucket = createEmptyBucket();\n    this.inactiveBucket = createEmptyBucket();\n  }\n  addSuccess() {\n    this.activeBucket.success += 1;\n  }\n  addFailure() {\n    this.activeBucket.failure += 1;\n  }\n  switchBuckets() {\n    this.inactiveBucket = this.activeBucket;\n    this.activeBucket = createEmptyBucket();\n  }\n  getLastSuccesses() {\n    return this.inactiveBucket.success;\n  }\n  getLastFailures() {\n    return this.inactiveBucket.failure;\n  }\n}\nclass OutlierDetectionPicker {\n  constructor(wrappedPicker, countCalls) {\n    this.wrappedPicker = wrappedPicker;\n    this.countCalls = countCalls;\n  }\n  pick(pickArgs) {\n    const wrappedPick = this.wrappedPicker.pick(pickArgs);\n    if (wrappedPick.pickResultType === picker_1.PickResultType.COMPLETE) {\n      const subchannelWrapper = wrappedPick.subchannel;\n      const mapEntry = subchannelWrapper.getMapEntry();\n      if (mapEntry) {\n        let onCallEnded = wrappedPick.onCallEnded;\n        if (this.countCalls) {\n          onCallEnded = statusCode => {\n            var _a;\n            if (statusCode === constants_1.Status.OK) {\n              mapEntry.counter.addSuccess();\n            } else {\n              mapEntry.counter.addFailure();\n            }\n            (_a = wrappedPick.onCallEnded) === null || _a === void 0 ? void 0 : _a.call(wrappedPick, statusCode);\n          };\n        }\n        return Object.assign(Object.assign({}, wrappedPick), {\n          subchannel: subchannelWrapper.getWrappedSubchannel(),\n          onCallEnded: onCallEnded\n        });\n      } else {\n        return Object.assign(Object.assign({}, wrappedPick), {\n          subchannel: subchannelWrapper.getWrappedSubchannel()\n        });\n      }\n    } else {\n      return wrappedPick;\n    }\n  }\n}\nclass OutlierDetectionLoadBalancer {\n  constructor(channelControlHelper) {\n    this.addressMap = new Map();\n    this.latestConfig = null;\n    this.timerStartTime = null;\n    this.childBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler((0, experimental_1.createChildChannelControlHelper)(channelControlHelper, {\n      createSubchannel: (subchannelAddress, subchannelArgs) => {\n        const originalSubchannel = channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n        const mapEntry = this.addressMap.get((0, subchannel_address_1.subchannelAddressToString)(subchannelAddress));\n        const subchannelWrapper = new OutlierDetectionSubchannelWrapper(originalSubchannel, mapEntry);\n        if ((mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.currentEjectionTimestamp) !== null) {\n          // If the address is ejected, propagate that to the new subchannel wrapper\n          subchannelWrapper.eject();\n        }\n        mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.subchannelWrappers.push(subchannelWrapper);\n        return subchannelWrapper;\n      },\n      updateState: (connectivityState, picker) => {\n        if (connectivityState === connectivity_state_1.ConnectivityState.READY) {\n          channelControlHelper.updateState(connectivityState, new OutlierDetectionPicker(picker, this.isCountingEnabled()));\n        } else {\n          channelControlHelper.updateState(connectivityState, picker);\n        }\n      }\n    }));\n    this.ejectionTimer = setInterval(() => {}, 0);\n    clearInterval(this.ejectionTimer);\n  }\n  isCountingEnabled() {\n    return this.latestConfig !== null && (this.latestConfig.getSuccessRateEjectionConfig() !== null || this.latestConfig.getFailurePercentageEjectionConfig() !== null);\n  }\n  getCurrentEjectionPercent() {\n    let ejectionCount = 0;\n    for (const mapEntry of this.addressMap.values()) {\n      if (mapEntry.currentEjectionTimestamp !== null) {\n        ejectionCount += 1;\n      }\n    }\n    return ejectionCount * 100 / this.addressMap.size;\n  }\n  runSuccessRateCheck(ejectionTimestamp) {\n    if (!this.latestConfig) {\n      return;\n    }\n    const successRateConfig = this.latestConfig.getSuccessRateEjectionConfig();\n    if (!successRateConfig) {\n      return;\n    }\n    trace('Running success rate check');\n    // Step 1\n    const targetRequestVolume = successRateConfig.request_volume;\n    let addresesWithTargetVolume = 0;\n    const successRates = [];\n    for (const [address, mapEntry] of this.addressMap) {\n      const successes = mapEntry.counter.getLastSuccesses();\n      const failures = mapEntry.counter.getLastFailures();\n      trace('Stats for ' + address + ': successes=' + successes + ' failures=' + failures + ' targetRequestVolume=' + targetRequestVolume);\n      if (successes + failures >= targetRequestVolume) {\n        addresesWithTargetVolume += 1;\n        successRates.push(successes / (successes + failures));\n      }\n    }\n    trace('Found ' + addresesWithTargetVolume + ' success rate candidates; currentEjectionPercent=' + this.getCurrentEjectionPercent() + ' successRates=[' + successRates + ']');\n    if (addresesWithTargetVolume < successRateConfig.minimum_hosts) {\n      return;\n    }\n    // Step 2\n    const successRateMean = successRates.reduce((a, b) => a + b) / successRates.length;\n    let successRateDeviationSum = 0;\n    for (const rate of successRates) {\n      const deviation = rate - successRateMean;\n      successRateDeviationSum += deviation * deviation;\n    }\n    const successRateVariance = successRateDeviationSum / successRates.length;\n    const successRateStdev = Math.sqrt(successRateVariance);\n    const ejectionThreshold = successRateMean - successRateStdev * (successRateConfig.stdev_factor / 1000);\n    trace('stdev=' + successRateStdev + ' ejectionThreshold=' + ejectionThreshold);\n    // Step 3\n    for (const [address, mapEntry] of this.addressMap.entries()) {\n      // Step 3.i\n      if (this.getCurrentEjectionPercent() >= this.latestConfig.getMaxEjectionPercent()) {\n        break;\n      }\n      // Step 3.ii\n      const successes = mapEntry.counter.getLastSuccesses();\n      const failures = mapEntry.counter.getLastFailures();\n      if (successes + failures < targetRequestVolume) {\n        continue;\n      }\n      // Step 3.iii\n      const successRate = successes / (successes + failures);\n      trace('Checking candidate ' + address + ' successRate=' + successRate);\n      if (successRate < ejectionThreshold) {\n        const randomNumber = Math.random() * 100;\n        trace('Candidate ' + address + ' randomNumber=' + randomNumber + ' enforcement_percentage=' + successRateConfig.enforcement_percentage);\n        if (randomNumber < successRateConfig.enforcement_percentage) {\n          trace('Ejecting candidate ' + address);\n          this.eject(mapEntry, ejectionTimestamp);\n        }\n      }\n    }\n  }\n  runFailurePercentageCheck(ejectionTimestamp) {\n    if (!this.latestConfig) {\n      return;\n    }\n    const failurePercentageConfig = this.latestConfig.getFailurePercentageEjectionConfig();\n    if (!failurePercentageConfig) {\n      return;\n    }\n    trace('Running failure percentage check. threshold=' + failurePercentageConfig.threshold + ' request volume threshold=' + failurePercentageConfig.request_volume);\n    // Step 1\n    let addressesWithTargetVolume = 0;\n    for (const mapEntry of this.addressMap.values()) {\n      const successes = mapEntry.counter.getLastSuccesses();\n      const failures = mapEntry.counter.getLastFailures();\n      if (successes + failures >= failurePercentageConfig.request_volume) {\n        addressesWithTargetVolume += 1;\n      }\n    }\n    if (addressesWithTargetVolume < failurePercentageConfig.minimum_hosts) {\n      return;\n    }\n    // Step 2\n    for (const [address, mapEntry] of this.addressMap.entries()) {\n      // Step 2.i\n      if (this.getCurrentEjectionPercent() >= this.latestConfig.getMaxEjectionPercent()) {\n        break;\n      }\n      // Step 2.ii\n      const successes = mapEntry.counter.getLastSuccesses();\n      const failures = mapEntry.counter.getLastFailures();\n      trace('Candidate successes=' + successes + ' failures=' + failures);\n      if (successes + failures < failurePercentageConfig.request_volume) {\n        continue;\n      }\n      // Step 2.iii\n      const failurePercentage = failures * 100 / (failures + successes);\n      if (failurePercentage > failurePercentageConfig.threshold) {\n        const randomNumber = Math.random() * 100;\n        trace('Candidate ' + address + ' randomNumber=' + randomNumber + ' enforcement_percentage=' + failurePercentageConfig.enforcement_percentage);\n        if (randomNumber < failurePercentageConfig.enforcement_percentage) {\n          trace('Ejecting candidate ' + address);\n          this.eject(mapEntry, ejectionTimestamp);\n        }\n      }\n    }\n  }\n  eject(mapEntry, ejectionTimestamp) {\n    mapEntry.currentEjectionTimestamp = new Date();\n    mapEntry.ejectionTimeMultiplier += 1;\n    for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n      subchannelWrapper.eject();\n    }\n  }\n  uneject(mapEntry) {\n    mapEntry.currentEjectionTimestamp = null;\n    for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n      subchannelWrapper.uneject();\n    }\n  }\n  switchAllBuckets() {\n    for (const mapEntry of this.addressMap.values()) {\n      mapEntry.counter.switchBuckets();\n    }\n  }\n  startTimer(delayMs) {\n    var _a, _b;\n    this.ejectionTimer = setTimeout(() => this.runChecks(), delayMs);\n    (_b = (_a = this.ejectionTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n  }\n  runChecks() {\n    const ejectionTimestamp = new Date();\n    trace('Ejection timer running');\n    this.switchAllBuckets();\n    if (!this.latestConfig) {\n      return;\n    }\n    this.timerStartTime = ejectionTimestamp;\n    this.startTimer(this.latestConfig.getIntervalMs());\n    this.runSuccessRateCheck(ejectionTimestamp);\n    this.runFailurePercentageCheck(ejectionTimestamp);\n    for (const [address, mapEntry] of this.addressMap.entries()) {\n      if (mapEntry.currentEjectionTimestamp === null) {\n        if (mapEntry.ejectionTimeMultiplier > 0) {\n          mapEntry.ejectionTimeMultiplier -= 1;\n        }\n      } else {\n        const baseEjectionTimeMs = this.latestConfig.getBaseEjectionTimeMs();\n        const maxEjectionTimeMs = this.latestConfig.getMaxEjectionTimeMs();\n        const returnTime = new Date(mapEntry.currentEjectionTimestamp.getTime());\n        returnTime.setMilliseconds(returnTime.getMilliseconds() + Math.min(baseEjectionTimeMs * mapEntry.ejectionTimeMultiplier, Math.max(baseEjectionTimeMs, maxEjectionTimeMs)));\n        if (returnTime < new Date()) {\n          trace('Unejecting ' + address);\n          this.uneject(mapEntry);\n        }\n      }\n    }\n  }\n  updateAddressList(addressList, lbConfig, attributes) {\n    if (!(lbConfig instanceof OutlierDetectionLoadBalancingConfig)) {\n      return;\n    }\n    const subchannelAddresses = new Set();\n    for (const address of addressList) {\n      subchannelAddresses.add((0, subchannel_address_1.subchannelAddressToString)(address));\n    }\n    for (const address of subchannelAddresses) {\n      if (!this.addressMap.has(address)) {\n        trace('Adding map entry for ' + address);\n        this.addressMap.set(address, {\n          counter: new CallCounter(),\n          currentEjectionTimestamp: null,\n          ejectionTimeMultiplier: 0,\n          subchannelWrappers: []\n        });\n      }\n    }\n    for (const key of this.addressMap.keys()) {\n      if (!subchannelAddresses.has(key)) {\n        trace('Removing map entry for ' + key);\n        this.addressMap.delete(key);\n      }\n    }\n    const childPolicy = (0, load_balancer_1.getFirstUsableConfig)(lbConfig.getChildPolicy(), true);\n    this.childBalancer.updateAddressList(addressList, childPolicy, attributes);\n    if (lbConfig.getSuccessRateEjectionConfig() || lbConfig.getFailurePercentageEjectionConfig()) {\n      if (this.timerStartTime) {\n        trace('Previous timer existed. Replacing timer');\n        clearTimeout(this.ejectionTimer);\n        const remainingDelay = lbConfig.getIntervalMs() - (new Date().getTime() - this.timerStartTime.getTime());\n        this.startTimer(remainingDelay);\n      } else {\n        trace('Starting new timer');\n        this.timerStartTime = new Date();\n        this.startTimer(lbConfig.getIntervalMs());\n        this.switchAllBuckets();\n      }\n    } else {\n      trace('Counting disabled. Cancelling timer.');\n      this.timerStartTime = null;\n      clearTimeout(this.ejectionTimer);\n      for (const mapEntry of this.addressMap.values()) {\n        this.uneject(mapEntry);\n        mapEntry.ejectionTimeMultiplier = 0;\n      }\n    }\n    this.latestConfig = lbConfig;\n  }\n  exitIdle() {\n    this.childBalancer.exitIdle();\n  }\n  resetBackoff() {\n    this.childBalancer.resetBackoff();\n  }\n  destroy() {\n    clearTimeout(this.ejectionTimer);\n    this.childBalancer.destroy();\n  }\n  getTypeName() {\n    return TYPE_NAME;\n  }\n}\nexports.OutlierDetectionLoadBalancer = OutlierDetectionLoadBalancer;\nfunction setup() {\n  if (OUTLIER_DETECTION_ENABLED) {\n    (0, experimental_1.registerLoadBalancerType)(TYPE_NAME, OutlierDetectionLoadBalancer, OutlierDetectionLoadBalancingConfig);\n  }\n}\nexports.setup = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1vdXRsaWVyLWRldGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUlBLEVBQUU7QUFDTkMsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsYUFBYSxHQUFHQSxvQ0FBb0MsR0FBR0EsMkNBQTJDLEdBQUcsS0FBSyxDQUFDO0FBQzNHLE1BQU1LLG9CQUFvQixHQUFHQyxtQkFBTyxDQUFDLGdHQUFzQixDQUFDO0FBQzVELE1BQU1DLFdBQVcsR0FBR0QsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1FLFVBQVUsR0FBR0YsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1HLGNBQWMsR0FBR0gsbUJBQU8sQ0FBQyxvRkFBZ0IsQ0FBQztBQUNoRCxNQUFNSSxlQUFlLEdBQUdKLG1CQUFPLENBQUMsc0ZBQWlCLENBQUM7QUFDbEQsTUFBTUssNkJBQTZCLEdBQUdMLG1CQUFPLENBQUMsa0hBQStCLENBQUM7QUFDOUUsTUFBTU0sUUFBUSxHQUFHTixtQkFBTyxDQUFDLHdFQUFVLENBQUM7QUFDcEMsTUFBTU8sb0JBQW9CLEdBQUdQLG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTVEsc0JBQXNCLEdBQUdSLG1CQUFPLENBQUMsb0dBQXdCLENBQUM7QUFDaEUsTUFBTVMsT0FBTyxHQUFHVCxtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDcEMsTUFBTVUsV0FBVyxHQUFHLG1CQUFtQjtBQUN2QyxTQUFTQyxLQUFLQSxDQUFDQyxJQUFJLEVBQUU7RUFDakJILE9BQU8sQ0FBQ0UsS0FBSyxDQUFDVixXQUFXLENBQUNZLFlBQVksQ0FBQ0MsS0FBSyxFQUFFSixXQUFXLEVBQUVFLElBQUksQ0FBQztBQUNwRTtBQUNBLE1BQU1HLFNBQVMsR0FBRyxtQkFBbUI7QUFDckMsTUFBTUMseUJBQXlCLEdBQUcsQ0FBQyxDQUFDekIsRUFBRSxHQUFHMEIsT0FBTyxDQUFDQyxHQUFHLENBQUNDLDBDQUEwQyxNQUFNLElBQUksSUFBSTVCLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBR0EsRUFBRSxHQUFHLE1BQU0sTUFBTSxNQUFNO0FBQ3BKLE1BQU02QixnQ0FBZ0MsR0FBRztFQUNyQ0MsWUFBWSxFQUFFLElBQUk7RUFDbEJDLHNCQUFzQixFQUFFLEdBQUc7RUFDM0JDLGFBQWEsRUFBRSxDQUFDO0VBQ2hCQyxjQUFjLEVBQUU7QUFDcEIsQ0FBQztBQUNELE1BQU1DLHNDQUFzQyxHQUFHO0VBQzNDQyxTQUFTLEVBQUUsRUFBRTtFQUNiSixzQkFBc0IsRUFBRSxHQUFHO0VBQzNCQyxhQUFhLEVBQUUsQ0FBQztFQUNoQkMsY0FBYyxFQUFFO0FBQ3BCLENBQUM7QUFDRCxTQUFTRyxpQkFBaUJBLENBQUNDLEdBQUcsRUFBRUMsU0FBUyxFQUFFQyxZQUFZLEVBQUVDLFVBQVUsRUFBRTtFQUNqRSxJQUFJRixTQUFTLElBQUlELEdBQUcsSUFBSSxPQUFPQSxHQUFHLENBQUNDLFNBQVMsQ0FBQyxLQUFLQyxZQUFZLEVBQUU7SUFDNUQsTUFBTUUsYUFBYSxHQUFHRCxVQUFVLEdBQUksR0FBRUEsVUFBVyxJQUFHRixTQUFVLEVBQUMsR0FBR0EsU0FBUztJQUMzRSxNQUFNLElBQUlJLEtBQUssQ0FBRSw0QkFBMkJELGFBQWMsMEJBQXlCRixZQUFhLFNBQVEsT0FBT0YsR0FBRyxDQUFDQyxTQUFTLENBQUUsRUFBQyxDQUFDO0VBQ3BJO0FBQ0o7QUFDQSxTQUFTSyx3QkFBd0JBLENBQUNOLEdBQUcsRUFBRUMsU0FBUyxFQUFFRSxVQUFVLEVBQUU7RUFDMUQsTUFBTUMsYUFBYSxHQUFHRCxVQUFVLEdBQUksR0FBRUEsVUFBVyxJQUFHRixTQUFVLEVBQUMsR0FBR0EsU0FBUztFQUMzRSxJQUFJQSxTQUFTLElBQUlELEdBQUcsRUFBRTtJQUNsQixJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUxQixVQUFVLENBQUNpQyxVQUFVLEVBQUVQLEdBQUcsQ0FBQ0MsU0FBUyxDQUFDLENBQUMsRUFBRTtNQUM3QyxNQUFNLElBQUlJLEtBQUssQ0FBRSw0QkFBMkJELGFBQWMsd0NBQXVDLE9BQU9KLEdBQUcsQ0FBQ0MsU0FBUyxDQUFFLEVBQUMsQ0FBQztJQUM3SDtJQUNBLElBQUksRUFBRUQsR0FBRyxDQUFDQyxTQUFTLENBQUMsQ0FBQ08sT0FBTyxJQUFJLENBQUMsSUFDN0JSLEdBQUcsQ0FBQ0MsU0FBUyxDQUFDLENBQUNPLE9BQU8sSUFBSSxZQUFZLElBQ3RDUixHQUFHLENBQUNDLFNBQVMsQ0FBQyxDQUFDUSxLQUFLLElBQUksQ0FBQyxJQUN6QlQsR0FBRyxDQUFDQyxTQUFTLENBQUMsQ0FBQ1EsS0FBSyxJQUFJLFNBQVMsQ0FBQyxFQUFFO01BQ3BDLE1BQU0sSUFBSUosS0FBSyxDQUFFLDRCQUEyQkQsYUFBYyw4REFBNkQsQ0FBQztJQUM1SDtFQUNKO0FBQ0o7QUFDQSxTQUFTTSxrQkFBa0JBLENBQUNWLEdBQUcsRUFBRUMsU0FBUyxFQUFFRSxVQUFVLEVBQUU7RUFDcEQsTUFBTUMsYUFBYSxHQUFHRCxVQUFVLEdBQUksR0FBRUEsVUFBVyxJQUFHRixTQUFVLEVBQUMsR0FBR0EsU0FBUztFQUMzRUYsaUJBQWlCLENBQUNDLEdBQUcsRUFBRUMsU0FBUyxFQUFFLFFBQVEsRUFBRUUsVUFBVSxDQUFDO0VBQ3ZELElBQUlGLFNBQVMsSUFBSUQsR0FBRyxJQUFJLEVBQUVBLEdBQUcsQ0FBQ0MsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJRCxHQUFHLENBQUNDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFO0lBQ3JFLE1BQU0sSUFBSUksS0FBSyxDQUFFLDRCQUEyQkQsYUFBYyx5REFBd0QsQ0FBQztFQUN2SDtBQUNKO0FBQ0EsTUFBTWxDLG1DQUFtQyxDQUFDO0VBQ3RDeUMsV0FBV0EsQ0FBQ0MsVUFBVSxFQUFFQyxrQkFBa0IsRUFBRUMsaUJBQWlCLEVBQUVDLGtCQUFrQixFQUFFQyxtQkFBbUIsRUFBRUMseUJBQXlCLEVBQUVDLFdBQVcsRUFBRTtJQUM1SSxJQUFJLENBQUNBLFdBQVcsR0FBR0EsV0FBVztJQUM5QixJQUFJQSxXQUFXLENBQUNDLE1BQU0sR0FBRyxDQUFDLElBQ3RCRCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUNFLG1CQUFtQixDQUFDLENBQUMsS0FBSyxZQUFZLEVBQUU7TUFDdkQsTUFBTSxJQUFJZixLQUFLLENBQUMsbUVBQW1FLENBQUM7SUFDeEY7SUFDQSxJQUFJLENBQUNPLFVBQVUsR0FBR0EsVUFBVSxLQUFLLElBQUksSUFBSUEsVUFBVSxLQUFLLEtBQUssQ0FBQyxHQUFHQSxVQUFVLEdBQUcsS0FBSztJQUNuRixJQUFJLENBQUNDLGtCQUFrQixHQUFHQSxrQkFBa0IsS0FBSyxJQUFJLElBQUlBLGtCQUFrQixLQUFLLEtBQUssQ0FBQyxHQUFHQSxrQkFBa0IsR0FBRyxLQUFLO0lBQ25ILElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdBLGlCQUFpQixLQUFLLElBQUksSUFBSUEsaUJBQWlCLEtBQUssS0FBSyxDQUFDLEdBQUdBLGlCQUFpQixHQUFHLE1BQU07SUFDaEgsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR0Esa0JBQWtCLEtBQUssSUFBSSxJQUFJQSxrQkFBa0IsS0FBSyxLQUFLLENBQUMsR0FBR0Esa0JBQWtCLEdBQUcsRUFBRTtJQUNoSCxJQUFJLENBQUNDLG1CQUFtQixHQUFHQSxtQkFBbUIsR0FDeENwRCxNQUFNLENBQUN5RCxNQUFNLENBQUN6RCxNQUFNLENBQUN5RCxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU3QixnQ0FBZ0MsQ0FBQyxFQUFFd0IsbUJBQW1CLENBQUMsR0FBRyxJQUFJO0lBQ3BHLElBQUksQ0FBQ0MseUJBQXlCLEdBQUdBLHlCQUF5QixHQUNwRHJELE1BQU0sQ0FBQ3lELE1BQU0sQ0FBQ3pELE1BQU0sQ0FBQ3lELE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRXhCLHNDQUFzQyxDQUFDLEVBQUVvQix5QkFBeUIsQ0FBQyxHQUFHLElBQUk7RUFDcEg7RUFDQUcsbUJBQW1CQSxDQUFBLEVBQUc7SUFDbEIsT0FBT2pDLFNBQVM7RUFDcEI7RUFDQW1DLFlBQVlBLENBQUEsRUFBRztJQUNYLE9BQU87TUFDSEMsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFakQsVUFBVSxDQUFDa0QsWUFBWSxFQUFFLElBQUksQ0FBQ1osVUFBVSxDQUFDO01BQ3ZEYSxrQkFBa0IsRUFBRSxDQUFDLENBQUMsRUFBRW5ELFVBQVUsQ0FBQ2tELFlBQVksRUFBRSxJQUFJLENBQUNYLGtCQUFrQixDQUFDO01BQ3pFYSxpQkFBaUIsRUFBRSxDQUFDLENBQUMsRUFBRXBELFVBQVUsQ0FBQ2tELFlBQVksRUFBRSxJQUFJLENBQUNWLGlCQUFpQixDQUFDO01BQ3ZFYSxvQkFBb0IsRUFBRSxJQUFJLENBQUNaLGtCQUFrQjtNQUM3Q2EscUJBQXFCLEVBQUUsSUFBSSxDQUFDWixtQkFBbUI7TUFDL0NhLDJCQUEyQixFQUFFLElBQUksQ0FBQ1oseUJBQXlCO01BQzNEYSxZQUFZLEVBQUUsSUFBSSxDQUFDWixXQUFXLENBQUNhLEdBQUcsQ0FBQ0MsTUFBTSxJQUFJQSxNQUFNLENBQUNWLFlBQVksQ0FBQyxDQUFDO0lBQ3RFLENBQUM7RUFDTDtFQUNBVyxhQUFhQSxDQUFBLEVBQUc7SUFDWixPQUFPLElBQUksQ0FBQ3JCLFVBQVU7RUFDMUI7RUFDQXNCLHFCQUFxQkEsQ0FBQSxFQUFHO0lBQ3BCLE9BQU8sSUFBSSxDQUFDckIsa0JBQWtCO0VBQ2xDO0VBQ0FzQixvQkFBb0JBLENBQUEsRUFBRztJQUNuQixPQUFPLElBQUksQ0FBQ3JCLGlCQUFpQjtFQUNqQztFQUNBc0IscUJBQXFCQSxDQUFBLEVBQUc7SUFDcEIsT0FBTyxJQUFJLENBQUNyQixrQkFBa0I7RUFDbEM7RUFDQXNCLDRCQUE0QkEsQ0FBQSxFQUFHO0lBQzNCLE9BQU8sSUFBSSxDQUFDckIsbUJBQW1CO0VBQ25DO0VBQ0FzQixrQ0FBa0NBLENBQUEsRUFBRztJQUNqQyxPQUFPLElBQUksQ0FBQ3JCLHlCQUF5QjtFQUN6QztFQUNBc0IsY0FBY0EsQ0FBQSxFQUFHO0lBQ2IsT0FBTyxJQUFJLENBQUNyQixXQUFXO0VBQzNCO0VBQ0FzQixtQkFBbUJBLENBQUN0QixXQUFXLEVBQUU7SUFDN0IsT0FBTyxJQUFJaEQsbUNBQW1DLENBQUMsSUFBSSxDQUFDMEMsVUFBVSxFQUFFLElBQUksQ0FBQ0Msa0JBQWtCLEVBQUUsSUFBSSxDQUFDQyxpQkFBaUIsRUFBRSxJQUFJLENBQUNDLGtCQUFrQixFQUFFLElBQUksQ0FBQ0MsbUJBQW1CLEVBQUUsSUFBSSxDQUFDQyx5QkFBeUIsRUFBRUMsV0FBVyxDQUFDO0VBQ3BOO0VBQ0EsT0FBT3VCLGNBQWNBLENBQUN6QyxHQUFHLEVBQUU7SUFDdkIsSUFBSXJDLEVBQUU7SUFDTjJDLHdCQUF3QixDQUFDTixHQUFHLEVBQUUsVUFBVSxDQUFDO0lBQ3pDTSx3QkFBd0IsQ0FBQ04sR0FBRyxFQUFFLG9CQUFvQixDQUFDO0lBQ25ETSx3QkFBd0IsQ0FBQ04sR0FBRyxFQUFFLG1CQUFtQixDQUFDO0lBQ2xEVSxrQkFBa0IsQ0FBQ1YsR0FBRyxFQUFFLHNCQUFzQixDQUFDO0lBQy9DLElBQUksdUJBQXVCLElBQUlBLEdBQUcsRUFBRTtNQUNoQyxJQUFJLE9BQU9BLEdBQUcsQ0FBQzRCLHFCQUFxQixLQUFLLFFBQVEsRUFBRTtRQUMvQyxNQUFNLElBQUl2QixLQUFLLENBQUMsa0VBQWtFLENBQUM7TUFDdkY7TUFDQU4saUJBQWlCLENBQUNDLEdBQUcsQ0FBQzRCLHFCQUFxQixFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUUsdUJBQXVCLENBQUM7TUFDL0ZsQixrQkFBa0IsQ0FBQ1YsR0FBRyxDQUFDNEIscUJBQXFCLEVBQUUsd0JBQXdCLEVBQUUsdUJBQXVCLENBQUM7TUFDaEc3QixpQkFBaUIsQ0FBQ0MsR0FBRyxDQUFDNEIscUJBQXFCLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSx1QkFBdUIsQ0FBQztNQUNoRzdCLGlCQUFpQixDQUFDQyxHQUFHLENBQUM0QixxQkFBcUIsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsdUJBQXVCLENBQUM7SUFDckc7SUFDQSxJQUFJLDZCQUE2QixJQUFJNUIsR0FBRyxFQUFFO01BQ3RDLElBQUksT0FBT0EsR0FBRyxDQUFDNkIsMkJBQTJCLEtBQUssUUFBUSxFQUFFO1FBQ3JELE1BQU0sSUFBSXhCLEtBQUssQ0FBQyx3RUFBd0UsQ0FBQztNQUM3RjtNQUNBSyxrQkFBa0IsQ0FBQ1YsR0FBRyxDQUFDNkIsMkJBQTJCLEVBQUUsV0FBVyxFQUFFLDZCQUE2QixDQUFDO01BQy9GbkIsa0JBQWtCLENBQUNWLEdBQUcsQ0FBQzZCLDJCQUEyQixFQUFFLHdCQUF3QixFQUFFLDZCQUE2QixDQUFDO01BQzVHOUIsaUJBQWlCLENBQUNDLEdBQUcsQ0FBQzZCLDJCQUEyQixFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsNkJBQTZCLENBQUM7TUFDNUc5QixpQkFBaUIsQ0FBQ0MsR0FBRyxDQUFDNkIsMkJBQTJCLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLDZCQUE2QixDQUFDO0lBQ2pIO0lBQ0EsT0FBTyxJQUFJM0QsbUNBQW1DLENBQUM4QixHQUFHLENBQUN1QixRQUFRLEdBQUcsQ0FBQyxDQUFDLEVBQUVqRCxVQUFVLENBQUNvRSxZQUFZLEVBQUUxQyxHQUFHLENBQUN1QixRQUFRLENBQUMsR0FBRyxJQUFJLEVBQUV2QixHQUFHLENBQUN5QixrQkFBa0IsR0FBRyxDQUFDLENBQUMsRUFBRW5ELFVBQVUsQ0FBQ29FLFlBQVksRUFBRTFDLEdBQUcsQ0FBQ3lCLGtCQUFrQixDQUFDLEdBQUcsSUFBSSxFQUFFekIsR0FBRyxDQUFDMEIsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLEVBQUVwRCxVQUFVLENBQUNvRSxZQUFZLEVBQUUxQyxHQUFHLENBQUMwQixpQkFBaUIsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDL0QsRUFBRSxHQUFHcUMsR0FBRyxDQUFDMkIsb0JBQW9CLE1BQU0sSUFBSSxJQUFJaEUsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHQSxFQUFFLEdBQUcsSUFBSSxFQUFFcUMsR0FBRyxDQUFDNEIscUJBQXFCLEVBQUU1QixHQUFHLENBQUM2QiwyQkFBMkIsRUFBRTdCLEdBQUcsQ0FBQzhCLFlBQVksQ0FBQ0MsR0FBRyxDQUFDdkQsZUFBZSxDQUFDbUUsMkJBQTJCLENBQUMsQ0FBQztFQUNwZTtBQUNKO0FBQ0E3RSwyQ0FBMkMsR0FBR0ksbUNBQW1DO0FBQ2pGLE1BQU0wRSxpQ0FBaUMsU0FBU2hFLHNCQUFzQixDQUFDaUUscUJBQXFCLENBQUM7RUFDekZsQyxXQUFXQSxDQUFDbUMsZUFBZSxFQUFFQyxRQUFRLEVBQUU7SUFDbkMsS0FBSyxDQUFDRCxlQUFlLENBQUM7SUFDdEIsSUFBSSxDQUFDQyxRQUFRLEdBQUdBLFFBQVE7SUFDeEIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsRUFBRTtJQUN4QixJQUFJLENBQUNDLE9BQU8sR0FBRyxLQUFLO0lBQ3BCLElBQUksQ0FBQ0MsUUFBUSxHQUFHLENBQUM7SUFDakIsSUFBSSxDQUFDQyxvQkFBb0IsR0FBR0wsZUFBZSxDQUFDTSxvQkFBb0IsQ0FBQyxDQUFDO0lBQ2xFTixlQUFlLENBQUNPLDRCQUE0QixDQUFDLENBQUNDLFVBQVUsRUFBRUMsYUFBYSxFQUFFQyxRQUFRLEVBQUVDLGFBQWEsS0FBSztNQUNqRyxJQUFJLENBQUNOLG9CQUFvQixHQUFHSyxRQUFRO01BQ3BDLElBQUksQ0FBQyxJQUFJLENBQUNQLE9BQU8sRUFBRTtRQUNmLEtBQUssTUFBTVMsUUFBUSxJQUFJLElBQUksQ0FBQ1YsY0FBYyxFQUFFO1VBQ3hDVSxRQUFRLENBQUMsSUFBSSxFQUFFSCxhQUFhLEVBQUVDLFFBQVEsRUFBRUMsYUFBYSxDQUFDO1FBQzFEO01BQ0o7SUFDSixDQUFDLENBQUM7RUFDTjtFQUNBTCxvQkFBb0JBLENBQUEsRUFBRztJQUNuQixJQUFJLElBQUksQ0FBQ0gsT0FBTyxFQUFFO01BQ2QsT0FBTzlFLG9CQUFvQixDQUFDd0YsaUJBQWlCLENBQUNDLGlCQUFpQjtJQUNuRSxDQUFDLE1BQ0k7TUFDRCxPQUFPLElBQUksQ0FBQ1Qsb0JBQW9CO0lBQ3BDO0VBQ0o7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0lFLDRCQUE0QkEsQ0FBQ0ssUUFBUSxFQUFFO0lBQ25DLElBQUksQ0FBQ1YsY0FBYyxDQUFDYSxJQUFJLENBQUNILFFBQVEsQ0FBQztFQUN0QztFQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7RUFDSUksK0JBQStCQSxDQUFDSixRQUFRLEVBQUU7SUFDdEMsTUFBTUssYUFBYSxHQUFHLElBQUksQ0FBQ2YsY0FBYyxDQUFDZ0IsT0FBTyxDQUFDTixRQUFRLENBQUM7SUFDM0QsSUFBSUssYUFBYSxHQUFHLENBQUMsQ0FBQyxFQUFFO01BQ3BCLElBQUksQ0FBQ2YsY0FBYyxDQUFDaUIsTUFBTSxDQUFDRixhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQ2hEO0VBQ0o7RUFDQUcsR0FBR0EsQ0FBQSxFQUFHO0lBQ0YsSUFBSSxDQUFDQyxLQUFLLENBQUNELEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLElBQUksQ0FBQ2hCLFFBQVEsSUFBSSxDQUFDO0VBQ3RCO0VBQ0FrQixLQUFLQSxDQUFBLEVBQUc7SUFDSixJQUFJLENBQUNELEtBQUssQ0FBQ0MsS0FBSyxDQUFDLENBQUM7SUFDbEIsSUFBSSxDQUFDbEIsUUFBUSxJQUFJLENBQUM7SUFDbEIsSUFBSSxJQUFJLENBQUNBLFFBQVEsSUFBSSxDQUFDLEVBQUU7TUFDcEIsSUFBSSxJQUFJLENBQUNILFFBQVEsRUFBRTtRQUNmLE1BQU1zQixLQUFLLEdBQUcsSUFBSSxDQUFDdEIsUUFBUSxDQUFDdUIsa0JBQWtCLENBQUNOLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDNUQsSUFBSUssS0FBSyxJQUFJLENBQUMsRUFBRTtVQUNaLElBQUksQ0FBQ3RCLFFBQVEsQ0FBQ3VCLGtCQUFrQixDQUFDTCxNQUFNLENBQUNJLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDckQ7TUFDSjtJQUNKO0VBQ0o7RUFDQUUsS0FBS0EsQ0FBQSxFQUFHO0lBQ0osSUFBSSxDQUFDdEIsT0FBTyxHQUFHLElBQUk7SUFDbkIsS0FBSyxNQUFNUyxRQUFRLElBQUksSUFBSSxDQUFDVixjQUFjLEVBQUU7TUFDeENVLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDUCxvQkFBb0IsRUFBRWhGLG9CQUFvQixDQUFDd0YsaUJBQWlCLENBQUNDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNHO0VBQ0o7RUFDQVksT0FBT0EsQ0FBQSxFQUFHO0lBQ04sSUFBSSxDQUFDdkIsT0FBTyxHQUFHLEtBQUs7SUFDcEIsS0FBSyxNQUFNUyxRQUFRLElBQUksSUFBSSxDQUFDVixjQUFjLEVBQUU7TUFDeENVLFFBQVEsQ0FBQyxJQUFJLEVBQUV2RixvQkFBb0IsQ0FBQ3dGLGlCQUFpQixDQUFDQyxpQkFBaUIsRUFBRSxJQUFJLENBQUNULG9CQUFvQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNHO0VBQ0o7RUFDQXNCLFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU8sSUFBSSxDQUFDMUIsUUFBUTtFQUN4QjtFQUNBMkIsb0JBQW9CQSxDQUFBLEVBQUc7SUFDbkIsT0FBTyxJQUFJLENBQUNQLEtBQUs7RUFDckI7QUFDSjtBQUNBLFNBQVNRLGlCQUFpQkEsQ0FBQSxFQUFHO0VBQ3pCLE9BQU87SUFDSEMsT0FBTyxFQUFFLENBQUM7SUFDVkMsT0FBTyxFQUFFO0VBQ2IsQ0FBQztBQUNMO0FBQ0EsTUFBTUMsV0FBVyxDQUFDO0VBQ2RuRSxXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUNvRSxZQUFZLEdBQUdKLGlCQUFpQixDQUFDLENBQUM7SUFDdkMsSUFBSSxDQUFDSyxjQUFjLEdBQUdMLGlCQUFpQixDQUFDLENBQUM7RUFDN0M7RUFDQU0sVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsSUFBSSxDQUFDRixZQUFZLENBQUNILE9BQU8sSUFBSSxDQUFDO0VBQ2xDO0VBQ0FNLFVBQVVBLENBQUEsRUFBRztJQUNULElBQUksQ0FBQ0gsWUFBWSxDQUFDRixPQUFPLElBQUksQ0FBQztFQUNsQztFQUNBTSxhQUFhQSxDQUFBLEVBQUc7SUFDWixJQUFJLENBQUNILGNBQWMsR0FBRyxJQUFJLENBQUNELFlBQVk7SUFDdkMsSUFBSSxDQUFDQSxZQUFZLEdBQUdKLGlCQUFpQixDQUFDLENBQUM7RUFDM0M7RUFDQVMsZ0JBQWdCQSxDQUFBLEVBQUc7SUFDZixPQUFPLElBQUksQ0FBQ0osY0FBYyxDQUFDSixPQUFPO0VBQ3RDO0VBQ0FTLGVBQWVBLENBQUEsRUFBRztJQUNkLE9BQU8sSUFBSSxDQUFDTCxjQUFjLENBQUNILE9BQU87RUFDdEM7QUFDSjtBQUNBLE1BQU1TLHNCQUFzQixDQUFDO0VBQ3pCM0UsV0FBV0EsQ0FBQzRFLGFBQWEsRUFBRUMsVUFBVSxFQUFFO0lBQ25DLElBQUksQ0FBQ0QsYUFBYSxHQUFHQSxhQUFhO0lBQ2xDLElBQUksQ0FBQ0MsVUFBVSxHQUFHQSxVQUFVO0VBQ2hDO0VBQ0FDLElBQUlBLENBQUNDLFFBQVEsRUFBRTtJQUNYLE1BQU1DLFdBQVcsR0FBRyxJQUFJLENBQUNKLGFBQWEsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLENBQUM7SUFDckQsSUFBSUMsV0FBVyxDQUFDQyxjQUFjLEtBQUtsSCxRQUFRLENBQUNtSCxjQUFjLENBQUNDLFFBQVEsRUFBRTtNQUNqRSxNQUFNQyxpQkFBaUIsR0FBR0osV0FBVyxDQUFDckMsVUFBVTtNQUNoRCxNQUFNUCxRQUFRLEdBQUdnRCxpQkFBaUIsQ0FBQ3RCLFdBQVcsQ0FBQyxDQUFDO01BQ2hELElBQUkxQixRQUFRLEVBQUU7UUFDVixJQUFJaUQsV0FBVyxHQUFHTCxXQUFXLENBQUNLLFdBQVc7UUFDekMsSUFBSSxJQUFJLENBQUNSLFVBQVUsRUFBRTtVQUNqQlEsV0FBVyxHQUFHQyxVQUFVLElBQUk7WUFDeEIsSUFBSXRJLEVBQUU7WUFDTixJQUFJc0ksVUFBVSxLQUFLNUgsV0FBVyxDQUFDNkgsTUFBTSxDQUFDQyxFQUFFLEVBQUU7Y0FDdENwRCxRQUFRLENBQUNxRCxPQUFPLENBQUNuQixVQUFVLENBQUMsQ0FBQztZQUNqQyxDQUFDLE1BQ0k7Y0FDRGxDLFFBQVEsQ0FBQ3FELE9BQU8sQ0FBQ2xCLFVBQVUsQ0FBQyxDQUFDO1lBQ2pDO1lBQ0EsQ0FBQ3ZILEVBQUUsR0FBR2dJLFdBQVcsQ0FBQ0ssV0FBVyxNQUFNLElBQUksSUFBSXJJLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDMEksSUFBSSxDQUFDVixXQUFXLEVBQUVNLFVBQVUsQ0FBQztVQUN4RyxDQUFDO1FBQ0w7UUFDQSxPQUFPckksTUFBTSxDQUFDeUQsTUFBTSxDQUFDekQsTUFBTSxDQUFDeUQsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFc0UsV0FBVyxDQUFDLEVBQUU7VUFBRXJDLFVBQVUsRUFBRXlDLGlCQUFpQixDQUFDckIsb0JBQW9CLENBQUMsQ0FBQztVQUFFc0IsV0FBVyxFQUFFQTtRQUFZLENBQUMsQ0FBQztNQUM1SSxDQUFDLE1BQ0k7UUFDRCxPQUFPcEksTUFBTSxDQUFDeUQsTUFBTSxDQUFDekQsTUFBTSxDQUFDeUQsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFc0UsV0FBVyxDQUFDLEVBQUU7VUFBRXJDLFVBQVUsRUFBRXlDLGlCQUFpQixDQUFDckIsb0JBQW9CLENBQUM7UUFBRSxDQUFDLENBQUM7TUFDbEg7SUFDSixDQUFDLE1BQ0k7TUFDRCxPQUFPaUIsV0FBVztJQUN0QjtFQUNKO0FBQ0o7QUFDQSxNQUFNMUgsNEJBQTRCLENBQUM7RUFDL0IwQyxXQUFXQSxDQUFDMkYsb0JBQW9CLEVBQUU7SUFDOUIsSUFBSSxDQUFDQyxVQUFVLEdBQUcsSUFBSUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSTtJQUN4QixJQUFJLENBQUNDLGNBQWMsR0FBRyxJQUFJO0lBQzFCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLElBQUlsSSw2QkFBNkIsQ0FBQ21JLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxFQUFFckksY0FBYyxDQUFDc0ksK0JBQStCLEVBQUVQLG9CQUFvQixFQUFFO01BQ3RKUSxnQkFBZ0IsRUFBRUEsQ0FBQ0MsaUJBQWlCLEVBQUVDLGNBQWMsS0FBSztRQUNyRCxNQUFNQyxrQkFBa0IsR0FBR1gsb0JBQW9CLENBQUNRLGdCQUFnQixDQUFDQyxpQkFBaUIsRUFBRUMsY0FBYyxDQUFDO1FBQ25HLE1BQU1qRSxRQUFRLEdBQUcsSUFBSSxDQUFDd0QsVUFBVSxDQUFDVyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUV2SSxvQkFBb0IsQ0FBQ3dJLHlCQUF5QixFQUFFSixpQkFBaUIsQ0FBQyxDQUFDO1FBQzVHLE1BQU1oQixpQkFBaUIsR0FBRyxJQUFJbkQsaUNBQWlDLENBQUNxRSxrQkFBa0IsRUFBRWxFLFFBQVEsQ0FBQztRQUM3RixJQUFJLENBQUNBLFFBQVEsS0FBSyxJQUFJLElBQUlBLFFBQVEsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsUUFBUSxDQUFDcUUsd0JBQXdCLE1BQU0sSUFBSSxFQUFFO1VBQ2xHO1VBQ0FyQixpQkFBaUIsQ0FBQ3hCLEtBQUssQ0FBQyxDQUFDO1FBQzdCO1FBQ0F4QixRQUFRLEtBQUssSUFBSSxJQUFJQSxRQUFRLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLFFBQVEsQ0FBQ3VCLGtCQUFrQixDQUFDVCxJQUFJLENBQUNrQyxpQkFBaUIsQ0FBQztRQUN2RyxPQUFPQSxpQkFBaUI7TUFDNUIsQ0FBQztNQUNEc0IsV0FBVyxFQUFFQSxDQUFDQyxpQkFBaUIsRUFBRUMsTUFBTSxLQUFLO1FBQ3hDLElBQUlELGlCQUFpQixLQUFLbkosb0JBQW9CLENBQUN3RixpQkFBaUIsQ0FBQzZELEtBQUssRUFBRTtVQUNwRWxCLG9CQUFvQixDQUFDZSxXQUFXLENBQUNDLGlCQUFpQixFQUFFLElBQUloQyxzQkFBc0IsQ0FBQ2lDLE1BQU0sRUFBRSxJQUFJLENBQUNFLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JILENBQUMsTUFDSTtVQUNEbkIsb0JBQW9CLENBQUNlLFdBQVcsQ0FBQ0MsaUJBQWlCLEVBQUVDLE1BQU0sQ0FBQztRQUMvRDtNQUNKO0lBQ0osQ0FBQyxDQUFDLENBQUM7SUFDSCxJQUFJLENBQUNHLGFBQWEsR0FBR0MsV0FBVyxDQUFDLE1BQU0sQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzlDQyxhQUFhLENBQUMsSUFBSSxDQUFDRixhQUFhLENBQUM7RUFDckM7RUFDQUQsaUJBQWlCQSxDQUFBLEVBQUc7SUFDaEIsT0FBUSxJQUFJLENBQUNoQixZQUFZLEtBQUssSUFBSSxLQUM3QixJQUFJLENBQUNBLFlBQVksQ0FBQ3BFLDRCQUE0QixDQUFDLENBQUMsS0FBSyxJQUFJLElBQ3RELElBQUksQ0FBQ29FLFlBQVksQ0FBQ25FLGtDQUFrQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUM7RUFDNUU7RUFDQXVGLHlCQUF5QkEsQ0FBQSxFQUFHO0lBQ3hCLElBQUlDLGFBQWEsR0FBRyxDQUFDO0lBQ3JCLEtBQUssTUFBTS9FLFFBQVEsSUFBSSxJQUFJLENBQUN3RCxVQUFVLENBQUN3QixNQUFNLENBQUMsQ0FBQyxFQUFFO01BQzdDLElBQUloRixRQUFRLENBQUNxRSx3QkFBd0IsS0FBSyxJQUFJLEVBQUU7UUFDNUNVLGFBQWEsSUFBSSxDQUFDO01BQ3RCO0lBQ0o7SUFDQSxPQUFRQSxhQUFhLEdBQUcsR0FBRyxHQUFJLElBQUksQ0FBQ3ZCLFVBQVUsQ0FBQ3lCLElBQUk7RUFDdkQ7RUFDQUMsbUJBQW1CQSxDQUFDQyxpQkFBaUIsRUFBRTtJQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDekIsWUFBWSxFQUFFO01BQ3BCO0lBQ0o7SUFDQSxNQUFNMEIsaUJBQWlCLEdBQUcsSUFBSSxDQUFDMUIsWUFBWSxDQUFDcEUsNEJBQTRCLENBQUMsQ0FBQztJQUMxRSxJQUFJLENBQUM4RixpQkFBaUIsRUFBRTtNQUNwQjtJQUNKO0lBQ0FwSixLQUFLLENBQUMsNEJBQTRCLENBQUM7SUFDbkM7SUFDQSxNQUFNcUosbUJBQW1CLEdBQUdELGlCQUFpQixDQUFDdkksY0FBYztJQUM1RCxJQUFJeUksd0JBQXdCLEdBQUcsQ0FBQztJQUNoQyxNQUFNQyxZQUFZLEdBQUcsRUFBRTtJQUN2QixLQUFLLE1BQU0sQ0FBQ0MsT0FBTyxFQUFFeEYsUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDd0QsVUFBVSxFQUFFO01BQy9DLE1BQU1pQyxTQUFTLEdBQUd6RixRQUFRLENBQUNxRCxPQUFPLENBQUNoQixnQkFBZ0IsQ0FBQyxDQUFDO01BQ3JELE1BQU1xRCxRQUFRLEdBQUcxRixRQUFRLENBQUNxRCxPQUFPLENBQUNmLGVBQWUsQ0FBQyxDQUFDO01BQ25EdEcsS0FBSyxDQUFDLFlBQVksR0FDZHdKLE9BQU8sR0FDUCxjQUFjLEdBQ2RDLFNBQVMsR0FDVCxZQUFZLEdBQ1pDLFFBQVEsR0FDUix1QkFBdUIsR0FDdkJMLG1CQUFtQixDQUFDO01BQ3hCLElBQUlJLFNBQVMsR0FBR0MsUUFBUSxJQUFJTCxtQkFBbUIsRUFBRTtRQUM3Q0Msd0JBQXdCLElBQUksQ0FBQztRQUM3QkMsWUFBWSxDQUFDekUsSUFBSSxDQUFDMkUsU0FBUyxJQUFJQSxTQUFTLEdBQUdDLFFBQVEsQ0FBQyxDQUFDO01BQ3pEO0lBQ0o7SUFDQTFKLEtBQUssQ0FBQyxRQUFRLEdBQ1ZzSix3QkFBd0IsR0FDeEIsbURBQW1ELEdBQ25ELElBQUksQ0FBQ1IseUJBQXlCLENBQUMsQ0FBQyxHQUNoQyxpQkFBaUIsR0FDakJTLFlBQVksR0FDWixHQUFHLENBQUM7SUFDUixJQUFJRCx3QkFBd0IsR0FBR0YsaUJBQWlCLENBQUN4SSxhQUFhLEVBQUU7TUFDNUQ7SUFDSjtJQUNBO0lBQ0EsTUFBTStJLGVBQWUsR0FBR0osWUFBWSxDQUFDSyxNQUFNLENBQUMsQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEtBQUtELENBQUMsR0FBR0MsQ0FBQyxDQUFDLEdBQUdQLFlBQVksQ0FBQ25ILE1BQU07SUFDbEYsSUFBSTJILHVCQUF1QixHQUFHLENBQUM7SUFDL0IsS0FBSyxNQUFNQyxJQUFJLElBQUlULFlBQVksRUFBRTtNQUM3QixNQUFNVSxTQUFTLEdBQUdELElBQUksR0FBR0wsZUFBZTtNQUN4Q0ksdUJBQXVCLElBQUlFLFNBQVMsR0FBR0EsU0FBUztJQUNwRDtJQUNBLE1BQU1DLG1CQUFtQixHQUFHSCx1QkFBdUIsR0FBR1IsWUFBWSxDQUFDbkgsTUFBTTtJQUN6RSxNQUFNK0gsZ0JBQWdCLEdBQUdDLElBQUksQ0FBQ0MsSUFBSSxDQUFDSCxtQkFBbUIsQ0FBQztJQUN2RCxNQUFNSSxpQkFBaUIsR0FBR1gsZUFBZSxHQUNyQ1EsZ0JBQWdCLElBQUlmLGlCQUFpQixDQUFDMUksWUFBWSxHQUFHLElBQUksQ0FBQztJQUM5RFYsS0FBSyxDQUFDLFFBQVEsR0FBR21LLGdCQUFnQixHQUFHLHFCQUFxQixHQUFHRyxpQkFBaUIsQ0FBQztJQUM5RTtJQUNBLEtBQUssTUFBTSxDQUFDZCxPQUFPLEVBQUV4RixRQUFRLENBQUMsSUFBSSxJQUFJLENBQUN3RCxVQUFVLENBQUMrQyxPQUFPLENBQUMsQ0FBQyxFQUFFO01BQ3pEO01BQ0EsSUFBSSxJQUFJLENBQUN6Qix5QkFBeUIsQ0FBQyxDQUFDLElBQ2hDLElBQUksQ0FBQ3BCLFlBQVksQ0FBQ3JFLHFCQUFxQixDQUFDLENBQUMsRUFBRTtRQUMzQztNQUNKO01BQ0E7TUFDQSxNQUFNb0csU0FBUyxHQUFHekYsUUFBUSxDQUFDcUQsT0FBTyxDQUFDaEIsZ0JBQWdCLENBQUMsQ0FBQztNQUNyRCxNQUFNcUQsUUFBUSxHQUFHMUYsUUFBUSxDQUFDcUQsT0FBTyxDQUFDZixlQUFlLENBQUMsQ0FBQztNQUNuRCxJQUFJbUQsU0FBUyxHQUFHQyxRQUFRLEdBQUdMLG1CQUFtQixFQUFFO1FBQzVDO01BQ0o7TUFDQTtNQUNBLE1BQU1tQixXQUFXLEdBQUdmLFNBQVMsSUFBSUEsU0FBUyxHQUFHQyxRQUFRLENBQUM7TUFDdEQxSixLQUFLLENBQUMscUJBQXFCLEdBQUd3SixPQUFPLEdBQUcsZUFBZSxHQUFHZ0IsV0FBVyxDQUFDO01BQ3RFLElBQUlBLFdBQVcsR0FBR0YsaUJBQWlCLEVBQUU7UUFDakMsTUFBTUcsWUFBWSxHQUFHTCxJQUFJLENBQUNNLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FBRztRQUN4QzFLLEtBQUssQ0FBQyxZQUFZLEdBQ2R3SixPQUFPLEdBQ1AsZ0JBQWdCLEdBQ2hCaUIsWUFBWSxHQUNaLDBCQUEwQixHQUMxQnJCLGlCQUFpQixDQUFDekksc0JBQXNCLENBQUM7UUFDN0MsSUFBSThKLFlBQVksR0FBR3JCLGlCQUFpQixDQUFDekksc0JBQXNCLEVBQUU7VUFDekRYLEtBQUssQ0FBQyxxQkFBcUIsR0FBR3dKLE9BQU8sQ0FBQztVQUN0QyxJQUFJLENBQUNoRSxLQUFLLENBQUN4QixRQUFRLEVBQUVtRixpQkFBaUIsQ0FBQztRQUMzQztNQUNKO0lBQ0o7RUFDSjtFQUNBd0IseUJBQXlCQSxDQUFDeEIsaUJBQWlCLEVBQUU7SUFDekMsSUFBSSxDQUFDLElBQUksQ0FBQ3pCLFlBQVksRUFBRTtNQUNwQjtJQUNKO0lBQ0EsTUFBTWtELHVCQUF1QixHQUFHLElBQUksQ0FBQ2xELFlBQVksQ0FBQ25FLGtDQUFrQyxDQUFDLENBQUM7SUFDdEYsSUFBSSxDQUFDcUgsdUJBQXVCLEVBQUU7TUFDMUI7SUFDSjtJQUNBNUssS0FBSyxDQUFDLDhDQUE4QyxHQUNoRDRLLHVCQUF1QixDQUFDN0osU0FBUyxHQUNqQyw0QkFBNEIsR0FDNUI2Six1QkFBdUIsQ0FBQy9KLGNBQWMsQ0FBQztJQUMzQztJQUNBLElBQUlnSyx5QkFBeUIsR0FBRyxDQUFDO0lBQ2pDLEtBQUssTUFBTTdHLFFBQVEsSUFBSSxJQUFJLENBQUN3RCxVQUFVLENBQUN3QixNQUFNLENBQUMsQ0FBQyxFQUFFO01BQzdDLE1BQU1TLFNBQVMsR0FBR3pGLFFBQVEsQ0FBQ3FELE9BQU8sQ0FBQ2hCLGdCQUFnQixDQUFDLENBQUM7TUFDckQsTUFBTXFELFFBQVEsR0FBRzFGLFFBQVEsQ0FBQ3FELE9BQU8sQ0FBQ2YsZUFBZSxDQUFDLENBQUM7TUFDbkQsSUFBSW1ELFNBQVMsR0FBR0MsUUFBUSxJQUFJa0IsdUJBQXVCLENBQUMvSixjQUFjLEVBQUU7UUFDaEVnSyx5QkFBeUIsSUFBSSxDQUFDO01BQ2xDO0lBQ0o7SUFDQSxJQUFJQSx5QkFBeUIsR0FBR0QsdUJBQXVCLENBQUNoSyxhQUFhLEVBQUU7TUFDbkU7SUFDSjtJQUNBO0lBQ0EsS0FBSyxNQUFNLENBQUM0SSxPQUFPLEVBQUV4RixRQUFRLENBQUMsSUFBSSxJQUFJLENBQUN3RCxVQUFVLENBQUMrQyxPQUFPLENBQUMsQ0FBQyxFQUFFO01BQ3pEO01BQ0EsSUFBSSxJQUFJLENBQUN6Qix5QkFBeUIsQ0FBQyxDQUFDLElBQ2hDLElBQUksQ0FBQ3BCLFlBQVksQ0FBQ3JFLHFCQUFxQixDQUFDLENBQUMsRUFBRTtRQUMzQztNQUNKO01BQ0E7TUFDQSxNQUFNb0csU0FBUyxHQUFHekYsUUFBUSxDQUFDcUQsT0FBTyxDQUFDaEIsZ0JBQWdCLENBQUMsQ0FBQztNQUNyRCxNQUFNcUQsUUFBUSxHQUFHMUYsUUFBUSxDQUFDcUQsT0FBTyxDQUFDZixlQUFlLENBQUMsQ0FBQztNQUNuRHRHLEtBQUssQ0FBQyxzQkFBc0IsR0FBR3lKLFNBQVMsR0FBRyxZQUFZLEdBQUdDLFFBQVEsQ0FBQztNQUNuRSxJQUFJRCxTQUFTLEdBQUdDLFFBQVEsR0FBR2tCLHVCQUF1QixDQUFDL0osY0FBYyxFQUFFO1FBQy9EO01BQ0o7TUFDQTtNQUNBLE1BQU1pSyxpQkFBaUIsR0FBSXBCLFFBQVEsR0FBRyxHQUFHLElBQUtBLFFBQVEsR0FBR0QsU0FBUyxDQUFDO01BQ25FLElBQUlxQixpQkFBaUIsR0FBR0YsdUJBQXVCLENBQUM3SixTQUFTLEVBQUU7UUFDdkQsTUFBTTBKLFlBQVksR0FBR0wsSUFBSSxDQUFDTSxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUc7UUFDeEMxSyxLQUFLLENBQUMsWUFBWSxHQUNkd0osT0FBTyxHQUNQLGdCQUFnQixHQUNoQmlCLFlBQVksR0FDWiwwQkFBMEIsR0FDMUJHLHVCQUF1QixDQUFDakssc0JBQXNCLENBQUM7UUFDbkQsSUFBSThKLFlBQVksR0FBR0csdUJBQXVCLENBQUNqSyxzQkFBc0IsRUFBRTtVQUMvRFgsS0FBSyxDQUFDLHFCQUFxQixHQUFHd0osT0FBTyxDQUFDO1VBQ3RDLElBQUksQ0FBQ2hFLEtBQUssQ0FBQ3hCLFFBQVEsRUFBRW1GLGlCQUFpQixDQUFDO1FBQzNDO01BQ0o7SUFDSjtFQUNKO0VBQ0EzRCxLQUFLQSxDQUFDeEIsUUFBUSxFQUFFbUYsaUJBQWlCLEVBQUU7SUFDL0JuRixRQUFRLENBQUNxRSx3QkFBd0IsR0FBRyxJQUFJMEMsSUFBSSxDQUFDLENBQUM7SUFDOUMvRyxRQUFRLENBQUNnSCxzQkFBc0IsSUFBSSxDQUFDO0lBQ3BDLEtBQUssTUFBTWhFLGlCQUFpQixJQUFJaEQsUUFBUSxDQUFDdUIsa0JBQWtCLEVBQUU7TUFDekR5QixpQkFBaUIsQ0FBQ3hCLEtBQUssQ0FBQyxDQUFDO0lBQzdCO0VBQ0o7RUFDQUMsT0FBT0EsQ0FBQ3pCLFFBQVEsRUFBRTtJQUNkQSxRQUFRLENBQUNxRSx3QkFBd0IsR0FBRyxJQUFJO0lBQ3hDLEtBQUssTUFBTXJCLGlCQUFpQixJQUFJaEQsUUFBUSxDQUFDdUIsa0JBQWtCLEVBQUU7TUFDekR5QixpQkFBaUIsQ0FBQ3ZCLE9BQU8sQ0FBQyxDQUFDO0lBQy9CO0VBQ0o7RUFDQXdGLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ2YsS0FBSyxNQUFNakgsUUFBUSxJQUFJLElBQUksQ0FBQ3dELFVBQVUsQ0FBQ3dCLE1BQU0sQ0FBQyxDQUFDLEVBQUU7TUFDN0NoRixRQUFRLENBQUNxRCxPQUFPLENBQUNqQixhQUFhLENBQUMsQ0FBQztJQUNwQztFQUNKO0VBQ0E4RSxVQUFVQSxDQUFDQyxPQUFPLEVBQUU7SUFDaEIsSUFBSXZNLEVBQUUsRUFBRXdNLEVBQUU7SUFDVixJQUFJLENBQUN6QyxhQUFhLEdBQUcwQyxVQUFVLENBQUMsTUFBTSxJQUFJLENBQUNDLFNBQVMsQ0FBQyxDQUFDLEVBQUVILE9BQU8sQ0FBQztJQUNoRSxDQUFDQyxFQUFFLEdBQUcsQ0FBQ3hNLEVBQUUsR0FBRyxJQUFJLENBQUMrSixhQUFhLEVBQUV0RCxLQUFLLE1BQU0sSUFBSSxJQUFJK0YsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxFQUFFLENBQUM5RCxJQUFJLENBQUMxSSxFQUFFLENBQUM7RUFDM0Y7RUFDQTBNLFNBQVNBLENBQUEsRUFBRztJQUNSLE1BQU1uQyxpQkFBaUIsR0FBRyxJQUFJNEIsSUFBSSxDQUFDLENBQUM7SUFDcEMvSyxLQUFLLENBQUMsd0JBQXdCLENBQUM7SUFDL0IsSUFBSSxDQUFDaUwsZ0JBQWdCLENBQUMsQ0FBQztJQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDdkQsWUFBWSxFQUFFO01BQ3BCO0lBQ0o7SUFDQSxJQUFJLENBQUNDLGNBQWMsR0FBR3dCLGlCQUFpQjtJQUN2QyxJQUFJLENBQUMrQixVQUFVLENBQUMsSUFBSSxDQUFDeEQsWUFBWSxDQUFDeEUsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUNsRCxJQUFJLENBQUNnRyxtQkFBbUIsQ0FBQ0MsaUJBQWlCLENBQUM7SUFDM0MsSUFBSSxDQUFDd0IseUJBQXlCLENBQUN4QixpQkFBaUIsQ0FBQztJQUNqRCxLQUFLLE1BQU0sQ0FBQ0ssT0FBTyxFQUFFeEYsUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDd0QsVUFBVSxDQUFDK0MsT0FBTyxDQUFDLENBQUMsRUFBRTtNQUN6RCxJQUFJdkcsUUFBUSxDQUFDcUUsd0JBQXdCLEtBQUssSUFBSSxFQUFFO1FBQzVDLElBQUlyRSxRQUFRLENBQUNnSCxzQkFBc0IsR0FBRyxDQUFDLEVBQUU7VUFDckNoSCxRQUFRLENBQUNnSCxzQkFBc0IsSUFBSSxDQUFDO1FBQ3hDO01BQ0osQ0FBQyxNQUNJO1FBQ0QsTUFBTWxKLGtCQUFrQixHQUFHLElBQUksQ0FBQzRGLFlBQVksQ0FBQ3ZFLHFCQUFxQixDQUFDLENBQUM7UUFDcEUsTUFBTXBCLGlCQUFpQixHQUFHLElBQUksQ0FBQzJGLFlBQVksQ0FBQ3RFLG9CQUFvQixDQUFDLENBQUM7UUFDbEUsTUFBTW1JLFVBQVUsR0FBRyxJQUFJUixJQUFJLENBQUMvRyxRQUFRLENBQUNxRSx3QkFBd0IsQ0FBQ21ELE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDeEVELFVBQVUsQ0FBQ0UsZUFBZSxDQUFDRixVQUFVLENBQUNHLGVBQWUsQ0FBQyxDQUFDLEdBQ25EdEIsSUFBSSxDQUFDdUIsR0FBRyxDQUFDN0osa0JBQWtCLEdBQUdrQyxRQUFRLENBQUNnSCxzQkFBc0IsRUFBRVosSUFBSSxDQUFDd0IsR0FBRyxDQUFDOUosa0JBQWtCLEVBQUVDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUNwSCxJQUFJd0osVUFBVSxHQUFHLElBQUlSLElBQUksQ0FBQyxDQUFDLEVBQUU7VUFDekIvSyxLQUFLLENBQUMsYUFBYSxHQUFHd0osT0FBTyxDQUFDO1VBQzlCLElBQUksQ0FBQy9ELE9BQU8sQ0FBQ3pCLFFBQVEsQ0FBQztRQUMxQjtNQUNKO0lBQ0o7RUFDSjtFQUNBNkgsaUJBQWlCQSxDQUFDQyxXQUFXLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFO0lBQ2pELElBQUksRUFBRUQsUUFBUSxZQUFZNU0sbUNBQW1DLENBQUMsRUFBRTtNQUM1RDtJQUNKO0lBQ0EsTUFBTThNLG1CQUFtQixHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JDLEtBQUssTUFBTTFDLE9BQU8sSUFBSXNDLFdBQVcsRUFBRTtNQUMvQkcsbUJBQW1CLENBQUNFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRXZNLG9CQUFvQixDQUFDd0kseUJBQXlCLEVBQUVvQixPQUFPLENBQUMsQ0FBQztJQUN6RjtJQUNBLEtBQUssTUFBTUEsT0FBTyxJQUFJeUMsbUJBQW1CLEVBQUU7TUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQ3pFLFVBQVUsQ0FBQzRFLEdBQUcsQ0FBQzVDLE9BQU8sQ0FBQyxFQUFFO1FBQy9CeEosS0FBSyxDQUFDLHVCQUF1QixHQUFHd0osT0FBTyxDQUFDO1FBQ3hDLElBQUksQ0FBQ2hDLFVBQVUsQ0FBQzZFLEdBQUcsQ0FBQzdDLE9BQU8sRUFBRTtVQUN6Qm5DLE9BQU8sRUFBRSxJQUFJdEIsV0FBVyxDQUFDLENBQUM7VUFDMUJzQyx3QkFBd0IsRUFBRSxJQUFJO1VBQzlCMkMsc0JBQXNCLEVBQUUsQ0FBQztVQUN6QnpGLGtCQUFrQixFQUFFO1FBQ3hCLENBQUMsQ0FBQztNQUNOO0lBQ0o7SUFDQSxLQUFLLE1BQU0rRyxHQUFHLElBQUksSUFBSSxDQUFDOUUsVUFBVSxDQUFDK0UsSUFBSSxDQUFDLENBQUMsRUFBRTtNQUN0QyxJQUFJLENBQUNOLG1CQUFtQixDQUFDRyxHQUFHLENBQUNFLEdBQUcsQ0FBQyxFQUFFO1FBQy9CdE0sS0FBSyxDQUFDLHlCQUF5QixHQUFHc00sR0FBRyxDQUFDO1FBQ3RDLElBQUksQ0FBQzlFLFVBQVUsQ0FBQ2dGLE1BQU0sQ0FBQ0YsR0FBRyxDQUFDO01BQy9CO0lBQ0o7SUFDQSxNQUFNbkssV0FBVyxHQUFHLENBQUMsQ0FBQyxFQUFFMUMsZUFBZSxDQUFDZ04sb0JBQW9CLEVBQUVWLFFBQVEsQ0FBQ3ZJLGNBQWMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBQzlGLElBQUksQ0FBQ29FLGFBQWEsQ0FBQ2lFLGlCQUFpQixDQUFDQyxXQUFXLEVBQUUzSixXQUFXLEVBQUU2SixVQUFVLENBQUM7SUFDMUUsSUFBSUQsUUFBUSxDQUFDekksNEJBQTRCLENBQUMsQ0FBQyxJQUN2Q3lJLFFBQVEsQ0FBQ3hJLGtDQUFrQyxDQUFDLENBQUMsRUFBRTtNQUMvQyxJQUFJLElBQUksQ0FBQ29FLGNBQWMsRUFBRTtRQUNyQjNILEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQztRQUNoRDBNLFlBQVksQ0FBQyxJQUFJLENBQUMvRCxhQUFhLENBQUM7UUFDaEMsTUFBTWdFLGNBQWMsR0FBR1osUUFBUSxDQUFDN0ksYUFBYSxDQUFDLENBQUMsSUFDMUMsSUFBSTZILElBQUksQ0FBQyxDQUFDLENBQUNTLE9BQU8sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDN0QsY0FBYyxDQUFDNkQsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUNOLFVBQVUsQ0FBQ3lCLGNBQWMsQ0FBQztNQUNuQyxDQUFDLE1BQ0k7UUFDRDNNLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQztRQUMzQixJQUFJLENBQUMySCxjQUFjLEdBQUcsSUFBSW9ELElBQUksQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQ0csVUFBVSxDQUFDYSxRQUFRLENBQUM3SSxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQytILGdCQUFnQixDQUFDLENBQUM7TUFDM0I7SUFDSixDQUFDLE1BQ0k7TUFDRGpMLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQztNQUM3QyxJQUFJLENBQUMySCxjQUFjLEdBQUcsSUFBSTtNQUMxQitFLFlBQVksQ0FBQyxJQUFJLENBQUMvRCxhQUFhLENBQUM7TUFDaEMsS0FBSyxNQUFNM0UsUUFBUSxJQUFJLElBQUksQ0FBQ3dELFVBQVUsQ0FBQ3dCLE1BQU0sQ0FBQyxDQUFDLEVBQUU7UUFDN0MsSUFBSSxDQUFDdkQsT0FBTyxDQUFDekIsUUFBUSxDQUFDO1FBQ3RCQSxRQUFRLENBQUNnSCxzQkFBc0IsR0FBRyxDQUFDO01BQ3ZDO0lBQ0o7SUFDQSxJQUFJLENBQUN0RCxZQUFZLEdBQUdxRSxRQUFRO0VBQ2hDO0VBQ0FhLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUksQ0FBQ2hGLGFBQWEsQ0FBQ2dGLFFBQVEsQ0FBQyxDQUFDO0VBQ2pDO0VBQ0FDLFlBQVlBLENBQUEsRUFBRztJQUNYLElBQUksQ0FBQ2pGLGFBQWEsQ0FBQ2lGLFlBQVksQ0FBQyxDQUFDO0VBQ3JDO0VBQ0FDLE9BQU9BLENBQUEsRUFBRztJQUNOSixZQUFZLENBQUMsSUFBSSxDQUFDL0QsYUFBYSxDQUFDO0lBQ2hDLElBQUksQ0FBQ2YsYUFBYSxDQUFDa0YsT0FBTyxDQUFDLENBQUM7RUFDaEM7RUFDQUMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsT0FBTzNNLFNBQVM7RUFDcEI7QUFDSjtBQUNBckIsb0NBQW9DLEdBQUdHLDRCQUE0QjtBQUNuRSxTQUFTRCxLQUFLQSxDQUFBLEVBQUc7RUFDYixJQUFJb0IseUJBQXlCLEVBQUU7SUFDM0IsQ0FBQyxDQUFDLEVBQUViLGNBQWMsQ0FBQ3dOLHdCQUF3QixFQUFFNU0sU0FBUyxFQUFFbEIsNEJBQTRCLEVBQUVDLG1DQUFtQyxDQUFDO0VBQzlIO0FBQ0o7QUFDQUosYUFBYSxHQUFHRSxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uLmpzPzAwNmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfYTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXAgPSBleHBvcnRzLk91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIgPSBleHBvcnRzLk91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnID0gdm9pZCAwO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGR1cmF0aW9uXzEgPSByZXF1aXJlKFwiLi9kdXJhdGlvblwiKTtcbmNvbnN0IGV4cGVyaW1lbnRhbF8xID0gcmVxdWlyZShcIi4vZXhwZXJpbWVudGFsXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWludGVyZmFjZVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnb3V0bGllcl9kZXRlY3Rpb24nO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBUWVBFX05BTUUgPSAnb3V0bGllcl9kZXRlY3Rpb24nO1xuY29uc3QgT1VUTElFUl9ERVRFQ1RJT05fRU5BQkxFRCA9ICgoX2EgPSBwcm9jZXNzLmVudi5HUlBDX0VYUEVSSU1FTlRBTF9FTkFCTEVfT1VUTElFUl9ERVRFQ1RJT04pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICd0cnVlJykgPT09ICd0cnVlJztcbmNvbnN0IGRlZmF1bHRTdWNjZXNzUmF0ZUVqZWN0aW9uQ29uZmlnID0ge1xuICAgIHN0ZGV2X2ZhY3RvcjogMTkwMCxcbiAgICBlbmZvcmNlbWVudF9wZXJjZW50YWdlOiAxMDAsXG4gICAgbWluaW11bV9ob3N0czogNSxcbiAgICByZXF1ZXN0X3ZvbHVtZTogMTAwLFxufTtcbmNvbnN0IGRlZmF1bHRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnID0ge1xuICAgIHRocmVzaG9sZDogODUsXG4gICAgZW5mb3JjZW1lbnRfcGVyY2VudGFnZTogMTAwLFxuICAgIG1pbmltdW1faG9zdHM6IDUsXG4gICAgcmVxdWVzdF92b2x1bWU6IDUwLFxufTtcbmZ1bmN0aW9uIHZhbGlkYXRlRmllbGRUeXBlKG9iaiwgZmllbGROYW1lLCBleHBlY3RlZFR5cGUsIG9iamVjdE5hbWUpIHtcbiAgICBpZiAoZmllbGROYW1lIGluIG9iaiAmJiB0eXBlb2Ygb2JqW2ZpZWxkTmFtZV0gIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICBjb25zdCBmdWxsRmllbGROYW1lID0gb2JqZWN0TmFtZSA/IGAke29iamVjdE5hbWV9LiR7ZmllbGROYW1lfWAgOiBmaWVsZE5hbWU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0bGllciBkZXRlY3Rpb24gY29uZmlnICR7ZnVsbEZpZWxkTmFtZX0gcGFyc2UgZXJyb3I6IGV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlfSwgZ290ICR7dHlwZW9mIG9ialtmaWVsZE5hbWVdfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosIGZpZWxkTmFtZSwgb2JqZWN0TmFtZSkge1xuICAgIGNvbnN0IGZ1bGxGaWVsZE5hbWUgPSBvYmplY3ROYW1lID8gYCR7b2JqZWN0TmFtZX0uJHtmaWVsZE5hbWV9YCA6IGZpZWxkTmFtZTtcbiAgICBpZiAoZmllbGROYW1lIGluIG9iaikge1xuICAgICAgICBpZiAoISgwLCBkdXJhdGlvbl8xLmlzRHVyYXRpb24pKG9ialtmaWVsZE5hbWVdKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgJHtmdWxsRmllbGROYW1lfSBwYXJzZSBlcnJvcjogZXhwZWN0ZWQgRHVyYXRpb24sIGdvdCAke3R5cGVvZiBvYmpbZmllbGROYW1lXX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShvYmpbZmllbGROYW1lXS5zZWNvbmRzID49IDAgJiZcbiAgICAgICAgICAgIG9ialtmaWVsZE5hbWVdLnNlY29uZHMgPD0gMzE1NTc2MDAwMDAwICYmXG4gICAgICAgICAgICBvYmpbZmllbGROYW1lXS5uYW5vcyA+PSAwICYmXG4gICAgICAgICAgICBvYmpbZmllbGROYW1lXS5uYW5vcyA8PSA5OTk5OTk5OTkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyAke2Z1bGxGaWVsZE5hbWV9IHBhcnNlIGVycm9yOiB2YWx1ZXMgb3V0IG9mIHJhbmdlIGZvciBub24tbmVnYXRpdmUgRHVhcmF0aW9uYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLCBmaWVsZE5hbWUsIG9iamVjdE5hbWUpIHtcbiAgICBjb25zdCBmdWxsRmllbGROYW1lID0gb2JqZWN0TmFtZSA/IGAke29iamVjdE5hbWV9LiR7ZmllbGROYW1lfWAgOiBmaWVsZE5hbWU7XG4gICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLCBmaWVsZE5hbWUsICdudW1iZXInLCBvYmplY3ROYW1lKTtcbiAgICBpZiAoZmllbGROYW1lIGluIG9iaiAmJiAhKG9ialtmaWVsZE5hbWVdID49IDAgJiYgb2JqW2ZpZWxkTmFtZV0gPD0gMTAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyAke2Z1bGxGaWVsZE5hbWV9IHBhcnNlIGVycm9yOiB2YWx1ZSBvdXQgb2YgcmFuZ2UgZm9yIHBlcmNlbnRhZ2UgKDAtMTAwKWApO1xuICAgIH1cbn1cbmNsYXNzIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcihpbnRlcnZhbE1zLCBiYXNlRWplY3Rpb25UaW1lTXMsIG1heEVqZWN0aW9uVGltZU1zLCBtYXhFamVjdGlvblBlcmNlbnQsIHN1Y2Nlc3NSYXRlRWplY3Rpb24sIGZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb24sIGNoaWxkUG9saWN5KSB7XG4gICAgICAgIHRoaXMuY2hpbGRQb2xpY3kgPSBjaGlsZFBvbGljeTtcbiAgICAgICAgaWYgKGNoaWxkUG9saWN5Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIGNoaWxkUG9saWN5WzBdLmdldExvYWRCYWxhbmNlck5hbWUoKSA9PT0gJ3BpY2tfZmlyc3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dGxpZXJfZGV0ZWN0aW9uIExCIHBvbGljeSBjYW5ub3QgaGF2ZSBhIHBpY2tfZmlyc3QgY2hpbGQgcG9saWN5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcnZhbE1zID0gaW50ZXJ2YWxNcyAhPT0gbnVsbCAmJiBpbnRlcnZhbE1zICE9PSB2b2lkIDAgPyBpbnRlcnZhbE1zIDogMTAwMDA7XG4gICAgICAgIHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zID0gYmFzZUVqZWN0aW9uVGltZU1zICE9PSBudWxsICYmIGJhc2VFamVjdGlvblRpbWVNcyAhPT0gdm9pZCAwID8gYmFzZUVqZWN0aW9uVGltZU1zIDogMzAwMDA7XG4gICAgICAgIHRoaXMubWF4RWplY3Rpb25UaW1lTXMgPSBtYXhFamVjdGlvblRpbWVNcyAhPT0gbnVsbCAmJiBtYXhFamVjdGlvblRpbWVNcyAhPT0gdm9pZCAwID8gbWF4RWplY3Rpb25UaW1lTXMgOiAzMDAwMDA7XG4gICAgICAgIHRoaXMubWF4RWplY3Rpb25QZXJjZW50ID0gbWF4RWplY3Rpb25QZXJjZW50ICE9PSBudWxsICYmIG1heEVqZWN0aW9uUGVyY2VudCAhPT0gdm9pZCAwID8gbWF4RWplY3Rpb25QZXJjZW50IDogMTA7XG4gICAgICAgIHRoaXMuc3VjY2Vzc1JhdGVFamVjdGlvbiA9IHN1Y2Nlc3NSYXRlRWplY3Rpb25cbiAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZyksIHN1Y2Nlc3NSYXRlRWplY3Rpb24pIDogbnVsbDtcbiAgICAgICAgdGhpcy5mYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uID0gZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvblxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnKSwgZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICB0b0pzb25PYmplY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnRlcnZhbDogKDAsIGR1cmF0aW9uXzEubXNUb0R1cmF0aW9uKSh0aGlzLmludGVydmFsTXMpLFxuICAgICAgICAgICAgYmFzZV9lamVjdGlvbl90aW1lOiAoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zKSxcbiAgICAgICAgICAgIG1heF9lamVjdGlvbl90aW1lOiAoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMubWF4RWplY3Rpb25UaW1lTXMpLFxuICAgICAgICAgICAgbWF4X2VqZWN0aW9uX3BlcmNlbnQ6IHRoaXMubWF4RWplY3Rpb25QZXJjZW50LFxuICAgICAgICAgICAgc3VjY2Vzc19yYXRlX2VqZWN0aW9uOiB0aGlzLnN1Y2Nlc3NSYXRlRWplY3Rpb24sXG4gICAgICAgICAgICBmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb246IHRoaXMuZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbixcbiAgICAgICAgICAgIGNoaWxkX3BvbGljeTogdGhpcy5jaGlsZFBvbGljeS5tYXAocG9saWN5ID0+IHBvbGljeS50b0pzb25PYmplY3QoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldEludGVydmFsTXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVydmFsTXM7XG4gICAgfVxuICAgIGdldEJhc2VFamVjdGlvblRpbWVNcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zO1xuICAgIH1cbiAgICBnZXRNYXhFamVjdGlvblRpbWVNcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF4RWplY3Rpb25UaW1lTXM7XG4gICAgfVxuICAgIGdldE1heEVqZWN0aW9uUGVyY2VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF4RWplY3Rpb25QZXJjZW50O1xuICAgIH1cbiAgICBnZXRTdWNjZXNzUmF0ZUVqZWN0aW9uQ29uZmlnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWNjZXNzUmF0ZUVqZWN0aW9uO1xuICAgIH1cbiAgICBnZXRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uO1xuICAgIH1cbiAgICBnZXRDaGlsZFBvbGljeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRQb2xpY3k7XG4gICAgfVxuICAgIGNvcHlXaXRoQ2hpbGRQb2xpY3koY2hpbGRQb2xpY3kpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2luZ0NvbmZpZyh0aGlzLmludGVydmFsTXMsIHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zLCB0aGlzLm1heEVqZWN0aW9uVGltZU1zLCB0aGlzLm1heEVqZWN0aW9uUGVyY2VudCwgdGhpcy5zdWNjZXNzUmF0ZUVqZWN0aW9uLCB0aGlzLmZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb24sIGNoaWxkUG9saWN5KTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUZyb21Kc29uKG9iaikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosICdpbnRlcnZhbCcpO1xuICAgICAgICB2YWxpZGF0ZVBvc2l0aXZlRHVyYXRpb24ob2JqLCAnYmFzZV9lamVjdGlvbl90aW1lJyk7XG4gICAgICAgIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosICdtYXhfZWplY3Rpb25fdGltZScpO1xuICAgICAgICB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLCAnbWF4X2VqZWN0aW9uX3BlcmNlbnQnKTtcbiAgICAgICAgaWYgKCdzdWNjZXNzX3JhdGVfZWplY3Rpb24nIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb3V0bGllciBkZXRlY3Rpb24gY29uZmlnIHN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLnN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiwgJ3N0ZGV2X2ZhY3RvcicsICdudW1iZXInLCAnc3VjY2Vzc19yYXRlX2VqZWN0aW9uJyk7XG4gICAgICAgICAgICB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLnN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiwgJ2VuZm9yY2VtZW50X3BlcmNlbnRhZ2UnLCAnc3VjY2Vzc19yYXRlX2VqZWN0aW9uJyk7XG4gICAgICAgICAgICB2YWxpZGF0ZUZpZWxkVHlwZShvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCAnbWluaW11bV9ob3N0cycsICdudW1iZXInLCAnc3VjY2Vzc19yYXRlX2VqZWN0aW9uJyk7XG4gICAgICAgICAgICB2YWxpZGF0ZUZpZWxkVHlwZShvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCAncmVxdWVzdF92b2x1bWUnLCAnbnVtYmVyJywgJ3N1Y2Nlc3NfcmF0ZV9lamVjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uJyBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyBmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24gbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRlUGVyY2VudGFnZShvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uLCAndGhyZXNob2xkJywgJ2ZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVQZXJjZW50YWdlKG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24sICdlbmZvcmNlbWVudF9wZXJjZW50YWdlJywgJ2ZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiwgJ21pbmltdW1faG9zdHMnLCAnbnVtYmVyJywgJ2ZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbicpO1xuICAgICAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiwgJ3JlcXVlc3Rfdm9sdW1lJywgJ251bWJlcicsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKG9iai5pbnRlcnZhbCA/ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9Ncykob2JqLmludGVydmFsKSA6IG51bGwsIG9iai5iYXNlX2VqZWN0aW9uX3RpbWUgPyAoMCwgZHVyYXRpb25fMS5kdXJhdGlvblRvTXMpKG9iai5iYXNlX2VqZWN0aW9uX3RpbWUpIDogbnVsbCwgb2JqLm1heF9lamVjdGlvbl90aW1lID8gKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zKShvYmoubWF4X2VqZWN0aW9uX3RpbWUpIDogbnVsbCwgKF9hID0gb2JqLm1heF9lamVjdGlvbl9wZXJjZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLCBvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCBvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uLCBvYmouY2hpbGRfcG9saWN5Lm1hcChsb2FkX2JhbGFuY2VyXzEudmFsaWRhdGVMb2FkQmFsYW5jaW5nQ29uZmlnKSk7XG4gICAgfVxufVxuZXhwb3J0cy5PdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2luZ0NvbmZpZyA9IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnO1xuY2xhc3MgT3V0bGllckRldGVjdGlvblN1YmNoYW5uZWxXcmFwcGVyIGV4dGVuZHMgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMS5CYXNlU3ViY2hhbm5lbFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkU3ViY2hhbm5lbCwgbWFwRW50cnkpIHtcbiAgICAgICAgc3VwZXIoY2hpbGRTdWJjaGFubmVsKTtcbiAgICAgICAgdGhpcy5tYXBFbnRyeSA9IG1hcEVudHJ5O1xuICAgICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jaGlsZFN1YmNoYW5uZWxTdGF0ZSA9IGNoaWxkU3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpO1xuICAgICAgICBjaGlsZFN1YmNoYW5uZWwuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcigoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRTdWJjaGFubmVsU3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLnN0YXRlTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyKHRoaXMsIHByZXZpb3VzU3RhdGUsIG5ld1N0YXRlLCBrZWVwYWxpdmVUaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWplY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRTdWJjaGFubmVsU3RhdGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSB3cmFwcGVyJ3NcbiAgICAgKiBjb25uZWN0aXZpdHkgc3RhdGUgY2hhbmdlcy5cbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhdGVMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGxpc3RlbmVyIHByZXZpb3VzbHkgYWRkZWQgd2l0aCBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgQSByZWZlcmVuY2UgdG8gYSBmdW5jdGlvbiBwcmV2aW91c2x5IHBhc3NlZCB0b1xuICAgICAqICAgICBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgKi9cbiAgICByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVySW5kZXggPSB0aGlzLnN0YXRlTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICBpZiAobGlzdGVuZXJJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLnNwbGljZShsaXN0ZW5lckluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQucmVmKCk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgKz0gMTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudW5yZWYoKTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5yZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXBFbnRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tYXBFbnRyeS5zdWJjaGFubmVsV3JhcHBlcnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEVudHJ5LnN1YmNoYW5uZWxXcmFwcGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlamVjdCgpIHtcbiAgICAgICAgdGhpcy5lamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLnN0YXRlTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcih0aGlzLCB0aGlzLmNoaWxkU3ViY2hhbm5lbFN0YXRlLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgLTEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuZWplY3QoKSB7XG4gICAgICAgIHRoaXMuZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuc3RhdGVMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKHRoaXMsIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCB0aGlzLmNoaWxkU3ViY2hhbm5lbFN0YXRlLCAtMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0TWFwRW50cnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcEVudHJ5O1xuICAgIH1cbiAgICBnZXRXcmFwcGVkU3ViY2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQ7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRW1wdHlCdWNrZXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogMCxcbiAgICAgICAgZmFpbHVyZTogMCxcbiAgICB9O1xufVxuY2xhc3MgQ2FsbENvdW50ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldCA9IGNyZWF0ZUVtcHR5QnVja2V0KCk7XG4gICAgICAgIHRoaXMuaW5hY3RpdmVCdWNrZXQgPSBjcmVhdGVFbXB0eUJ1Y2tldCgpO1xuICAgIH1cbiAgICBhZGRTdWNjZXNzKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldC5zdWNjZXNzICs9IDE7XG4gICAgfVxuICAgIGFkZEZhaWx1cmUoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQnVja2V0LmZhaWx1cmUgKz0gMTtcbiAgICB9XG4gICAgc3dpdGNoQnVja2V0cygpIHtcbiAgICAgICAgdGhpcy5pbmFjdGl2ZUJ1Y2tldCA9IHRoaXMuYWN0aXZlQnVja2V0O1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldCA9IGNyZWF0ZUVtcHR5QnVja2V0KCk7XG4gICAgfVxuICAgIGdldExhc3RTdWNjZXNzZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluYWN0aXZlQnVja2V0LnN1Y2Nlc3M7XG4gICAgfVxuICAgIGdldExhc3RGYWlsdXJlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5hY3RpdmVCdWNrZXQuZmFpbHVyZTtcbiAgICB9XG59XG5jbGFzcyBPdXRsaWVyRGV0ZWN0aW9uUGlja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih3cmFwcGVkUGlja2VyLCBjb3VudENhbGxzKSB7XG4gICAgICAgIHRoaXMud3JhcHBlZFBpY2tlciA9IHdyYXBwZWRQaWNrZXI7XG4gICAgICAgIHRoaXMuY291bnRDYWxscyA9IGNvdW50Q2FsbHM7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZFBpY2sgPSB0aGlzLndyYXBwZWRQaWNrZXIucGljayhwaWNrQXJncyk7XG4gICAgICAgIGlmICh3cmFwcGVkUGljay5waWNrUmVzdWx0VHlwZSA9PT0gcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuQ09NUExFVEUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxXcmFwcGVyID0gd3JhcHBlZFBpY2suc3ViY2hhbm5lbDtcbiAgICAgICAgICAgIGNvbnN0IG1hcEVudHJ5ID0gc3ViY2hhbm5lbFdyYXBwZXIuZ2V0TWFwRW50cnkoKTtcbiAgICAgICAgICAgIGlmIChtYXBFbnRyeSkge1xuICAgICAgICAgICAgICAgIGxldCBvbkNhbGxFbmRlZCA9IHdyYXBwZWRQaWNrLm9uQ2FsbEVuZGVkO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50Q2FsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DYWxsRW5kZWQgPSBzdGF0dXNDb2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBFbnRyeS5jb3VudGVyLmFkZFN1Y2Nlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcEVudHJ5LmNvdW50ZXIuYWRkRmFpbHVyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gd3JhcHBlZFBpY2sub25DYWxsRW5kZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHdyYXBwZWRQaWNrLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgd3JhcHBlZFBpY2spLCB7IHN1YmNoYW5uZWw6IHN1YmNoYW5uZWxXcmFwcGVyLmdldFdyYXBwZWRTdWJjaGFubmVsKCksIG9uQ2FsbEVuZGVkOiBvbkNhbGxFbmRlZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHdyYXBwZWRQaWNrKSwgeyBzdWJjaGFubmVsOiBzdWJjaGFubmVsV3JhcHBlci5nZXRXcmFwcGVkU3ViY2hhbm5lbCgpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZWRQaWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNlciB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbENvbnRyb2xIZWxwZXIpIHtcbiAgICAgICAgdGhpcy5hZGRyZXNzTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmxhdGVzdENvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMudGltZXJTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkQmFsYW5jZXIgPSBuZXcgbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyKCgwLCBleHBlcmltZW50YWxfMS5jcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKShjaGFubmVsQ29udHJvbEhlbHBlciwge1xuICAgICAgICAgICAgY3JlYXRlU3ViY2hhbm5lbDogKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3ViY2hhbm5lbCA9IGNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXBFbnRyeSA9IHRoaXMuYWRkcmVzc01hcC5nZXQoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKHN1YmNoYW5uZWxBZGRyZXNzKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViY2hhbm5lbFdyYXBwZXIgPSBuZXcgT3V0bGllckRldGVjdGlvblN1YmNoYW5uZWxXcmFwcGVyKG9yaWdpbmFsU3ViY2hhbm5lbCwgbWFwRW50cnkpO1xuICAgICAgICAgICAgICAgIGlmICgobWFwRW50cnkgPT09IG51bGwgfHwgbWFwRW50cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFkZHJlc3MgaXMgZWplY3RlZCwgcHJvcGFnYXRlIHRoYXQgdG8gdGhlIG5ldyBzdWJjaGFubmVsIHdyYXBwZXJcbiAgICAgICAgICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXIuZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFwRW50cnkgPT09IG51bGwgfHwgbWFwRW50cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcEVudHJ5LnN1YmNoYW5uZWxXcmFwcGVycy5wdXNoKHN1YmNoYW5uZWxXcmFwcGVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ViY2hhbm5lbFdyYXBwZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlU3RhdGU6IChjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgbmV3IE91dGxpZXJEZXRlY3Rpb25QaWNrZXIocGlja2VyLCB0aGlzLmlzQ291bnRpbmdFbmFibGVkKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5lamVjdGlvblRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmVqZWN0aW9uVGltZXIpO1xuICAgIH1cbiAgICBpc0NvdW50aW5nRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxhdGVzdENvbmZpZyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgKHRoaXMubGF0ZXN0Q29uZmlnLmdldFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWcoKSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnLmdldEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcoKSAhPT0gbnVsbCkpO1xuICAgIH1cbiAgICBnZXRDdXJyZW50RWplY3Rpb25QZXJjZW50KCkge1xuICAgICAgICBsZXQgZWplY3Rpb25Db3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5hZGRyZXNzTWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAobWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWplY3Rpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZWplY3Rpb25Db3VudCAqIDEwMCkgLyB0aGlzLmFkZHJlc3NNYXAuc2l6ZTtcbiAgICB9XG4gICAgcnVuU3VjY2Vzc1JhdGVDaGVjayhlamVjdGlvblRpbWVzdGFtcCkge1xuICAgICAgICBpZiAoIXRoaXMubGF0ZXN0Q29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3VjY2Vzc1JhdGVDb25maWcgPSB0aGlzLmxhdGVzdENvbmZpZy5nZXRTdWNjZXNzUmF0ZUVqZWN0aW9uQ29uZmlnKCk7XG4gICAgICAgIGlmICghc3VjY2Vzc1JhdGVDb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnUnVubmluZyBzdWNjZXNzIHJhdGUgY2hlY2snKTtcbiAgICAgICAgLy8gU3RlcCAxXG4gICAgICAgIGNvbnN0IHRhcmdldFJlcXVlc3RWb2x1bWUgPSBzdWNjZXNzUmF0ZUNvbmZpZy5yZXF1ZXN0X3ZvbHVtZTtcbiAgICAgICAgbGV0IGFkZHJlc2VzV2l0aFRhcmdldFZvbHVtZSA9IDA7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFthZGRyZXNzLCBtYXBFbnRyeV0gb2YgdGhpcy5hZGRyZXNzTWFwKSB7XG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RTdWNjZXNzZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGZhaWx1cmVzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0RmFpbHVyZXMoKTtcbiAgICAgICAgICAgIHRyYWNlKCdTdGF0cyBmb3IgJyArXG4gICAgICAgICAgICAgICAgYWRkcmVzcyArXG4gICAgICAgICAgICAgICAgJzogc3VjY2Vzc2VzPScgK1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NlcyArXG4gICAgICAgICAgICAgICAgJyBmYWlsdXJlcz0nICtcbiAgICAgICAgICAgICAgICBmYWlsdXJlcyArXG4gICAgICAgICAgICAgICAgJyB0YXJnZXRSZXF1ZXN0Vm9sdW1lPScgK1xuICAgICAgICAgICAgICAgIHRhcmdldFJlcXVlc3RWb2x1bWUpO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NlcyArIGZhaWx1cmVzID49IHRhcmdldFJlcXVlc3RWb2x1bWUpIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNlc1dpdGhUYXJnZXRWb2x1bWUgKz0gMTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzUmF0ZXMucHVzaChzdWNjZXNzZXMgLyAoc3VjY2Vzc2VzICsgZmFpbHVyZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnRm91bmQgJyArXG4gICAgICAgICAgICBhZGRyZXNlc1dpdGhUYXJnZXRWb2x1bWUgK1xuICAgICAgICAgICAgJyBzdWNjZXNzIHJhdGUgY2FuZGlkYXRlczsgY3VycmVudEVqZWN0aW9uUGVyY2VudD0nICtcbiAgICAgICAgICAgIHRoaXMuZ2V0Q3VycmVudEVqZWN0aW9uUGVyY2VudCgpICtcbiAgICAgICAgICAgICcgc3VjY2Vzc1JhdGVzPVsnICtcbiAgICAgICAgICAgIHN1Y2Nlc3NSYXRlcyArXG4gICAgICAgICAgICAnXScpO1xuICAgICAgICBpZiAoYWRkcmVzZXNXaXRoVGFyZ2V0Vm9sdW1lIDwgc3VjY2Vzc1JhdGVDb25maWcubWluaW11bV9ob3N0cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0ZXAgMlxuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZU1lYW4gPSBzdWNjZXNzUmF0ZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYikgLyBzdWNjZXNzUmF0ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgc3VjY2Vzc1JhdGVEZXZpYXRpb25TdW0gPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHJhdGUgb2Ygc3VjY2Vzc1JhdGVzKSB7XG4gICAgICAgICAgICBjb25zdCBkZXZpYXRpb24gPSByYXRlIC0gc3VjY2Vzc1JhdGVNZWFuO1xuICAgICAgICAgICAgc3VjY2Vzc1JhdGVEZXZpYXRpb25TdW0gKz0gZGV2aWF0aW9uICogZGV2aWF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlVmFyaWFuY2UgPSBzdWNjZXNzUmF0ZURldmlhdGlvblN1bSAvIHN1Y2Nlc3NSYXRlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlU3RkZXYgPSBNYXRoLnNxcnQoc3VjY2Vzc1JhdGVWYXJpYW5jZSk7XG4gICAgICAgIGNvbnN0IGVqZWN0aW9uVGhyZXNob2xkID0gc3VjY2Vzc1JhdGVNZWFuIC1cbiAgICAgICAgICAgIHN1Y2Nlc3NSYXRlU3RkZXYgKiAoc3VjY2Vzc1JhdGVDb25maWcuc3RkZXZfZmFjdG9yIC8gMTAwMCk7XG4gICAgICAgIHRyYWNlKCdzdGRldj0nICsgc3VjY2Vzc1JhdGVTdGRldiArICcgZWplY3Rpb25UaHJlc2hvbGQ9JyArIGVqZWN0aW9uVGhyZXNob2xkKTtcbiAgICAgICAgLy8gU3RlcCAzXG4gICAgICAgIGZvciAoY29uc3QgW2FkZHJlc3MsIG1hcEVudHJ5XSBvZiB0aGlzLmFkZHJlc3NNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICAvLyBTdGVwIDMuaVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q3VycmVudEVqZWN0aW9uUGVyY2VudCgpID49XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcuZ2V0TWF4RWplY3Rpb25QZXJjZW50KCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0ZXAgMy5paVxuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2VzICsgZmFpbHVyZXMgPCB0YXJnZXRSZXF1ZXN0Vm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIDMuaWlpXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZSA9IHN1Y2Nlc3NlcyAvIChzdWNjZXNzZXMgKyBmYWlsdXJlcyk7XG4gICAgICAgICAgICB0cmFjZSgnQ2hlY2tpbmcgY2FuZGlkYXRlICcgKyBhZGRyZXNzICsgJyBzdWNjZXNzUmF0ZT0nICsgc3VjY2Vzc1JhdGUpO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NSYXRlIDwgZWplY3Rpb25UaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLnJhbmRvbSgpICogMTAwO1xuICAgICAgICAgICAgICAgIHRyYWNlKCdDYW5kaWRhdGUgJyArXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgK1xuICAgICAgICAgICAgICAgICAgICAnIHJhbmRvbU51bWJlcj0nICtcbiAgICAgICAgICAgICAgICAgICAgcmFuZG9tTnVtYmVyICtcbiAgICAgICAgICAgICAgICAgICAgJyBlbmZvcmNlbWVudF9wZXJjZW50YWdlPScgK1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzUmF0ZUNvbmZpZy5lbmZvcmNlbWVudF9wZXJjZW50YWdlKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZG9tTnVtYmVyIDwgc3VjY2Vzc1JhdGVDb25maWcuZW5mb3JjZW1lbnRfcGVyY2VudGFnZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnRWplY3RpbmcgY2FuZGlkYXRlICcgKyBhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lamVjdChtYXBFbnRyeSwgZWplY3Rpb25UaW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBydW5GYWlsdXJlUGVyY2VudGFnZUNoZWNrKGVqZWN0aW9uVGltZXN0YW1wKSB7XG4gICAgICAgIGlmICghdGhpcy5sYXRlc3RDb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZyA9IHRoaXMubGF0ZXN0Q29uZmlnLmdldEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcoKTtcbiAgICAgICAgaWYgKCFmYWlsdXJlUGVyY2VudGFnZUNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlKCdSdW5uaW5nIGZhaWx1cmUgcGVyY2VudGFnZSBjaGVjay4gdGhyZXNob2xkPScgK1xuICAgICAgICAgICAgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcudGhyZXNob2xkICtcbiAgICAgICAgICAgICcgcmVxdWVzdCB2b2x1bWUgdGhyZXNob2xkPScgK1xuICAgICAgICAgICAgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcucmVxdWVzdF92b2x1bWUpO1xuICAgICAgICAvLyBTdGVwIDFcbiAgICAgICAgbGV0IGFkZHJlc3Nlc1dpdGhUYXJnZXRWb2x1bWUgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IG1hcEVudHJ5IG9mIHRoaXMuYWRkcmVzc01hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2VzICsgZmFpbHVyZXMgPj0gZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcucmVxdWVzdF92b2x1bWUpIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzZXNXaXRoVGFyZ2V0Vm9sdW1lICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkZHJlc3Nlc1dpdGhUYXJnZXRWb2x1bWUgPCBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5taW5pbXVtX2hvc3RzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RlcCAyXG4gICAgICAgIGZvciAoY29uc3QgW2FkZHJlc3MsIG1hcEVudHJ5XSBvZiB0aGlzLmFkZHJlc3NNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICAvLyBTdGVwIDIuaVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q3VycmVudEVqZWN0aW9uUGVyY2VudCgpID49XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcuZ2V0TWF4RWplY3Rpb25QZXJjZW50KCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0ZXAgMi5paVxuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICB0cmFjZSgnQ2FuZGlkYXRlIHN1Y2Nlc3Nlcz0nICsgc3VjY2Vzc2VzICsgJyBmYWlsdXJlcz0nICsgZmFpbHVyZXMpO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NlcyArIGZhaWx1cmVzIDwgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcucmVxdWVzdF92b2x1bWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0ZXAgMi5paWlcbiAgICAgICAgICAgIGNvbnN0IGZhaWx1cmVQZXJjZW50YWdlID0gKGZhaWx1cmVzICogMTAwKSAvIChmYWlsdXJlcyArIHN1Y2Nlc3Nlcyk7XG4gICAgICAgICAgICBpZiAoZmFpbHVyZVBlcmNlbnRhZ2UgPiBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLnJhbmRvbSgpICogMTAwO1xuICAgICAgICAgICAgICAgIHRyYWNlKCdDYW5kaWRhdGUgJyArXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgK1xuICAgICAgICAgICAgICAgICAgICAnIHJhbmRvbU51bWJlcj0nICtcbiAgICAgICAgICAgICAgICAgICAgcmFuZG9tTnVtYmVyICtcbiAgICAgICAgICAgICAgICAgICAgJyBlbmZvcmNlbWVudF9wZXJjZW50YWdlPScgK1xuICAgICAgICAgICAgICAgICAgICBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5lbmZvcmNlbWVudF9wZXJjZW50YWdlKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZG9tTnVtYmVyIDwgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcuZW5mb3JjZW1lbnRfcGVyY2VudGFnZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnRWplY3RpbmcgY2FuZGlkYXRlICcgKyBhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lamVjdChtYXBFbnRyeSwgZWplY3Rpb25UaW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlamVjdChtYXBFbnRyeSwgZWplY3Rpb25UaW1lc3RhbXApIHtcbiAgICAgICAgbWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgbWFwRW50cnkuZWplY3Rpb25UaW1lTXVsdGlwbGllciArPSAxO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YmNoYW5uZWxXcmFwcGVyIG9mIG1hcEVudHJ5LnN1YmNoYW5uZWxXcmFwcGVycykge1xuICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXIuZWplY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmVqZWN0KG1hcEVudHJ5KSB7XG4gICAgICAgIG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3Qgc3ViY2hhbm5lbFdyYXBwZXIgb2YgbWFwRW50cnkuc3ViY2hhbm5lbFdyYXBwZXJzKSB7XG4gICAgICAgICAgICBzdWJjaGFubmVsV3JhcHBlci51bmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoQWxsQnVja2V0cygpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXBFbnRyeSBvZiB0aGlzLmFkZHJlc3NNYXAudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIG1hcEVudHJ5LmNvdW50ZXIuc3dpdGNoQnVja2V0cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0VGltZXIoZGVsYXlNcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmVqZWN0aW9uVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMucnVuQ2hlY2tzKCksIGRlbGF5TXMpO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmVqZWN0aW9uVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfVxuICAgIHJ1bkNoZWNrcygpIHtcbiAgICAgICAgY29uc3QgZWplY3Rpb25UaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0cmFjZSgnRWplY3Rpb24gdGltZXIgcnVubmluZycpO1xuICAgICAgICB0aGlzLnN3aXRjaEFsbEJ1Y2tldHMoKTtcbiAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZXJTdGFydFRpbWUgPSBlamVjdGlvblRpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKHRoaXMubGF0ZXN0Q29uZmlnLmdldEludGVydmFsTXMoKSk7XG4gICAgICAgIHRoaXMucnVuU3VjY2Vzc1JhdGVDaGVjayhlamVjdGlvblRpbWVzdGFtcCk7XG4gICAgICAgIHRoaXMucnVuRmFpbHVyZVBlcmNlbnRhZ2VDaGVjayhlamVjdGlvblRpbWVzdGFtcCk7XG4gICAgICAgIGZvciAoY29uc3QgW2FkZHJlc3MsIG1hcEVudHJ5XSBvZiB0aGlzLmFkZHJlc3NNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAobWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlRWplY3Rpb25UaW1lTXMgPSB0aGlzLmxhdGVzdENvbmZpZy5nZXRCYXNlRWplY3Rpb25UaW1lTXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhFamVjdGlvblRpbWVNcyA9IHRoaXMubGF0ZXN0Q29uZmlnLmdldE1heEVqZWN0aW9uVGltZU1zKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0dXJuVGltZSA9IG5ldyBEYXRlKG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcC5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIHJldHVyblRpbWUuc2V0TWlsbGlzZWNvbmRzKHJldHVyblRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihiYXNlRWplY3Rpb25UaW1lTXMgKiBtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyLCBNYXRoLm1heChiYXNlRWplY3Rpb25UaW1lTXMsIG1heEVqZWN0aW9uVGltZU1zKSkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5UaW1lIDwgbmV3IERhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnVW5lamVjdGluZyAnICsgYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5lamVjdChtYXBFbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBsYkNvbmZpZywgYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoIShsYkNvbmZpZyBpbnN0YW5jZW9mIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN1YmNoYW5uZWxBZGRyZXNzZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgYWRkcmVzcyBvZiBhZGRyZXNzTGlzdCkge1xuICAgICAgICAgICAgc3ViY2hhbm5lbEFkZHJlc3Nlcy5hZGQoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFkZHJlc3Mgb2Ygc3ViY2hhbm5lbEFkZHJlc3Nlcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFkZHJlc3NNYXAuaGFzKGFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ0FkZGluZyBtYXAgZW50cnkgZm9yICcgKyBhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3NNYXAuc2V0KGFkZHJlc3MsIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcjogbmV3IENhbGxDb3VudGVyKCksXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFamVjdGlvblRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZWplY3Rpb25UaW1lTXVsdGlwbGllcjogMCxcbiAgICAgICAgICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXJzOiBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB0aGlzLmFkZHJlc3NNYXAua2V5cygpKSB7XG4gICAgICAgICAgICBpZiAoIXN1YmNoYW5uZWxBZGRyZXNzZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICB0cmFjZSgnUmVtb3ZpbmcgbWFwIGVudHJ5IGZvciAnICsga2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3NNYXAuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hpbGRQb2xpY3kgPSAoMCwgbG9hZF9iYWxhbmNlcl8xLmdldEZpcnN0VXNhYmxlQ29uZmlnKShsYkNvbmZpZy5nZXRDaGlsZFBvbGljeSgpLCB0cnVlKTtcbiAgICAgICAgdGhpcy5jaGlsZEJhbGFuY2VyLnVwZGF0ZUFkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBjaGlsZFBvbGljeSwgYXR0cmlidXRlcyk7XG4gICAgICAgIGlmIChsYkNvbmZpZy5nZXRTdWNjZXNzUmF0ZUVqZWN0aW9uQ29uZmlnKCkgfHxcbiAgICAgICAgICAgIGxiQ29uZmlnLmdldEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGltZXJTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0cmFjZSgnUHJldmlvdXMgdGltZXIgZXhpc3RlZC4gUmVwbGFjaW5nIHRpbWVyJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nRGVsYXkgPSBsYkNvbmZpZy5nZXRJbnRlcnZhbE1zKCkgLVxuICAgICAgICAgICAgICAgICAgICAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnRpbWVyU3RhcnRUaW1lLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKHJlbWFpbmluZ0RlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYWNlKCdTdGFydGluZyBuZXcgdGltZXInKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIobGJDb25maWcuZ2V0SW50ZXJ2YWxNcygpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaEFsbEJ1Y2tldHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNlKCdDb3VudGluZyBkaXNhYmxlZC4gQ2FuY2VsbGluZyB0aW1lci4nKTtcbiAgICAgICAgICAgIHRoaXMudGltZXJTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1hcEVudHJ5IG9mIHRoaXMuYWRkcmVzc01hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5lamVjdChtYXBFbnRyeSk7XG4gICAgICAgICAgICAgICAgbWFwRW50cnkuZWplY3Rpb25UaW1lTXVsdGlwbGllciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBsYkNvbmZpZztcbiAgICB9XG4gICAgZXhpdElkbGUoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5yZXNldEJhY2tvZmYoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNlciA9IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAoT1VUTElFUl9ERVRFQ1RJT05fRU5BQkxFRCkge1xuICAgICAgICAoMCwgZXhwZXJpbWVudGFsXzEucmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlKShUWVBFX05BTUUsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKTtcbiAgICB9XG59XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6WyJfYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwic2V0dXAiLCJPdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2VyIiwiT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWciLCJjb25uZWN0aXZpdHlfc3RhdGVfMSIsInJlcXVpcmUiLCJjb25zdGFudHNfMSIsImR1cmF0aW9uXzEiLCJleHBlcmltZW50YWxfMSIsImxvYWRfYmFsYW5jZXJfMSIsImxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xIiwicGlja2VyXzEiLCJzdWJjaGFubmVsX2FkZHJlc3NfMSIsInN1YmNoYW5uZWxfaW50ZXJmYWNlXzEiLCJsb2dnaW5nIiwiVFJBQ0VSX05BTUUiLCJ0cmFjZSIsInRleHQiLCJMb2dWZXJib3NpdHkiLCJERUJVRyIsIlRZUEVfTkFNRSIsIk9VVExJRVJfREVURUNUSU9OX0VOQUJMRUQiLCJwcm9jZXNzIiwiZW52IiwiR1JQQ19FWFBFUklNRU5UQUxfRU5BQkxFX09VVExJRVJfREVURUNUSU9OIiwiZGVmYXVsdFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWciLCJzdGRldl9mYWN0b3IiLCJlbmZvcmNlbWVudF9wZXJjZW50YWdlIiwibWluaW11bV9ob3N0cyIsInJlcXVlc3Rfdm9sdW1lIiwiZGVmYXVsdEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWciLCJ0aHJlc2hvbGQiLCJ2YWxpZGF0ZUZpZWxkVHlwZSIsIm9iaiIsImZpZWxkTmFtZSIsImV4cGVjdGVkVHlwZSIsIm9iamVjdE5hbWUiLCJmdWxsRmllbGROYW1lIiwiRXJyb3IiLCJ2YWxpZGF0ZVBvc2l0aXZlRHVyYXRpb24iLCJpc0R1cmF0aW9uIiwic2Vjb25kcyIsIm5hbm9zIiwidmFsaWRhdGVQZXJjZW50YWdlIiwiY29uc3RydWN0b3IiLCJpbnRlcnZhbE1zIiwiYmFzZUVqZWN0aW9uVGltZU1zIiwibWF4RWplY3Rpb25UaW1lTXMiLCJtYXhFamVjdGlvblBlcmNlbnQiLCJzdWNjZXNzUmF0ZUVqZWN0aW9uIiwiZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbiIsImNoaWxkUG9saWN5IiwibGVuZ3RoIiwiZ2V0TG9hZEJhbGFuY2VyTmFtZSIsImFzc2lnbiIsInRvSnNvbk9iamVjdCIsImludGVydmFsIiwibXNUb0R1cmF0aW9uIiwiYmFzZV9lamVjdGlvbl90aW1lIiwibWF4X2VqZWN0aW9uX3RpbWUiLCJtYXhfZWplY3Rpb25fcGVyY2VudCIsInN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiIsImZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiIsImNoaWxkX3BvbGljeSIsIm1hcCIsInBvbGljeSIsImdldEludGVydmFsTXMiLCJnZXRCYXNlRWplY3Rpb25UaW1lTXMiLCJnZXRNYXhFamVjdGlvblRpbWVNcyIsImdldE1heEVqZWN0aW9uUGVyY2VudCIsImdldFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWciLCJnZXRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnIiwiZ2V0Q2hpbGRQb2xpY3kiLCJjb3B5V2l0aENoaWxkUG9saWN5IiwiY3JlYXRlRnJvbUpzb24iLCJkdXJhdGlvblRvTXMiLCJ2YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWciLCJPdXRsaWVyRGV0ZWN0aW9uU3ViY2hhbm5lbFdyYXBwZXIiLCJCYXNlU3ViY2hhbm5lbFdyYXBwZXIiLCJjaGlsZFN1YmNoYW5uZWwiLCJtYXBFbnRyeSIsInN0YXRlTGlzdGVuZXJzIiwiZWplY3RlZCIsInJlZkNvdW50IiwiY2hpbGRTdWJjaGFubmVsU3RhdGUiLCJnZXRDb25uZWN0aXZpdHlTdGF0ZSIsImFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIiLCJzdWJjaGFubmVsIiwicHJldmlvdXNTdGF0ZSIsIm5ld1N0YXRlIiwia2VlcGFsaXZlVGltZSIsImxpc3RlbmVyIiwiQ29ubmVjdGl2aXR5U3RhdGUiLCJUUkFOU0lFTlRfRkFJTFVSRSIsInB1c2giLCJyZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyIiwibGlzdGVuZXJJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZWYiLCJjaGlsZCIsInVucmVmIiwiaW5kZXgiLCJzdWJjaGFubmVsV3JhcHBlcnMiLCJlamVjdCIsInVuZWplY3QiLCJnZXRNYXBFbnRyeSIsImdldFdyYXBwZWRTdWJjaGFubmVsIiwiY3JlYXRlRW1wdHlCdWNrZXQiLCJzdWNjZXNzIiwiZmFpbHVyZSIsIkNhbGxDb3VudGVyIiwiYWN0aXZlQnVja2V0IiwiaW5hY3RpdmVCdWNrZXQiLCJhZGRTdWNjZXNzIiwiYWRkRmFpbHVyZSIsInN3aXRjaEJ1Y2tldHMiLCJnZXRMYXN0U3VjY2Vzc2VzIiwiZ2V0TGFzdEZhaWx1cmVzIiwiT3V0bGllckRldGVjdGlvblBpY2tlciIsIndyYXBwZWRQaWNrZXIiLCJjb3VudENhbGxzIiwicGljayIsInBpY2tBcmdzIiwid3JhcHBlZFBpY2siLCJwaWNrUmVzdWx0VHlwZSIsIlBpY2tSZXN1bHRUeXBlIiwiQ09NUExFVEUiLCJzdWJjaGFubmVsV3JhcHBlciIsIm9uQ2FsbEVuZGVkIiwic3RhdHVzQ29kZSIsIlN0YXR1cyIsIk9LIiwiY291bnRlciIsImNhbGwiLCJjaGFubmVsQ29udHJvbEhlbHBlciIsImFkZHJlc3NNYXAiLCJNYXAiLCJsYXRlc3RDb25maWciLCJ0aW1lclN0YXJ0VGltZSIsImNoaWxkQmFsYW5jZXIiLCJDaGlsZExvYWRCYWxhbmNlckhhbmRsZXIiLCJjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyIiwiY3JlYXRlU3ViY2hhbm5lbCIsInN1YmNoYW5uZWxBZGRyZXNzIiwic3ViY2hhbm5lbEFyZ3MiLCJvcmlnaW5hbFN1YmNoYW5uZWwiLCJnZXQiLCJzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nIiwiY3VycmVudEVqZWN0aW9uVGltZXN0YW1wIiwidXBkYXRlU3RhdGUiLCJjb25uZWN0aXZpdHlTdGF0ZSIsInBpY2tlciIsIlJFQURZIiwiaXNDb3VudGluZ0VuYWJsZWQiLCJlamVjdGlvblRpbWVyIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZ2V0Q3VycmVudEVqZWN0aW9uUGVyY2VudCIsImVqZWN0aW9uQ291bnQiLCJ2YWx1ZXMiLCJzaXplIiwicnVuU3VjY2Vzc1JhdGVDaGVjayIsImVqZWN0aW9uVGltZXN0YW1wIiwic3VjY2Vzc1JhdGVDb25maWciLCJ0YXJnZXRSZXF1ZXN0Vm9sdW1lIiwiYWRkcmVzZXNXaXRoVGFyZ2V0Vm9sdW1lIiwic3VjY2Vzc1JhdGVzIiwiYWRkcmVzcyIsInN1Y2Nlc3NlcyIsImZhaWx1cmVzIiwic3VjY2Vzc1JhdGVNZWFuIiwicmVkdWNlIiwiYSIsImIiLCJzdWNjZXNzUmF0ZURldmlhdGlvblN1bSIsInJhdGUiLCJkZXZpYXRpb24iLCJzdWNjZXNzUmF0ZVZhcmlhbmNlIiwic3VjY2Vzc1JhdGVTdGRldiIsIk1hdGgiLCJzcXJ0IiwiZWplY3Rpb25UaHJlc2hvbGQiLCJlbnRyaWVzIiwic3VjY2Vzc1JhdGUiLCJyYW5kb21OdW1iZXIiLCJyYW5kb20iLCJydW5GYWlsdXJlUGVyY2VudGFnZUNoZWNrIiwiZmFpbHVyZVBlcmNlbnRhZ2VDb25maWciLCJhZGRyZXNzZXNXaXRoVGFyZ2V0Vm9sdW1lIiwiZmFpbHVyZVBlcmNlbnRhZ2UiLCJEYXRlIiwiZWplY3Rpb25UaW1lTXVsdGlwbGllciIsInN3aXRjaEFsbEJ1Y2tldHMiLCJzdGFydFRpbWVyIiwiZGVsYXlNcyIsIl9iIiwic2V0VGltZW91dCIsInJ1bkNoZWNrcyIsInJldHVyblRpbWUiLCJnZXRUaW1lIiwic2V0TWlsbGlzZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWluIiwibWF4IiwidXBkYXRlQWRkcmVzc0xpc3QiLCJhZGRyZXNzTGlzdCIsImxiQ29uZmlnIiwiYXR0cmlidXRlcyIsInN1YmNoYW5uZWxBZGRyZXNzZXMiLCJTZXQiLCJhZGQiLCJoYXMiLCJzZXQiLCJrZXkiLCJrZXlzIiwiZGVsZXRlIiwiZ2V0Rmlyc3RVc2FibGVDb25maWciLCJjbGVhclRpbWVvdXQiLCJyZW1haW5pbmdEZWxheSIsImV4aXRJZGxlIiwicmVzZXRCYWNrb2ZmIiwiZGVzdHJveSIsImdldFR5cGVOYW1lIiwicmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setup = exports.PickFirstLoadBalancer = exports.shuffled = exports.PickFirstLoadBalancingConfig = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst TRACER_NAME = 'pick_first';\nfunction trace(text) {\n  logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'pick_first';\n/**\n * Delay after starting a connection on a subchannel before starting a\n * connection on the next subchannel in the list, for Happy Eyeballs algorithm.\n */\nconst CONNECTION_DELAY_INTERVAL_MS = 250;\nclass PickFirstLoadBalancingConfig {\n  constructor(shuffleAddressList) {\n    this.shuffleAddressList = shuffleAddressList;\n  }\n  getLoadBalancerName() {\n    return TYPE_NAME;\n  }\n  toJsonObject() {\n    return {\n      [TYPE_NAME]: {\n        shuffleAddressList: this.shuffleAddressList\n      }\n    };\n  }\n  getShuffleAddressList() {\n    return this.shuffleAddressList;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static createFromJson(obj) {\n    if ('shuffleAddressList' in obj && !(typeof obj.shuffleAddressList === 'boolean')) {\n      throw new Error('pick_first config field shuffleAddressList must be a boolean if provided');\n    }\n    return new PickFirstLoadBalancingConfig(obj.shuffleAddressList === true);\n  }\n}\nexports.PickFirstLoadBalancingConfig = PickFirstLoadBalancingConfig;\n/**\n * Picker for a `PickFirstLoadBalancer` in the READY state. Always returns the\n * picked subchannel.\n */\nclass PickFirstPicker {\n  constructor(subchannel) {\n    this.subchannel = subchannel;\n  }\n  pick(pickArgs) {\n    return {\n      pickResultType: picker_1.PickResultType.COMPLETE,\n      subchannel: this.subchannel,\n      status: null,\n      onCallStarted: null,\n      onCallEnded: null\n    };\n  }\n}\n/**\n * Return a new array with the elements of the input array in a random order\n * @param list The input array\n * @returns A shuffled array of the elements of list\n */\nfunction shuffled(list) {\n  const result = list.slice();\n  for (let i = result.length - 1; i > 1; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = result[i];\n    result[i] = result[j];\n    result[j] = temp;\n  }\n  return result;\n}\nexports.shuffled = shuffled;\nclass PickFirstLoadBalancer {\n  /**\n   * Load balancer that attempts to connect to each backend in the address list\n   * in order, and picks the first one that connects, using it for every\n   * request.\n   * @param channelControlHelper `ChannelControlHelper` instance provided by\n   *     this load balancer's owner.\n   */\n  constructor(channelControlHelper) {\n    this.channelControlHelper = channelControlHelper;\n    /**\n     * The list of subchannels this load balancer is currently attempting to\n     * connect to.\n     */\n    this.children = [];\n    /**\n     * The current connectivity state of the load balancer.\n     */\n    this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n    /**\n     * The index within the `subchannels` array of the subchannel with the most\n     * recently started connection attempt.\n     */\n    this.currentSubchannelIndex = 0;\n    /**\n     * The currently picked subchannel used for making calls. Populated if\n     * and only if the load balancer's current state is READY. In that case,\n     * the subchannel's current state is also READY.\n     */\n    this.currentPick = null;\n    /**\n     * Listener callback attached to each subchannel in the `subchannels` list\n     * while establishing a connection.\n     */\n    this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime, errorMessage) => {\n      this.onSubchannelStateUpdate(subchannel, previousState, newState, errorMessage);\n    };\n    this.triedAllSubchannels = false;\n    /**\n     * The LB policy enters sticky TRANSIENT_FAILURE mode when all\n     * subchannels have failed to connect at least once, and it stays in that\n     * mode until a connection attempt is successful. While in sticky TF mode,\n     * the LB policy continuously attempts to connect to all of its subchannels.\n     */\n    this.stickyTransientFailureMode = false;\n    /**\n     * Indicates whether we called channelControlHelper.requestReresolution since\n     * the last call to updateAddressList\n     */\n    this.requestedResolutionSinceLastUpdate = false;\n    /**\n     * The most recent error reported by any subchannel as it transitioned to\n     * TRANSIENT_FAILURE.\n     */\n    this.lastError = null;\n    this.latestAddressList = null;\n    this.connectionDelayTimeout = setTimeout(() => {}, 0);\n    clearTimeout(this.connectionDelayTimeout);\n  }\n  allChildrenHaveReportedTF() {\n    return this.children.every(child => child.hasReportedTransientFailure);\n  }\n  calculateAndReportNewState() {\n    if (this.currentPick) {\n      this.updateState(connectivity_state_1.ConnectivityState.READY, new PickFirstPicker(this.currentPick));\n    } else if (this.children.length === 0) {\n      this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this));\n    } else {\n      if (this.stickyTransientFailureMode) {\n        this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n          details: `No connection established. Last error: ${this.lastError}`\n        }));\n      } else {\n        this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n      }\n    }\n  }\n  requestReresolution() {\n    this.requestedResolutionSinceLastUpdate = true;\n    this.channelControlHelper.requestReresolution();\n  }\n  maybeEnterStickyTransientFailureMode() {\n    if (!this.allChildrenHaveReportedTF()) {\n      return;\n    }\n    if (!this.requestedResolutionSinceLastUpdate) {\n      /* Each time we get an update we reset each subchannel's\n       * hasReportedTransientFailure flag, so the next time we get to this\n       * point after that, each subchannel has reported TRANSIENT_FAILURE\n       * at least once since then. That is the trigger for requesting\n       * reresolution, whether or not the LB policy is already in sticky TF\n       * mode. */\n      this.requestReresolution();\n    }\n    if (this.stickyTransientFailureMode) {\n      return;\n    }\n    this.stickyTransientFailureMode = true;\n    for (const {\n      subchannel\n    } of this.children) {\n      subchannel.startConnecting();\n    }\n    this.calculateAndReportNewState();\n  }\n  removeCurrentPick() {\n    if (this.currentPick !== null) {\n      /* Unref can cause a state change, which can cause a change in the value\n       * of this.currentPick, so we hold a local reference to make sure that\n       * does not impact this function. */\n      const currentPick = this.currentPick;\n      this.currentPick = null;\n      currentPick.unref();\n      currentPick.removeConnectivityStateListener(this.subchannelStateListener);\n      this.channelControlHelper.removeChannelzChild(currentPick.getChannelzRef());\n    }\n  }\n  onSubchannelStateUpdate(subchannel, previousState, newState, errorMessage) {\n    var _a;\n    if ((_a = this.currentPick) === null || _a === void 0 ? void 0 : _a.realSubchannelEquals(subchannel)) {\n      if (newState !== connectivity_state_1.ConnectivityState.READY) {\n        this.removeCurrentPick();\n        this.calculateAndReportNewState();\n        this.requestReresolution();\n      }\n      return;\n    }\n    for (const [index, child] of this.children.entries()) {\n      if (subchannel.realSubchannelEquals(child.subchannel)) {\n        if (newState === connectivity_state_1.ConnectivityState.READY) {\n          this.pickSubchannel(child.subchannel);\n        }\n        if (newState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n          child.hasReportedTransientFailure = true;\n          if (errorMessage) {\n            this.lastError = errorMessage;\n          }\n          this.maybeEnterStickyTransientFailureMode();\n          if (index === this.currentSubchannelIndex) {\n            this.startNextSubchannelConnecting(index + 1);\n          }\n        }\n        child.subchannel.startConnecting();\n        return;\n      }\n    }\n  }\n  startNextSubchannelConnecting(startIndex) {\n    clearTimeout(this.connectionDelayTimeout);\n    if (this.triedAllSubchannels) {\n      return;\n    }\n    for (const [index, child] of this.children.entries()) {\n      if (index >= startIndex) {\n        const subchannelState = child.subchannel.getConnectivityState();\n        if (subchannelState === connectivity_state_1.ConnectivityState.IDLE || subchannelState === connectivity_state_1.ConnectivityState.CONNECTING) {\n          this.startConnecting(index);\n          return;\n        }\n      }\n    }\n    this.triedAllSubchannels = true;\n    this.maybeEnterStickyTransientFailureMode();\n  }\n  /**\n   * Have a single subchannel in the `subchannels` list start connecting.\n   * @param subchannelIndex The index into the `subchannels` list.\n   */\n  startConnecting(subchannelIndex) {\n    var _a, _b;\n    clearTimeout(this.connectionDelayTimeout);\n    this.currentSubchannelIndex = subchannelIndex;\n    if (this.children[subchannelIndex].subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.IDLE) {\n      trace('Start connecting to subchannel with address ' + this.children[subchannelIndex].subchannel.getAddress());\n      process.nextTick(() => {\n        var _a;\n        (_a = this.children[subchannelIndex]) === null || _a === void 0 ? void 0 : _a.subchannel.startConnecting();\n      });\n    }\n    this.connectionDelayTimeout = (_b = (_a = setTimeout(() => {\n      this.startNextSubchannelConnecting(subchannelIndex + 1);\n    }, CONNECTION_DELAY_INTERVAL_MS)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n  }\n  pickSubchannel(subchannel) {\n    if (this.currentPick && subchannel.realSubchannelEquals(this.currentPick)) {\n      return;\n    }\n    trace('Pick subchannel with address ' + subchannel.getAddress());\n    this.stickyTransientFailureMode = false;\n    if (this.currentPick !== null) {\n      this.currentPick.unref();\n      this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef());\n      this.currentPick.removeConnectivityStateListener(this.subchannelStateListener);\n    }\n    this.currentPick = subchannel;\n    subchannel.ref();\n    this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n    this.resetSubchannelList();\n    clearTimeout(this.connectionDelayTimeout);\n    this.calculateAndReportNewState();\n  }\n  updateState(newState, picker) {\n    trace(connectivity_state_1.ConnectivityState[this.currentState] + ' -> ' + connectivity_state_1.ConnectivityState[newState]);\n    this.currentState = newState;\n    this.channelControlHelper.updateState(newState, picker);\n  }\n  resetSubchannelList() {\n    for (const child of this.children) {\n      if (!(this.currentPick && child.subchannel.realSubchannelEquals(this.currentPick))) {\n        /* The connectivity state listener is the same whether the subchannel\n         * is in the list of children or it is the currentPick, so if it is in\n         * both, removing it here would cause problems. In particular, that\n         * always happens immediately after the subchannel is picked. */\n        child.subchannel.removeConnectivityStateListener(this.subchannelStateListener);\n      }\n      /* Refs are counted independently for the children list and the\n       * currentPick, so we call unref whether or not the child is the\n       * currentPick. Channelz child references are also refcounted, so\n       * removeChannelzChild can be handled the same way. */\n      child.subchannel.unref();\n      this.channelControlHelper.removeChannelzChild(child.subchannel.getChannelzRef());\n    }\n    this.currentSubchannelIndex = 0;\n    this.children = [];\n    this.triedAllSubchannels = false;\n    this.requestedResolutionSinceLastUpdate = false;\n  }\n  connectToAddressList(addressList) {\n    const newChildrenList = addressList.map(address => ({\n      subchannel: this.channelControlHelper.createSubchannel(address, {}),\n      hasReportedTransientFailure: false\n    }));\n    /* Ref each subchannel before resetting the list, to ensure that\n     * subchannels shared between the list don't drop to 0 refs during the\n     * transition. */\n    for (const {\n      subchannel\n    } of newChildrenList) {\n      subchannel.ref();\n      this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n    }\n    this.resetSubchannelList();\n    this.children = newChildrenList;\n    for (const {\n      subchannel\n    } of this.children) {\n      subchannel.addConnectivityStateListener(this.subchannelStateListener);\n      if (subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.READY) {\n        this.pickSubchannel(subchannel);\n        return;\n      }\n    }\n    for (const child of this.children) {\n      if (child.subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n        child.hasReportedTransientFailure = true;\n      }\n    }\n    this.startNextSubchannelConnecting(0);\n    this.calculateAndReportNewState();\n  }\n  updateAddressList(addressList, lbConfig) {\n    if (!(lbConfig instanceof PickFirstLoadBalancingConfig)) {\n      return;\n    }\n    /* Previously, an update would be discarded if it was identical to the\n     * previous update, to minimize churn. Now the DNS resolver is\n     * rate-limited, so that is less of a concern. */\n    if (lbConfig.getShuffleAddressList()) {\n      addressList = shuffled(addressList);\n    }\n    this.latestAddressList = addressList;\n    this.connectToAddressList(addressList);\n  }\n  exitIdle() {\n    if (this.currentState === connectivity_state_1.ConnectivityState.IDLE && this.latestAddressList) {\n      this.connectToAddressList(this.latestAddressList);\n    }\n  }\n  resetBackoff() {\n    /* The pick first load balancer does not have a connection backoff, so this\n     * does nothing */\n  }\n  destroy() {\n    this.resetSubchannelList();\n    this.removeCurrentPick();\n  }\n  getTypeName() {\n    return TYPE_NAME;\n  }\n}\nexports.PickFirstLoadBalancer = PickFirstLoadBalancer;\nfunction setup() {\n  (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, PickFirstLoadBalancer, PickFirstLoadBalancingConfig);\n  (0, load_balancer_1.registerDefaultLoadBalancerType)(TYPE_NAME);\n}\nexports.setup = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1waWNrLWZpcnN0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGFBQWEsR0FBR0EsNkJBQTZCLEdBQUdBLGdCQUFnQixHQUFHQSxvQ0FBb0MsR0FBRyxLQUFLLENBQUM7QUFDaEgsTUFBTU0sZUFBZSxHQUFHQyxtQkFBTyxDQUFDLHNGQUFpQixDQUFDO0FBQ2xELE1BQU1DLG9CQUFvQixHQUFHRCxtQkFBTyxDQUFDLGdHQUFzQixDQUFDO0FBQzVELE1BQU1FLFFBQVEsR0FBR0YsbUJBQU8sQ0FBQyx3RUFBVSxDQUFDO0FBQ3BDLE1BQU1HLE9BQU8sR0FBR0gsbUJBQU8sQ0FBQywwRUFBVyxDQUFDO0FBQ3BDLE1BQU1JLFdBQVcsR0FBR0osbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1LLFdBQVcsR0FBRyxZQUFZO0FBQ2hDLFNBQVNDLEtBQUtBLENBQUNDLElBQUksRUFBRTtFQUNqQkosT0FBTyxDQUFDRyxLQUFLLENBQUNGLFdBQVcsQ0FBQ0ksWUFBWSxDQUFDQyxLQUFLLEVBQUVKLFdBQVcsRUFBRUUsSUFBSSxDQUFDO0FBQ3BFO0FBQ0EsTUFBTUcsU0FBUyxHQUFHLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyw0QkFBNEIsR0FBRyxHQUFHO0FBQ3hDLE1BQU1iLDRCQUE0QixDQUFDO0VBQy9CYyxXQUFXQSxDQUFDQyxrQkFBa0IsRUFBRTtJQUM1QixJQUFJLENBQUNBLGtCQUFrQixHQUFHQSxrQkFBa0I7RUFDaEQ7RUFDQUMsbUJBQW1CQSxDQUFBLEVBQUc7SUFDbEIsT0FBT0osU0FBUztFQUNwQjtFQUNBSyxZQUFZQSxDQUFBLEVBQUc7SUFDWCxPQUFPO01BQ0gsQ0FBQ0wsU0FBUyxHQUFHO1FBQ1RHLGtCQUFrQixFQUFFLElBQUksQ0FBQ0E7TUFDN0I7SUFDSixDQUFDO0VBQ0w7RUFDQUcscUJBQXFCQSxDQUFBLEVBQUc7SUFDcEIsT0FBTyxJQUFJLENBQUNILGtCQUFrQjtFQUNsQztFQUNBO0VBQ0EsT0FBT0ksY0FBY0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ3ZCLElBQUksb0JBQW9CLElBQUlBLEdBQUcsSUFDM0IsRUFBRSxPQUFPQSxHQUFHLENBQUNMLGtCQUFrQixLQUFLLFNBQVMsQ0FBQyxFQUFFO01BQ2hELE1BQU0sSUFBSU0sS0FBSyxDQUFDLDBFQUEwRSxDQUFDO0lBQy9GO0lBQ0EsT0FBTyxJQUFJckIsNEJBQTRCLENBQUNvQixHQUFHLENBQUNMLGtCQUFrQixLQUFLLElBQUksQ0FBQztFQUM1RTtBQUNKO0FBQ0FwQixvQ0FBb0MsR0FBR0ssNEJBQTRCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTXNCLGVBQWUsQ0FBQztFQUNsQlIsV0FBV0EsQ0FBQ1MsVUFBVSxFQUFFO0lBQ3BCLElBQUksQ0FBQ0EsVUFBVSxHQUFHQSxVQUFVO0VBQ2hDO0VBQ0FDLElBQUlBLENBQUNDLFFBQVEsRUFBRTtJQUNYLE9BQU87TUFDSEMsY0FBYyxFQUFFdEIsUUFBUSxDQUFDdUIsY0FBYyxDQUFDQyxRQUFRO01BQ2hETCxVQUFVLEVBQUUsSUFBSSxDQUFDQSxVQUFVO01BQzNCTSxNQUFNLEVBQUUsSUFBSTtNQUNaQyxhQUFhLEVBQUUsSUFBSTtNQUNuQkMsV0FBVyxFQUFFO0lBQ2pCLENBQUM7RUFDTDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNoQyxRQUFRQSxDQUFDaUMsSUFBSSxFQUFFO0VBQ3BCLE1BQU1DLE1BQU0sR0FBR0QsSUFBSSxDQUFDRSxLQUFLLENBQUMsQ0FBQztFQUMzQixLQUFLLElBQUlDLENBQUMsR0FBR0YsTUFBTSxDQUFDRyxNQUFNLEdBQUcsQ0FBQyxFQUFFRCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEVBQUUsRUFBRTtJQUN4QyxNQUFNRSxDQUFDLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLElBQUlMLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM3QyxNQUFNTSxJQUFJLEdBQUdSLE1BQU0sQ0FBQ0UsQ0FBQyxDQUFDO0lBQ3RCRixNQUFNLENBQUNFLENBQUMsQ0FBQyxHQUFHRixNQUFNLENBQUNJLENBQUMsQ0FBQztJQUNyQkosTUFBTSxDQUFDSSxDQUFDLENBQUMsR0FBR0ksSUFBSTtFQUNwQjtFQUNBLE9BQU9SLE1BQU07QUFDakI7QUFDQXRDLGdCQUFnQixHQUFHSSxRQUFRO0FBQzNCLE1BQU1ELHFCQUFxQixDQUFDO0VBQ3hCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lnQixXQUFXQSxDQUFDNEIsb0JBQW9CLEVBQUU7SUFDOUIsSUFBSSxDQUFDQSxvQkFBb0IsR0FBR0Esb0JBQW9CO0lBQ2hEO0FBQ1I7QUFDQTtBQUNBO0lBQ1EsSUFBSSxDQUFDQyxRQUFRLEdBQUcsRUFBRTtJQUNsQjtBQUNSO0FBQ0E7SUFDUSxJQUFJLENBQUNDLFlBQVksR0FBR3pDLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUNDLElBQUk7SUFDL0Q7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNDLHNCQUFzQixHQUFHLENBQUM7SUFDL0I7QUFDUjtBQUNBO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUk7SUFDdkI7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNDLHVCQUF1QixHQUFHLENBQUMxQixVQUFVLEVBQUUyQixhQUFhLEVBQUVDLFFBQVEsRUFBRUMsYUFBYSxFQUFFQyxZQUFZLEtBQUs7TUFDakcsSUFBSSxDQUFDQyx1QkFBdUIsQ0FBQy9CLFVBQVUsRUFBRTJCLGFBQWEsRUFBRUMsUUFBUSxFQUFFRSxZQUFZLENBQUM7SUFDbkYsQ0FBQztJQUNELElBQUksQ0FBQ0UsbUJBQW1CLEdBQUcsS0FBSztJQUNoQztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNDLDBCQUEwQixHQUFHLEtBQUs7SUFDdkM7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNDLGtDQUFrQyxHQUFHLEtBQUs7SUFDL0M7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNDLFNBQVMsR0FBRyxJQUFJO0lBQ3JCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsSUFBSTtJQUM3QixJQUFJLENBQUNDLHNCQUFzQixHQUFHQyxVQUFVLENBQUMsTUFBTSxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdERDLFlBQVksQ0FBQyxJQUFJLENBQUNGLHNCQUFzQixDQUFDO0VBQzdDO0VBQ0FHLHlCQUF5QkEsQ0FBQSxFQUFHO0lBQ3hCLE9BQU8sSUFBSSxDQUFDcEIsUUFBUSxDQUFDcUIsS0FBSyxDQUFDQyxLQUFLLElBQUlBLEtBQUssQ0FBQ0MsMkJBQTJCLENBQUM7RUFDMUU7RUFDQUMsMEJBQTBCQSxDQUFBLEVBQUc7SUFDekIsSUFBSSxJQUFJLENBQUNuQixXQUFXLEVBQUU7TUFDbEIsSUFBSSxDQUFDb0IsV0FBVyxDQUFDakUsb0JBQW9CLENBQUMwQyxpQkFBaUIsQ0FBQ3dCLEtBQUssRUFBRSxJQUFJL0MsZUFBZSxDQUFDLElBQUksQ0FBQzBCLFdBQVcsQ0FBQyxDQUFDO0lBQ3pHLENBQUMsTUFDSSxJQUFJLElBQUksQ0FBQ0wsUUFBUSxDQUFDUCxNQUFNLEtBQUssQ0FBQyxFQUFFO01BQ2pDLElBQUksQ0FBQ2dDLFdBQVcsQ0FBQ2pFLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUNDLElBQUksRUFBRSxJQUFJMUMsUUFBUSxDQUFDa0UsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pHLENBQUMsTUFDSTtNQUNELElBQUksSUFBSSxDQUFDZCwwQkFBMEIsRUFBRTtRQUNqQyxJQUFJLENBQUNZLFdBQVcsQ0FBQ2pFLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUMwQixpQkFBaUIsRUFBRSxJQUFJbkUsUUFBUSxDQUFDb0UsaUJBQWlCLENBQUM7VUFBRUMsT0FBTyxFQUFHLDBDQUF5QyxJQUFJLENBQUNmLFNBQVU7UUFBRSxDQUFDLENBQUMsQ0FBQztNQUN2TCxDQUFDLE1BQ0k7UUFDRCxJQUFJLENBQUNVLFdBQVcsQ0FBQ2pFLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUM2QixVQUFVLEVBQUUsSUFBSXRFLFFBQVEsQ0FBQ2tFLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztNQUN2RztJQUNKO0VBQ0o7RUFDQUssbUJBQW1CQSxDQUFBLEVBQUc7SUFDbEIsSUFBSSxDQUFDbEIsa0NBQWtDLEdBQUcsSUFBSTtJQUM5QyxJQUFJLENBQUNmLG9CQUFvQixDQUFDaUMsbUJBQW1CLENBQUMsQ0FBQztFQUNuRDtFQUNBQyxvQ0FBb0NBLENBQUEsRUFBRztJQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDYix5QkFBeUIsQ0FBQyxDQUFDLEVBQUU7TUFDbkM7SUFDSjtJQUNBLElBQUksQ0FBQyxJQUFJLENBQUNOLGtDQUFrQyxFQUFFO01BQzFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtNQUNZLElBQUksQ0FBQ2tCLG1CQUFtQixDQUFDLENBQUM7SUFDOUI7SUFDQSxJQUFJLElBQUksQ0FBQ25CLDBCQUEwQixFQUFFO01BQ2pDO0lBQ0o7SUFDQSxJQUFJLENBQUNBLDBCQUEwQixHQUFHLElBQUk7SUFDdEMsS0FBSyxNQUFNO01BQUVqQztJQUFXLENBQUMsSUFBSSxJQUFJLENBQUNvQixRQUFRLEVBQUU7TUFDeENwQixVQUFVLENBQUNzRCxlQUFlLENBQUMsQ0FBQztJQUNoQztJQUNBLElBQUksQ0FBQ1YsMEJBQTBCLENBQUMsQ0FBQztFQUNyQztFQUNBVyxpQkFBaUJBLENBQUEsRUFBRztJQUNoQixJQUFJLElBQUksQ0FBQzlCLFdBQVcsS0FBSyxJQUFJLEVBQUU7TUFDM0I7QUFDWjtBQUNBO01BQ1ksTUFBTUEsV0FBVyxHQUFHLElBQUksQ0FBQ0EsV0FBVztNQUNwQyxJQUFJLENBQUNBLFdBQVcsR0FBRyxJQUFJO01BQ3ZCQSxXQUFXLENBQUMrQixLQUFLLENBQUMsQ0FBQztNQUNuQi9CLFdBQVcsQ0FBQ2dDLCtCQUErQixDQUFDLElBQUksQ0FBQy9CLHVCQUF1QixDQUFDO01BQ3pFLElBQUksQ0FBQ1Asb0JBQW9CLENBQUN1QyxtQkFBbUIsQ0FBQ2pDLFdBQVcsQ0FBQ2tDLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFDL0U7RUFDSjtFQUNBNUIsdUJBQXVCQSxDQUFDL0IsVUFBVSxFQUFFMkIsYUFBYSxFQUFFQyxRQUFRLEVBQUVFLFlBQVksRUFBRTtJQUN2RSxJQUFJOEIsRUFBRTtJQUNOLElBQUksQ0FBQ0EsRUFBRSxHQUFHLElBQUksQ0FBQ25DLFdBQVcsTUFBTSxJQUFJLElBQUltQyxFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLEVBQUUsQ0FBQ0Msb0JBQW9CLENBQUM3RCxVQUFVLENBQUMsRUFBRTtNQUNsRyxJQUFJNEIsUUFBUSxLQUFLaEQsb0JBQW9CLENBQUMwQyxpQkFBaUIsQ0FBQ3dCLEtBQUssRUFBRTtRQUMzRCxJQUFJLENBQUNTLGlCQUFpQixDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDWCwwQkFBMEIsQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQ1EsbUJBQW1CLENBQUMsQ0FBQztNQUM5QjtNQUNBO0lBQ0o7SUFDQSxLQUFLLE1BQU0sQ0FBQ1UsS0FBSyxFQUFFcEIsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDdEIsUUFBUSxDQUFDMkMsT0FBTyxDQUFDLENBQUMsRUFBRTtNQUNsRCxJQUFJL0QsVUFBVSxDQUFDNkQsb0JBQW9CLENBQUNuQixLQUFLLENBQUMxQyxVQUFVLENBQUMsRUFBRTtRQUNuRCxJQUFJNEIsUUFBUSxLQUFLaEQsb0JBQW9CLENBQUMwQyxpQkFBaUIsQ0FBQ3dCLEtBQUssRUFBRTtVQUMzRCxJQUFJLENBQUNrQixjQUFjLENBQUN0QixLQUFLLENBQUMxQyxVQUFVLENBQUM7UUFDekM7UUFDQSxJQUFJNEIsUUFBUSxLQUFLaEQsb0JBQW9CLENBQUMwQyxpQkFBaUIsQ0FBQzBCLGlCQUFpQixFQUFFO1VBQ3ZFTixLQUFLLENBQUNDLDJCQUEyQixHQUFHLElBQUk7VUFDeEMsSUFBSWIsWUFBWSxFQUFFO1lBQ2QsSUFBSSxDQUFDSyxTQUFTLEdBQUdMLFlBQVk7VUFDakM7VUFDQSxJQUFJLENBQUN1QixvQ0FBb0MsQ0FBQyxDQUFDO1VBQzNDLElBQUlTLEtBQUssS0FBSyxJQUFJLENBQUN0QyxzQkFBc0IsRUFBRTtZQUN2QyxJQUFJLENBQUN5Qyw2QkFBNkIsQ0FBQ0gsS0FBSyxHQUFHLENBQUMsQ0FBQztVQUNqRDtRQUNKO1FBQ0FwQixLQUFLLENBQUMxQyxVQUFVLENBQUNzRCxlQUFlLENBQUMsQ0FBQztRQUNsQztNQUNKO0lBQ0o7RUFDSjtFQUNBVyw2QkFBNkJBLENBQUNDLFVBQVUsRUFBRTtJQUN0QzNCLFlBQVksQ0FBQyxJQUFJLENBQUNGLHNCQUFzQixDQUFDO0lBQ3pDLElBQUksSUFBSSxDQUFDTCxtQkFBbUIsRUFBRTtNQUMxQjtJQUNKO0lBQ0EsS0FBSyxNQUFNLENBQUM4QixLQUFLLEVBQUVwQixLQUFLLENBQUMsSUFBSSxJQUFJLENBQUN0QixRQUFRLENBQUMyQyxPQUFPLENBQUMsQ0FBQyxFQUFFO01BQ2xELElBQUlELEtBQUssSUFBSUksVUFBVSxFQUFFO1FBQ3JCLE1BQU1DLGVBQWUsR0FBR3pCLEtBQUssQ0FBQzFDLFVBQVUsQ0FBQ29FLG9CQUFvQixDQUFDLENBQUM7UUFDL0QsSUFBSUQsZUFBZSxLQUFLdkYsb0JBQW9CLENBQUMwQyxpQkFBaUIsQ0FBQ0MsSUFBSSxJQUMvRDRDLGVBQWUsS0FBS3ZGLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUM2QixVQUFVLEVBQUU7VUFDdkUsSUFBSSxDQUFDRyxlQUFlLENBQUNRLEtBQUssQ0FBQztVQUMzQjtRQUNKO01BQ0o7SUFDSjtJQUNBLElBQUksQ0FBQzlCLG1CQUFtQixHQUFHLElBQUk7SUFDL0IsSUFBSSxDQUFDcUIsb0NBQW9DLENBQUMsQ0FBQztFQUMvQztFQUNBO0FBQ0o7QUFDQTtBQUNBO0VBQ0lDLGVBQWVBLENBQUNlLGVBQWUsRUFBRTtJQUM3QixJQUFJVCxFQUFFLEVBQUVVLEVBQUU7SUFDVi9CLFlBQVksQ0FBQyxJQUFJLENBQUNGLHNCQUFzQixDQUFDO0lBQ3pDLElBQUksQ0FBQ2Isc0JBQXNCLEdBQUc2QyxlQUFlO0lBQzdDLElBQUksSUFBSSxDQUFDakQsUUFBUSxDQUFDaUQsZUFBZSxDQUFDLENBQUNyRSxVQUFVLENBQUNvRSxvQkFBb0IsQ0FBQyxDQUFDLEtBQ2hFeEYsb0JBQW9CLENBQUMwQyxpQkFBaUIsQ0FBQ0MsSUFBSSxFQUFFO01BQzdDdEMsS0FBSyxDQUFDLDhDQUE4QyxHQUNoRCxJQUFJLENBQUNtQyxRQUFRLENBQUNpRCxlQUFlLENBQUMsQ0FBQ3JFLFVBQVUsQ0FBQ3VFLFVBQVUsQ0FBQyxDQUFDLENBQUM7TUFDM0RDLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLE1BQU07UUFDbkIsSUFBSWIsRUFBRTtRQUNOLENBQUNBLEVBQUUsR0FBRyxJQUFJLENBQUN4QyxRQUFRLENBQUNpRCxlQUFlLENBQUMsTUFBTSxJQUFJLElBQUlULEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDNUQsVUFBVSxDQUFDc0QsZUFBZSxDQUFDLENBQUM7TUFDOUcsQ0FBQyxDQUFDO0lBQ047SUFDQSxJQUFJLENBQUNqQixzQkFBc0IsR0FBRyxDQUFDaUMsRUFBRSxHQUFHLENBQUNWLEVBQUUsR0FBR3RCLFVBQVUsQ0FBQyxNQUFNO01BQ3ZELElBQUksQ0FBQzJCLDZCQUE2QixDQUFDSSxlQUFlLEdBQUcsQ0FBQyxDQUFDO0lBQzNELENBQUMsRUFBRS9FLDRCQUE0QixDQUFDLEVBQUVrRSxLQUFLLE1BQU0sSUFBSSxJQUFJYyxFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLEVBQUUsQ0FBQ0ksSUFBSSxDQUFDZCxFQUFFLENBQUM7RUFDN0Y7RUFDQUksY0FBY0EsQ0FBQ2hFLFVBQVUsRUFBRTtJQUN2QixJQUFJLElBQUksQ0FBQ3lCLFdBQVcsSUFBSXpCLFVBQVUsQ0FBQzZELG9CQUFvQixDQUFDLElBQUksQ0FBQ3BDLFdBQVcsQ0FBQyxFQUFFO01BQ3ZFO0lBQ0o7SUFDQXhDLEtBQUssQ0FBQywrQkFBK0IsR0FBR2UsVUFBVSxDQUFDdUUsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUNoRSxJQUFJLENBQUN0QywwQkFBMEIsR0FBRyxLQUFLO0lBQ3ZDLElBQUksSUFBSSxDQUFDUixXQUFXLEtBQUssSUFBSSxFQUFFO01BQzNCLElBQUksQ0FBQ0EsV0FBVyxDQUFDK0IsS0FBSyxDQUFDLENBQUM7TUFDeEIsSUFBSSxDQUFDckMsb0JBQW9CLENBQUN1QyxtQkFBbUIsQ0FBQyxJQUFJLENBQUNqQyxXQUFXLENBQUNrQyxjQUFjLENBQUMsQ0FBQyxDQUFDO01BQ2hGLElBQUksQ0FBQ2xDLFdBQVcsQ0FBQ2dDLCtCQUErQixDQUFDLElBQUksQ0FBQy9CLHVCQUF1QixDQUFDO0lBQ2xGO0lBQ0EsSUFBSSxDQUFDRCxXQUFXLEdBQUd6QixVQUFVO0lBQzdCQSxVQUFVLENBQUMyRSxHQUFHLENBQUMsQ0FBQztJQUNoQixJQUFJLENBQUN4RCxvQkFBb0IsQ0FBQ3lELGdCQUFnQixDQUFDNUUsVUFBVSxDQUFDMkQsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUN2RSxJQUFJLENBQUNrQixtQkFBbUIsQ0FBQyxDQUFDO0lBQzFCdEMsWUFBWSxDQUFDLElBQUksQ0FBQ0Ysc0JBQXNCLENBQUM7SUFDekMsSUFBSSxDQUFDTywwQkFBMEIsQ0FBQyxDQUFDO0VBQ3JDO0VBQ0FDLFdBQVdBLENBQUNqQixRQUFRLEVBQUVrRCxNQUFNLEVBQUU7SUFDMUI3RixLQUFLLENBQUNMLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUMsSUFBSSxDQUFDRCxZQUFZLENBQUMsR0FDM0QsTUFBTSxHQUNOekMsb0JBQW9CLENBQUMwQyxpQkFBaUIsQ0FBQ00sUUFBUSxDQUFDLENBQUM7SUFDckQsSUFBSSxDQUFDUCxZQUFZLEdBQUdPLFFBQVE7SUFDNUIsSUFBSSxDQUFDVCxvQkFBb0IsQ0FBQzBCLFdBQVcsQ0FBQ2pCLFFBQVEsRUFBRWtELE1BQU0sQ0FBQztFQUMzRDtFQUNBRCxtQkFBbUJBLENBQUEsRUFBRztJQUNsQixLQUFLLE1BQU1uQyxLQUFLLElBQUksSUFBSSxDQUFDdEIsUUFBUSxFQUFFO01BQy9CLElBQUksRUFBRSxJQUFJLENBQUNLLFdBQVcsSUFBSWlCLEtBQUssQ0FBQzFDLFVBQVUsQ0FBQzZELG9CQUFvQixDQUFDLElBQUksQ0FBQ3BDLFdBQVcsQ0FBQyxDQUFDLEVBQUU7UUFDaEY7QUFDaEI7QUFDQTtBQUNBO1FBQ2dCaUIsS0FBSyxDQUFDMUMsVUFBVSxDQUFDeUQsK0JBQStCLENBQUMsSUFBSSxDQUFDL0IsdUJBQXVCLENBQUM7TUFDbEY7TUFDQTtBQUNaO0FBQ0E7QUFDQTtNQUNZZ0IsS0FBSyxDQUFDMUMsVUFBVSxDQUFDd0QsS0FBSyxDQUFDLENBQUM7TUFDeEIsSUFBSSxDQUFDckMsb0JBQW9CLENBQUN1QyxtQkFBbUIsQ0FBQ2hCLEtBQUssQ0FBQzFDLFVBQVUsQ0FBQzJELGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFDcEY7SUFDQSxJQUFJLENBQUNuQyxzQkFBc0IsR0FBRyxDQUFDO0lBQy9CLElBQUksQ0FBQ0osUUFBUSxHQUFHLEVBQUU7SUFDbEIsSUFBSSxDQUFDWSxtQkFBbUIsR0FBRyxLQUFLO0lBQ2hDLElBQUksQ0FBQ0Usa0NBQWtDLEdBQUcsS0FBSztFQUNuRDtFQUNBNkMsb0JBQW9CQSxDQUFDQyxXQUFXLEVBQUU7SUFDOUIsTUFBTUMsZUFBZSxHQUFHRCxXQUFXLENBQUNFLEdBQUcsQ0FBQ0MsT0FBTyxLQUFLO01BQ2hEbkYsVUFBVSxFQUFFLElBQUksQ0FBQ21CLG9CQUFvQixDQUFDaUUsZ0JBQWdCLENBQUNELE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztNQUNuRXhDLDJCQUEyQixFQUFFO0lBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBQ0g7QUFDUjtBQUNBO0lBQ1EsS0FBSyxNQUFNO01BQUUzQztJQUFXLENBQUMsSUFBSWlGLGVBQWUsRUFBRTtNQUMxQ2pGLFVBQVUsQ0FBQzJFLEdBQUcsQ0FBQyxDQUFDO01BQ2hCLElBQUksQ0FBQ3hELG9CQUFvQixDQUFDeUQsZ0JBQWdCLENBQUM1RSxVQUFVLENBQUMyRCxjQUFjLENBQUMsQ0FBQyxDQUFDO0lBQzNFO0lBQ0EsSUFBSSxDQUFDa0IsbUJBQW1CLENBQUMsQ0FBQztJQUMxQixJQUFJLENBQUN6RCxRQUFRLEdBQUc2RCxlQUFlO0lBQy9CLEtBQUssTUFBTTtNQUFFakY7SUFBVyxDQUFDLElBQUksSUFBSSxDQUFDb0IsUUFBUSxFQUFFO01BQ3hDcEIsVUFBVSxDQUFDcUYsNEJBQTRCLENBQUMsSUFBSSxDQUFDM0QsdUJBQXVCLENBQUM7TUFDckUsSUFBSTFCLFVBQVUsQ0FBQ29FLG9CQUFvQixDQUFDLENBQUMsS0FBS3hGLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUN3QixLQUFLLEVBQUU7UUFDcEYsSUFBSSxDQUFDa0IsY0FBYyxDQUFDaEUsVUFBVSxDQUFDO1FBQy9CO01BQ0o7SUFDSjtJQUNBLEtBQUssTUFBTTBDLEtBQUssSUFBSSxJQUFJLENBQUN0QixRQUFRLEVBQUU7TUFDL0IsSUFBSXNCLEtBQUssQ0FBQzFDLFVBQVUsQ0FBQ29FLG9CQUFvQixDQUFDLENBQUMsS0FDdkN4RixvQkFBb0IsQ0FBQzBDLGlCQUFpQixDQUFDMEIsaUJBQWlCLEVBQUU7UUFDMUROLEtBQUssQ0FBQ0MsMkJBQTJCLEdBQUcsSUFBSTtNQUM1QztJQUNKO0lBQ0EsSUFBSSxDQUFDc0IsNkJBQTZCLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLElBQUksQ0FBQ3JCLDBCQUEwQixDQUFDLENBQUM7RUFDckM7RUFDQTBDLGlCQUFpQkEsQ0FBQ04sV0FBVyxFQUFFTyxRQUFRLEVBQUU7SUFDckMsSUFBSSxFQUFFQSxRQUFRLFlBQVk5Ryw0QkFBNEIsQ0FBQyxFQUFFO01BQ3JEO0lBQ0o7SUFDQTtBQUNSO0FBQ0E7SUFDUSxJQUFJOEcsUUFBUSxDQUFDNUYscUJBQXFCLENBQUMsQ0FBQyxFQUFFO01BQ2xDcUYsV0FBVyxHQUFHeEcsUUFBUSxDQUFDd0csV0FBVyxDQUFDO0lBQ3ZDO0lBQ0EsSUFBSSxDQUFDNUMsaUJBQWlCLEdBQUc0QyxXQUFXO0lBQ3BDLElBQUksQ0FBQ0Qsb0JBQW9CLENBQUNDLFdBQVcsQ0FBQztFQUMxQztFQUNBUSxRQUFRQSxDQUFBLEVBQUc7SUFDUCxJQUFJLElBQUksQ0FBQ25FLFlBQVksS0FBS3pDLG9CQUFvQixDQUFDMEMsaUJBQWlCLENBQUNDLElBQUksSUFBSSxJQUFJLENBQUNhLGlCQUFpQixFQUFFO01BQzdGLElBQUksQ0FBQzJDLG9CQUFvQixDQUFDLElBQUksQ0FBQzNDLGlCQUFpQixDQUFDO0lBQ3JEO0VBQ0o7RUFDQXFELFlBQVlBLENBQUEsRUFBRztJQUNYO0FBQ1I7RUFEUTtFQUdKQyxPQUFPQSxDQUFBLEVBQUc7SUFDTixJQUFJLENBQUNiLG1CQUFtQixDQUFDLENBQUM7SUFDMUIsSUFBSSxDQUFDdEIsaUJBQWlCLENBQUMsQ0FBQztFQUM1QjtFQUNBb0MsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsT0FBT3RHLFNBQVM7RUFDcEI7QUFDSjtBQUNBakIsNkJBQTZCLEdBQUdHLHFCQUFxQjtBQUNyRCxTQUFTRCxLQUFLQSxDQUFBLEVBQUc7RUFDYixDQUFDLENBQUMsRUFBRUksZUFBZSxDQUFDa0gsd0JBQXdCLEVBQUV2RyxTQUFTLEVBQUVkLHFCQUFxQixFQUFFRSw0QkFBNEIsQ0FBQztFQUM3RyxDQUFDLENBQUMsRUFBRUMsZUFBZSxDQUFDbUgsK0JBQStCLEVBQUV4RyxTQUFTLENBQUM7QUFDbkU7QUFDQWpCLGFBQWEsR0FBR0UsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1waWNrLWZpcnN0LmpzPzUzODEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXAgPSBleHBvcnRzLlBpY2tGaXJzdExvYWRCYWxhbmNlciA9IGV4cG9ydHMuc2h1ZmZsZWQgPSBleHBvcnRzLlBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcgPSB2b2lkIDA7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBwaWNrZXJfMSA9IHJlcXVpcmUoXCIuL3BpY2tlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdwaWNrX2ZpcnN0JztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY29uc3QgVFlQRV9OQU1FID0gJ3BpY2tfZmlyc3QnO1xuLyoqXG4gKiBEZWxheSBhZnRlciBzdGFydGluZyBhIGNvbm5lY3Rpb24gb24gYSBzdWJjaGFubmVsIGJlZm9yZSBzdGFydGluZyBhXG4gKiBjb25uZWN0aW9uIG9uIHRoZSBuZXh0IHN1YmNoYW5uZWwgaW4gdGhlIGxpc3QsIGZvciBIYXBweSBFeWViYWxscyBhbGdvcml0aG0uXG4gKi9cbmNvbnN0IENPTk5FQ1RJT05fREVMQVlfSU5URVJWQUxfTVMgPSAyNTA7XG5jbGFzcyBQaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcihzaHVmZmxlQWRkcmVzc0xpc3QpIHtcbiAgICAgICAgdGhpcy5zaHVmZmxlQWRkcmVzc0xpc3QgPSBzaHVmZmxlQWRkcmVzc0xpc3Q7XG4gICAgfVxuICAgIGdldExvYWRCYWxhbmNlck5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxuICAgIHRvSnNvbk9iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtUWVBFX05BTUVdOiB7XG4gICAgICAgICAgICAgICAgc2h1ZmZsZUFkZHJlc3NMaXN0OiB0aGlzLnNodWZmbGVBZGRyZXNzTGlzdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFNodWZmbGVBZGRyZXNzTGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2h1ZmZsZUFkZHJlc3NMaXN0O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHN0YXRpYyBjcmVhdGVGcm9tSnNvbihvYmopIHtcbiAgICAgICAgaWYgKCdzaHVmZmxlQWRkcmVzc0xpc3QnIGluIG9iaiAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqLnNodWZmbGVBZGRyZXNzTGlzdCA9PT0gJ2Jvb2xlYW4nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwaWNrX2ZpcnN0IGNvbmZpZyBmaWVsZCBzaHVmZmxlQWRkcmVzc0xpc3QgbXVzdCBiZSBhIGJvb2xlYW4gaWYgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcob2JqLnNodWZmbGVBZGRyZXNzTGlzdCA9PT0gdHJ1ZSk7XG4gICAgfVxufVxuZXhwb3J0cy5QaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnID0gUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZztcbi8qKlxuICogUGlja2VyIGZvciBhIGBQaWNrRmlyc3RMb2FkQmFsYW5jZXJgIGluIHRoZSBSRUFEWSBzdGF0ZS4gQWx3YXlzIHJldHVybnMgdGhlXG4gKiBwaWNrZWQgc3ViY2hhbm5lbC5cbiAqL1xuY2xhc3MgUGlja0ZpcnN0UGlja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzdWJjaGFubmVsKSB7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbCA9IHN1YmNoYW5uZWw7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURSxcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IHRoaXMuc3ViY2hhbm5lbCxcbiAgICAgICAgICAgIHN0YXR1czogbnVsbCxcbiAgICAgICAgICAgIG9uQ2FsbFN0YXJ0ZWQ6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxFbmRlZDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybiBhIG5ldyBhcnJheSB3aXRoIHRoZSBlbGVtZW50cyBvZiB0aGUgaW5wdXQgYXJyYXkgaW4gYSByYW5kb20gb3JkZXJcbiAqIEBwYXJhbSBsaXN0IFRoZSBpbnB1dCBhcnJheVxuICogQHJldHVybnMgQSBzaHVmZmxlZCBhcnJheSBvZiB0aGUgZWxlbWVudHMgb2YgbGlzdFxuICovXG5mdW5jdGlvbiBzaHVmZmxlZChsaXN0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbGlzdC5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSByZXN1bHQubGVuZ3RoIC0gMTsgaSA+IDE7IGktLSkge1xuICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICAgIGNvbnN0IHRlbXAgPSByZXN1bHRbaV07XG4gICAgICAgIHJlc3VsdFtpXSA9IHJlc3VsdFtqXTtcbiAgICAgICAgcmVzdWx0W2pdID0gdGVtcDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuc2h1ZmZsZWQgPSBzaHVmZmxlZDtcbmNsYXNzIFBpY2tGaXJzdExvYWRCYWxhbmNlciB7XG4gICAgLyoqXG4gICAgICogTG9hZCBiYWxhbmNlciB0aGF0IGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gZWFjaCBiYWNrZW5kIGluIHRoZSBhZGRyZXNzIGxpc3RcbiAgICAgKiBpbiBvcmRlciwgYW5kIHBpY2tzIHRoZSBmaXJzdCBvbmUgdGhhdCBjb25uZWN0cywgdXNpbmcgaXQgZm9yIGV2ZXJ5XG4gICAgICogcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbENvbnRyb2xIZWxwZXIgYENoYW5uZWxDb250cm9sSGVscGVyYCBpbnN0YW5jZSBwcm92aWRlZCBieVxuICAgICAqICAgICB0aGlzIGxvYWQgYmFsYW5jZXIncyBvd25lci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGlzdCBvZiBzdWJjaGFubmVscyB0aGlzIGxvYWQgYmFsYW5jZXIgaXMgY3VycmVudGx5IGF0dGVtcHRpbmcgdG9cbiAgICAgICAgICogY29ubmVjdCB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGNvbm5lY3Rpdml0eSBzdGF0ZSBvZiB0aGUgbG9hZCBiYWxhbmNlci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRleCB3aXRoaW4gdGhlIGBzdWJjaGFubmVsc2AgYXJyYXkgb2YgdGhlIHN1YmNoYW5uZWwgd2l0aCB0aGUgbW9zdFxuICAgICAgICAgKiByZWNlbnRseSBzdGFydGVkIGNvbm5lY3Rpb24gYXR0ZW1wdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN1YmNoYW5uZWxJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IHBpY2tlZCBzdWJjaGFubmVsIHVzZWQgZm9yIG1ha2luZyBjYWxscy4gUG9wdWxhdGVkIGlmXG4gICAgICAgICAqIGFuZCBvbmx5IGlmIHRoZSBsb2FkIGJhbGFuY2VyJ3MgY3VycmVudCBzdGF0ZSBpcyBSRUFEWS4gSW4gdGhhdCBjYXNlLFxuICAgICAgICAgKiB0aGUgc3ViY2hhbm5lbCdzIGN1cnJlbnQgc3RhdGUgaXMgYWxzbyBSRUFEWS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdGVuZXIgY2FsbGJhY2sgYXR0YWNoZWQgdG8gZWFjaCBzdWJjaGFubmVsIGluIHRoZSBgc3ViY2hhbm5lbHNgIGxpc3RcbiAgICAgICAgICogd2hpbGUgZXN0YWJsaXNoaW5nIGEgY29ubmVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblN1YmNoYW5uZWxTdGF0ZVVwZGF0ZShzdWJjaGFubmVsLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmllZEFsbFN1YmNoYW5uZWxzID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgTEIgcG9saWN5IGVudGVycyBzdGlja3kgVFJBTlNJRU5UX0ZBSUxVUkUgbW9kZSB3aGVuIGFsbFxuICAgICAgICAgKiBzdWJjaGFubmVscyBoYXZlIGZhaWxlZCB0byBjb25uZWN0IGF0IGxlYXN0IG9uY2UsIGFuZCBpdCBzdGF5cyBpbiB0aGF0XG4gICAgICAgICAqIG1vZGUgdW50aWwgYSBjb25uZWN0aW9uIGF0dGVtcHQgaXMgc3VjY2Vzc2Z1bC4gV2hpbGUgaW4gc3RpY2t5IFRGIG1vZGUsXG4gICAgICAgICAqIHRoZSBMQiBwb2xpY3kgY29udGludW91c2x5IGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gYWxsIG9mIGl0cyBzdWJjaGFubmVscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHdlIGNhbGxlZCBjaGFubmVsQ29udHJvbEhlbHBlci5yZXF1ZXN0UmVyZXNvbHV0aW9uIHNpbmNlXG4gICAgICAgICAqIHRoZSBsYXN0IGNhbGwgdG8gdXBkYXRlQWRkcmVzc0xpc3RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVxdWVzdGVkUmVzb2x1dGlvblNpbmNlTGFzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vc3QgcmVjZW50IGVycm9yIHJlcG9ydGVkIGJ5IGFueSBzdWJjaGFubmVsIGFzIGl0IHRyYW5zaXRpb25lZCB0b1xuICAgICAgICAgKiBUUkFOU0lFTlRfRkFJTFVSRS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdEVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RBZGRyZXNzTGlzdCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCk7XG4gICAgfVxuICAgIGFsbENoaWxkcmVuSGF2ZVJlcG9ydGVkVEYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmV2ZXJ5KGNoaWxkID0+IGNoaWxkLmhhc1JlcG9ydGVkVHJhbnNpZW50RmFpbHVyZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGljaykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSwgbmV3IFBpY2tGaXJzdFBpY2tlcih0aGlzLmN1cnJlbnRQaWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSwgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKHsgZGV0YWlsczogYE5vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuIExhc3QgZXJyb3I6ICR7dGhpcy5sYXN0RXJyb3J9YCB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVxdWVzdFJlcmVzb2x1dGlvbigpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRSZXNvbHV0aW9uU2luY2VMYXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgfVxuICAgIG1heWJlRW50ZXJTdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFsbENoaWxkcmVuSGF2ZVJlcG9ydGVkVEYoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5yZXF1ZXN0ZWRSZXNvbHV0aW9uU2luY2VMYXN0VXBkYXRlKSB7XG4gICAgICAgICAgICAvKiBFYWNoIHRpbWUgd2UgZ2V0IGFuIHVwZGF0ZSB3ZSByZXNldCBlYWNoIHN1YmNoYW5uZWwnc1xuICAgICAgICAgICAgICogaGFzUmVwb3J0ZWRUcmFuc2llbnRGYWlsdXJlIGZsYWcsIHNvIHRoZSBuZXh0IHRpbWUgd2UgZ2V0IHRvIHRoaXNcbiAgICAgICAgICAgICAqIHBvaW50IGFmdGVyIHRoYXQsIGVhY2ggc3ViY2hhbm5lbCBoYXMgcmVwb3J0ZWQgVFJBTlNJRU5UX0ZBSUxVUkVcbiAgICAgICAgICAgICAqIGF0IGxlYXN0IG9uY2Ugc2luY2UgdGhlbi4gVGhhdCBpcyB0aGUgdHJpZ2dlciBmb3IgcmVxdWVzdGluZ1xuICAgICAgICAgICAgICogcmVyZXNvbHV0aW9uLCB3aGV0aGVyIG9yIG5vdCB0aGUgTEIgcG9saWN5IGlzIGFscmVhZHkgaW4gc3RpY2t5IFRGXG4gICAgICAgICAgICAgKiBtb2RlLiAqL1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB7IHN1YmNoYW5uZWwgfSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzdWJjaGFubmVsLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICB9XG4gICAgcmVtb3ZlQ3VycmVudFBpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvKiBVbnJlZiBjYW4gY2F1c2UgYSBzdGF0ZSBjaGFuZ2UsIHdoaWNoIGNhbiBjYXVzZSBhIGNoYW5nZSBpbiB0aGUgdmFsdWVcbiAgICAgICAgICAgICAqIG9mIHRoaXMuY3VycmVudFBpY2ssIHNvIHdlIGhvbGQgYSBsb2NhbCByZWZlcmVuY2UgdG8gbWFrZSBzdXJlIHRoYXRcbiAgICAgICAgICAgICAqIGRvZXMgbm90IGltcGFjdCB0aGlzIGZ1bmN0aW9uLiAqL1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBpY2sgPSB0aGlzLmN1cnJlbnRQaWNrO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGljayA9IG51bGw7XG4gICAgICAgICAgICBjdXJyZW50UGljay51bnJlZigpO1xuICAgICAgICAgICAgY3VycmVudFBpY2sucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIucmVtb3ZlQ2hhbm5lbHpDaGlsZChjdXJyZW50UGljay5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblN1YmNoYW5uZWxTdGF0ZVVwZGF0ZShzdWJjaGFubmVsLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMuY3VycmVudFBpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWFsU3ViY2hhbm5lbEVxdWFscyhzdWJjaGFubmVsKSkge1xuICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ3VycmVudFBpY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNoaWxkXSBvZiB0aGlzLmNoaWxkcmVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHN1YmNoYW5uZWwucmVhbFN1YmNoYW5uZWxFcXVhbHMoY2hpbGQuc3ViY2hhbm5lbCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGlja1N1YmNoYW5uZWwoY2hpbGQuc3ViY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuaGFzUmVwb3J0ZWRUcmFuc2llbnRGYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXliZUVudGVyU3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmN1cnJlbnRTdWJjaGFubmVsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnROZXh0U3ViY2hhbm5lbENvbm5lY3RpbmcoaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZC5zdWJjaGFubmVsLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydE5leHRTdWJjaGFubmVsQ29ubmVjdGluZyhzdGFydEluZGV4KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgICAgICBpZiAodGhpcy50cmllZEFsbFN1YmNoYW5uZWxzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNoaWxkXSBvZiB0aGlzLmNoaWxkcmVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsU3RhdGUgPSBjaGlsZC5zdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YmNoYW5uZWxTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSB8fFxuICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsU3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydENvbm5lY3RpbmcoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJpZWRBbGxTdWJjaGFubmVscyA9IHRydWU7XG4gICAgICAgIHRoaXMubWF5YmVFbnRlclN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhdmUgYSBzaW5nbGUgc3ViY2hhbm5lbCBpbiB0aGUgYHN1YmNoYW5uZWxzYCBsaXN0IHN0YXJ0IGNvbm5lY3RpbmcuXG4gICAgICogQHBhcmFtIHN1YmNoYW5uZWxJbmRleCBUaGUgaW5kZXggaW50byB0aGUgYHN1YmNoYW5uZWxzYCBsaXN0LlxuICAgICAqL1xuICAgIHN0YXJ0Q29ubmVjdGluZyhzdWJjaGFubmVsSW5kZXgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCk7XG4gICAgICAgIHRoaXMuY3VycmVudFN1YmNoYW5uZWxJbmRleCA9IHN1YmNoYW5uZWxJbmRleDtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5bc3ViY2hhbm5lbEluZGV4XS5zdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09XG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0cmFjZSgnU3RhcnQgY29ubmVjdGluZyB0byBzdWJjaGFubmVsIHdpdGggYWRkcmVzcyAnICtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW3N1YmNoYW5uZWxJbmRleF0uc3ViY2hhbm5lbC5nZXRBZGRyZXNzKCkpO1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuY2hpbGRyZW5bc3ViY2hhbm5lbEluZGV4XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YmNoYW5uZWwuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQgPSAoX2IgPSAoX2EgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnROZXh0U3ViY2hhbm5lbENvbm5lY3Rpbmcoc3ViY2hhbm5lbEluZGV4ICsgMSk7XG4gICAgICAgIH0sIENPTk5FQ1RJT05fREVMQVlfSU5URVJWQUxfTVMpKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH1cbiAgICBwaWNrU3ViY2hhbm5lbChzdWJjaGFubmVsKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrICYmIHN1YmNoYW5uZWwucmVhbFN1YmNoYW5uZWxFcXVhbHModGhpcy5jdXJyZW50UGljaykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnUGljayBzdWJjaGFubmVsIHdpdGggYWRkcmVzcyAnICsgc3ViY2hhbm5lbC5nZXRBZGRyZXNzKCkpO1xuICAgICAgICB0aGlzLnN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQodGhpcy5jdXJyZW50UGljay5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBpY2sucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRQaWNrID0gc3ViY2hhbm5lbDtcbiAgICAgICAgc3ViY2hhbm5lbC5yZWYoKTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5hZGRDaGFubmVsekNoaWxkKHN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uRGVsYXlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRSZXBvcnROZXdTdGF0ZSgpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyKSB7XG4gICAgICAgIHRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY3VycmVudFN0YXRlXSArXG4gICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbbmV3U3RhdGVdKTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyKTtcbiAgICB9XG4gICAgcmVzZXRTdWJjaGFubmVsTGlzdCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLmN1cnJlbnRQaWNrICYmIGNoaWxkLnN1YmNoYW5uZWwucmVhbFN1YmNoYW5uZWxFcXVhbHModGhpcy5jdXJyZW50UGljaykpKSB7XG4gICAgICAgICAgICAgICAgLyogVGhlIGNvbm5lY3Rpdml0eSBzdGF0ZSBsaXN0ZW5lciBpcyB0aGUgc2FtZSB3aGV0aGVyIHRoZSBzdWJjaGFubmVsXG4gICAgICAgICAgICAgICAgICogaXMgaW4gdGhlIGxpc3Qgb2YgY2hpbGRyZW4gb3IgaXQgaXMgdGhlIGN1cnJlbnRQaWNrLCBzbyBpZiBpdCBpcyBpblxuICAgICAgICAgICAgICAgICAqIGJvdGgsIHJlbW92aW5nIGl0IGhlcmUgd291bGQgY2F1c2UgcHJvYmxlbXMuIEluIHBhcnRpY3VsYXIsIHRoYXRcbiAgICAgICAgICAgICAgICAgKiBhbHdheXMgaGFwcGVucyBpbW1lZGlhdGVseSBhZnRlciB0aGUgc3ViY2hhbm5lbCBpcyBwaWNrZWQuICovXG4gICAgICAgICAgICAgICAgY2hpbGQuc3ViY2hhbm5lbC5yZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogUmVmcyBhcmUgY291bnRlZCBpbmRlcGVuZGVudGx5IGZvciB0aGUgY2hpbGRyZW4gbGlzdCBhbmQgdGhlXG4gICAgICAgICAgICAgKiBjdXJyZW50UGljaywgc28gd2UgY2FsbCB1bnJlZiB3aGV0aGVyIG9yIG5vdCB0aGUgY2hpbGQgaXMgdGhlXG4gICAgICAgICAgICAgKiBjdXJyZW50UGljay4gQ2hhbm5lbHogY2hpbGQgcmVmZXJlbmNlcyBhcmUgYWxzbyByZWZjb3VudGVkLCBzb1xuICAgICAgICAgICAgICogcmVtb3ZlQ2hhbm5lbHpDaGlsZCBjYW4gYmUgaGFuZGxlZCB0aGUgc2FtZSB3YXkuICovXG4gICAgICAgICAgICBjaGlsZC5zdWJjaGFubmVsLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQoY2hpbGQuc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJjaGFubmVsSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMudHJpZWRBbGxTdWJjaGFubmVscyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlcXVlc3RlZFJlc29sdXRpb25TaW5jZUxhc3RVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgY29ubmVjdFRvQWRkcmVzc0xpc3QoYWRkcmVzc0xpc3QpIHtcbiAgICAgICAgY29uc3QgbmV3Q2hpbGRyZW5MaXN0ID0gYWRkcmVzc0xpc3QubWFwKGFkZHJlc3MgPT4gKHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIuY3JlYXRlU3ViY2hhbm5lbChhZGRyZXNzLCB7fSksXG4gICAgICAgICAgICBoYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmU6IGZhbHNlLFxuICAgICAgICB9KSk7XG4gICAgICAgIC8qIFJlZiBlYWNoIHN1YmNoYW5uZWwgYmVmb3JlIHJlc2V0dGluZyB0aGUgbGlzdCwgdG8gZW5zdXJlIHRoYXRcbiAgICAgICAgICogc3ViY2hhbm5lbHMgc2hhcmVkIGJldHdlZW4gdGhlIGxpc3QgZG9uJ3QgZHJvcCB0byAwIHJlZnMgZHVyaW5nIHRoZVxuICAgICAgICAgKiB0cmFuc2l0aW9uLiAqL1xuICAgICAgICBmb3IgKGNvbnN0IHsgc3ViY2hhbm5lbCB9IG9mIG5ld0NoaWxkcmVuTGlzdCkge1xuICAgICAgICAgICAgc3ViY2hhbm5lbC5yZWYoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIuYWRkQ2hhbm5lbHpDaGlsZChzdWJjaGFubmVsLmdldENoYW5uZWx6UmVmKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW5MaXN0O1xuICAgICAgICBmb3IgKGNvbnN0IHsgc3ViY2hhbm5lbCB9IG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWwuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIGlmIChzdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waWNrU3ViY2hhbm5lbChzdWJjaGFubmVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PVxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuaGFzUmVwb3J0ZWRUcmFuc2llbnRGYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0TmV4dFN1YmNoYW5uZWxDb25uZWN0aW5nKDApO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCk7XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBsYkNvbmZpZykge1xuICAgICAgICBpZiAoIShsYkNvbmZpZyBpbnN0YW5jZW9mIFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyogUHJldmlvdXNseSwgYW4gdXBkYXRlIHdvdWxkIGJlIGRpc2NhcmRlZCBpZiBpdCB3YXMgaWRlbnRpY2FsIHRvIHRoZVxuICAgICAgICAgKiBwcmV2aW91cyB1cGRhdGUsIHRvIG1pbmltaXplIGNodXJuLiBOb3cgdGhlIEROUyByZXNvbHZlciBpc1xuICAgICAgICAgKiByYXRlLWxpbWl0ZWQsIHNvIHRoYXQgaXMgbGVzcyBvZiBhIGNvbmNlcm4uICovXG4gICAgICAgIGlmIChsYkNvbmZpZy5nZXRTaHVmZmxlQWRkcmVzc0xpc3QoKSkge1xuICAgICAgICAgICAgYWRkcmVzc0xpc3QgPSBzaHVmZmxlZChhZGRyZXNzTGlzdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXRlc3RBZGRyZXNzTGlzdCA9IGFkZHJlc3NMaXN0O1xuICAgICAgICB0aGlzLmNvbm5lY3RUb0FkZHJlc3NMaXN0KGFkZHJlc3NMaXN0KTtcbiAgICB9XG4gICAgZXhpdElkbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSAmJiB0aGlzLmxhdGVzdEFkZHJlc3NMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RUb0FkZHJlc3NMaXN0KHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0QmFja29mZigpIHtcbiAgICAgICAgLyogVGhlIHBpY2sgZmlyc3QgbG9hZCBiYWxhbmNlciBkb2VzIG5vdCBoYXZlIGEgY29ubmVjdGlvbiBiYWNrb2ZmLCBzbyB0aGlzXG4gICAgICAgICAqIGRvZXMgbm90aGluZyAqL1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlc2V0U3ViY2hhbm5lbExpc3QoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVDdXJyZW50UGljaygpO1xuICAgIH1cbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFRZUEVfTkFNRTtcbiAgICB9XG59XG5leHBvcnRzLlBpY2tGaXJzdExvYWRCYWxhbmNlciA9IFBpY2tGaXJzdExvYWRCYWxhbmNlcjtcbmZ1bmN0aW9uIHNldHVwKCkge1xuICAgICgwLCBsb2FkX2JhbGFuY2VyXzEucmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlKShUWVBFX05BTUUsIFBpY2tGaXJzdExvYWRCYWxhbmNlciwgUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyk7XG4gICAgKDAsIGxvYWRfYmFsYW5jZXJfMS5yZWdpc3RlckRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlKShUWVBFX05BTUUpO1xufVxuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC1iYWxhbmNlci1waWNrLWZpcnN0LmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInNldHVwIiwiUGlja0ZpcnN0TG9hZEJhbGFuY2VyIiwic2h1ZmZsZWQiLCJQaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnIiwibG9hZF9iYWxhbmNlcl8xIiwicmVxdWlyZSIsImNvbm5lY3Rpdml0eV9zdGF0ZV8xIiwicGlja2VyXzEiLCJsb2dnaW5nIiwiY29uc3RhbnRzXzEiLCJUUkFDRVJfTkFNRSIsInRyYWNlIiwidGV4dCIsIkxvZ1ZlcmJvc2l0eSIsIkRFQlVHIiwiVFlQRV9OQU1FIiwiQ09OTkVDVElPTl9ERUxBWV9JTlRFUlZBTF9NUyIsImNvbnN0cnVjdG9yIiwic2h1ZmZsZUFkZHJlc3NMaXN0IiwiZ2V0TG9hZEJhbGFuY2VyTmFtZSIsInRvSnNvbk9iamVjdCIsImdldFNodWZmbGVBZGRyZXNzTGlzdCIsImNyZWF0ZUZyb21Kc29uIiwib2JqIiwiRXJyb3IiLCJQaWNrRmlyc3RQaWNrZXIiLCJzdWJjaGFubmVsIiwicGljayIsInBpY2tBcmdzIiwicGlja1Jlc3VsdFR5cGUiLCJQaWNrUmVzdWx0VHlwZSIsIkNPTVBMRVRFIiwic3RhdHVzIiwib25DYWxsU3RhcnRlZCIsIm9uQ2FsbEVuZGVkIiwibGlzdCIsInJlc3VsdCIsInNsaWNlIiwiaSIsImxlbmd0aCIsImoiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0ZW1wIiwiY2hhbm5lbENvbnRyb2xIZWxwZXIiLCJjaGlsZHJlbiIsImN1cnJlbnRTdGF0ZSIsIkNvbm5lY3Rpdml0eVN0YXRlIiwiSURMRSIsImN1cnJlbnRTdWJjaGFubmVsSW5kZXgiLCJjdXJyZW50UGljayIsInN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyIiwicHJldmlvdXNTdGF0ZSIsIm5ld1N0YXRlIiwia2VlcGFsaXZlVGltZSIsImVycm9yTWVzc2FnZSIsIm9uU3ViY2hhbm5lbFN0YXRlVXBkYXRlIiwidHJpZWRBbGxTdWJjaGFubmVscyIsInN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlIiwicmVxdWVzdGVkUmVzb2x1dGlvblNpbmNlTGFzdFVwZGF0ZSIsImxhc3RFcnJvciIsImxhdGVzdEFkZHJlc3NMaXN0IiwiY29ubmVjdGlvbkRlbGF5VGltZW91dCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJhbGxDaGlsZHJlbkhhdmVSZXBvcnRlZFRGIiwiZXZlcnkiLCJjaGlsZCIsImhhc1JlcG9ydGVkVHJhbnNpZW50RmFpbHVyZSIsImNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlIiwidXBkYXRlU3RhdGUiLCJSRUFEWSIsIlF1ZXVlUGlja2VyIiwiVFJBTlNJRU5UX0ZBSUxVUkUiLCJVbmF2YWlsYWJsZVBpY2tlciIsImRldGFpbHMiLCJDT05ORUNUSU5HIiwicmVxdWVzdFJlcmVzb2x1dGlvbiIsIm1heWJlRW50ZXJTdGlja3lUcmFuc2llbnRGYWlsdXJlTW9kZSIsInN0YXJ0Q29ubmVjdGluZyIsInJlbW92ZUN1cnJlbnRQaWNrIiwidW5yZWYiLCJyZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyIiwicmVtb3ZlQ2hhbm5lbHpDaGlsZCIsImdldENoYW5uZWx6UmVmIiwiX2EiLCJyZWFsU3ViY2hhbm5lbEVxdWFscyIsImluZGV4IiwiZW50cmllcyIsInBpY2tTdWJjaGFubmVsIiwic3RhcnROZXh0U3ViY2hhbm5lbENvbm5lY3RpbmciLCJzdGFydEluZGV4Iiwic3ViY2hhbm5lbFN0YXRlIiwiZ2V0Q29ubmVjdGl2aXR5U3RhdGUiLCJzdWJjaGFubmVsSW5kZXgiLCJfYiIsImdldEFkZHJlc3MiLCJwcm9jZXNzIiwibmV4dFRpY2siLCJjYWxsIiwicmVmIiwiYWRkQ2hhbm5lbHpDaGlsZCIsInJlc2V0U3ViY2hhbm5lbExpc3QiLCJwaWNrZXIiLCJjb25uZWN0VG9BZGRyZXNzTGlzdCIsImFkZHJlc3NMaXN0IiwibmV3Q2hpbGRyZW5MaXN0IiwibWFwIiwiYWRkcmVzcyIsImNyZWF0ZVN1YmNoYW5uZWwiLCJhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyIiwidXBkYXRlQWRkcmVzc0xpc3QiLCJsYkNvbmZpZyIsImV4aXRJZGxlIiwicmVzZXRCYWNrb2ZmIiwiZGVzdHJveSIsImdldFR5cGVOYW1lIiwicmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlIiwicmVnaXN0ZXJEZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setup = exports.RoundRobinLoadBalancer = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst TRACER_NAME = 'round_robin';\nfunction trace(text) {\n  logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'round_robin';\nclass RoundRobinLoadBalancingConfig {\n  getLoadBalancerName() {\n    return TYPE_NAME;\n  }\n  constructor() {}\n  toJsonObject() {\n    return {\n      [TYPE_NAME]: {}\n    };\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static createFromJson(obj) {\n    return new RoundRobinLoadBalancingConfig();\n  }\n}\nclass RoundRobinPicker {\n  constructor(subchannelList, nextIndex = 0) {\n    this.subchannelList = subchannelList;\n    this.nextIndex = nextIndex;\n  }\n  pick(pickArgs) {\n    const pickedSubchannel = this.subchannelList[this.nextIndex];\n    this.nextIndex = (this.nextIndex + 1) % this.subchannelList.length;\n    return {\n      pickResultType: picker_1.PickResultType.COMPLETE,\n      subchannel: pickedSubchannel,\n      status: null,\n      onCallStarted: null,\n      onCallEnded: null\n    };\n  }\n  /**\n   * Check what the next subchannel returned would be. Used by the load\n   * balancer implementation to preserve this part of the picker state if\n   * possible when a subchannel connects or disconnects.\n   */\n  peekNextSubchannel() {\n    return this.subchannelList[this.nextIndex];\n  }\n}\nclass RoundRobinLoadBalancer {\n  constructor(channelControlHelper) {\n    this.channelControlHelper = channelControlHelper;\n    this.subchannels = [];\n    this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n    this.currentReadyPicker = null;\n    this.lastError = null;\n    this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime, errorMessage) => {\n      this.calculateAndUpdateState();\n      if (newState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE || newState === connectivity_state_1.ConnectivityState.IDLE) {\n        if (errorMessage) {\n          this.lastError = errorMessage;\n        }\n        this.channelControlHelper.requestReresolution();\n        subchannel.startConnecting();\n      }\n    };\n  }\n  countSubchannelsWithState(state) {\n    return this.subchannels.filter(subchannel => subchannel.getConnectivityState() === state).length;\n  }\n  calculateAndUpdateState() {\n    if (this.countSubchannelsWithState(connectivity_state_1.ConnectivityState.READY) > 0) {\n      const readySubchannels = this.subchannels.filter(subchannel => subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.READY);\n      let index = 0;\n      if (this.currentReadyPicker !== null) {\n        index = readySubchannels.indexOf(this.currentReadyPicker.peekNextSubchannel());\n        if (index < 0) {\n          index = 0;\n        }\n      }\n      this.updateState(connectivity_state_1.ConnectivityState.READY, new RoundRobinPicker(readySubchannels, index));\n    } else if (this.countSubchannelsWithState(connectivity_state_1.ConnectivityState.CONNECTING) > 0) {\n      this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n    } else if (this.countSubchannelsWithState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) > 0) {\n      this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n        details: `No connection established. Last error: ${this.lastError}`\n      }));\n    } else {\n      this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this));\n    }\n  }\n  updateState(newState, picker) {\n    trace(connectivity_state_1.ConnectivityState[this.currentState] + ' -> ' + connectivity_state_1.ConnectivityState[newState]);\n    if (newState === connectivity_state_1.ConnectivityState.READY) {\n      this.currentReadyPicker = picker;\n    } else {\n      this.currentReadyPicker = null;\n    }\n    this.currentState = newState;\n    this.channelControlHelper.updateState(newState, picker);\n  }\n  resetSubchannelList() {\n    for (const subchannel of this.subchannels) {\n      subchannel.removeConnectivityStateListener(this.subchannelStateListener);\n      subchannel.unref();\n      this.channelControlHelper.removeChannelzChild(subchannel.getChannelzRef());\n    }\n    this.subchannels = [];\n  }\n  updateAddressList(addressList, lbConfig) {\n    this.resetSubchannelList();\n    trace('Connect to address list ' + addressList.map(address => (0, subchannel_address_1.subchannelAddressToString)(address)));\n    this.subchannels = addressList.map(address => this.channelControlHelper.createSubchannel(address, {}));\n    for (const subchannel of this.subchannels) {\n      subchannel.ref();\n      subchannel.addConnectivityStateListener(this.subchannelStateListener);\n      this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n      const subchannelState = subchannel.getConnectivityState();\n      if (subchannelState === connectivity_state_1.ConnectivityState.IDLE || subchannelState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n        subchannel.startConnecting();\n      }\n    }\n    this.calculateAndUpdateState();\n  }\n  exitIdle() {\n    for (const subchannel of this.subchannels) {\n      subchannel.startConnecting();\n    }\n  }\n  resetBackoff() {\n    /* The pick first load balancer does not have a connection backoff, so this\n     * does nothing */\n  }\n  destroy() {\n    this.resetSubchannelList();\n  }\n  getTypeName() {\n    return TYPE_NAME;\n  }\n}\nexports.RoundRobinLoadBalancer = RoundRobinLoadBalancer;\nfunction setup() {\n  (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, RoundRobinLoadBalancer, RoundRobinLoadBalancingConfig);\n}\nexports.setup = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1yb3VuZC1yb2Jpbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxhQUFhLEdBQUdBLDhCQUE4QixHQUFHLEtBQUssQ0FBQztBQUN2RCxNQUFNSSxlQUFlLEdBQUdDLG1CQUFPLENBQUMsc0ZBQWlCLENBQUM7QUFDbEQsTUFBTUMsb0JBQW9CLEdBQUdELG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUUsUUFBUSxHQUFHRixtQkFBTyxDQUFDLHdFQUFVLENBQUM7QUFDcEMsTUFBTUcsb0JBQW9CLEdBQUdILG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUksT0FBTyxHQUFHSixtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDcEMsTUFBTUssV0FBVyxHQUFHTCxtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTU0sV0FBVyxHQUFHLGFBQWE7QUFDakMsU0FBU0MsS0FBS0EsQ0FBQ0MsSUFBSSxFQUFFO0VBQ2pCSixPQUFPLENBQUNHLEtBQUssQ0FBQ0YsV0FBVyxDQUFDSSxZQUFZLENBQUNDLEtBQUssRUFBRUosV0FBVyxFQUFFRSxJQUFJLENBQUM7QUFDcEU7QUFDQSxNQUFNRyxTQUFTLEdBQUcsYUFBYTtBQUMvQixNQUFNQyw2QkFBNkIsQ0FBQztFQUNoQ0MsbUJBQW1CQSxDQUFBLEVBQUc7SUFDbEIsT0FBT0YsU0FBUztFQUNwQjtFQUNBRyxXQUFXQSxDQUFBLEVBQUcsQ0FBRTtFQUNoQkMsWUFBWUEsQ0FBQSxFQUFHO0lBQ1gsT0FBTztNQUNILENBQUNKLFNBQVMsR0FBRyxDQUFDO0lBQ2xCLENBQUM7RUFDTDtFQUNBO0VBQ0EsT0FBT0ssY0FBY0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ3ZCLE9BQU8sSUFBSUwsNkJBQTZCLENBQUMsQ0FBQztFQUM5QztBQUNKO0FBQ0EsTUFBTU0sZ0JBQWdCLENBQUM7RUFDbkJKLFdBQVdBLENBQUNLLGNBQWMsRUFBRUMsU0FBUyxHQUFHLENBQUMsRUFBRTtJQUN2QyxJQUFJLENBQUNELGNBQWMsR0FBR0EsY0FBYztJQUNwQyxJQUFJLENBQUNDLFNBQVMsR0FBR0EsU0FBUztFQUM5QjtFQUNBQyxJQUFJQSxDQUFDQyxRQUFRLEVBQUU7SUFDWCxNQUFNQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUNKLGNBQWMsQ0FBQyxJQUFJLENBQUNDLFNBQVMsQ0FBQztJQUM1RCxJQUFJLENBQUNBLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQ0EsU0FBUyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUNELGNBQWMsQ0FBQ0ssTUFBTTtJQUNsRSxPQUFPO01BQ0hDLGNBQWMsRUFBRXZCLFFBQVEsQ0FBQ3dCLGNBQWMsQ0FBQ0MsUUFBUTtNQUNoREMsVUFBVSxFQUFFTCxnQkFBZ0I7TUFDNUJNLE1BQU0sRUFBRSxJQUFJO01BQ1pDLGFBQWEsRUFBRSxJQUFJO01BQ25CQyxXQUFXLEVBQUU7SUFDakIsQ0FBQztFQUNMO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtFQUNJQyxrQkFBa0JBLENBQUEsRUFBRztJQUNqQixPQUFPLElBQUksQ0FBQ2IsY0FBYyxDQUFDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO0VBQzlDO0FBQ0o7QUFDQSxNQUFNdEIsc0JBQXNCLENBQUM7RUFDekJnQixXQUFXQSxDQUFDbUIsb0JBQW9CLEVBQUU7SUFDOUIsSUFBSSxDQUFDQSxvQkFBb0IsR0FBR0Esb0JBQW9CO0lBQ2hELElBQUksQ0FBQ0MsV0FBVyxHQUFHLEVBQUU7SUFDckIsSUFBSSxDQUFDQyxZQUFZLEdBQUdsQyxvQkFBb0IsQ0FBQ21DLGlCQUFpQixDQUFDQyxJQUFJO0lBQy9ELElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsSUFBSTtJQUM5QixJQUFJLENBQUNDLFNBQVMsR0FBRyxJQUFJO0lBQ3JCLElBQUksQ0FBQ0MsdUJBQXVCLEdBQUcsQ0FBQ1osVUFBVSxFQUFFYSxhQUFhLEVBQUVDLFFBQVEsRUFBRUMsYUFBYSxFQUFFQyxZQUFZLEtBQUs7TUFDakcsSUFBSSxDQUFDQyx1QkFBdUIsQ0FBQyxDQUFDO01BQzlCLElBQUlILFFBQVEsS0FBS3pDLG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNVLGlCQUFpQixJQUNyRUosUUFBUSxLQUFLekMsb0JBQW9CLENBQUNtQyxpQkFBaUIsQ0FBQ0MsSUFBSSxFQUFFO1FBQzFELElBQUlPLFlBQVksRUFBRTtVQUNkLElBQUksQ0FBQ0wsU0FBUyxHQUFHSyxZQUFZO1FBQ2pDO1FBQ0EsSUFBSSxDQUFDWCxvQkFBb0IsQ0FBQ2MsbUJBQW1CLENBQUMsQ0FBQztRQUMvQ25CLFVBQVUsQ0FBQ29CLGVBQWUsQ0FBQyxDQUFDO01BQ2hDO0lBQ0osQ0FBQztFQUNMO0VBQ0FDLHlCQUF5QkEsQ0FBQ0MsS0FBSyxFQUFFO0lBQzdCLE9BQU8sSUFBSSxDQUFDaEIsV0FBVyxDQUFDaUIsTUFBTSxDQUFDdkIsVUFBVSxJQUFJQSxVQUFVLENBQUN3QixvQkFBb0IsQ0FBQyxDQUFDLEtBQUtGLEtBQUssQ0FBQyxDQUFDMUIsTUFBTTtFQUNwRztFQUNBcUIsdUJBQXVCQSxDQUFBLEVBQUc7SUFDdEIsSUFBSSxJQUFJLENBQUNJLHlCQUF5QixDQUFDaEQsb0JBQW9CLENBQUNtQyxpQkFBaUIsQ0FBQ2lCLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtNQUNsRixNQUFNQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUNwQixXQUFXLENBQUNpQixNQUFNLENBQUN2QixVQUFVLElBQUlBLFVBQVUsQ0FBQ3dCLG9CQUFvQixDQUFDLENBQUMsS0FBS25ELG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNpQixLQUFLLENBQUM7TUFDbEosSUFBSUUsS0FBSyxHQUFHLENBQUM7TUFDYixJQUFJLElBQUksQ0FBQ2pCLGtCQUFrQixLQUFLLElBQUksRUFBRTtRQUNsQ2lCLEtBQUssR0FBR0QsZ0JBQWdCLENBQUNFLE9BQU8sQ0FBQyxJQUFJLENBQUNsQixrQkFBa0IsQ0FBQ04sa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1FBQzlFLElBQUl1QixLQUFLLEdBQUcsQ0FBQyxFQUFFO1VBQ1hBLEtBQUssR0FBRyxDQUFDO1FBQ2I7TUFDSjtNQUNBLElBQUksQ0FBQ0UsV0FBVyxDQUFDeEQsb0JBQW9CLENBQUNtQyxpQkFBaUIsQ0FBQ2lCLEtBQUssRUFBRSxJQUFJbkMsZ0JBQWdCLENBQUNvQyxnQkFBZ0IsRUFBRUMsS0FBSyxDQUFDLENBQUM7SUFDakgsQ0FBQyxNQUNJLElBQUksSUFBSSxDQUFDTix5QkFBeUIsQ0FBQ2hELG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNzQixVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDNUYsSUFBSSxDQUFDRCxXQUFXLENBQUN4RCxvQkFBb0IsQ0FBQ21DLGlCQUFpQixDQUFDc0IsVUFBVSxFQUFFLElBQUl4RCxRQUFRLENBQUN5RCxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkcsQ0FBQyxNQUNJLElBQUksSUFBSSxDQUFDVix5QkFBeUIsQ0FBQ2hELG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNVLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxFQUFFO01BQ25HLElBQUksQ0FBQ1csV0FBVyxDQUFDeEQsb0JBQW9CLENBQUNtQyxpQkFBaUIsQ0FBQ1UsaUJBQWlCLEVBQUUsSUFBSTVDLFFBQVEsQ0FBQzBELGlCQUFpQixDQUFDO1FBQUVDLE9BQU8sRUFBRywwQ0FBeUMsSUFBSSxDQUFDdEIsU0FBVTtNQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZMLENBQUMsTUFDSTtNQUNELElBQUksQ0FBQ2tCLFdBQVcsQ0FBQ3hELG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNDLElBQUksRUFBRSxJQUFJbkMsUUFBUSxDQUFDeUQsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pHO0VBQ0o7RUFDQUYsV0FBV0EsQ0FBQ2YsUUFBUSxFQUFFb0IsTUFBTSxFQUFFO0lBQzFCdkQsS0FBSyxDQUFDTixvQkFBb0IsQ0FBQ21DLGlCQUFpQixDQUFDLElBQUksQ0FBQ0QsWUFBWSxDQUFDLEdBQzNELE1BQU0sR0FDTmxDLG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNNLFFBQVEsQ0FBQyxDQUFDO0lBQ3JELElBQUlBLFFBQVEsS0FBS3pDLG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNpQixLQUFLLEVBQUU7TUFDM0QsSUFBSSxDQUFDZixrQkFBa0IsR0FBR3dCLE1BQU07SUFDcEMsQ0FBQyxNQUNJO01BQ0QsSUFBSSxDQUFDeEIsa0JBQWtCLEdBQUcsSUFBSTtJQUNsQztJQUNBLElBQUksQ0FBQ0gsWUFBWSxHQUFHTyxRQUFRO0lBQzVCLElBQUksQ0FBQ1Qsb0JBQW9CLENBQUN3QixXQUFXLENBQUNmLFFBQVEsRUFBRW9CLE1BQU0sQ0FBQztFQUMzRDtFQUNBQyxtQkFBbUJBLENBQUEsRUFBRztJQUNsQixLQUFLLE1BQU1uQyxVQUFVLElBQUksSUFBSSxDQUFDTSxXQUFXLEVBQUU7TUFDdkNOLFVBQVUsQ0FBQ29DLCtCQUErQixDQUFDLElBQUksQ0FBQ3hCLHVCQUF1QixDQUFDO01BQ3hFWixVQUFVLENBQUNxQyxLQUFLLENBQUMsQ0FBQztNQUNsQixJQUFJLENBQUNoQyxvQkFBb0IsQ0FBQ2lDLG1CQUFtQixDQUFDdEMsVUFBVSxDQUFDdUMsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUM5RTtJQUNBLElBQUksQ0FBQ2pDLFdBQVcsR0FBRyxFQUFFO0VBQ3pCO0VBQ0FrQyxpQkFBaUJBLENBQUNDLFdBQVcsRUFBRUMsUUFBUSxFQUFFO0lBQ3JDLElBQUksQ0FBQ1AsbUJBQW1CLENBQUMsQ0FBQztJQUMxQnhELEtBQUssQ0FBQywwQkFBMEIsR0FDNUI4RCxXQUFXLENBQUNFLEdBQUcsQ0FBQ0MsT0FBTyxJQUFJLENBQUMsQ0FBQyxFQUFFckUsb0JBQW9CLENBQUNzRSx5QkFBeUIsRUFBRUQsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM3RixJQUFJLENBQUN0QyxXQUFXLEdBQUdtQyxXQUFXLENBQUNFLEdBQUcsQ0FBQ0MsT0FBTyxJQUFJLElBQUksQ0FBQ3ZDLG9CQUFvQixDQUFDeUMsZ0JBQWdCLENBQUNGLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RHLEtBQUssTUFBTTVDLFVBQVUsSUFBSSxJQUFJLENBQUNNLFdBQVcsRUFBRTtNQUN2Q04sVUFBVSxDQUFDK0MsR0FBRyxDQUFDLENBQUM7TUFDaEIvQyxVQUFVLENBQUNnRCw0QkFBNEIsQ0FBQyxJQUFJLENBQUNwQyx1QkFBdUIsQ0FBQztNQUNyRSxJQUFJLENBQUNQLG9CQUFvQixDQUFDNEMsZ0JBQWdCLENBQUNqRCxVQUFVLENBQUN1QyxjQUFjLENBQUMsQ0FBQyxDQUFDO01BQ3ZFLE1BQU1XLGVBQWUsR0FBR2xELFVBQVUsQ0FBQ3dCLG9CQUFvQixDQUFDLENBQUM7TUFDekQsSUFBSTBCLGVBQWUsS0FBSzdFLG9CQUFvQixDQUFDbUMsaUJBQWlCLENBQUNDLElBQUksSUFDL0R5QyxlQUFlLEtBQUs3RSxvQkFBb0IsQ0FBQ21DLGlCQUFpQixDQUFDVSxpQkFBaUIsRUFBRTtRQUM5RWxCLFVBQVUsQ0FBQ29CLGVBQWUsQ0FBQyxDQUFDO01BQ2hDO0lBQ0o7SUFDQSxJQUFJLENBQUNILHVCQUF1QixDQUFDLENBQUM7RUFDbEM7RUFDQWtDLFFBQVFBLENBQUEsRUFBRztJQUNQLEtBQUssTUFBTW5ELFVBQVUsSUFBSSxJQUFJLENBQUNNLFdBQVcsRUFBRTtNQUN2Q04sVUFBVSxDQUFDb0IsZUFBZSxDQUFDLENBQUM7SUFDaEM7RUFDSjtFQUNBZ0MsWUFBWUEsQ0FBQSxFQUFHO0lBQ1g7QUFDUjtFQURRO0VBR0pDLE9BQU9BLENBQUEsRUFBRztJQUNOLElBQUksQ0FBQ2xCLG1CQUFtQixDQUFDLENBQUM7RUFDOUI7RUFDQW1CLFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU92RSxTQUFTO0VBQ3BCO0FBQ0o7QUFDQWhCLDhCQUE4QixHQUFHRyxzQkFBc0I7QUFDdkQsU0FBU0QsS0FBS0EsQ0FBQSxFQUFHO0VBQ2IsQ0FBQyxDQUFDLEVBQUVFLGVBQWUsQ0FBQ29GLHdCQUF3QixFQUFFeEUsU0FBUyxFQUFFYixzQkFBc0IsRUFBRWMsNkJBQTZCLENBQUM7QUFDbkg7QUFDQWpCLGFBQWEsR0FBR0UsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1yb3VuZC1yb2Jpbi5qcz85ZWQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldHVwID0gZXhwb3J0cy5Sb3VuZFJvYmluTG9hZEJhbGFuY2VyID0gdm9pZCAwO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdyb3VuZF9yb2Jpbic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbmNvbnN0IFRZUEVfTkFNRSA9ICdyb3VuZF9yb2Jpbic7XG5jbGFzcyBSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyB7XG4gICAgZ2V0TG9hZEJhbGFuY2VyTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFRZUEVfTkFNRTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICB0b0pzb25PYmplY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbVFlQRV9OQU1FXToge30sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGNyZWF0ZUZyb21Kc29uKG9iaikge1xuICAgICAgICByZXR1cm4gbmV3IFJvdW5kUm9iaW5Mb2FkQmFsYW5jaW5nQ29uZmlnKCk7XG4gICAgfVxufVxuY2xhc3MgUm91bmRSb2JpblBpY2tlciB7XG4gICAgY29uc3RydWN0b3Ioc3ViY2hhbm5lbExpc3QsIG5leHRJbmRleCA9IDApIHtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsTGlzdCA9IHN1YmNoYW5uZWxMaXN0O1xuICAgICAgICB0aGlzLm5leHRJbmRleCA9IG5leHRJbmRleDtcbiAgICB9XG4gICAgcGljayhwaWNrQXJncykge1xuICAgICAgICBjb25zdCBwaWNrZWRTdWJjaGFubmVsID0gdGhpcy5zdWJjaGFubmVsTGlzdFt0aGlzLm5leHRJbmRleF07XG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gKHRoaXMubmV4dEluZGV4ICsgMSkgJSB0aGlzLnN1YmNoYW5uZWxMaXN0Lmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURSxcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IHBpY2tlZFN1YmNoYW5uZWwsXG4gICAgICAgICAgICBzdGF0dXM6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxTdGFydGVkOiBudWxsLFxuICAgICAgICAgICAgb25DYWxsRW5kZWQ6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoYXQgdGhlIG5leHQgc3ViY2hhbm5lbCByZXR1cm5lZCB3b3VsZCBiZS4gVXNlZCBieSB0aGUgbG9hZFxuICAgICAqIGJhbGFuY2VyIGltcGxlbWVudGF0aW9uIHRvIHByZXNlcnZlIHRoaXMgcGFydCBvZiB0aGUgcGlja2VyIHN0YXRlIGlmXG4gICAgICogcG9zc2libGUgd2hlbiBhIHN1YmNoYW5uZWwgY29ubmVjdHMgb3IgZGlzY29ubmVjdHMuXG4gICAgICovXG4gICAgcGVla05leHRTdWJjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJjaGFubmVsTGlzdFt0aGlzLm5leHRJbmRleF07XG4gICAgfVxufVxuY2xhc3MgUm91bmRSb2JpbkxvYWRCYWxhbmNlciB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbENvbnRyb2xIZWxwZXIpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlciA9IGNoYW5uZWxDb250cm9sSGVscGVyO1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWxzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVhZHlQaWNrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRVcGRhdGVTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKG5ld1N0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSB8fFxuICAgICAgICAgICAgICAgIG5ld1N0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RFcnJvciA9IGVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICAgICAgc3ViY2hhbm5lbC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY291bnRTdWJjaGFubmVsc1dpdGhTdGF0ZShzdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJjaGFubmVscy5maWx0ZXIoc3ViY2hhbm5lbCA9PiBzdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09IHN0YXRlKS5sZW5ndGg7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5jb3VudFN1YmNoYW5uZWxzV2l0aFN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWR5U3ViY2hhbm5lbHMgPSB0aGlzLnN1YmNoYW5uZWxzLmZpbHRlcihzdWJjaGFubmVsID0+IHN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZWFkeVBpY2tlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gcmVhZHlTdWJjaGFubmVscy5pbmRleE9mKHRoaXMuY3VycmVudFJlYWR5UGlja2VyLnBlZWtOZXh0U3ViY2hhbm5lbCgpKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZLCBuZXcgUm91bmRSb2JpblBpY2tlcihyZWFkeVN1YmNoYW5uZWxzLCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY291bnRTdWJjaGFubmVsc1dpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORywgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvdW50U3ViY2hhbm5lbHNXaXRoU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpID4gMCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKHsgZGV0YWlsczogYE5vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuIExhc3QgZXJyb3I6ICR7dGhpcy5sYXN0RXJyb3J9YCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlcikge1xuICAgICAgICB0cmFjZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVt0aGlzLmN1cnJlbnRTdGF0ZV0gK1xuICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJlYWR5UGlja2VyID0gcGlja2VyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVhZHlQaWNrZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlcik7XG4gICAgfVxuICAgIHJlc2V0U3ViY2hhbm5lbExpc3QoKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc3ViY2hhbm5lbCBvZiB0aGlzLnN1YmNoYW5uZWxzKSB7XG4gICAgICAgICAgICBzdWJjaGFubmVsLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgICAgICBzdWJjaGFubmVsLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQoc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YmNoYW5uZWxzID0gW107XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBsYkNvbmZpZykge1xuICAgICAgICB0aGlzLnJlc2V0U3ViY2hhbm5lbExpc3QoKTtcbiAgICAgICAgdHJhY2UoJ0Nvbm5lY3QgdG8gYWRkcmVzcyBsaXN0ICcgK1xuICAgICAgICAgICAgYWRkcmVzc0xpc3QubWFwKGFkZHJlc3MgPT4gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpKSk7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbHMgPSBhZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwoYWRkcmVzcywge30pKTtcbiAgICAgICAgZm9yIChjb25zdCBzdWJjaGFubmVsIG9mIHRoaXMuc3ViY2hhbm5lbHMpIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWwucmVmKCk7XG4gICAgICAgICAgICBzdWJjaGFubmVsLmFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLmFkZENoYW5uZWx6Q2hpbGQoc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxTdGF0ZSA9IHN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKTtcbiAgICAgICAgICAgIGlmIChzdWJjaGFubmVsU3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUgfHxcbiAgICAgICAgICAgICAgICBzdWJjaGFubmVsU3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgc3ViY2hhbm5lbC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCk7XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHN1YmNoYW5uZWwgb2YgdGhpcy5zdWJjaGFubmVscykge1xuICAgICAgICAgICAgc3ViY2hhbm5lbC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIC8qIFRoZSBwaWNrIGZpcnN0IGxvYWQgYmFsYW5jZXIgZG9lcyBub3QgaGF2ZSBhIGNvbm5lY3Rpb24gYmFja29mZiwgc28gdGhpc1xuICAgICAgICAgKiBkb2VzIG5vdGhpbmcgKi9cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZXNldFN1YmNoYW5uZWxMaXN0KCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuUm91bmRSb2JpbkxvYWRCYWxhbmNlciA9IFJvdW5kUm9iaW5Mb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FLCBSb3VuZFJvYmluTG9hZEJhbGFuY2VyLCBSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyk7XG59XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLXJvdW5kLXJvYmluLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInNldHVwIiwiUm91bmRSb2JpbkxvYWRCYWxhbmNlciIsImxvYWRfYmFsYW5jZXJfMSIsInJlcXVpcmUiLCJjb25uZWN0aXZpdHlfc3RhdGVfMSIsInBpY2tlcl8xIiwic3ViY2hhbm5lbF9hZGRyZXNzXzEiLCJsb2dnaW5nIiwiY29uc3RhbnRzXzEiLCJUUkFDRVJfTkFNRSIsInRyYWNlIiwidGV4dCIsIkxvZ1ZlcmJvc2l0eSIsIkRFQlVHIiwiVFlQRV9OQU1FIiwiUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWciLCJnZXRMb2FkQmFsYW5jZXJOYW1lIiwiY29uc3RydWN0b3IiLCJ0b0pzb25PYmplY3QiLCJjcmVhdGVGcm9tSnNvbiIsIm9iaiIsIlJvdW5kUm9iaW5QaWNrZXIiLCJzdWJjaGFubmVsTGlzdCIsIm5leHRJbmRleCIsInBpY2siLCJwaWNrQXJncyIsInBpY2tlZFN1YmNoYW5uZWwiLCJsZW5ndGgiLCJwaWNrUmVzdWx0VHlwZSIsIlBpY2tSZXN1bHRUeXBlIiwiQ09NUExFVEUiLCJzdWJjaGFubmVsIiwic3RhdHVzIiwib25DYWxsU3RhcnRlZCIsIm9uQ2FsbEVuZGVkIiwicGVla05leHRTdWJjaGFubmVsIiwiY2hhbm5lbENvbnRyb2xIZWxwZXIiLCJzdWJjaGFubmVscyIsImN1cnJlbnRTdGF0ZSIsIkNvbm5lY3Rpdml0eVN0YXRlIiwiSURMRSIsImN1cnJlbnRSZWFkeVBpY2tlciIsImxhc3RFcnJvciIsInN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyIiwicHJldmlvdXNTdGF0ZSIsIm5ld1N0YXRlIiwia2VlcGFsaXZlVGltZSIsImVycm9yTWVzc2FnZSIsImNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlIiwiVFJBTlNJRU5UX0ZBSUxVUkUiLCJyZXF1ZXN0UmVyZXNvbHV0aW9uIiwic3RhcnRDb25uZWN0aW5nIiwiY291bnRTdWJjaGFubmVsc1dpdGhTdGF0ZSIsInN0YXRlIiwiZmlsdGVyIiwiZ2V0Q29ubmVjdGl2aXR5U3RhdGUiLCJSRUFEWSIsInJlYWR5U3ViY2hhbm5lbHMiLCJpbmRleCIsImluZGV4T2YiLCJ1cGRhdGVTdGF0ZSIsIkNPTk5FQ1RJTkciLCJRdWV1ZVBpY2tlciIsIlVuYXZhaWxhYmxlUGlja2VyIiwiZGV0YWlscyIsInBpY2tlciIsInJlc2V0U3ViY2hhbm5lbExpc3QiLCJyZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyIiwidW5yZWYiLCJyZW1vdmVDaGFubmVsekNoaWxkIiwiZ2V0Q2hhbm5lbHpSZWYiLCJ1cGRhdGVBZGRyZXNzTGlzdCIsImFkZHJlc3NMaXN0IiwibGJDb25maWciLCJtYXAiLCJhZGRyZXNzIiwic3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZyIsImNyZWF0ZVN1YmNoYW5uZWwiLCJyZWYiLCJhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyIiwiYWRkQ2hhbm5lbHpDaGlsZCIsInN1YmNoYW5uZWxTdGF0ZSIsImV4aXRJZGxlIiwicmVzZXRCYWNrb2ZmIiwiZGVzdHJveSIsImdldFR5cGVOYW1lIiwicmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js":
/*!***************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/load-balancer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.validateLoadBalancingConfig = exports.getFirstUsableConfig = exports.isLoadBalancerNameRegistered = exports.createLoadBalancer = exports.registerDefaultLoadBalancerType = exports.registerLoadBalancerType = exports.createChildChannelControlHelper = void 0;\n/**\n * Create a child ChannelControlHelper that overrides some methods of the\n * parent while letting others pass through to the parent unmodified. This\n * allows other code to create these children without needing to know about\n * all of the methods to be passed through.\n * @param parent\n * @param overrides\n */\nfunction createChildChannelControlHelper(parent, overrides) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n  return {\n    createSubchannel: (_b = (_a = overrides.createSubchannel) === null || _a === void 0 ? void 0 : _a.bind(overrides)) !== null && _b !== void 0 ? _b : parent.createSubchannel.bind(parent),\n    updateState: (_d = (_c = overrides.updateState) === null || _c === void 0 ? void 0 : _c.bind(overrides)) !== null && _d !== void 0 ? _d : parent.updateState.bind(parent),\n    requestReresolution: (_f = (_e = overrides.requestReresolution) === null || _e === void 0 ? void 0 : _e.bind(overrides)) !== null && _f !== void 0 ? _f : parent.requestReresolution.bind(parent),\n    addChannelzChild: (_h = (_g = overrides.addChannelzChild) === null || _g === void 0 ? void 0 : _g.bind(overrides)) !== null && _h !== void 0 ? _h : parent.addChannelzChild.bind(parent),\n    removeChannelzChild: (_k = (_j = overrides.removeChannelzChild) === null || _j === void 0 ? void 0 : _j.bind(overrides)) !== null && _k !== void 0 ? _k : parent.removeChannelzChild.bind(parent)\n  };\n}\nexports.createChildChannelControlHelper = createChildChannelControlHelper;\nconst registeredLoadBalancerTypes = {};\nlet defaultLoadBalancerType = null;\nfunction registerLoadBalancerType(typeName, loadBalancerType, loadBalancingConfigType) {\n  registeredLoadBalancerTypes[typeName] = {\n    LoadBalancer: loadBalancerType,\n    LoadBalancingConfig: loadBalancingConfigType\n  };\n}\nexports.registerLoadBalancerType = registerLoadBalancerType;\nfunction registerDefaultLoadBalancerType(typeName) {\n  defaultLoadBalancerType = typeName;\n}\nexports.registerDefaultLoadBalancerType = registerDefaultLoadBalancerType;\nfunction createLoadBalancer(config, channelControlHelper) {\n  const typeName = config.getLoadBalancerName();\n  if (typeName in registeredLoadBalancerTypes) {\n    return new registeredLoadBalancerTypes[typeName].LoadBalancer(channelControlHelper);\n  } else {\n    return null;\n  }\n}\nexports.createLoadBalancer = createLoadBalancer;\nfunction isLoadBalancerNameRegistered(typeName) {\n  return typeName in registeredLoadBalancerTypes;\n}\nexports.isLoadBalancerNameRegistered = isLoadBalancerNameRegistered;\nfunction getFirstUsableConfig(configs, fallbackTodefault = false) {\n  for (const config of configs) {\n    if (config.getLoadBalancerName() in registeredLoadBalancerTypes) {\n      return config;\n    }\n  }\n  if (fallbackTodefault) {\n    if (defaultLoadBalancerType) {\n      return new registeredLoadBalancerTypes[defaultLoadBalancerType].LoadBalancingConfig();\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n}\nexports.getFirstUsableConfig = getFirstUsableConfig;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction validateLoadBalancingConfig(obj) {\n  if (!(obj !== null && typeof obj === 'object')) {\n    throw new Error('Load balancing config must be an object');\n  }\n  const keys = Object.keys(obj);\n  if (keys.length !== 1) {\n    throw new Error('Provided load balancing config has multiple conflicting entries');\n  }\n  const typeName = keys[0];\n  if (typeName in registeredLoadBalancerTypes) {\n    return registeredLoadBalancerTypes[typeName].LoadBalancingConfig.createFromJson(obj[typeName]);\n  } else {\n    throw new Error(`Unrecognized load balancing config name ${typeName}`);\n  }\n}\nexports.validateLoadBalancingConfig = validateLoadBalancingConfig;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxtQ0FBbUMsR0FBR0EsNEJBQTRCLEdBQUdBLG9DQUFvQyxHQUFHQSwwQkFBMEIsR0FBR0EsdUNBQXVDLEdBQUdBLGdDQUFnQyxHQUFHQSx1Q0FBdUMsR0FBRyxLQUFLLENBQUM7QUFDdFE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNRLCtCQUErQkEsQ0FBQ0MsTUFBTSxFQUFFQyxTQUFTLEVBQUU7RUFDeEQsSUFBSUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsRUFBRTtFQUMxQyxPQUFPO0lBQ0hDLGdCQUFnQixFQUFFLENBQUNULEVBQUUsR0FBRyxDQUFDRCxFQUFFLEdBQUdELFNBQVMsQ0FBQ1csZ0JBQWdCLE1BQU0sSUFBSSxJQUFJVixFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLEVBQUUsQ0FBQ1csSUFBSSxDQUFDWixTQUFTLENBQUMsTUFBTSxJQUFJLElBQUlFLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBR0EsRUFBRSxHQUFHSCxNQUFNLENBQUNZLGdCQUFnQixDQUFDQyxJQUFJLENBQUNiLE1BQU0sQ0FBQztJQUN4TGMsV0FBVyxFQUFFLENBQUNULEVBQUUsR0FBRyxDQUFDRCxFQUFFLEdBQUdILFNBQVMsQ0FBQ2EsV0FBVyxNQUFNLElBQUksSUFBSVYsRUFBRSxLQUFLLEtBQUss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aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2xvYWQtYmFsYW5jZXIuanM/MjdjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWcgPSBleHBvcnRzLmdldEZpcnN0VXNhYmxlQ29uZmlnID0gZXhwb3J0cy5pc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkID0gZXhwb3J0cy5jcmVhdGVMb2FkQmFsYW5jZXIgPSBleHBvcnRzLnJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGUgPSBleHBvcnRzLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSA9IGV4cG9ydHMuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciA9IHZvaWQgMDtcbi8qKlxuICogQ3JlYXRlIGEgY2hpbGQgQ2hhbm5lbENvbnRyb2xIZWxwZXIgdGhhdCBvdmVycmlkZXMgc29tZSBtZXRob2RzIG9mIHRoZVxuICogcGFyZW50IHdoaWxlIGxldHRpbmcgb3RoZXJzIHBhc3MgdGhyb3VnaCB0byB0aGUgcGFyZW50IHVubW9kaWZpZWQuIFRoaXNcbiAqIGFsbG93cyBvdGhlciBjb2RlIHRvIGNyZWF0ZSB0aGVzZSBjaGlsZHJlbiB3aXRob3V0IG5lZWRpbmcgdG8ga25vdyBhYm91dFxuICogYWxsIG9mIHRoZSBtZXRob2RzIHRvIGJlIHBhc3NlZCB0aHJvdWdoLlxuICogQHBhcmFtIHBhcmVudFxuICogQHBhcmFtIG92ZXJyaWRlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKHBhcmVudCwgb3ZlcnJpZGVzKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IChfYiA9IChfYSA9IG92ZXJyaWRlcy5jcmVhdGVTdWJjaGFubmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBwYXJlbnQuY3JlYXRlU3ViY2hhbm5lbC5iaW5kKHBhcmVudCksXG4gICAgICAgIHVwZGF0ZVN0YXRlOiAoX2QgPSAoX2MgPSBvdmVycmlkZXMudXBkYXRlU3RhdGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5iaW5kKG92ZXJyaWRlcykpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHBhcmVudC51cGRhdGVTdGF0ZS5iaW5kKHBhcmVudCksXG4gICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb246IChfZiA9IChfZSA9IG92ZXJyaWRlcy5yZXF1ZXN0UmVyZXNvbHV0aW9uKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBwYXJlbnQucmVxdWVzdFJlcmVzb2x1dGlvbi5iaW5kKHBhcmVudCksXG4gICAgICAgIGFkZENoYW5uZWx6Q2hpbGQ6IChfaCA9IChfZyA9IG92ZXJyaWRlcy5hZGRDaGFubmVsekNoaWxkKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBwYXJlbnQuYWRkQ2hhbm5lbHpDaGlsZC5iaW5kKHBhcmVudCksXG4gICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQ6IChfayA9IChfaiA9IG92ZXJyaWRlcy5yZW1vdmVDaGFubmVsekNoaWxkKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiBwYXJlbnQucmVtb3ZlQ2hhbm5lbHpDaGlsZC5iaW5kKHBhcmVudCksXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciA9IGNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXI7XG5jb25zdCByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXMgPSB7fTtcbmxldCBkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSA9IG51bGw7XG5mdW5jdGlvbiByZWdpc3RlckxvYWRCYWxhbmNlclR5cGUodHlwZU5hbWUsIGxvYWRCYWxhbmNlclR5cGUsIGxvYWRCYWxhbmNpbmdDb25maWdUeXBlKSB7XG4gICAgcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzW3R5cGVOYW1lXSA9IHtcbiAgICAgICAgTG9hZEJhbGFuY2VyOiBsb2FkQmFsYW5jZXJUeXBlLFxuICAgICAgICBMb2FkQmFsYW5jaW5nQ29uZmlnOiBsb2FkQmFsYW5jaW5nQ29uZmlnVHlwZSxcbiAgICB9O1xufVxuZXhwb3J0cy5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGUgPSByZWdpc3RlckxvYWRCYWxhbmNlclR5cGU7XG5mdW5jdGlvbiByZWdpc3RlckRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlKHR5cGVOYW1lKSB7XG4gICAgZGVmYXVsdExvYWRCYWxhbmNlclR5cGUgPSB0eXBlTmFtZTtcbn1cbmV4cG9ydHMucmVnaXN0ZXJEZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSA9IHJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGU7XG5mdW5jdGlvbiBjcmVhdGVMb2FkQmFsYW5jZXIoY29uZmlnLCBjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgIGNvbnN0IHR5cGVOYW1lID0gY29uZmlnLmdldExvYWRCYWxhbmNlck5hbWUoKTtcbiAgICBpZiAodHlwZU5hbWUgaW4gcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzW3R5cGVOYW1lXS5Mb2FkQmFsYW5jZXIoY2hhbm5lbENvbnRyb2xIZWxwZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5jcmVhdGVMb2FkQmFsYW5jZXIgPSBjcmVhdGVMb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBpc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkKHR5cGVOYW1lKSB7XG4gICAgcmV0dXJuIHR5cGVOYW1lIGluIHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcztcbn1cbmV4cG9ydHMuaXNMb2FkQmFsYW5jZXJOYW1lUmVnaXN0ZXJlZCA9IGlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQ7XG5mdW5jdGlvbiBnZXRGaXJzdFVzYWJsZUNvbmZpZyhjb25maWdzLCBmYWxsYmFja1RvZGVmYXVsdCA9IGZhbHNlKSB7XG4gICAgZm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuICAgICAgICBpZiAoY29uZmlnLmdldExvYWRCYWxhbmNlck5hbWUoKSBpbiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZhbGxiYWNrVG9kZWZhdWx0KSB7XG4gICAgICAgIGlmIChkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbZGVmYXVsdExvYWRCYWxhbmNlclR5cGVdLkxvYWRCYWxhbmNpbmdDb25maWcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLmdldEZpcnN0VXNhYmxlQ29uZmlnID0gZ2V0Rmlyc3RVc2FibGVDb25maWc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gdmFsaWRhdGVMb2FkQmFsYW5jaW5nQ29uZmlnKG9iaikge1xuICAgIGlmICghKG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2FkIGJhbGFuY2luZyBjb25maWcgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgaWYgKGtleXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgbG9hZCBiYWxhbmNpbmcgY29uZmlnIGhhcyBtdWx0aXBsZSBjb25mbGljdGluZyBlbnRyaWVzJyk7XG4gICAgfVxuICAgIGNvbnN0IHR5cGVOYW1lID0ga2V5c1swXTtcbiAgICBpZiAodHlwZU5hbWUgaW4gcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbdHlwZU5hbWVdLkxvYWRCYWxhbmNpbmdDb25maWcuY3JlYXRlRnJvbUpzb24ob2JqW3R5cGVOYW1lXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBsb2FkIGJhbGFuY2luZyBjb25maWcgbmFtZSAke3R5cGVOYW1lfWApO1xuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVMb2FkQmFsYW5jaW5nQ29uZmlnID0gdmFsaWRhdGVMb2FkQmFsYW5jaW5nQ29uZmlnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC1iYWxhbmNlci5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ2YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWciLCJnZXRGaXJzdFVzYWJsZUNvbmZpZyIsImlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQiLCJjcmVhdGVMb2FkQmFsYW5jZXIiLCJyZWdpc3RlckRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlIiwicmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlIiwiY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciIsInBhcmVudCIsIm92ZXJyaWRlcyIsIl9hIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaiIsIl9rIiwiY3JlYXRlU3ViY2hhbm5lbCIsImJpbmQiLCJ1cGRhdGVTdGF0ZSIsInJlcXVlc3RSZXJlc29sdXRpb24iLCJhZGRDaGFubmVsekNoaWxkIiwicmVtb3ZlQ2hhbm5lbHpDaGlsZCIsInJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcyIsImRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlIiwidHlwZU5hbWUiLCJsb2FkQmFsYW5jZXJUeXBlIiwibG9hZEJhbGFuY2luZ0NvbmZpZ1R5cGUiLCJMb2FkQmFsYW5jZXIiLCJMb2FkQmFsYW5jaW5nQ29uZmlnIiwiY29uZmlnIiwiY2hhbm5lbENvbnRyb2xIZWxwZXIiLCJnZXRMb2FkQmFsYW5jZXJOYW1lIiwiY29uZmlncyIsImZhbGxiYWNrVG9kZWZhdWx0Iiwib2JqIiwiRXJyb3IiLCJrZXlzIiwibGVuZ3RoIiwiY3JlYXRlRnJvbUpzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancing-call.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/load-balancing-call.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.LoadBalancingCall = void 0;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst TRACER_NAME = 'load_balancing_call';\nclass LoadBalancingCall {\n  constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber) {\n    var _a, _b;\n    this.channel = channel;\n    this.callConfig = callConfig;\n    this.methodName = methodName;\n    this.host = host;\n    this.credentials = credentials;\n    this.deadline = deadline;\n    this.callNumber = callNumber;\n    this.child = null;\n    this.readPending = false;\n    this.pendingMessage = null;\n    this.pendingHalfClose = false;\n    this.ended = false;\n    this.metadata = null;\n    this.listener = null;\n    this.onCallEnded = null;\n    const splitPath = this.methodName.split('/');\n    let serviceName = '';\n    /* The standard path format is \"/{serviceName}/{methodName}\", so if we split\n     * by '/', the first item should be empty and the second should be the\n     * service name */\n    if (splitPath.length >= 2) {\n      serviceName = splitPath[1];\n    }\n    const hostname = (_b = (_a = (0, uri_parser_1.splitHostPort)(this.host)) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : 'localhost';\n    /* Currently, call credentials are only allowed on HTTPS connections, so we\n     * can assume that the scheme is \"https\" */\n    this.serviceUrl = `https://${hostname}/${serviceName}`;\n  }\n  trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n  }\n  outputStatus(status, progress) {\n    var _a, _b;\n    if (!this.ended) {\n      this.ended = true;\n      this.trace('ended with status: code=' + status.code + ' details=\"' + status.details + '\"');\n      const finalStatus = Object.assign(Object.assign({}, status), {\n        progress\n      });\n      (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(finalStatus);\n      (_b = this.onCallEnded) === null || _b === void 0 ? void 0 : _b.call(this, finalStatus.code);\n    }\n  }\n  doPick() {\n    var _a, _b;\n    if (this.ended) {\n      return;\n    }\n    if (!this.metadata) {\n      throw new Error('doPick called before start');\n    }\n    this.trace('Pick called');\n    const pickResult = this.channel.doPick(this.metadata, this.callConfig.pickInformation);\n    const subchannelString = pickResult.subchannel ? '(' + pickResult.subchannel.getChannelzRef().id + ') ' + pickResult.subchannel.getAddress() : '' + pickResult.subchannel;\n    this.trace('Pick result: ' + picker_1.PickResultType[pickResult.pickResultType] + ' subchannel: ' + subchannelString + ' status: ' + ((_a = pickResult.status) === null || _a === void 0 ? void 0 : _a.code) + ' ' + ((_b = pickResult.status) === null || _b === void 0 ? void 0 : _b.details));\n    switch (pickResult.pickResultType) {\n      case picker_1.PickResultType.COMPLETE:\n        this.credentials.generateMetadata({\n          service_url: this.serviceUrl\n        }).then(credsMetadata => {\n          var _a, _b, _c;\n          /* If this call was cancelled (e.g. by the deadline) before\n           * metadata generation finished, we shouldn't do anything with\n           * it. */\n          if (this.ended) {\n            this.trace('Credentials metadata generation finished after call ended');\n            return;\n          }\n          const finalMetadata = this.metadata.clone();\n          finalMetadata.merge(credsMetadata);\n          if (finalMetadata.get('authorization').length > 1) {\n            this.outputStatus({\n              code: constants_1.Status.INTERNAL,\n              details: '\"authorization\" metadata cannot have multiple values',\n              metadata: new metadata_1.Metadata()\n            }, 'PROCESSED');\n          }\n          if (pickResult.subchannel.getConnectivityState() !== connectivity_state_1.ConnectivityState.READY) {\n            this.trace('Picked subchannel ' + subchannelString + ' has state ' + connectivity_state_1.ConnectivityState[pickResult.subchannel.getConnectivityState()] + ' after getting credentials metadata. Retrying pick');\n            this.doPick();\n            return;\n          }\n          if (this.deadline !== Infinity) {\n            finalMetadata.set('grpc-timeout', (0, deadline_1.getDeadlineTimeoutString)(this.deadline));\n          }\n          try {\n            this.child = pickResult.subchannel.getRealSubchannel().createCall(finalMetadata, this.host, this.methodName, {\n              onReceiveMetadata: metadata => {\n                this.trace('Received metadata');\n                this.listener.onReceiveMetadata(metadata);\n              },\n              onReceiveMessage: message => {\n                this.trace('Received message');\n                this.listener.onReceiveMessage(message);\n              },\n              onReceiveStatus: status => {\n                this.trace('Received status');\n                if (status.rstCode === http2.constants.NGHTTP2_REFUSED_STREAM) {\n                  this.outputStatus(status, 'REFUSED');\n                } else {\n                  this.outputStatus(status, 'PROCESSED');\n                }\n              }\n            });\n          } catch (error) {\n            this.trace('Failed to start call on picked subchannel ' + subchannelString + ' with error ' + error.message);\n            this.outputStatus({\n              code: constants_1.Status.INTERNAL,\n              details: 'Failed to start HTTP/2 stream with error ' + error.message,\n              metadata: new metadata_1.Metadata()\n            }, 'NOT_STARTED');\n            return;\n          }\n          (_b = (_a = this.callConfig).onCommitted) === null || _b === void 0 ? void 0 : _b.call(_a);\n          (_c = pickResult.onCallStarted) === null || _c === void 0 ? void 0 : _c.call(pickResult);\n          this.onCallEnded = pickResult.onCallEnded;\n          this.trace('Created child call [' + this.child.getCallNumber() + ']');\n          if (this.readPending) {\n            this.child.startRead();\n          }\n          if (this.pendingMessage) {\n            this.child.sendMessageWithContext(this.pendingMessage.context, this.pendingMessage.message);\n          }\n          if (this.pendingHalfClose) {\n            this.child.halfClose();\n          }\n        }, error => {\n          // We assume the error code isn't 0 (Status.OK)\n          const {\n            code,\n            details\n          } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(typeof error.code === 'number' ? error.code : constants_1.Status.UNKNOWN, `Getting metadata from plugin failed with error: ${error.message}`);\n          this.outputStatus({\n            code: code,\n            details: details,\n            metadata: new metadata_1.Metadata()\n          }, 'PROCESSED');\n        });\n        break;\n      case picker_1.PickResultType.DROP:\n        const {\n          code,\n          details\n        } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n        setImmediate(() => {\n          this.outputStatus({\n            code,\n            details,\n            metadata: pickResult.status.metadata\n          }, 'DROP');\n        });\n        break;\n      case picker_1.PickResultType.TRANSIENT_FAILURE:\n        if (this.metadata.getOptions().waitForReady) {\n          this.channel.queueCallForPick(this);\n        } else {\n          const {\n            code,\n            details\n          } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n          setImmediate(() => {\n            this.outputStatus({\n              code,\n              details,\n              metadata: pickResult.status.metadata\n            }, 'PROCESSED');\n          });\n        }\n        break;\n      case picker_1.PickResultType.QUEUE:\n        this.channel.queueCallForPick(this);\n    }\n  }\n  cancelWithStatus(status, details) {\n    var _a;\n    this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n    (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n    this.outputStatus({\n      code: status,\n      details: details,\n      metadata: new metadata_1.Metadata()\n    }, 'PROCESSED');\n  }\n  getPeer() {\n    var _a, _b;\n    return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n  }\n  start(metadata, listener) {\n    this.trace('start called');\n    this.listener = listener;\n    this.metadata = metadata;\n    this.doPick();\n  }\n  sendMessageWithContext(context, message) {\n    this.trace('write() called with message of length ' + message.length);\n    if (this.child) {\n      this.child.sendMessageWithContext(context, message);\n    } else {\n      this.pendingMessage = {\n        context,\n        message\n      };\n    }\n  }\n  startRead() {\n    this.trace('startRead called');\n    if (this.child) {\n      this.child.startRead();\n    } else {\n      this.readPending = true;\n    }\n  }\n  halfClose() {\n    this.trace('halfClose called');\n    if (this.child) {\n      this.child.halfClose();\n    } else {\n      this.pendingHalfClose = true;\n    }\n  }\n  setCredentials(credentials) {\n    throw new Error('Method not implemented.');\n  }\n  getCallNumber() {\n    return this.callNumber;\n  }\n}\nexports.LoadBalancingCall = LoadBalancingCall;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNpbmctY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCx5QkFBeUIsR0FBRyxLQUFLLENBQUM7QUFDbEMsTUFBTUcsb0JBQW9CLEdBQUdDLG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUMsV0FBVyxHQUFHRCxtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUUsVUFBVSxHQUFHRixtQkFBTyxDQUFDLDRFQUFZLENBQUM7QUFDeEMsTUFBTUcsVUFBVSxHQUFHSCxtQkFBTyxDQUFDLDRFQUFZLENBQUM7QUFDeEMsTUFBTUksUUFBUSxHQUFHSixtQkFBTyxDQUFDLHdFQUFVLENBQUM7QUFDcEMsTUFBTUssWUFBWSxHQUFHTCxtQkFBTyxDQUFDLGdGQUFjLENBQUM7QUFDNUMsTUFBTU0sT0FBTyxHQUFHTixtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDcEMsTUFBTU8sc0JBQXNCLEdBQUdQLG1CQUFPLENBQUMsb0dBQXdCLENBQUM7QUFDaEUsTUFBTVEsS0FBSyxHQUFHUixtQkFBTyxDQUFDLG9CQUFPLENBQUM7QUFDOUIsTUFBTVMsV0FBVyxHQUFHLHFCQUFxQjtBQUN6QyxNQUFNWCxpQkFBaUIsQ0FBQztFQUNwQlksV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEVBQUVDLFVBQVUsRUFBRUMsSUFBSSxFQUFFQyxXQUFXLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFO0lBQ2xGLElBQUlDLEVBQUUsRUFBRUMsRUFBRTtJQUNWLElBQUksQ0FBQ1IsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ0MsVUFB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USxTQUFTQSxDQUFBLEVBQUc7SUFDUixJQUFJLENBQUN2RCxLQUFLLENBQUMsa0JBQWtCLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUNmLEtBQUssRUFBRTtNQUNaLElBQUksQ0FBQ0EsS0FBSyxDQUFDc0UsU0FBUyxDQUFDLENBQUM7SUFDMUIsQ0FBQyxNQUNJO01BQ0QsSUFBSSxDQUFDckUsV0FBVyxHQUFHLElBQUk7SUFDM0I7RUFDSjtFQUNBd0UsU0FBU0EsQ0FBQSxFQUFHO0lBQ1IsSUFBSSxDQUFDMUQsS0FBSyxDQUFDLGtCQUFrQixDQUFDO0lBQzlCLElBQUksSUFBSSxDQUFDZixLQUFLLEVBQUU7TUFDWixJQUFJLENBQUNBLEtBQUssQ0FBQ3lFLFNBQVMsQ0FBQyxDQUFDO0lBQzFCLENBQUMsTUFDSTtNQUNELElBQUksQ0FBQ3RFLGdCQUFnQixHQUFHLElBQUk7SUFDaEM7RUFDSjtFQUNBb0YsY0FBY0EsQ0FBQzVGLFdBQVcsRUFBRTtJQUN4QixNQUFNLElBQUlrQyxLQUFLLENBQUMseUJBQXlCLENBQUM7RUFDOUM7RUFDQXdDLGFBQWFBLENBQUEsRUFBRztJQUNaLE9BQU8sSUFBSSxDQUFDeEUsVUFBVTtFQUMxQjtBQUNKO0FBQ0FyQix5QkFBeUIsR0FBR0UsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2luZy1jYWxsLmpzPzI4ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9hZEJhbGFuY2luZ0NhbGwgPSB2b2lkIDA7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZGVhZGxpbmVfMSA9IHJlcXVpcmUoXCIuL2RlYWRsaW5lXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb250cm9sX3BsYW5lX3N0YXR1c18xID0gcmVxdWlyZShcIi4vY29udHJvbC1wbGFuZS1zdGF0dXNcIik7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2xvYWRfYmFsYW5jaW5nX2NhbGwnO1xuY2xhc3MgTG9hZEJhbGFuY2luZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWwsIGNhbGxDb25maWcsIG1ldGhvZE5hbWUsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSwgY2FsbE51bWJlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLmNhbGxDb25maWcgPSBjYWxsQ29uZmlnO1xuICAgICAgICB0aGlzLm1ldGhvZE5hbWUgPSBtZXRob2ROYW1lO1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBkZWFkbGluZTtcbiAgICAgICAgdGhpcy5jYWxsTnVtYmVyID0gY2FsbE51bWJlcjtcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkNhbGxFbmRlZCA9IG51bGw7XG4gICAgICAgIGNvbnN0IHNwbGl0UGF0aCA9IHRoaXMubWV0aG9kTmFtZS5zcGxpdCgnLycpO1xuICAgICAgICBsZXQgc2VydmljZU5hbWUgPSAnJztcbiAgICAgICAgLyogVGhlIHN0YW5kYXJkIHBhdGggZm9ybWF0IGlzIFwiL3tzZXJ2aWNlTmFtZX0ve21ldGhvZE5hbWV9XCIsIHNvIGlmIHdlIHNwbGl0XG4gICAgICAgICAqIGJ5ICcvJywgdGhlIGZpcnN0IGl0ZW0gc2hvdWxkIGJlIGVtcHR5IGFuZCB0aGUgc2Vjb25kIHNob3VsZCBiZSB0aGVcbiAgICAgICAgICogc2VydmljZSBuYW1lICovXG4gICAgICAgIGlmIChzcGxpdFBhdGgubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lID0gc3BsaXRQYXRoWzFdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gKF9iID0gKF9hID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0aGlzLmhvc3QpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaG9zdCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ2xvY2FsaG9zdCc7XG4gICAgICAgIC8qIEN1cnJlbnRseSwgY2FsbCBjcmVkZW50aWFscyBhcmUgb25seSBhbGxvd2VkIG9uIEhUVFBTIGNvbm5lY3Rpb25zLCBzbyB3ZVxuICAgICAgICAgKiBjYW4gYXNzdW1lIHRoYXQgdGhlIHNjaGVtZSBpcyBcImh0dHBzXCIgKi9cbiAgICAgICAgdGhpcy5zZXJ2aWNlVXJsID0gYGh0dHBzOi8vJHtob3N0bmFtZX0vJHtzZXJ2aWNlTmFtZX1gO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ1snICsgdGhpcy5jYWxsTnVtYmVyICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICBvdXRwdXRTdGF0dXMoc3RhdHVzLCBwcm9ncmVzcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgc3RhdHVzLmNvZGUgK1xuICAgICAgICAgICAgICAgICcgZGV0YWlscz1cIicgK1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kZXRhaWxzICtcbiAgICAgICAgICAgICAgICAnXCInKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsU3RhdHVzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMpLCB7IHByb2dyZXNzIH0pO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uUmVjZWl2ZVN0YXR1cyhmaW5hbFN0YXR1cyk7XG4gICAgICAgICAgICAoX2IgPSB0aGlzLm9uQ2FsbEVuZGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbCh0aGlzLCBmaW5hbFN0YXR1cy5jb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb1BpY2soKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvUGljayBjYWxsZWQgYmVmb3JlIHN0YXJ0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnUGljayBjYWxsZWQnKTtcbiAgICAgICAgY29uc3QgcGlja1Jlc3VsdCA9IHRoaXMuY2hhbm5lbC5kb1BpY2sodGhpcy5tZXRhZGF0YSwgdGhpcy5jYWxsQ29uZmlnLnBpY2tJbmZvcm1hdGlvbik7XG4gICAgICAgIGNvbnN0IHN1YmNoYW5uZWxTdHJpbmcgPSBwaWNrUmVzdWx0LnN1YmNoYW5uZWxcbiAgICAgICAgICAgID8gJygnICtcbiAgICAgICAgICAgICAgICBwaWNrUmVzdWx0LnN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKS5pZCArXG4gICAgICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICAgICAgcGlja1Jlc3VsdC5zdWJjaGFubmVsLmdldEFkZHJlc3MoKVxuICAgICAgICAgICAgOiAnJyArIHBpY2tSZXN1bHQuc3ViY2hhbm5lbDtcbiAgICAgICAgdGhpcy50cmFjZSgnUGljayByZXN1bHQ6ICcgK1xuICAgICAgICAgICAgcGlja2VyXzEuUGlja1Jlc3VsdFR5cGVbcGlja1Jlc3VsdC5waWNrUmVzdWx0VHlwZV0gK1xuICAgICAgICAgICAgJyBzdWJjaGFubmVsOiAnICtcbiAgICAgICAgICAgIHN1YmNoYW5uZWxTdHJpbmcgK1xuICAgICAgICAgICAgJyBzdGF0dXM6ICcgK1xuICAgICAgICAgICAgKChfYSA9IHBpY2tSZXN1bHQuc3RhdHVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29kZSkgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICgoX2IgPSBwaWNrUmVzdWx0LnN0YXR1cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRldGFpbHMpKTtcbiAgICAgICAgc3dpdGNoIChwaWNrUmVzdWx0LnBpY2tSZXN1bHRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLkNPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbHNcbiAgICAgICAgICAgICAgICAgICAgLmdlbmVyYXRlTWV0YWRhdGEoeyBzZXJ2aWNlX3VybDogdGhpcy5zZXJ2aWNlVXJsIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNyZWRzTWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgLyogSWYgdGhpcyBjYWxsIHdhcyBjYW5jZWxsZWQgKGUuZy4gYnkgdGhlIGRlYWRsaW5lKSBiZWZvcmVcbiAgICAgICAgICAgICAgICAgICAgICogbWV0YWRhdGEgZ2VuZXJhdGlvbiBmaW5pc2hlZCwgd2Ugc2hvdWxkbid0IGRvIGFueXRoaW5nIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICogaXQuICovXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDcmVkZW50aWFscyBtZXRhZGF0YSBnZW5lcmF0aW9uIGZpbmlzaGVkIGFmdGVyIGNhbGwgZW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbE1ldGFkYXRhID0gdGhpcy5tZXRhZGF0YS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBmaW5hbE1ldGFkYXRhLm1lcmdlKGNyZWRzTWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluYWxNZXRhZGF0YS5nZXQoJ2F1dGhvcml6YXRpb24nKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdcImF1dGhvcml6YXRpb25cIiBtZXRhZGF0YSBjYW5ub3QgaGF2ZSBtdWx0aXBsZSB2YWx1ZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1BST0NFU1NFRCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrUmVzdWx0LnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdQaWNrZWQgc3ViY2hhbm5lbCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsU3RyaW5nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGhhcyBzdGF0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtwaWNrUmVzdWx0LnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgYWZ0ZXIgZ2V0dGluZyBjcmVkZW50aWFscyBtZXRhZGF0YS4gUmV0cnlpbmcgcGljaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb1BpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWFkbGluZSAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsTWV0YWRhdGEuc2V0KCdncnBjLXRpbWVvdXQnLCAoMCwgZGVhZGxpbmVfMS5nZXREZWFkbGluZVRpbWVvdXRTdHJpbmcpKHRoaXMuZGVhZGxpbmUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZCA9IHBpY2tSZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3ViY2hhbm5lbC5nZXRSZWFsU3ViY2hhbm5lbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNyZWF0ZUNhbGwoZmluYWxNZXRhZGF0YSwgdGhpcy5ob3N0LCB0aGlzLm1ldGhvZE5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXRhZGF0YScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogc3RhdHVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgc3RhdHVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMucnN0Q29kZSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX1JFRlVTRURfU1RSRUFNKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMsICdSRUZVU0VEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMsICdQUk9DRVNTRUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0ZhaWxlZCB0byBzdGFydCBjYWxsIG9uIHBpY2tlZCBzdWJjaGFubmVsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxTdHJpbmcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgd2l0aCBlcnJvciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ0ZhaWxlZCB0byBzdGFydCBIVFRQLzIgc3RyZWFtIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnTk9UX1NUQVJURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmNhbGxDb25maWcpLm9uQ29tbWl0dGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICAgICAgICAgIChfYyA9IHBpY2tSZXN1bHQub25DYWxsU3RhcnRlZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwocGlja1Jlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DYWxsRW5kZWQgPSBwaWNrUmVzdWx0Lm9uQ2FsbEVuZGVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDcmVhdGVkIGNoaWxkIGNhbGwgWycgKyB0aGlzLmNoaWxkLmdldENhbGxOdW1iZXIoKSArICddJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWRQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkLnN0YXJ0UmVhZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkLnNlbmRNZXNzYWdlV2l0aENvbnRleHQodGhpcy5wZW5kaW5nTWVzc2FnZS5jb250ZXh0LCB0aGlzLnBlbmRpbmdNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdIYWxmQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQuaGFsZkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXNzdW1lIHRoZSBlcnJvciBjb2RlIGlzbid0IDAgKFN0YXR1cy5PSylcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHR5cGVvZiBlcnJvci5jb2RlID09PSAnbnVtYmVyJyA/IGVycm9yLmNvZGUgOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTiwgYEdldHRpbmcgbWV0YWRhdGEgZnJvbSBwbHVnaW4gZmFpbGVkIHdpdGggZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgfSwgJ1BST0NFU1NFRCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5EUk9QOlxuICAgICAgICAgICAgICAgIGNvbnN0IHsgY29kZSwgZGV0YWlscyB9ID0gKDAsIGNvbnRyb2xfcGxhbmVfc3RhdHVzXzEucmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlKShwaWNrUmVzdWx0LnN0YXR1cy5jb2RlLCBwaWNrUmVzdWx0LnN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7IGNvZGUsIGRldGFpbHMsIG1ldGFkYXRhOiBwaWNrUmVzdWx0LnN0YXR1cy5tZXRhZGF0YSB9LCAnRFJPUCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5UUkFOU0lFTlRfRkFJTFVSRTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5nZXRPcHRpb25zKCkud2FpdEZvclJlYWR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JQaWNrKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHBpY2tSZXN1bHQuc3RhdHVzLmNvZGUsIHBpY2tSZXN1bHQuc3RhdHVzLmRldGFpbHMpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoeyBjb2RlLCBkZXRhaWxzLCBtZXRhZGF0YTogcGlja1Jlc3VsdC5zdGF0dXMubWV0YWRhdGEgfSwgJ1BST0NFU1NFRCcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLlFVRVVFOlxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JQaWNrKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy50cmFjZSgnY2FuY2VsV2l0aFN0YXR1cyBjb2RlOiAnICsgc3RhdHVzICsgJyBkZXRhaWxzOiBcIicgKyBkZXRhaWxzICsgJ1wiJyk7XG4gICAgICAgIChfYSA9IHRoaXMuY2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHsgY29kZTogc3RhdHVzLCBkZXRhaWxzOiBkZXRhaWxzLCBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmNoYW5uZWwuZ2V0VGFyZ2V0KCk7XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdGFydCBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMuZG9QaWNrKCk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLnRyYWNlKCd3cml0ZSgpIGNhbGxlZCB3aXRoIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgKyBtZXNzYWdlLmxlbmd0aCk7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0geyBjb250ZXh0LCBtZXNzYWdlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdGFydFJlYWQgY2FsbGVkJyk7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWFkUGVuZGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFsZkNsb3NlKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdoYWxmQ2xvc2UgY2FsbGVkJyk7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDcmVkZW50aWFscyhjcmVkZW50aWFscykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGdldENhbGxOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxOdW1iZXI7XG4gICAgfVxufVxuZXhwb3J0cy5Mb2FkQmFsYW5jaW5nQ2FsbCA9IExvYWRCYWxhbmNpbmdDYWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC1iYWxhbmNpbmctY2FsbC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJMb2FkQmFsYW5jaW5nQ2FsbCIsImNvbm5lY3Rpdml0eV9zdGF0ZV8xIiwicmVxdWlyZSIsImNvbnN0YW50c18xIiwiZGVhZGxpbmVfMSIsIm1ldGFkYXRhXzEiLCJwaWNrZXJfMSIsInVyaV9wYXJzZXJfMSIsImxvZ2dpbmciLCJjb250cm9sX3BsYW5lX3N0YXR1c18xIiwiaHR0cDIiLCJUUkFDRVJfTkFNRSIsImNvbnN0cnVjdG9yIiwiY2hhbm5lbCIsImNhbGxDb25maWciLCJtZXRob2ROYW1lIiwiaG9zdCIsImNyZWRlbnRpYWxzIiwiZGVhZGxpbmUiLCJjYWxsTnVtYmVyIiwiX2EiLCJfYiIsImNoaWxkIiwicmVhZFBlbmRpbmciLCJwZW5kaW5nTWVzc2FnZSIsInBlbmRpbmdIYWxmQ2xvc2UiLCJlbmRlZCIsIm1ldGFkYXRhIiwibGlzdGVuZXIiLCJvbkNhbGxFbmRlZCIsInNwbGl0UGF0aCIsInNwbGl0Iiwic2VydmljZU5hbWUiLCJsZW5ndGgiLCJob3N0bmFtZSIsInNwbGl0SG9zdFBvcnQiLCJzZXJ2aWNlVXJsIiwidHJhY2UiLCJ0ZXh0IiwiTG9nVmVyYm9zaXR5IiwiREVCVUciLCJvdXRwdXRTdGF0dXMiLCJzdGF0dXMiLCJwcm9ncmVzcyIsImNvZGUiLCJkZXRhaWxzIiwiZmluYWxTdGF0dXMiLCJhc3NpZ24iLCJvblJlY2VpdmVTdGF0dXMiLCJjYWxsIiwiZG9QaWNrIiwiRXJyb3IiLCJwaWNrUmVzdWx0IiwicGlja0luZm9ybWF0aW9uIiwic3ViY2hhbm5lbFN0cmluZyIsInN1YmNoYW5uZWwiLCJnZXRDaGFubmVselJlZiIsImlkIiwiZ2V0QWRkcmVzcyIsIlBpY2tSZXN1bHRUeXBlIiwicGlja1Jlc3VsdFR5cGUiLCJDT01QTEVURSIsImdlbmVyYXRlTWV0YWRhdGEiLCJzZXJ2aWNlX3VybCIsInRoZW4iLCJjcmVkc01ldGFkYXRhIiwiX2MiLCJmaW5hbE1ldGFkYXRhIiwiY2xvbmUiLCJtZXJnZSIsImdldCIsIlN0YXR1cyIsIklOVEVSTkFMIiwiTWV0YWRhdGEiLCJnZXRDb25uZWN0aXZpdHlTdGF0ZSIsIkNvbm5lY3Rpdml0eVN0YXRlIiwiUkVBRFkiLCJJbmZpbml0eSIsInNldCIsImdldERlYWRsaW5lVGltZW91dFN0cmluZyIsImdldFJlYWxTdWJjaGFubmVsIiwiY3JlYXRlQ2FsbCIsIm9uUmVjZWl2ZU1ldGFkYXRhIiwib25SZWNlaXZlTWVzc2FnZSIsIm1lc3NhZ2UiLCJyc3RDb2RlIiwiY29uc3RhbnRzIiwiTkdIVFRQMl9SRUZVU0VEX1NUUkVBTSIsImVycm9yIiwib25Db21taXR0ZWQiLCJvbkNhbGxTdGFydGVkIiwiZ2V0Q2FsbE51bWJlciIsInN0YXJ0UmVhZCIsInNlbmRNZXNzYWdlV2l0aENvbnRleHQiLCJjb250ZXh0IiwiaGFsZkNsb3NlIiwicmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlIiwiVU5LTk9XTiIsIkRST1AiLCJzZXRJbW1lZGlhdGUiLCJUUkFOU0lFTlRfRkFJTFVSRSIsImdldE9wdGlvbnMiLCJ3YWl0Rm9yUmVhZHkiLCJxdWV1ZUNhbGxGb3JQaWNrIiwiUVVFVUUiLCJjYW5jZWxXaXRoU3RhdHVzIiwiZ2V0UGVlciIsImdldFRhcmdldCIsInN0YXJ0Iiwic2V0Q3JlZGVudGlhbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancing-call.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js":
/*!*********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/logging.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.isTracerEnabled = exports.trace = exports.log = exports.setLoggerVerbosity = exports.setLogger = exports.getLogger = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst process_1 = __webpack_require__(/*! process */ \"process\");\nconst clientVersion = (__webpack_require__(/*! ../../package.json */ \"(ssr)/./node_modules/@grpc/grpc-js/package.json\").version);\nconst DEFAULT_LOGGER = {\n  error: (message, ...optionalParams) => {\n    console.error('E ' + message, ...optionalParams);\n  },\n  info: (message, ...optionalParams) => {\n    console.error('I ' + message, ...optionalParams);\n  },\n  debug: (message, ...optionalParams) => {\n    console.error('D ' + message, ...optionalParams);\n  }\n};\nlet _logger = DEFAULT_LOGGER;\nlet _logVerbosity = constants_1.LogVerbosity.ERROR;\nconst verbosityString = (_b = (_a = process.env.GRPC_NODE_VERBOSITY) !== null && _a !== void 0 ? _a : process.env.GRPC_VERBOSITY) !== null && _b !== void 0 ? _b : '';\nswitch (verbosityString.toUpperCase()) {\n  case 'DEBUG':\n    _logVerbosity = constants_1.LogVerbosity.DEBUG;\n    break;\n  case 'INFO':\n    _logVerbosity = constants_1.LogVerbosity.INFO;\n    break;\n  case 'ERROR':\n    _logVerbosity = constants_1.LogVerbosity.ERROR;\n    break;\n  case 'NONE':\n    _logVerbosity = constants_1.LogVerbosity.NONE;\n    break;\n  default:\n  // Ignore any other values\n}\n\nconst getLogger = () => {\n  return _logger;\n};\nexports.getLogger = getLogger;\nconst setLogger = logger => {\n  _logger = logger;\n};\nexports.setLogger = setLogger;\nconst setLoggerVerbosity = verbosity => {\n  _logVerbosity = verbosity;\n};\nexports.setLoggerVerbosity = setLoggerVerbosity;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst log = (severity, ...args) => {\n  let logFunction;\n  if (severity >= _logVerbosity) {\n    switch (severity) {\n      case constants_1.LogVerbosity.DEBUG:\n        logFunction = _logger.debug;\n        break;\n      case constants_1.LogVerbosity.INFO:\n        logFunction = _logger.info;\n        break;\n      case constants_1.LogVerbosity.ERROR:\n        logFunction = _logger.error;\n        break;\n    }\n    /* Fall back to _logger.error when other methods are not available for\n     * compatiblity with older behavior that always logged to _logger.error */\n    if (!logFunction) {\n      logFunction = _logger.error;\n    }\n    if (logFunction) {\n      logFunction.bind(_logger)(...args);\n    }\n  }\n};\nexports.log = log;\nconst tracersString = (_d = (_c = process.env.GRPC_NODE_TRACE) !== null && _c !== void 0 ? _c : process.env.GRPC_TRACE) !== null && _d !== void 0 ? _d : '';\nconst enabledTracers = new Set();\nconst disabledTracers = new Set();\nfor (const tracerName of tracersString.split(',')) {\n  if (tracerName.startsWith('-')) {\n    disabledTracers.add(tracerName.substring(1));\n  } else {\n    enabledTracers.add(tracerName);\n  }\n}\nconst allEnabled = enabledTracers.has('all');\nfunction trace(severity, tracer, text) {\n  if (isTracerEnabled(tracer)) {\n    (0, exports.log)(severity, new Date().toISOString() + ' | v' + clientVersion + ' ' + process_1.pid + ' | ' + tracer + ' | ' + text);\n  }\n}\nexports.trace = trace;\nfunction isTracerEnabled(tracer) {\n  return !disabledTracers.has(tracer) && (allEnabled || enabledTracers.has(tracer));\n}\nexports.isTracerEnabled = isTracerEnabled;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9nZ2luZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUlBLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUU7QUFDbEJDLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELHVCQUF1QixHQUFHQSxhQUFhLEdBQUdBLFdBQVcsR0FBR0EsMEJBQTBCLEdBQUdBLGlCQUFpQixHQUFHQSxpQkFBaUIsR0FBRyxLQUFLLENBQUM7QUFDbkksTUFBTVEsV0FBVyxHQUFHQyxtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUMsU0FBUyxHQUFHRCxtQkFBTyxDQUFDLHdCQUFTLENBQUM7QUFDcEMsTUFBTUUsYUFBYSxHQUFHRiwwR0FBcUM7QUFDM0QsTUFBTUksY0FBYyxHQUFHO0VBQ25CQyxLQUFLLEVBQUVBLENBQUNDLE9BQU8sRUFBRSxHQUFHQyxjQUFjLEtBQUs7SUFDbkNDLE9BQU8sQ0FBQ0gsS0FBSyxDQUFDLElBQUksR0FBR0MsT0FBTyxFQUFFLEdBQUdDLGNBQWMsQ0FBQztFQUNwRCxDQUFDO0VBQ0RFLElBQUksRUFBRUEsQ0FBQ0gsT0FBTyxFQUFFLEdBQUdDLGNBQWMsS0FBSztJQUNsQ0MsT0FBTyxDQUFDSCxLQUFLLENBQUMsSUFBSSxHQUFHQyxPQUFPLEVBQUUsR0FBR0MsY0FBYyxDQUFDO0VBQ3BELENBQUM7RUFDREcsS0FBSyxFQUFFQSxDQUFDSixPQUFPLEVBQUUsR0FBR0MsY0FBYyxLQUFLO0lBQ25DQyxPQUFPLENBQUNILEtBQUssQ0FBQyxJQUFJLEdBQUdDLE9BQU8sRUFBRSxHQUFHQyxjQUFjLENBQUM7RUFDcEQ7QUFDSixDQUFDO0FBQ0QsSUFBSUksT0FBTyxH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Q08sS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0VBQy9DLElBQUlELFVBQVUsQ0FBQ0UsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQzVCSCxlQUFlLENBQUNJLEdBQUcsQ0FBQ0gsVUFBVSxDQUFDSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDaEQsQ0FBQyxNQUNJO0lBQ0RQLGNBQWMsQ0FBQ00sR0FBRyxDQUFDSCxVQUFVLENBQUM7RUFDbEM7QUFDSjtBQUNBLE1BQU1LLFVBQVUsR0FBR1IsY0FBYyxDQUFDUyxHQUFHLENBQUMsS0FBSyxDQUFDO0FBQzVDLFNBQVNoRCxLQUFLQSxDQUFDZ0MsUUFBUSxFQUFFaUIsTUFBTSxFQUFFQyxJQUFJLEVBQUU7RUFDbkMsSUFBSW5ELGVBQWUsQ0FBQ2tELE1BQU0sQ0FBQyxFQUFFO0lBQ3pCLENBQUMsQ0FBQyxFQUFFcEQsT0FBTyxDQUFDSSxHQUFHLEVBQUUrQixRQUFRLEVBQUUsSUFBSW1CLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHNUMsYUFBYSxHQUFHLEdBQUcsR0FBR0QsU0FBUyxDQUFDOEMsR0FBRyxHQUFHLEtBQUssR0FBR0osTUFBTSxHQUFHLEtBQUssR0FBR0MsSUFBSSxDQUFDO0VBQ3ZJO0FBQ0o7QUFDQXJELGFBQWEsR0FBR0csS0FBSztBQUNyQixTQUFTRCxlQUFlQSxDQUFDa0QsTUFBTSxFQUFFO0VBQzdCLE9BQVEsQ0FBQ1IsZUFBZSxDQUFDTyxHQUFHLENBQUNDLE1BQU0sQ0FBQyxLQUFLRixVQUFVLElBQUlSLGNBQWMsQ0FBQ1MsR0FBRyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUN0RjtBQUNBcEQsdUJBQXVCLEdBQUdFLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2xvZ2dpbmcuanM/NDUzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9hLCBfYiwgX2MsIF9kO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1RyYWNlckVuYWJsZWQgPSBleHBvcnRzLnRyYWNlID0gZXhwb3J0cy5sb2cgPSBleHBvcnRzLnNldExvZ2dlclZlcmJvc2l0eSA9IGV4cG9ydHMuc2V0TG9nZ2VyID0gZXhwb3J0cy5nZXRMb2dnZXIgPSB2b2lkIDA7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHByb2Nlc3NfMSA9IHJlcXVpcmUoXCJwcm9jZXNzXCIpO1xuY29uc3QgY2xpZW50VmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5jb25zdCBERUZBVUxUX0xPR0dFUiA9IHtcbiAgICBlcnJvcjogKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0UgJyArIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICB9LFxuICAgIGluZm86IChtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJICcgKyBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfSxcbiAgICBkZWJ1ZzogKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0QgJyArIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICB9LFxufTtcbmxldCBfbG9nZ2VyID0gREVGQVVMVF9MT0dHRVI7XG5sZXQgX2xvZ1ZlcmJvc2l0eSA9IGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUjtcbmNvbnN0IHZlcmJvc2l0eVN0cmluZyA9IChfYiA9IChfYSA9IHByb2Nlc3MuZW52LkdSUENfTk9ERV9WRVJCT1NJVFkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHByb2Nlc3MuZW52LkdSUENfVkVSQk9TSVRZKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJztcbnN3aXRjaCAodmVyYm9zaXR5U3RyaW5nLnRvVXBwZXJDYXNlKCkpIHtcbiAgICBjYXNlICdERUJVRyc6XG4gICAgICAgIF9sb2dWZXJib3NpdHkgPSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUc7XG4gICAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0lORk8nOlxuICAgICAgICBfbG9nVmVyYm9zaXR5ID0gY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LklORk87XG4gICAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0VSUk9SJzpcbiAgICAgICAgX2xvZ1ZlcmJvc2l0eSA9IGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUjtcbiAgICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTk9ORSc6XG4gICAgICAgIF9sb2dWZXJib3NpdHkgPSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuTk9ORTtcbiAgICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAvLyBJZ25vcmUgYW55IG90aGVyIHZhbHVlc1xufVxuY29uc3QgZ2V0TG9nZ2VyID0gKCkgPT4ge1xuICAgIHJldHVybiBfbG9nZ2VyO1xufTtcbmV4cG9ydHMuZ2V0TG9nZ2VyID0gZ2V0TG9nZ2VyO1xuY29uc3Qgc2V0TG9nZ2VyID0gKGxvZ2dlcikgPT4ge1xuICAgIF9sb2dnZXIgPSBsb2dnZXI7XG59O1xuZXhwb3J0cy5zZXRMb2dnZXIgPSBzZXRMb2dnZXI7XG5jb25zdCBzZXRMb2dnZXJWZXJib3NpdHkgPSAodmVyYm9zaXR5KSA9PiB7XG4gICAgX2xvZ1ZlcmJvc2l0eSA9IHZlcmJvc2l0eTtcbn07XG5leHBvcnRzLnNldExvZ2dlclZlcmJvc2l0eSA9IHNldExvZ2dlclZlcmJvc2l0eTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5jb25zdCBsb2cgPSAoc2V2ZXJpdHksIC4uLmFyZ3MpID0+IHtcbiAgICBsZXQgbG9nRnVuY3Rpb247XG4gICAgaWYgKHNldmVyaXR5ID49IF9sb2dWZXJib3NpdHkpIHtcbiAgICAgICAgc3dpdGNoIChzZXZlcml0eSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUc6XG4gICAgICAgICAgICAgICAgbG9nRnVuY3Rpb24gPSBfbG9nZ2VyLmRlYnVnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuSU5GTzpcbiAgICAgICAgICAgICAgICBsb2dGdW5jdGlvbiA9IF9sb2dnZXIuaW5mbztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SOlxuICAgICAgICAgICAgICAgIGxvZ0Z1bmN0aW9uID0gX2xvZ2dlci5lcnJvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvKiBGYWxsIGJhY2sgdG8gX2xvZ2dlci5lcnJvciB3aGVuIG90aGVyIG1ldGhvZHMgYXJlIG5vdCBhdmFpbGFibGUgZm9yXG4gICAgICAgICAqIGNvbXBhdGlibGl0eSB3aXRoIG9sZGVyIGJlaGF2aW9yIHRoYXQgYWx3YXlzIGxvZ2dlZCB0byBfbG9nZ2VyLmVycm9yICovXG4gICAgICAgIGlmICghbG9nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGxvZ0Z1bmN0aW9uID0gX2xvZ2dlci5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGxvZ0Z1bmN0aW9uLmJpbmQoX2xvZ2dlcikoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5jb25zdCB0cmFjZXJzU3RyaW5nID0gKF9kID0gKF9jID0gcHJvY2Vzcy5lbnYuR1JQQ19OT0RFX1RSQUNFKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBwcm9jZXNzLmVudi5HUlBDX1RSQUNFKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJztcbmNvbnN0IGVuYWJsZWRUcmFjZXJzID0gbmV3IFNldCgpO1xuY29uc3QgZGlzYWJsZWRUcmFjZXJzID0gbmV3IFNldCgpO1xuZm9yIChjb25zdCB0cmFjZXJOYW1lIG9mIHRyYWNlcnNTdHJpbmcuc3BsaXQoJywnKSkge1xuICAgIGlmICh0cmFjZXJOYW1lLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgICAgICBkaXNhYmxlZFRyYWNlcnMuYWRkKHRyYWNlck5hbWUuc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVuYWJsZWRUcmFjZXJzLmFkZCh0cmFjZXJOYW1lKTtcbiAgICB9XG59XG5jb25zdCBhbGxFbmFibGVkID0gZW5hYmxlZFRyYWNlcnMuaGFzKCdhbGwnKTtcbmZ1bmN0aW9uIHRyYWNlKHNldmVyaXR5LCB0cmFjZXIsIHRleHQpIHtcbiAgICBpZiAoaXNUcmFjZXJFbmFibGVkKHRyYWNlcikpIHtcbiAgICAgICAgKDAsIGV4cG9ydHMubG9nKShzZXZlcml0eSwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpICsgJyB8IHYnICsgY2xpZW50VmVyc2lvbiArICcgJyArIHByb2Nlc3NfMS5waWQgKyAnIHwgJyArIHRyYWNlciArICcgfCAnICsgdGV4dCk7XG4gICAgfVxufVxuZXhwb3J0cy50cmFjZSA9IHRyYWNlO1xuZnVuY3Rpb24gaXNUcmFjZXJFbmFibGVkKHRyYWNlcikge1xuICAgIHJldHVybiAoIWRpc2FibGVkVHJhY2Vycy5oYXModHJhY2VyKSAmJiAoYWxsRW5hYmxlZCB8fCBlbmFibGVkVHJhY2Vycy5oYXModHJhY2VyKSkpO1xufVxuZXhwb3J0cy5pc1RyYWNlckVuYWJsZWQgPSBpc1RyYWNlckVuYWJsZWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnaW5nLmpzLm1hcCJdLCJuYW1lcyI6WyJfYSIsIl9iIiwiX2MiLCJfZCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaXNUcmFjZXJFbmFibGVkIiwidHJhY2UiLCJsb2ciLCJzZXRMb2dnZXJWZXJib3NpdHkiLCJzZXRMb2dnZXIiLCJnZXRMb2dnZXIiLCJjb25zdGFudHNfMSIsInJlcXVpcmUiLCJwcm9jZXNzXzEiLCJjbGllbnRWZXJzaW9uIiwidmVyc2lvbiIsIkRFRkFVTFRfTE9HR0VSIiwiZXJyb3IiLCJtZXNzYWdlIiwib3B0aW9uYWxQYXJhbXMiLCJjb25zb2xlIiwiaW5mbyIsImRlYnVnIiwiX2xvZ2dlciIsIl9sb2dWZXJib3NpdHkiLCJMb2dWZXJib3NpdHkiLCJFUlJPUiIsInZlcmJvc2l0eVN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJHUlBDX05PREVfVkVSQk9TSVRZIiwiR1JQQ19WRVJCT1NJVFkiLCJ0b1VwcGVyQ2FzZSIsIkRFQlVHIiwiSU5GTyIsIk5PTkUiLCJsb2dnZXIiLCJ2ZXJib3NpdHkiLCJzZXZlcml0eSIsImFyZ3MiLCJsb2dGdW5jdGlvbiIsImJpbmQiLCJ0cmFjZXJzU3RyaW5nIiwiR1JQQ19OT0RFX1RSQUNFIiwiR1JQQ19UUkFDRSIsImVuYWJsZWRUcmFjZXJzIiwiU2V0IiwiZGlzYWJsZWRUcmFjZXJzIiwidHJhY2VyTmFtZSIsInNwbGl0Iiwic3RhcnRzV2l0aCIsImFkZCIsInN1YnN0cmluZyIsImFsbEVuYWJsZWQiLCJoYXMiLCJ0cmFjZXIiLCJ0ZXh0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicGlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/make-client.js":
/*!*************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/make-client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.loadPackageDefinition = exports.makeClientConstructor = void 0;\nconst client_1 = __webpack_require__(/*! ./client */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/client.js\");\n/**\n * Map with short names for each of the requester maker functions. Used in\n * makeClientConstructor\n * @private\n */\nconst requesterFuncs = {\n  unary: client_1.Client.prototype.makeUnaryRequest,\n  server_stream: client_1.Client.prototype.makeServerStreamRequest,\n  client_stream: client_1.Client.prototype.makeClientStreamRequest,\n  bidi: client_1.Client.prototype.makeBidiStreamRequest\n};\n/**\n * Returns true, if given key is included in the blacklisted\n * keys.\n * @param key key for check, string.\n */\nfunction isPrototypePolluted(key) {\n  return ['__proto__', 'prototype', 'constructor'].includes(key);\n}\n/**\n * Creates a constructor for a client with the given methods, as specified in\n * the methods argument. The resulting class will have an instance method for\n * each method in the service, which is a partial application of one of the\n * [Client]{@link grpc.Client} request methods, depending on `requestSerialize`\n * and `responseSerialize`, with the `method`, `serialize`, and `deserialize`\n * arguments predefined.\n * @param methods An object mapping method names to\n *     method attributes\n * @param serviceName The fully qualified name of the service\n * @param classOptions An options object.\n * @return New client constructor, which is a subclass of\n *     {@link grpc.Client}, and has the same arguments as that constructor.\n */\nfunction makeClientConstructor(methods, serviceName, classOptions) {\n  if (!classOptions) {\n    classOptions = {};\n  }\n  class ServiceClientImpl extends client_1.Client {}\n  Object.keys(methods).forEach(name => {\n    if (isPrototypePolluted(name)) {\n      return;\n    }\n    const attrs = methods[name];\n    let methodType;\n    // TODO(murgatroid99): Verify that we don't need this anymore\n    if (typeof name === 'string' && name.charAt(0) === '$') {\n      throw new Error('Method names cannot start with $');\n    }\n    if (attrs.requestStream) {\n      if (attrs.responseStream) {\n        methodType = 'bidi';\n      } else {\n        methodType = 'client_stream';\n      }\n    } else {\n      if (attrs.responseStream) {\n        methodType = 'server_stream';\n      } else {\n        methodType = 'unary';\n      }\n    }\n    const serialize = attrs.requestSerialize;\n    const deserialize = attrs.responseDeserialize;\n    const methodFunc = partial(requesterFuncs[methodType], attrs.path, serialize, deserialize);\n    ServiceClientImpl.prototype[name] = methodFunc;\n    // Associate all provided attributes with the method\n    Object.assign(ServiceClientImpl.prototype[name], attrs);\n    if (attrs.originalName && !isPrototypePolluted(attrs.originalName)) {\n      ServiceClientImpl.prototype[attrs.originalName] = ServiceClientImpl.prototype[name];\n    }\n  });\n  ServiceClientImpl.service = methods;\n  ServiceClientImpl.serviceName = serviceName;\n  return ServiceClientImpl;\n}\nexports.makeClientConstructor = makeClientConstructor;\nfunction partial(fn, path, serialize, deserialize) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function (...args) {\n    return fn.call(this, path, serialize, deserialize, ...args);\n  };\n}\nfunction isProtobufTypeDefinition(obj) {\n  return 'format' in obj;\n}\n/**\n * Load a gRPC package definition as a gRPC object hierarchy.\n * @param packageDef The package definition object.\n * @return The resulting gRPC object.\n */\nfunction loadPackageDefinition(packageDef) {\n  const result = {};\n  for (const serviceFqn in packageDef) {\n    if (Object.prototype.hasOwnProperty.call(packageDef, serviceFqn)) {\n      const service = packageDef[serviceFqn];\n      const nameComponents = serviceFqn.split('.');\n      if (nameComponents.some(comp => isPrototypePolluted(comp))) {\n        continue;\n      }\n      const serviceName = nameComponents[nameComponents.length - 1];\n      let current = result;\n      for (const packageName of nameComponents.slice(0, -1)) {\n        if (!current[packageName]) {\n          current[packageName] = {};\n        }\n        current = current[packageName];\n      }\n      if (isProtobufTypeDefinition(service)) {\n        current[serviceName] = service;\n      } else {\n        current[serviceName] = makeClientConstructor(service, serviceName, {});\n      }\n    }\n  }\n  return result;\n}\nexports.loadPackageDefinition = loadPackageDefinition;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbWFrZS1jbGllbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsNkJBQTZCLEdBQUdBLDZCQUE2QixHQUFHLEtBQUssQ0FBQztBQUN0RSxNQUFNSSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsd0VBQVUsQ0FBQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUMsY0FBYyxHQUFHO0VBQ25CQyxLQUFLLEVBQUVILFFBQVEsQ0FBQ0ksTUFBTSxDQUFDQyxTQUFTLENBQUNDLGdCQUFnQjtFQUNqREMsYUFBYSxFQUFFUCxRQUFRLENBQUNJLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDRyx1QkFBdUI7RUFDaEVDLGFBQWEsRUFBRVQsUUFBUSxDQUFDSSxNQUFNLENBQUNDLFNBQVMsQ0FBQ0ssdUJBQXVCO0VBQ2hFQyxJQUFJLEVBQUVYLFFBQVEsQ0FBQ0ksTUFBTSxDQUFDQyxTQUFTLENBQUNPO0FBQ3BDLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0MsbUJBQW1CQSxDQUFDQyxHQUFHLEVBQUU7RUFDOUIsT0FBTyxDQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUUsYUFBYSxDQUFDLENBQUNDLFFBQVEsQ0FBQ0QsR0FBRyxDQUFDO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNmLHFCQUFxQkEsQ0FBQ2lCLE9BQU8sRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUU7RUFDL0QsSUFBSSxDQUFDQSxZQUFZLEVBQUU7SUFDZkEsWUFBWSxH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QUFDRSxVQUFVLENBQUM7TUFDdEMsTUFBTUUsY0FBYyxHQUFHRixVQUFVLENBQUNHLEtBQUssQ0FBQyxHQUFHLENBQUM7TUFDNUMsSUFBSUQsY0FBYyxDQUFDRSxJQUFJLENBQUVDLElBQUksSUFBS3RDLG1CQUFtQixDQUFDc0MsSUFBSSxDQUFDLENBQUMsRUFBRTtRQUMxRDtNQUNKO01BQ0EsTUFBTWxDLFdBQVcsR0FBRytCLGNBQWMsQ0FBQ0EsY0FBYyxDQUFDSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO01BQzdELElBQUlDLE9BQU8sR0FBR1IsTUFBTTtNQUNwQixLQUFLLE1BQU1TLFdBQVcsSUFBSU4sY0FBYyxDQUFDTyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDbkQsSUFBSSxDQUFDRixPQUFPLENBQUNDLFdBQVcsQ0FBQyxFQUFFO1VBQ3ZCRCxPQUFPLENBQUNDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM3QjtRQUNBRCxPQUFPLEdBQUdBLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDO01BQ2xDO01BQ0EsSUFBSVosd0JBQXdCLENBQUNKLE9BQU8sQ0FBQyxFQUFFO1FBQ25DZSxPQUFPLENBQUNwQyxXQUFXLENBQUMsR0FBR3FCLE9BQU87TUFDbEMsQ0FBQyxNQUNJO1FBQ0RlLE9BQU8sQ0FBQ3BDLFdBQVcsQ0FBQyxHQUFHbEIscUJBQXFCLENBQUN1QyxPQUFPLEVBQUVyQixXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFDMUU7SUFDSjtFQUNKO0VBQ0EsT0FBTzRCLE1BQU07QUFDakI7QUFDQWpELDZCQUE2QixHQUFHRSxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL21ha2UtY2xpZW50LmpzPzZiYmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZFBhY2thZ2VEZWZpbml0aW9uID0gZXhwb3J0cy5tYWtlQ2xpZW50Q29uc3RydWN0b3IgPSB2b2lkIDA7XG5jb25zdCBjbGllbnRfMSA9IHJlcXVpcmUoXCIuL2NsaWVudFwiKTtcbi8qKlxuICogTWFwIHdpdGggc2hvcnQgbmFtZXMgZm9yIGVhY2ggb2YgdGhlIHJlcXVlc3RlciBtYWtlciBmdW5jdGlvbnMuIFVzZWQgaW5cbiAqIG1ha2VDbGllbnRDb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgcmVxdWVzdGVyRnVuY3MgPSB7XG4gICAgdW5hcnk6IGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUubWFrZVVuYXJ5UmVxdWVzdCxcbiAgICBzZXJ2ZXJfc3RyZWFtOiBjbGllbnRfMS5DbGllbnQucHJvdG90eXBlLm1ha2VTZXJ2ZXJTdHJlYW1SZXF1ZXN0LFxuICAgIGNsaWVudF9zdHJlYW06IGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUubWFrZUNsaWVudFN0cmVhbVJlcXVlc3QsXG4gICAgYmlkaTogY2xpZW50XzEuQ2xpZW50LnByb3RvdHlwZS5tYWtlQmlkaVN0cmVhbVJlcXVlc3QsXG59O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUsIGlmIGdpdmVuIGtleSBpcyBpbmNsdWRlZCBpbiB0aGUgYmxhY2tsaXN0ZWRcbiAqIGtleXMuXG4gKiBAcGFyYW0ga2V5IGtleSBmb3IgY2hlY2ssIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGVQb2xsdXRlZChrZXkpIHtcbiAgICByZXR1cm4gWydfX3Byb3RvX18nLCAncHJvdG90eXBlJywgJ2NvbnN0cnVjdG9yJ10uaW5jbHVkZXMoa2V5KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNvbnN0cnVjdG9yIGZvciBhIGNsaWVudCB3aXRoIHRoZSBnaXZlbiBtZXRob2RzLCBhcyBzcGVjaWZpZWQgaW5cbiAqIHRoZSBtZXRob2RzIGFyZ3VtZW50LiBUaGUgcmVzdWx0aW5nIGNsYXNzIHdpbGwgaGF2ZSBhbiBpbnN0YW5jZSBtZXRob2QgZm9yXG4gKiBlYWNoIG1ldGhvZCBpbiB0aGUgc2VydmljZSwgd2hpY2ggaXMgYSBwYXJ0aWFsIGFwcGxpY2F0aW9uIG9mIG9uZSBvZiB0aGVcbiAqIFtDbGllbnRde0BsaW5rIGdycGMuQ2xpZW50fSByZXF1ZXN0IG1ldGhvZHMsIGRlcGVuZGluZyBvbiBgcmVxdWVzdFNlcmlhbGl6ZWBcbiAqIGFuZCBgcmVzcG9uc2VTZXJpYWxpemVgLCB3aXRoIHRoZSBgbWV0aG9kYCwgYHNlcmlhbGl6ZWAsIGFuZCBgZGVzZXJpYWxpemVgXG4gKiBhcmd1bWVudHMgcHJlZGVmaW5lZC5cbiAqIEBwYXJhbSBtZXRob2RzIEFuIG9iamVjdCBtYXBwaW5nIG1ldGhvZCBuYW1lcyB0b1xuICogICAgIG1ldGhvZCBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0gc2VydmljZU5hbWUgVGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lIG9mIHRoZSBzZXJ2aWNlXG4gKiBAcGFyYW0gY2xhc3NPcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LlxuICogQHJldHVybiBOZXcgY2xpZW50IGNvbnN0cnVjdG9yLCB3aGljaCBpcyBhIHN1YmNsYXNzIG9mXG4gKiAgICAge0BsaW5rIGdycGMuQ2xpZW50fSwgYW5kIGhhcyB0aGUgc2FtZSBhcmd1bWVudHMgYXMgdGhhdCBjb25zdHJ1Y3Rvci5cbiAqL1xuZnVuY3Rpb24gbWFrZUNsaWVudENvbnN0cnVjdG9yKG1ldGhvZHMsIHNlcnZpY2VOYW1lLCBjbGFzc09wdGlvbnMpIHtcbiAgICBpZiAoIWNsYXNzT3B0aW9ucykge1xuICAgICAgICBjbGFzc09wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgY2xhc3MgU2VydmljZUNsaWVudEltcGwgZXh0ZW5kcyBjbGllbnRfMS5DbGllbnQge1xuICAgIH1cbiAgICBPYmplY3Qua2V5cyhtZXRob2RzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoaXNQcm90b3R5cGVQb2xsdXRlZChuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dHJzID0gbWV0aG9kc1tuYW1lXTtcbiAgICAgICAgbGV0IG1ldGhvZFR5cGU7XG4gICAgICAgIC8vIFRPRE8obXVyZ2F0cm9pZDk5KTogVmVyaWZ5IHRoYXQgd2UgZG9uJ3QgbmVlZCB0aGlzIGFueW1vcmVcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBuYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCAkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJzLnJlcXVlc3RTdHJlYW0pIHtcbiAgICAgICAgICAgIGlmIChhdHRycy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAnYmlkaSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ2NsaWVudF9zdHJlYW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGF0dHJzLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdzZXJ2ZXJfc3RyZWFtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAndW5hcnknO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZSA9IGF0dHJzLnJlcXVlc3RTZXJpYWxpemU7XG4gICAgICAgIGNvbnN0IGRlc2VyaWFsaXplID0gYXR0cnMucmVzcG9uc2VEZXNlcmlhbGl6ZTtcbiAgICAgICAgY29uc3QgbWV0aG9kRnVuYyA9IHBhcnRpYWwocmVxdWVzdGVyRnVuY3NbbWV0aG9kVHlwZV0sIGF0dHJzLnBhdGgsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpO1xuICAgICAgICBTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGVbbmFtZV0gPSBtZXRob2RGdW5jO1xuICAgICAgICAvLyBBc3NvY2lhdGUgYWxsIHByb3ZpZGVkIGF0dHJpYnV0ZXMgd2l0aCB0aGUgbWV0aG9kXG4gICAgICAgIE9iamVjdC5hc3NpZ24oU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlW25hbWVdLCBhdHRycyk7XG4gICAgICAgIGlmIChhdHRycy5vcmlnaW5hbE5hbWUgJiYgIWlzUHJvdG90eXBlUG9sbHV0ZWQoYXR0cnMub3JpZ2luYWxOYW1lKSkge1xuICAgICAgICAgICAgU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlW2F0dHJzLm9yaWdpbmFsTmFtZV0gPVxuICAgICAgICAgICAgICAgIFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZVtuYW1lXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFNlcnZpY2VDbGllbnRJbXBsLnNlcnZpY2UgPSBtZXRob2RzO1xuICAgIFNlcnZpY2VDbGllbnRJbXBsLnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7XG4gICAgcmV0dXJuIFNlcnZpY2VDbGllbnRJbXBsO1xufVxuZXhwb3J0cy5tYWtlQ2xpZW50Q29uc3RydWN0b3IgPSBtYWtlQ2xpZW50Q29uc3RydWN0b3I7XG5mdW5jdGlvbiBwYXJ0aWFsKGZuLCBwYXRoLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgcGF0aCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgLi4uYXJncyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzUHJvdG9idWZUeXBlRGVmaW5pdGlvbihvYmopIHtcbiAgICByZXR1cm4gJ2Zvcm1hdCcgaW4gb2JqO1xufVxuLyoqXG4gKiBMb2FkIGEgZ1JQQyBwYWNrYWdlIGRlZmluaXRpb24gYXMgYSBnUlBDIG9iamVjdCBoaWVyYXJjaHkuXG4gKiBAcGFyYW0gcGFja2FnZURlZiBUaGUgcGFja2FnZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqIEByZXR1cm4gVGhlIHJlc3VsdGluZyBnUlBDIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gbG9hZFBhY2thZ2VEZWZpbml0aW9uKHBhY2thZ2VEZWYpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHNlcnZpY2VGcW4gaW4gcGFja2FnZURlZikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhY2thZ2VEZWYsIHNlcnZpY2VGcW4pKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gcGFja2FnZURlZltzZXJ2aWNlRnFuXTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVDb21wb25lbnRzID0gc2VydmljZUZxbi5zcGxpdCgnLicpO1xuICAgICAgICAgICAgaWYgKG5hbWVDb21wb25lbnRzLnNvbWUoKGNvbXApID0+IGlzUHJvdG90eXBlUG9sbHV0ZWQoY29tcCkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlTmFtZSA9IG5hbWVDb21wb25lbnRzW25hbWVDb21wb25lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSByZXN1bHQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhY2thZ2VOYW1lIG9mIG5hbWVDb21wb25lbnRzLnNsaWNlKDAsIC0xKSkge1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudFtwYWNrYWdlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFtwYWNrYWdlTmFtZV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFja2FnZU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUHJvdG9idWZUeXBlRGVmaW5pdGlvbihzZXJ2aWNlKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRbc2VydmljZU5hbWVdID0gc2VydmljZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRbc2VydmljZU5hbWVdID0gbWFrZUNsaWVudENvbnN0cnVjdG9yKHNlcnZpY2UsIHNlcnZpY2VOYW1lLCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMubG9hZFBhY2thZ2VEZWZpbml0aW9uID0gbG9hZFBhY2thZ2VEZWZpbml0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFrZS1jbGllbnQuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwibG9hZFBhY2thZ2VEZWZpbml0aW9uIiwibWFrZUNsaWVudENvbnN0cnVjdG9yIiwiY2xpZW50XzEiLCJyZXF1aXJlIiwicmVxdWVzdGVyRnVuY3MiLCJ1bmFyeSIsIkNsaWVudCIsInByb3RvdHlwZSIsIm1ha2VVbmFyeVJlcXVlc3QiLCJzZXJ2ZXJfc3RyZWFtIiwibWFrZVNlcnZlclN0cmVhbVJlcXVlc3QiLCJjbGllbnRfc3RyZWFtIiwibWFrZUNsaWVudFN0cmVhbVJlcXVlc3QiLCJiaWRpIiwibWFrZUJpZGlTdHJlYW1SZXF1ZXN0IiwiaXNQcm90b3R5cGVQb2xsdXRlZCIsImtleSIsImluY2x1ZGVzIiwibWV0aG9kcyIsInNlcnZpY2VOYW1lIiwiY2xhc3NPcHRpb25zIiwiU2VydmljZUNsaWVudEltcGwiLCJrZXlzIiwiZm9yRWFjaCIsIm5hbWUiLCJhdHRycyIsIm1ldGhvZFR5cGUiLCJjaGFyQXQiLCJFcnJvciIsInJlcXVlc3RTdHJlYW0iLCJyZXNwb25zZVN0cmVhbSIsInNlcmlhbGl6ZSIsInJlcXVlc3RTZXJpYWxpemUiLCJkZXNlcmlhbGl6ZSIsInJlc3BvbnNlRGVzZXJpYWxpemUiLCJtZXRob2RGdW5jIiwicGFydGlhbCIsInBhdGgiLCJhc3NpZ24iLCJvcmlnaW5hbE5hbWUiLCJzZXJ2aWNlIiwiZm4iLCJhcmdzIiwiY2FsbCIsImlzUHJvdG9idWZUeXBlRGVmaW5pdGlvbiIsIm9iaiIsInBhY2thZ2VEZWYiLCJyZXN1bHQiLCJzZXJ2aWNlRnFuIiwiaGFzT3duUHJvcGVydHkiLCJuYW1lQ29tcG9uZW50cyIsInNwbGl0Iiwic29tZSIsImNvbXAiLCJsZW5ndGgiLCJjdXJyZW50IiwicGFja2FnZU5hbWUiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/make-client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/max-message-size-filter.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/max-message-size-filter.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.MaxMessageSizeFilterFactory = exports.MaxMessageSizeFilter = void 0;\nconst filter_1 = __webpack_require__(/*! ./filter */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/filter.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nclass MaxMessageSizeFilter extends filter_1.BaseFilter {\n  constructor(options) {\n    super();\n    this.maxSendMessageSize = constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n    this.maxReceiveMessageSize = constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n    if ('grpc.max_send_message_length' in options) {\n      this.maxSendMessageSize = options['grpc.max_send_message_length'];\n    }\n    if ('grpc.max_receive_message_length' in options) {\n      this.maxReceiveMessageSize = options['grpc.max_receive_message_length'];\n    }\n  }\n  async sendMessage(message) {\n    /* A configured size of -1 means that there is no limit, so skip the check\n     * entirely */\n    if (this.maxSendMessageSize === -1) {\n      return message;\n    } else {\n      const concreteMessage = await message;\n      if (concreteMessage.message.length > this.maxSendMessageSize) {\n        throw {\n          code: constants_1.Status.RESOURCE_EXHAUSTED,\n          details: `Sent message larger than max (${concreteMessage.message.length} vs. ${this.maxSendMessageSize})`,\n          metadata: new metadata_1.Metadata()\n        };\n      } else {\n        return concreteMessage;\n      }\n    }\n  }\n  async receiveMessage(message) {\n    /* A configured size of -1 means that there is no limit, so skip the check\n     * entirely */\n    if (this.maxReceiveMessageSize === -1) {\n      return message;\n    } else {\n      const concreteMessage = await message;\n      if (concreteMessage.length > this.maxReceiveMessageSize) {\n        throw {\n          code: constants_1.Status.RESOURCE_EXHAUSTED,\n          details: `Received message larger than max (${concreteMessage.length} vs. ${this.maxReceiveMessageSize})`,\n          metadata: new metadata_1.Metadata()\n        };\n      } else {\n        return concreteMessage;\n      }\n    }\n  }\n}\nexports.MaxMessageSizeFilter = MaxMessageSizeFilter;\nclass MaxMessageSizeFilterFactory {\n  constructor(options) {\n    this.options = options;\n  }\n  createFilter() {\n    return new MaxMessageSizeFilter(this.options);\n  }\n}\nexports.MaxMessageSizeFilterFactory = MaxMessageSizeFilterFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbWF4LW1lc3NhZ2Utc2l6ZS1maWx0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsbUNBQW1DLEdBQUdBLDRCQUE0QixHQUFHLEtBQUssQ0FBQztBQUMzRSxNQUFNSSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsd0VBQVUsQ0FBQztBQUNwQyxNQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNRSxVQUFVLEdBQUdGLG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNRixvQkFBb0IsU0FBU0MsUUFBUSxDQUFDSSxVQUFVLENBQUM7RUFDbkRDLFdBQVdBLENBQUNDLE9BQU8sRUFBRTtJQUNqQixLQUFLLENBQUMsQ0FBQztJQUNQLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUdMLFdBQVcsQ0FBQ00sK0JBQStCO0lBQ3JFLElBQUksQ0FBQ0MscUJBQXFCLEdBQUdQLFdBQVcsQ0FBQ1Esa0NBQWtDO0lBQzNFLElBQUksOEJBQThCLElBQUlKLE9BQU8sRUFBRTtNQUMzQyxJQUFJLENBQUNDLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsOEJBQThCLENBQUM7SUFDckU7SUFDQSxJQUFJLGlDQUFpQyxJQUFJQSxPQUFPLEVBQUU7TUFDOUMsSUFBSSxDQUFDRyxxQkFBcUIsR0FBR0gsT0FBTyxDQUFDLGlDQUFpQyxDQUFDO0lBQzNFO0VBQ0o7RUFDQSxNQUFNSyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDdkI7QUFDUjtJQUNRLElBQUksSUFBSSxDQUFDTCxrQkFBa0IsS0FBSyxDQUFDLENBQUMsRUFBRTtNQUNoQyxPQUFPSyxPQUFPO0lBQ2xCLENBQUMsTUFDSTtNQUNELE1BQU1DLGVBQWUsR0FBRyxNQUFNRCxPQUFPO01BQ3JDLElBQUlDLGVBQWUsQ0FBQ0QsT0FBTyxDQUFDRSxNQUFNLEdBQUcsSUFBSSxDQUFDUCxrQkFBa0IsRUFBRTtRQUMxRCxNQUFNO1VBQ0ZRLElBQUksRUFBRWIsV0FBVyxDQUFDYyxNQUFNLENBQUNDLGtCQUFrQjtVQUMzQ0MsT0FBTyxFQUFHLGlDQUFnQ0wsZUFBZSxDQUFDRCxPQUFPLENBQUNFLE1BQU8sUUFBTyxJQUFJLENBQUNQLGtCQUFtQixHQUFFO1VBQzFHWSxRQUFRLEVBQUUsSUFBSWhCLFVBQVUsQ0FBQ2lCLFFBQVEsQ0FBQztRQUN0QyxDQUFDO01BQ0wsQ0FBQyxNQUNJO1FBQ0QsT0FBT1AsZUFBZTtNQUMxQjtJQUNKO0VBQ0o7RUFDQSxNQUFNUSxjQUFjQSxDQUFDVCxPQUFPLEVBQUU7SUFDMUI7QUFDUjtJQUNRLElBQUksSUFBSSxDQUFDSCxxQkFBcUIsS0FBSyxDQUFDLENBQUMsRUFBRTtNQUNuQyxPQUFPRyxPQUFPO0lBQ2xCLENBQUMsTUFDSTtNQUNELE1BQU1DLGVBQWUsR0FBRyxNQUFNRCxPQUFPO01BQ3JDLElBQUlDLGVBQWUsQ0FBQ0MsTUFBTSxHQUFHLElBQUksQ0FBQ0wscUJBQXFCLEVBQUU7UUFDckQsTUFBTTtVQUNGTSxJQUFJLEVBQUViLFdBQVcsQ0FBQ2MsTUFBTSxDQUFDQyxrQkFBa0I7VUFDM0NDLE9BQU8sRUFBRyxxQ0FBb0NMLGVBQWUsQ0FBQ0MsTUFBTyxRQUFPLElBQUksQ0FBQ0wscUJBQXNCLEdBQUU7VUFDekdVLFFBQVEsRUFBRSxJQUFJaEIsVUFBVSxDQUFDaUIsUUFBUSxDQUFDO1FBQ3RDLENBQUM7TUFDTCxDQUFDLE1BQ0k7UUFDRCxPQUFPUCxlQUFlO01BQzFCO0lBQ0o7RUFDSjtBQUNKO0FBQ0FqQiw0QkFBNEIsR0FBR0csb0JBQW9CO0FBQ25ELE1BQU1ELDJCQUEyQixDQUFDO0VBQzlCTyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDakIsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87RUFDMUI7RUFDQWdCLFlBQVlBLENBQUEsRUFBRztJQUNYLE9BQU8sSUFBSXZCLG9CQUFvQixDQUFDLElBQUksQ0FBQ08sT0FBTyxDQUFDO0VBQ2pEO0FBQ0o7QUFDQVYsbUNBQW1DLEdBQUdFLDJCQUEyQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbWF4LW1lc3NhZ2Utc2l6ZS1maWx0ZXIuanM/YWM3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NYXhNZXNzYWdlU2l6ZUZpbHRlckZhY3RvcnkgPSBleHBvcnRzLk1heE1lc3NhZ2VTaXplRmlsdGVyID0gdm9pZCAwO1xuY29uc3QgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNsYXNzIE1heE1lc3NhZ2VTaXplRmlsdGVyIGV4dGVuZHMgZmlsdGVyXzEuQmFzZUZpbHRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZSA9IGNvbnN0YW50c18xLkRFRkFVTFRfTUFYX1NFTkRfTUVTU0FHRV9MRU5HVEg7XG4gICAgICAgIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplID0gY29uc3RhbnRzXzEuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSDtcbiAgICAgICAgaWYgKCdncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZSA9IG9wdGlvbnNbJ2dycGMubWF4X3NlbmRfbWVzc2FnZV9sZW5ndGgnXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2dycGMubWF4X3JlY2VpdmVfbWVzc2FnZV9sZW5ndGgnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplID0gb3B0aW9uc1snZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCddO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgLyogQSBjb25maWd1cmVkIHNpemUgb2YgLTEgbWVhbnMgdGhhdCB0aGVyZSBpcyBubyBsaW1pdCwgc28gc2tpcCB0aGUgY2hlY2tcbiAgICAgICAgICogZW50aXJlbHkgKi9cbiAgICAgICAgaWYgKHRoaXMubWF4U2VuZE1lc3NhZ2VTaXplID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb25jcmV0ZU1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGNvbmNyZXRlTWVzc2FnZS5tZXNzYWdlLmxlbmd0aCA+IHRoaXMubWF4U2VuZE1lc3NhZ2VTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVELFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgU2VudCBtZXNzYWdlIGxhcmdlciB0aGFuIG1heCAoJHtjb25jcmV0ZU1lc3NhZ2UubWVzc2FnZS5sZW5ndGh9IHZzLiAke3RoaXMubWF4U2VuZE1lc3NhZ2VTaXplfSlgLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmNyZXRlTWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIC8qIEEgY29uZmlndXJlZCBzaXplIG9mIC0xIG1lYW5zIHRoYXQgdGhlcmUgaXMgbm8gbGltaXQsIHNvIHNraXAgdGhlIGNoZWNrXG4gICAgICAgICAqIGVudGlyZWx5ICovXG4gICAgICAgIGlmICh0aGlzLm1heFJlY2VpdmVNZXNzYWdlU2l6ZSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29uY3JldGVNZXNzYWdlID0gYXdhaXQgbWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChjb25jcmV0ZU1lc3NhZ2UubGVuZ3RoID4gdGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBtZXNzYWdlIGxhcmdlciB0aGFuIG1heCAoJHtjb25jcmV0ZU1lc3NhZ2UubGVuZ3RofSB2cy4gJHt0aGlzLm1heFJlY2VpdmVNZXNzYWdlU2l6ZX0pYCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25jcmV0ZU1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLk1heE1lc3NhZ2VTaXplRmlsdGVyID0gTWF4TWVzc2FnZVNpemVGaWx0ZXI7XG5jbGFzcyBNYXhNZXNzYWdlU2l6ZUZpbHRlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgY3JlYXRlRmlsdGVyKCkge1xuICAgICAgICByZXR1cm4gbmV3IE1heE1lc3NhZ2VTaXplRmlsdGVyKHRoaXMub3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0cy5NYXhNZXNzYWdlU2l6ZUZpbHRlckZhY3RvcnkgPSBNYXhNZXNzYWdlU2l6ZUZpbHRlckZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXgtbWVzc2FnZS1zaXplLWZpbHRlci5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJNYXhNZXNzYWdlU2l6ZUZpbHRlckZhY3RvcnkiLCJNYXhNZXNzYWdlU2l6ZUZpbHRlciIsImZpbHRlcl8xIiwicmVxdWlyZSIsImNvbnN0YW50c18xIiwibWV0YWRhdGFfMSIsIkJhc2VGaWx0ZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJtYXhTZW5kTWVzc2FnZVNpemUiLCJERUZBVUxUX01BWF9TRU5EX01FU1NBR0VfTEVOR1RIIiwibWF4UmVjZWl2ZU1lc3NhZ2VTaXplIiwiREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSCIsInNlbmRNZXNzYWdlIiwibWVzc2FnZSIsImNvbmNyZXRlTWVzc2FnZSIsImxlbmd0aCIsImNvZGUiLCJTdGF0dXMiLCJSRVNPVVJDRV9FWEhBVVNURUQiLCJkZXRhaWxzIiwibWV0YWRhdGEiLCJNZXRhZGF0YSIsInJlY2VpdmVNZXNzYWdlIiwiY3JlYXRlRmlsdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/max-message-size-filter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js":
/*!**********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/metadata.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Metadata = void 0;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/error.js\");\nconst LEGAL_KEY_REGEX = /^[0-9a-z_.-]+$/;\nconst LEGAL_NON_BINARY_VALUE_REGEX = /^[ -~]*$/;\nfunction isLegalKey(key) {\n  return LEGAL_KEY_REGEX.test(key);\n}\nfunction isLegalNonBinaryValue(value) {\n  return LEGAL_NON_BINARY_VALUE_REGEX.test(value);\n}\nfunction isBinaryKey(key) {\n  return key.endsWith('-bin');\n}\nfunction isCustomMetadata(key) {\n  return !key.startsWith('grpc-');\n}\nfunction normalizeKey(key) {\n  return key.toLowerCase();\n}\nfunction validate(key, value) {\n  if (!isLegalKey(key)) {\n    throw new Error('Metadata key \"' + key + '\" contains illegal characters');\n  }\n  if (value !== null && value !== undefined) {\n    if (isBinaryKey(key)) {\n      if (!Buffer.isBuffer(value)) {\n        throw new Error(\"keys that end with '-bin' must have Buffer values\");\n      }\n    } else {\n      if (Buffer.isBuffer(value)) {\n        throw new Error(\"keys that don't end with '-bin' must have String values\");\n      }\n      if (!isLegalNonBinaryValue(value)) {\n        throw new Error('Metadata string value \"' + value + '\" contains illegal characters');\n      }\n    }\n  }\n}\n/**\n * A class for storing metadata. Keys are normalized to lowercase ASCII.\n */\nclass Metadata {\n  constructor(options = {}) {\n    this.internalRepr = new Map();\n    this.options = options;\n  }\n  /**\n   * Sets the given value for the given key by replacing any other values\n   * associated with that key. Normalizes the key.\n   * @param key The key to whose value should be set.\n   * @param value The value to set. Must be a buffer if and only\n   *   if the normalized key ends with '-bin'.\n   */\n  set(key, value) {\n    key = normalizeKey(key);\n    validate(key, value);\n    this.internalRepr.set(key, [value]);\n  }\n  /**\n   * Adds the given value for the given key by appending to a list of previous\n   * values associated with that key. Normalizes the key.\n   * @param key The key for which a new value should be appended.\n   * @param value The value to add. Must be a buffer if and only\n   *   if the normalized key ends with '-bin'.\n   */\n  add(key, value) {\n    key = normalizeKey(key);\n    validate(key, value);\n    const existingValue = this.internalRepr.get(key);\n    if (existingValue === undefined) {\n      this.internalRepr.set(key, [value]);\n    } else {\n      existingValue.push(value);\n    }\n  }\n  /**\n   * Removes the given key and any associated values. Normalizes the key.\n   * @param key The key whose values should be removed.\n   */\n  remove(key) {\n    key = normalizeKey(key);\n    // validate(key);\n    this.internalRepr.delete(key);\n  }\n  /**\n   * Gets a list of all values associated with the key. Normalizes the key.\n   * @param key The key whose value should be retrieved.\n   * @return A list of values associated with the given key.\n   */\n  get(key) {\n    key = normalizeKey(key);\n    // validate(key);\n    return this.internalRepr.get(key) || [];\n  }\n  /**\n   * Gets a plain object mapping each key to the first value associated with it.\n   * This reflects the most common way that people will want to see metadata.\n   * @return A key/value mapping of the metadata.\n   */\n  getMap() {\n    const result = {};\n    for (const [key, values] of this.internalRepr) {\n      if (values.length > 0) {\n        const v = values[0];\n        result[key] = Buffer.isBuffer(v) ? Buffer.from(v) : v;\n      }\n    }\n    return result;\n  }\n  /**\n   * Clones the metadata object.\n   * @return The newly cloned object.\n   */\n  clone() {\n    const newMetadata = new Metadata(this.options);\n    const newInternalRepr = newMetadata.internalRepr;\n    for (const [key, value] of this.internalRepr) {\n      const clonedValue = value.map(v => {\n        if (Buffer.isBuffer(v)) {\n          return Buffer.from(v);\n        } else {\n          return v;\n        }\n      });\n      newInternalRepr.set(key, clonedValue);\n    }\n    return newMetadata;\n  }\n  /**\n   * Merges all key-value pairs from a given Metadata object into this one.\n   * If both this object and the given object have values in the same key,\n   * values from the other Metadata object will be appended to this object's\n   * values.\n   * @param other A Metadata object.\n   */\n  merge(other) {\n    for (const [key, values] of other.internalRepr) {\n      const mergedValue = (this.internalRepr.get(key) || []).concat(values);\n      this.internalRepr.set(key, mergedValue);\n    }\n  }\n  setOptions(options) {\n    this.options = options;\n  }\n  getOptions() {\n    return this.options;\n  }\n  /**\n   * Creates an OutgoingHttpHeaders object that can be used with the http2 API.\n   */\n  toHttp2Headers() {\n    // NOTE: Node <8.9 formats http2 headers incorrectly.\n    const result = {};\n    for (const [key, values] of this.internalRepr) {\n      // We assume that the user's interaction with this object is limited to\n      // through its public API (i.e. keys and values are already validated).\n      result[key] = values.map(bufToString);\n    }\n    return result;\n  }\n  /**\n   * This modifies the behavior of JSON.stringify to show an object\n   * representation of the metadata map.\n   */\n  toJSON() {\n    const result = {};\n    for (const [key, values] of this.internalRepr) {\n      result[key] = values;\n    }\n    return result;\n  }\n  /**\n   * Returns a new Metadata object based fields in a given IncomingHttpHeaders\n   * object.\n   * @param headers An IncomingHttpHeaders object.\n   */\n  static fromHttp2Headers(headers) {\n    const result = new Metadata();\n    for (const key of Object.keys(headers)) {\n      // Reserved headers (beginning with `:`) are not valid keys.\n      if (key.charAt(0) === ':') {\n        continue;\n      }\n      const values = headers[key];\n      try {\n        if (isBinaryKey(key)) {\n          if (Array.isArray(values)) {\n            values.forEach(value => {\n              result.add(key, Buffer.from(value, 'base64'));\n            });\n          } else if (values !== undefined) {\n            if (isCustomMetadata(key)) {\n              values.split(',').forEach(v => {\n                result.add(key, Buffer.from(v.trim(), 'base64'));\n              });\n            } else {\n              result.add(key, Buffer.from(values, 'base64'));\n            }\n          }\n        } else {\n          if (Array.isArray(values)) {\n            values.forEach(value => {\n              result.add(key, value);\n            });\n          } else if (values !== undefined) {\n            result.add(key, values);\n          }\n        }\n      } catch (error) {\n        const message = `Failed to add metadata entry ${key}: ${values}. ${(0, error_1.getErrorMessage)(error)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, message);\n      }\n    }\n    return result;\n  }\n}\nexports.Metadata = Metadata;\nconst bufToString = val => {\n  return Buffer.isBuffer(val) ? val.toString('base64') : val;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbWV0YWRhdGEuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLE1BQU1HLFNBQVMsR0FBR0MsbUJBQU8sQ0FBQywwRUFBVyxDQUFDO0FBQ3RDLE1BQU1DLFdBQVcsR0FBR0QsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1FLE9BQU8sR0FBR0YsbUJBQU8sQ0FBQyxzRUFBUyxDQUFDO0FBQ2xDLE1BQU1HLGVBQWUsR0FBRyxnQkFBZ0I7QUFDeEMsTUFBTUMsNEJBQTRCLEdBQUcsVUFBVTtBQUMvQyxTQUFTQyxVQUFVQSxDQUFDQyxHQUFHLEVBQUU7RUFDckIsT0FBT0gsZUFBZSxDQUFDSSxJQUFJLENBQUNELEdBQUcsQ0FBQztBQUNwQztBQUNBLFNBQVNFLHFCQUFxQkEsQ0FBQ1gsS0FBSyxFQUFFO0VBQ2xDLE9BQU9PLDRCQUE0QixDQUFDRyxJQUFJLENBQUNWLEtBQUssQ0FBQztBQUNuRDtBQUNBLFNBQVNZLFdBQVdBLENBQUNILEdBQUcsRUFBRTtFQUN0QixPQUFPQSxHQUFHLENBQUNJLFFBQVEsQ0FBQyxNQUFNLENBQUM7QUFDL0I7QUFDQSxTQUFTQyxnQkFBZ0JBLENBQUNMLEdBQUcsRUFBRTtFQUMzQixPQUFPLENBQUNBLEdBQUcsQ0FBQ00sVUFBVSxDQUFDLE9BQU8sQ0FBQztBQUNuQztBQUNBLFNBQVNDLFlBQVlBLENBQUNQLEdBQUcsRUFBRTtFQUN2QixPQUFPQSxHQUFHLENBQUNRLFdBQVcsQ0FBQyxDQUFDO0FBQzVCO0FBQ0EsU0FBU0MsUUFBUUEsQ0FBQ1QsR0FBRyxFQUFFVCxLQUFL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QUNwQm1DLE1BQU0sQ0FBQ1AsR0FBRyxDQUFDbkIsR0FBRyxFQUFFVCxLQUFLLENBQUM7WUFDMUIsQ0FBQyxDQUFDO1VBQ04sQ0FBQyxNQUNJLElBQUlvQyxNQUFNLEtBQUtoQixTQUFTLEVBQUU7WUFDM0JlLE1BQU0sQ0FBQ1AsR0FBRyxDQUFDbkIsR0FBRyxFQUFFMkIsTUFBTSxDQUFDO1VBQzNCO1FBQ0o7TUFDSixDQUFDLENBQ0QsT0FBTzJCLEtBQUssRUFBRTtRQUNWLE1BQU1DLE9BQU8sR0FBSSxnQ0FBK0J2RCxHQUFJLEtBQUkyQixNQUFPLEtBQUksQ0FBQyxDQUFDLEVBQUUvQixPQUFPLENBQUM0RCxlQUFlLEVBQUVGLEtBQUssQ0FBRSwwRUFBeUU7UUFDaEwsQ0FBQyxDQUFDLEVBQUU3RCxTQUFTLENBQUNnRSxHQUFHLEVBQUU5RCxXQUFXLENBQUMrRCxZQUFZLENBQUNDLEtBQUssRUFBRUosT0FBTyxDQUFDO01BQy9EO0lBQ0o7SUFDQSxPQUFPN0IsTUFBTTtFQUNqQjtBQUNKO0FBQ0FwQyxnQkFBZ0IsR0FBR0UsUUFBUTtBQUMzQixNQUFNbUQsV0FBVyxHQUFJaUIsR0FBRyxJQUFLO0VBQ3pCLE9BQU9oRCxNQUFNLENBQUNDLFFBQVEsQ0FBQytDLEdBQUcsQ0FBQyxHQUFHQSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBR0QsR0FBRztBQUM5RCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9tZXRhZGF0YS5qcz8xYzVkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1ldGFkYXRhID0gdm9pZCAwO1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgTEVHQUxfS0VZX1JFR0VYID0gL15bMC05YS16Xy4tXSskLztcbmNvbnN0IExFR0FMX05PTl9CSU5BUllfVkFMVUVfUkVHRVggPSAvXlsgLX5dKiQvO1xuZnVuY3Rpb24gaXNMZWdhbEtleShrZXkpIHtcbiAgICByZXR1cm4gTEVHQUxfS0VZX1JFR0VYLnRlc3Qoa2V5KTtcbn1cbmZ1bmN0aW9uIGlzTGVnYWxOb25CaW5hcnlWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiBMRUdBTF9OT05fQklOQVJZX1ZBTFVFX1JFR0VYLnRlc3QodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNCaW5hcnlLZXkoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5lbmRzV2l0aCgnLWJpbicpO1xufVxuZnVuY3Rpb24gaXNDdXN0b21NZXRhZGF0YShrZXkpIHtcbiAgICByZXR1cm4gIWtleS5zdGFydHNXaXRoKCdncnBjLScpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplS2V5KGtleSkge1xuICAgIHJldHVybiBrZXkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIWlzTGVnYWxLZXkoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGFkYXRhIGtleSBcIicgKyBrZXkgKyAnXCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzJyk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChpc0JpbmFyeUtleShrZXkpKSB7XG4gICAgICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXlzIHRoYXQgZW5kIHdpdGggJy1iaW4nIG11c3QgaGF2ZSBCdWZmZXIgdmFsdWVzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXlzIHRoYXQgZG9uJ3QgZW5kIHdpdGggJy1iaW4nIG11c3QgaGF2ZSBTdHJpbmcgdmFsdWVzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0xlZ2FsTm9uQmluYXJ5VmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRhZGF0YSBzdHJpbmcgdmFsdWUgXCInICsgdmFsdWUgKyAnXCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgY2xhc3MgZm9yIHN0b3JpbmcgbWV0YWRhdGEuIEtleXMgYXJlIG5vcm1hbGl6ZWQgdG8gbG93ZXJjYXNlIEFTQ0lJLlxuICovXG5jbGFzcyBNZXRhZGF0YSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxSZXByID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleSBieSByZXBsYWNpbmcgYW55IG90aGVyIHZhbHVlc1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byB3aG9zZSB2YWx1ZSBzaG91bGQgYmUgc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LiBNdXN0IGJlIGEgYnVmZmVyIGlmIGFuZCBvbmx5XG4gICAgICogICBpZiB0aGUgbm9ybWFsaXplZCBrZXkgZW5kcyB3aXRoICctYmluJy5cbiAgICAgKi9cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgdmFsaWRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxSZXByLnNldChrZXksIFt2YWx1ZV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleSBieSBhcHBlbmRpbmcgdG8gYSBsaXN0IG9mIHByZXZpb3VzXG4gICAgICogdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSBmb3Igd2hpY2ggYSBuZXcgdmFsdWUgc2hvdWxkIGJlIGFwcGVuZGVkLlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gYWRkLiBNdXN0IGJlIGEgYnVmZmVyIGlmIGFuZCBvbmx5XG4gICAgICogICBpZiB0aGUgbm9ybWFsaXplZCBrZXkgZW5kcyB3aXRoICctYmluJy5cbiAgICAgKi9cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgdmFsaWRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVmFsdWUgPSB0aGlzLmludGVybmFsUmVwci5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFJlcHIuc2V0KGtleSwgW3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleGlzdGluZ1ZhbHVlLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGtleSBhbmQgYW55IGFzc29jaWF0ZWQgdmFsdWVzLiBOb3JtYWxpemVzIHRoZSBrZXkuXG4gICAgICogQHBhcmFtIGtleSBUaGUga2V5IHdob3NlIHZhbHVlcyBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgICAvLyB2YWxpZGF0ZShrZXkpO1xuICAgICAgICB0aGlzLmludGVybmFsUmVwci5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIGxpc3Qgb2YgYWxsIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB3aG9zZSB2YWx1ZSBzaG91bGQgYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm4gQSBsaXN0IG9mIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleS5cbiAgICAgKi9cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgICAvLyB2YWxpZGF0ZShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFJlcHIuZ2V0KGtleSkgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSBwbGFpbiBvYmplY3QgbWFwcGluZyBlYWNoIGtleSB0byB0aGUgZmlyc3QgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAqIFRoaXMgcmVmbGVjdHMgdGhlIG1vc3QgY29tbW9uIHdheSB0aGF0IHBlb3BsZSB3aWxsIHdhbnQgdG8gc2VlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm4gQSBrZXkvdmFsdWUgbWFwcGluZyBvZiB0aGUgbWV0YWRhdGEuXG4gICAgICovXG4gICAgZ2V0TWFwKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIHRoaXMuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gQnVmZmVyLmlzQnVmZmVyKHYpID8gQnVmZmVyLmZyb20odikgOiB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgbWV0YWRhdGEgb2JqZWN0LlxuICAgICAqIEByZXR1cm4gVGhlIG5ld2x5IGNsb25lZCBvYmplY3QuXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IG5ld01ldGFkYXRhID0gbmV3IE1ldGFkYXRhKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5ld0ludGVybmFsUmVwciA9IG5ld01ldGFkYXRhLmludGVybmFsUmVwcjtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5pbnRlcm5hbFJlcHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZFZhbHVlID0gdmFsdWUubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdJbnRlcm5hbFJlcHIuc2V0KGtleSwgY2xvbmVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdNZXRhZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVyZ2VzIGFsbCBrZXktdmFsdWUgcGFpcnMgZnJvbSBhIGdpdmVuIE1ldGFkYXRhIG9iamVjdCBpbnRvIHRoaXMgb25lLlxuICAgICAqIElmIGJvdGggdGhpcyBvYmplY3QgYW5kIHRoZSBnaXZlbiBvYmplY3QgaGF2ZSB2YWx1ZXMgaW4gdGhlIHNhbWUga2V5LFxuICAgICAqIHZhbHVlcyBmcm9tIHRoZSBvdGhlciBNZXRhZGF0YSBvYmplY3Qgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGlzIG9iamVjdCdzXG4gICAgICogdmFsdWVzLlxuICAgICAqIEBwYXJhbSBvdGhlciBBIE1ldGFkYXRhIG9iamVjdC5cbiAgICAgKi9cbiAgICBtZXJnZShvdGhlcikge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlc10gb2Ygb3RoZXIuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRWYWx1ZSA9ICh0aGlzLmludGVybmFsUmVwci5nZXQoa2V5KSB8fCBbXSkuY29uY2F0KHZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLmludGVybmFsUmVwci5zZXQoa2V5LCBtZXJnZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gT3V0Z29pbmdIdHRwSGVhZGVycyBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHRoZSBodHRwMiBBUEkuXG4gICAgICovXG4gICAgdG9IdHRwMkhlYWRlcnMoKSB7XG4gICAgICAgIC8vIE5PVEU6IE5vZGUgPDguOSBmb3JtYXRzIGh0dHAyIGhlYWRlcnMgaW5jb3JyZWN0bHkuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlc10gb2YgdGhpcy5pbnRlcm5hbFJlcHIpIHtcbiAgICAgICAgICAgIC8vIFdlIGFzc3VtZSB0aGF0IHRoZSB1c2VyJ3MgaW50ZXJhY3Rpb24gd2l0aCB0aGlzIG9iamVjdCBpcyBsaW1pdGVkIHRvXG4gICAgICAgICAgICAvLyB0aHJvdWdoIGl0cyBwdWJsaWMgQVBJIChpLmUuIGtleXMgYW5kIHZhbHVlcyBhcmUgYWxyZWFkeSB2YWxpZGF0ZWQpLlxuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZXMubWFwKGJ1ZlRvU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1vZGlmaWVzIHRoZSBiZWhhdmlvciBvZiBKU09OLnN0cmluZ2lmeSB0byBzaG93IGFuIG9iamVjdFxuICAgICAqIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtZXRhZGF0YSBtYXAuXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIHRoaXMuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IE1ldGFkYXRhIG9iamVjdCBiYXNlZCBmaWVsZHMgaW4gYSBnaXZlbiBJbmNvbWluZ0h0dHBIZWFkZXJzXG4gICAgICogb2JqZWN0LlxuICAgICAqIEBwYXJhbSBoZWFkZXJzIEFuIEluY29taW5nSHR0cEhlYWRlcnMgb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tSHR0cDJIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IE1ldGFkYXRhKCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgICAgICAvLyBSZXNlcnZlZCBoZWFkZXJzIChiZWdpbm5pbmcgd2l0aCBgOmApIGFyZSBub3QgdmFsaWQga2V5cy5cbiAgICAgICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnOicpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQmluYXJ5S2V5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoa2V5LCBCdWZmZXIuZnJvbSh2YWx1ZSwgJ2Jhc2U2NCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDdXN0b21NZXRhZGF0YShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnNwbGl0KCcsJykuZm9yRWFjaCh2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZChrZXksIEJ1ZmZlci5mcm9tKHYudHJpbSgpLCAnYmFzZTY0JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZChrZXksIEJ1ZmZlci5mcm9tKHZhbHVlcywgJ2Jhc2U2NCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZChrZXksIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYEZhaWxlZCB0byBhZGQgbWV0YWRhdGEgZW50cnkgJHtrZXl9OiAke3ZhbHVlc30uICR7KDAsIGVycm9yXzEuZ2V0RXJyb3JNZXNzYWdlKShlcnJvcil9LiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy1ub2RlL2lzc3Vlcy8xMTczYDtcbiAgICAgICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmV4cG9ydHMuTWV0YWRhdGEgPSBNZXRhZGF0YTtcbmNvbnN0IGJ1ZlRvU3RyaW5nID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiBCdWZmZXIuaXNCdWZmZXIodmFsKSA/IHZhbC50b1N0cmluZygnYmFzZTY0JykgOiB2YWw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YWRhdGEuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiTWV0YWRhdGEiLCJsb2dnaW5nXzEiLCJyZXF1aXJlIiwiY29uc3RhbnRzXzEiLCJlcnJvcl8xIiwiTEVHQUxfS0VZX1JFR0VYIiwiTEVHQUxfTk9OX0JJTkFSWV9WQUxVRV9SRUdFWCIsImlzTGVnYWxLZXkiLCJrZXkiLCJ0ZXN0IiwiaXNMZWdhbE5vbkJpbmFyeVZhbHVlIiwiaXNCaW5hcnlLZXkiLCJlbmRzV2l0aCIsImlzQ3VzdG9tTWV0YWRhdGEiLCJzdGFydHNXaXRoIiwibm9ybWFsaXplS2V5IiwidG9Mb3dlckNhc2UiLCJ2YWxpZGF0ZSIsIkVycm9yIiwidW5kZWZpbmVkIiwiQnVmZmVyIiwiaXNCdWZmZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJpbnRlcm5hbFJlcHIiLCJNYXAiLCJzZXQiLCJhZGQiLCJleGlzdGluZ1ZhbHVlIiwiZ2V0IiwicHVzaCIsInJlbW92ZSIsImRlbGV0ZSIsImdldE1hcCIsInJlc3VsdCIsInZhbHVlcyIsImxlbmd0aCIsInYiLCJmcm9tIiwiY2xvbmUiLCJuZXdNZXRhZGF0YSIsIm5ld0ludGVybmFsUmVwciIsImNsb25lZFZhbHVlIiwibWFwIiwibWVyZ2UiLCJvdGhlciIsIm1lcmdlZFZhbHVlIiwiY29uY2F0Iiwic2V0T3B0aW9ucyIsImdldE9wdGlvbnMiLCJ0b0h0dHAySGVhZGVycyIsImJ1ZlRvU3RyaW5nIiwidG9KU09OIiwiZnJvbUh0dHAySGVhZGVycyIsImhlYWRlcnMiLCJrZXlzIiwiY2hhckF0IiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsInNwbGl0IiwidHJpbSIsImVycm9yIiwibWVzc2FnZSIsImdldEVycm9yTWVzc2FnZSIsImxvZyIsIkxvZ1ZlcmJvc2l0eSIsIkVSUk9SIiwidmFsIiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js":
/*!********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/picker.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.QueuePicker = exports.UnavailablePicker = exports.PickResultType = void 0;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nvar PickResultType;\n(function (PickResultType) {\n  PickResultType[PickResultType[\"COMPLETE\"] = 0] = \"COMPLETE\";\n  PickResultType[PickResultType[\"QUEUE\"] = 1] = \"QUEUE\";\n  PickResultType[PickResultType[\"TRANSIENT_FAILURE\"] = 2] = \"TRANSIENT_FAILURE\";\n  PickResultType[PickResultType[\"DROP\"] = 3] = \"DROP\";\n})(PickResultType || (exports.PickResultType = PickResultType = {}));\n/**\n * A standard picker representing a load balancer in the TRANSIENT_FAILURE\n * state. Always responds to every pick request with an UNAVAILABLE status.\n */\nclass UnavailablePicker {\n  constructor(status) {\n    this.status = Object.assign({\n      code: constants_1.Status.UNAVAILABLE,\n      details: 'No connection established',\n      metadata: new metadata_1.Metadata()\n    }, status);\n  }\n  pick(pickArgs) {\n    return {\n      pickResultType: PickResultType.TRANSIENT_FAILURE,\n      subchannel: null,\n      status: this.status,\n      onCallStarted: null,\n      onCallEnded: null\n    };\n  }\n}\nexports.UnavailablePicker = UnavailablePicker;\n/**\n * A standard picker representing a load balancer in the IDLE or CONNECTING\n * state. Always responds to every pick request with a QUEUE pick result\n * indicating that the pick should be tried again with the next `Picker`. Also\n * reports back to the load balancer that a connection should be established\n * once any pick is attempted.\n */\nclass QueuePicker {\n  // Constructed with a load balancer. Calls exitIdle on it the first time pick is called\n  constructor(loadBalancer) {\n    this.loadBalancer = loadBalancer;\n    this.calledExitIdle = false;\n  }\n  pick(pickArgs) {\n    if (!this.calledExitIdle) {\n      process.nextTick(() => {\n        this.loadBalancer.exitIdle();\n      });\n      this.calledExitIdle = true;\n    }\n    return {\n      pickResultType: PickResultType.QUEUE,\n      subchannel: null,\n      status: null,\n      onCallStarted: null,\n      onCallEnded: null\n    };\n  }\n}\nexports.QueuePicker = QueuePicker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcGlja2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELG1CQUFtQixHQUFHQSx5QkFBeUIsR0FBR0Esc0JBQXNCLEdBQUcsS0FBSyxDQUFDO0FBQ2pGLE1BQU1LLFVBQVUsR0FBR0MsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1DLFdBQVcsR0FBR0QsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLElBQUlGLGNBQWM7QUFDbEIsQ0FBQyxVQUFVQSxjQUFjLEVBQUU7RUFDdkJBLGNBQWMsQ0FBQ0EsY0FBYyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFVBQVU7RUFDM0RBLGNBQWMsQ0FBQ0EsY0FBYyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE9BQU87RUFDckRBLGNBQWMsQ0FBQ0EsY0FBYyxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsbUJBQW1CO0VBQzdFQSxjQUFjLENBQUNBLGNBQWMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNO0FBQ3ZELENBQUMsRUFBRUEsY0FBYyxLQUFLSixzQkFBc0IsR0FBR0ksY0FBYyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNRCxpQkFBaUIsQ0FBQztFQUNwQkssV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFO0lBQ2hCLElBQUksQ0FBQ0EsTUFBTSxHQUFHWCxNQUFNLENBQUNZLE1BQU0sQ0FBQztNQUFFQyxJQUFJLEVBQUVKLFdBQVcsQ0FBQ0ssTUFBTSxDQUFDQyxXQUFXO01BQUVDLE9BQU8sRUFBRSwyQkFBMkI7TUFBRUMsUUFBUSxFQUFFLElBQUlWLFVBQVUsQ0FBQ1csUUFBUSxDQUFDO0lBQUUsQ0FBQyxFQUFFUCxNQUFNLENBQUM7RUFDNUo7RUFDQVEsSUFBSUEsQ0FBQ0MsUUFBUSxFQUFFO0lBQ1gsT0FBTztNQUNIQyxjQUFjLEVBQUVmLGNBQWMsQ0FBQ2dCLGlCQUFpQjtNQUNoREMsVUFBVSxFQUFFLElBQUk7TUFDaEJaLE1BQU0sRUFBRSxJQUFJLENBQUNBLE1BQU07TUFDbkJhLGFBQWEsRUFBRSxJQUFJO01BQ25CQyxXQUFXLEVBQUU7SUFDakIsQ0FBQztFQUNMO0FBQ0o7QUFDQXZCLHlCQUF5QixHQUFHRyxpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNRCxXQUFXLENBQUM7RUFDZDtFQUNBTSxXQUFXQSxDQUFDZ0IsWUFBWSxFQUFFO0lBQ3RCLElBQUksQ0FBQ0EsWUFBWSxHQUFHQSxZQUFZO0lBQ2hDLElBQUksQ0FBQ0MsY0FBYyxHQUFHLEtBQUs7RUFDL0I7RUFDQVIsSUFBSUEsQ0FBQ0MsUUFBUSxFQUFFO0lBQ1gsSUFBSSxDQUFDLElBQUksQ0FBQ08sY0FBYyxFQUFFO01BQ3RCQyxPQUFPLENBQUNDLFFBQVEsQ0FBQyxNQUFNO1FBQ25CLElBQUksQ0FBQ0gsWUFBWSxDQUFDSSxRQUFRLENBQUMsQ0FBQztNQUNoQyxDQUFDLENBQUM7TUFDRixJQUFJLENBQUNILGNBQWMsR0FBRyxJQUFJO0lBQzlCO0lBQ0EsT0FBTztNQUNITixjQUFjLEVBQUVmLGNBQWMsQ0FBQ3lCLEtBQUs7TUFDcENSLFVBQVUsRUFBRSxJQUFJO01BQ2hCWixNQUFNLEVBQUUsSUFBSTtNQUNaYSxhQUFhLEVBQUUsSUFBSTtNQUNuQkMsV0FBVyxFQUFFO0lBQ2pCLENBQUM7RUFDTDtBQUNKO0FBQ0F2QixtQkFBbUIsR0FBR0UsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcGlja2VyLmpzPzU3ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUXVldWVQaWNrZXIgPSBleHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IHZvaWQgMDtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIFBpY2tSZXN1bHRUeXBlO1xuKGZ1bmN0aW9uIChQaWNrUmVzdWx0VHlwZSkge1xuICAgIFBpY2tSZXN1bHRUeXBlW1BpY2tSZXN1bHRUeXBlW1wiQ09NUExFVEVcIl0gPSAwXSA9IFwiQ09NUExFVEVcIjtcbiAgICBQaWNrUmVzdWx0VHlwZVtQaWNrUmVzdWx0VHlwZVtcIlFVRVVFXCJdID0gMV0gPSBcIlFVRVVFXCI7XG4gICAgUGlja1Jlc3VsdFR5cGVbUGlja1Jlc3VsdFR5cGVbXCJUUkFOU0lFTlRfRkFJTFVSRVwiXSA9IDJdID0gXCJUUkFOU0lFTlRfRkFJTFVSRVwiO1xuICAgIFBpY2tSZXN1bHRUeXBlW1BpY2tSZXN1bHRUeXBlW1wiRFJPUFwiXSA9IDNdID0gXCJEUk9QXCI7XG59KShQaWNrUmVzdWx0VHlwZSB8fCAoZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IFBpY2tSZXN1bHRUeXBlID0ge30pKTtcbi8qKlxuICogQSBzdGFuZGFyZCBwaWNrZXIgcmVwcmVzZW50aW5nIGEgbG9hZCBiYWxhbmNlciBpbiB0aGUgVFJBTlNJRU5UX0ZBSUxVUkVcbiAqIHN0YXRlLiBBbHdheXMgcmVzcG9uZHMgdG8gZXZlcnkgcGljayByZXF1ZXN0IHdpdGggYW4gVU5BVkFJTEFCTEUgc3RhdHVzLlxuICovXG5jbGFzcyBVbmF2YWlsYWJsZVBpY2tlciB7XG4gICAgY29uc3RydWN0b3Ioc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gT2JqZWN0LmFzc2lnbih7IGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSwgZGV0YWlsczogJ05vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQnLCBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9LCBzdGF0dXMpO1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaWNrUmVzdWx0VHlwZTogUGlja1Jlc3VsdFR5cGUuVFJBTlNJRU5UX0ZBSUxVUkUsXG4gICAgICAgICAgICBzdWJjaGFubmVsOiBudWxsLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIG9uQ2FsbFN0YXJ0ZWQ6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxFbmRlZDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gVW5hdmFpbGFibGVQaWNrZXI7XG4vKipcbiAqIEEgc3RhbmRhcmQgcGlja2VyIHJlcHJlc2VudGluZyBhIGxvYWQgYmFsYW5jZXIgaW4gdGhlIElETEUgb3IgQ09OTkVDVElOR1xuICogc3RhdGUuIEFsd2F5cyByZXNwb25kcyB0byBldmVyeSBwaWNrIHJlcXVlc3Qgd2l0aCBhIFFVRVVFIHBpY2sgcmVzdWx0XG4gKiBpbmRpY2F0aW5nIHRoYXQgdGhlIHBpY2sgc2hvdWxkIGJlIHRyaWVkIGFnYWluIHdpdGggdGhlIG5leHQgYFBpY2tlcmAuIEFsc29cbiAqIHJlcG9ydHMgYmFjayB0byB0aGUgbG9hZCBiYWxhbmNlciB0aGF0IGEgY29ubmVjdGlvbiBzaG91bGQgYmUgZXN0YWJsaXNoZWRcbiAqIG9uY2UgYW55IHBpY2sgaXMgYXR0ZW1wdGVkLlxuICovXG5jbGFzcyBRdWV1ZVBpY2tlciB7XG4gICAgLy8gQ29uc3RydWN0ZWQgd2l0aCBhIGxvYWQgYmFsYW5jZXIuIENhbGxzIGV4aXRJZGxlIG9uIGl0IHRoZSBmaXJzdCB0aW1lIHBpY2sgaXMgY2FsbGVkXG4gICAgY29uc3RydWN0b3IobG9hZEJhbGFuY2VyKSB7XG4gICAgICAgIHRoaXMubG9hZEJhbGFuY2VyID0gbG9hZEJhbGFuY2VyO1xuICAgICAgICB0aGlzLmNhbGxlZEV4aXRJZGxlID0gZmFsc2U7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbGxlZEV4aXRJZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNhbGxlZEV4aXRJZGxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGlja1Jlc3VsdFR5cGU6IFBpY2tSZXN1bHRUeXBlLlFVRVVFLFxuICAgICAgICAgICAgc3ViY2hhbm5lbDogbnVsbCxcbiAgICAgICAgICAgIHN0YXR1czogbnVsbCxcbiAgICAgICAgICAgIG9uQ2FsbFN0YXJ0ZWQ6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxFbmRlZDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlF1ZXVlUGlja2VyID0gUXVldWVQaWNrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waWNrZXIuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUXVldWVQaWNrZXIiLCJVbmF2YWlsYWJsZVBpY2tlciIsIlBpY2tSZXN1bHRUeXBlIiwibWV0YWRhdGFfMSIsInJlcXVpcmUiLCJjb25zdGFudHNfMSIsImNvbnN0cnVjdG9yIiwic3RhdHVzIiwiYXNzaWduIiwiY29kZSIsIlN0YXR1cyIsIlVOQVZBSUxBQkxFIiwiZGV0YWlscyIsIm1ldGFkYXRhIiwiTWV0YWRhdGEiLCJwaWNrIiwicGlja0FyZ3MiLCJwaWNrUmVzdWx0VHlwZSIsIlRSQU5TSUVOVF9GQUlMVVJFIiwic3ViY2hhbm5lbCIsIm9uQ2FsbFN0YXJ0ZWQiLCJvbkNhbGxFbmRlZCIsImxvYWRCYWxhbmNlciIsImNhbGxlZEV4aXRJZGxlIiwicHJvY2VzcyIsIm5leHRUaWNrIiwiZXhpdElkbGUiLCJRVUVVRSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-dns.js":
/*!**************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/resolver-dns.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setup = exports.DEFAULT_PORT = void 0;\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst dns = __webpack_require__(/*! dns */ \"dns\");\nconst util = __webpack_require__(/*! util */ \"util\");\nconst service_config_1 = __webpack_require__(/*! ./service-config */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/service-config.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst TRACER_NAME = 'dns_resolver';\nfunction trace(text) {\n  logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nexports.DEFAULT_PORT = 443;\nconst DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS = 30000;\nconst resolveTxtPromise = util.promisify(dns.resolveTxt);\nconst dnsLookupPromise = util.promisify(dns.lookup);\n/**\n * Merge any number of arrays into a single alternating array\n * @param arrays\n */\nfunction mergeArrays(...arrays) {\n  const result = [];\n  for (let i = 0; i < Math.max.apply(null, arrays.map(array => array.length)); i++) {\n    for (const array of arrays) {\n      if (i < array.length) {\n        result.push(array[i]);\n      }\n    }\n  }\n  return result;\n}\n/**\n * Resolver implementation that handles DNS names and IP addresses.\n */\nclass DnsResolver {\n  constructor(target, listener, channelOptions) {\n    var _a, _b, _c;\n    this.target = target;\n    this.listener = listener;\n    this.pendingLookupPromise = null;\n    this.pendingTxtPromise = null;\n    this.latestLookupResult = null;\n    this.latestServiceConfig = null;\n    this.latestServiceConfigError = null;\n    this.continueResolving = false;\n    this.isNextResolutionTimerRunning = false;\n    this.isServiceConfigEnabled = true;\n    this.returnedIpResult = false;\n    trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n    const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n    if (hostPort === null) {\n      this.ipResult = null;\n      this.dnsHostname = null;\n      this.port = null;\n    } else {\n      if ((0, net_1.isIPv4)(hostPort.host) || (0, net_1.isIPv6)(hostPort.host)) {\n        this.ipResult = [{\n          host: hostPort.host,\n          port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : exports.DEFAULT_PORT\n        }];\n        this.dnsHostname = null;\n        this.port = null;\n      } else {\n        this.ipResult = null;\n        this.dnsHostname = hostPort.host;\n        this.port = (_b = hostPort.port) !== null && _b !== void 0 ? _b : exports.DEFAULT_PORT;\n      }\n    }\n    this.percentage = Math.random() * 100;\n    if (channelOptions['grpc.service_config_disable_resolution'] === 1) {\n      this.isServiceConfigEnabled = false;\n    }\n    this.defaultResolutionError = {\n      code: constants_1.Status.UNAVAILABLE,\n      details: `Name resolution failed for target ${(0, uri_parser_1.uriToString)(this.target)}`,\n      metadata: new metadata_1.Metadata()\n    };\n    const backoffOptions = {\n      initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n      maxDelay: channelOptions['grpc.max_reconnect_backoff_ms']\n    };\n    this.backoff = new backoff_timeout_1.BackoffTimeout(() => {\n      if (this.continueResolving) {\n        this.startResolutionWithBackoff();\n      }\n    }, backoffOptions);\n    this.backoff.unref();\n    this.minTimeBetweenResolutionsMs = (_c = channelOptions['grpc.dns_min_time_between_resolutions_ms']) !== null && _c !== void 0 ? _c : DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS;\n    this.nextResolutionTimer = setTimeout(() => {}, 0);\n    clearTimeout(this.nextResolutionTimer);\n  }\n  /**\n   * If the target is an IP address, just provide that address as a result.\n   * Otherwise, initiate A, AAAA, and TXT lookups\n   */\n  startResolution() {\n    if (this.ipResult !== null) {\n      if (!this.returnedIpResult) {\n        trace('Returning IP address for target ' + (0, uri_parser_1.uriToString)(this.target));\n        setImmediate(() => {\n          this.listener.onSuccessfulResolution(this.ipResult, null, null, null, {});\n        });\n        this.returnedIpResult = true;\n      }\n      this.backoff.stop();\n      this.backoff.reset();\n      this.stopNextResolutionTimer();\n      return;\n    }\n    if (this.dnsHostname === null) {\n      trace('Failed to parse DNS address ' + (0, uri_parser_1.uriToString)(this.target));\n      setImmediate(() => {\n        this.listener.onError({\n          code: constants_1.Status.UNAVAILABLE,\n          details: `Failed to parse DNS address ${(0, uri_parser_1.uriToString)(this.target)}`,\n          metadata: new metadata_1.Metadata()\n        });\n      });\n      this.stopNextResolutionTimer();\n    } else {\n      if (this.pendingLookupPromise !== null) {\n        return;\n      }\n      trace('Looking up DNS hostname ' + this.dnsHostname);\n      /* We clear out latestLookupResult here to ensure that it contains the\n       * latest result since the last time we started resolving. That way, the\n       * TXT resolution handler can use it, but only if it finishes second. We\n       * don't clear out any previous service config results because it's\n       * better to use a service config that's slightly out of date than to\n       * revert to an effectively blank one. */\n      this.latestLookupResult = null;\n      const hostname = this.dnsHostname;\n      /* We lookup both address families here and then split them up later\n       * because when looking up a single family, dns.lookup outputs an error\n       * if the name exists but there are no records for that family, and that\n       * error is indistinguishable from other kinds of errors */\n      this.pendingLookupPromise = dnsLookupPromise(hostname, {\n        all: true\n      });\n      this.pendingLookupPromise.then(addressList => {\n        if (this.pendingLookupPromise === null) {\n          return;\n        }\n        this.pendingLookupPromise = null;\n        this.backoff.reset();\n        this.backoff.stop();\n        const ip4Addresses = addressList.filter(addr => addr.family === 4);\n        const ip6Addresses = addressList.filter(addr => addr.family === 6);\n        this.latestLookupResult = mergeArrays(ip6Addresses, ip4Addresses).map(addr => ({\n          host: addr.address,\n          port: +this.port\n        }));\n        const allAddressesString = '[' + this.latestLookupResult.map(addr => addr.host + ':' + addr.port).join(',') + ']';\n        trace('Resolved addresses for target ' + (0, uri_parser_1.uriToString)(this.target) + ': ' + allAddressesString);\n        if (this.latestLookupResult.length === 0) {\n          this.listener.onError(this.defaultResolutionError);\n          return;\n        }\n        /* If the TXT lookup has not yet finished, both of the last two\n         * arguments will be null, which is the equivalent of getting an\n         * empty TXT response. When the TXT lookup does finish, its handler\n         * can update the service config by using the same address list */\n        this.listener.onSuccessfulResolution(this.latestLookupResult, this.latestServiceConfig, this.latestServiceConfigError, null, {});\n      }, err => {\n        if (this.pendingLookupPromise === null) {\n          return;\n        }\n        trace('Resolution error for target ' + (0, uri_parser_1.uriToString)(this.target) + ': ' + err.message);\n        this.pendingLookupPromise = null;\n        this.stopNextResolutionTimer();\n        this.listener.onError(this.defaultResolutionError);\n      });\n      /* If there already is a still-pending TXT resolution, we can just use\n       * that result when it comes in */\n      if (this.isServiceConfigEnabled && this.pendingTxtPromise === null) {\n        /* We handle the TXT query promise differently than the others because\n         * the name resolution attempt as a whole is a success even if the TXT\n         * lookup fails */\n        this.pendingTxtPromise = resolveTxtPromise(hostname);\n        this.pendingTxtPromise.then(txtRecord => {\n          if (this.pendingTxtPromise === null) {\n            return;\n          }\n          this.pendingTxtPromise = null;\n          try {\n            this.latestServiceConfig = (0, service_config_1.extractAndSelectServiceConfig)(txtRecord, this.percentage);\n          } catch (err) {\n            this.latestServiceConfigError = {\n              code: constants_1.Status.UNAVAILABLE,\n              details: `Parsing service config failed with error ${err.message}`,\n              metadata: new metadata_1.Metadata()\n            };\n          }\n          if (this.latestLookupResult !== null) {\n            /* We rely here on the assumption that calling this function with\n             * identical parameters will be essentialy idempotent, and calling\n             * it with the same address list and a different service config\n             * should result in a fast and seamless switchover. */\n            this.listener.onSuccessfulResolution(this.latestLookupResult, this.latestServiceConfig, this.latestServiceConfigError, null, {});\n          }\n        }, err => {\n          /* If TXT lookup fails we should do nothing, which means that we\n           * continue to use the result of the most recent successful lookup,\n           * or the default null config object if there has never been a\n           * successful lookup. We do not set the latestServiceConfigError\n           * here because that is specifically used for response validation\n           * errors. We still need to handle this error so that it does not\n           * bubble up as an unhandled promise rejection. */\n        });\n      }\n    }\n  }\n  startNextResolutionTimer() {\n    var _a, _b;\n    clearTimeout(this.nextResolutionTimer);\n    this.nextResolutionTimer = (_b = (_a = setTimeout(() => {\n      this.stopNextResolutionTimer();\n      if (this.continueResolving) {\n        this.startResolutionWithBackoff();\n      }\n    }, this.minTimeBetweenResolutionsMs)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    this.isNextResolutionTimerRunning = true;\n  }\n  stopNextResolutionTimer() {\n    clearTimeout(this.nextResolutionTimer);\n    this.isNextResolutionTimerRunning = false;\n  }\n  startResolutionWithBackoff() {\n    if (this.pendingLookupPromise === null) {\n      this.continueResolving = false;\n      this.backoff.runOnce();\n      this.startNextResolutionTimer();\n      this.startResolution();\n    }\n  }\n  updateResolution() {\n    /* If there is a pending lookup, just let it finish. Otherwise, if the\n     * nextResolutionTimer or backoff timer is running, set the\n     * continueResolving flag to resolve when whichever of those timers\n     * fires. Otherwise, start resolving immediately. */\n    if (this.pendingLookupPromise === null) {\n      if (this.isNextResolutionTimerRunning || this.backoff.isRunning()) {\n        if (this.isNextResolutionTimerRunning) {\n          trace('resolution update delayed by \"min time between resolutions\" rate limit');\n        } else {\n          trace('resolution update delayed by backoff timer until ' + this.backoff.getEndTime().toISOString());\n        }\n        this.continueResolving = true;\n      } else {\n        this.startResolutionWithBackoff();\n      }\n    }\n  }\n  /**\n   * Reset the resolver to the same state it had when it was created. In-flight\n   * DNS requests cannot be cancelled, but they are discarded and their results\n   * will be ignored.\n   */\n  destroy() {\n    this.continueResolving = false;\n    this.backoff.reset();\n    this.backoff.stop();\n    this.stopNextResolutionTimer();\n    this.pendingLookupPromise = null;\n    this.pendingTxtPromise = null;\n    this.latestLookupResult = null;\n    this.latestServiceConfig = null;\n    this.latestServiceConfigError = null;\n    this.returnedIpResult = false;\n  }\n  /**\n   * Get the default authority for the given target. For IP targets, that is\n   * the IP address. For DNS targets, it is the hostname.\n   * @param target\n   */\n  static getDefaultAuthority(target) {\n    return target.path;\n  }\n}\n/**\n * Set up the DNS resolver class by registering it as the handler for the\n * \"dns:\" prefix and as the default resolver.\n */\nfunction setup() {\n  (0, resolver_1.registerResolver)('dns', DnsResolver);\n  (0, resolver_1.registerDefaultScheme)('dns');\n}\nexports.setup = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItZG5zLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxhQUFhLEdBQUdBLG9CQUFvQixHQUFHLEtBQUssQ0FBQztBQUM3QyxNQUFNSSxVQUFVLEdBQUdDLG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNQyxHQUFHLEdBQUdELG1CQUFPLENBQUMsZ0JBQUssQ0FBQztBQUMxQixNQUFNRSxJQUFJLEdBQUdGLG1CQUFPLENBQUMsa0JBQU0sQ0FBQztBQUM1QixNQUFNRyxnQkFBZ0IsR0FBR0gsbUJBQU8sQ0FBQyx3RkFBa0IsQ0FBQztBQUNwRCxNQUFNSSxXQUFXLEdBQUdKLG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNSyxVQUFVLEdBQUdMLG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNTSxPQUFPLEdBQUdOLG1CQUFPLENBQUMsMEVBQVcsQ0FBQztBQUNwQyxNQUFNTyxXQUFXLEdBQUdQLG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNUSxZQUFZLEdBQUdSLG1CQUFPLENBQUMsZ0ZBQWMsQ0FBQztBQUM1QyxNQUFNUyxLQUFLLEdBQUdULG1CQUFPLENBQUMsZ0JBQUssQ0FBQztBQUM1QixNQUFNVSxpQkFBaUIsR0FBR1YsbUJBQU8sQ0FBQywwRkFBbUIsQ0FBQztBQUN0RCxNQUFNVyxXQUFXLEdBQUcsY0FBYztBQUNsQyxTQUFTQyxLQUFLQSxDQUFDQyxJQUFJLEVBQUU7RUFDakJQLE9BQU8sQ0FBQ00sS0FBSyxDQUFDTCxXQUFXLENBQUNPLFlBQVksQ0FBQ0MsS0FBSyxFQUFFSixXQUFXLEVBQUVFLElBQUks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LENBQUEsRUFBRztJQUNOLElBQUksQ0FBQ2hFLGlCQUFpQixHQUFHLEtBQUs7SUFDOUIsSUFBSSxDQUFDMEIsT0FBTyxDQUFDWSxLQUFLLENBQUMsQ0FBQztJQUNwQixJQUFJLENBQUNaLE9BQU8sQ0FBQ1csSUFBSSxDQUFDLENBQUM7SUFDbkIsSUFBSSxDQUFDRSx1QkFBdUIsQ0FBQyxDQUFDO0lBQzlCLElBQUksQ0FBQzVDLG9CQUFvQixHQUFHLElBQUk7SUFDaEMsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyxJQUFJO0lBQzdCLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsSUFBSTtJQUM5QixJQUFJLENBQUNDLG1CQUFtQixHQUFHLElBQUk7SUFDL0IsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxJQUFJO0lBQ3BDLElBQUksQ0FBQ0ksZ0JBQWdCLEdBQUcsS0FBSztFQUNqQztFQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7RUFDSSxPQUFPOEQsbUJBQW1CQSxDQUFDNUUsTUFBTSxFQUFFO0lBQy9CLE9BQU9BLE1BQU0sQ0FBQ2tCLElBQUk7RUFDdEI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU3hELEtBQUtBLENBQUEsRUFBRztFQUNiLENBQUMsQ0FBQyxFQUFFRSxVQUFVLENBQUNpSCxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUvRSxXQUFXLENBQUM7RUFDcEQsQ0FBQyxDQUFDLEVBQUVsQyxVQUFVLENBQUNrSCxxQkFBcUIsRUFBRSxLQUFLLENBQUM7QUFDaEQ7QUFDQXRILGFBQWEsR0FBR0UsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItZG5zLmpzPzcxZTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cCA9IGV4cG9ydHMuREVGQVVMVF9QT1JUID0gdm9pZCAwO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgZG5zID0gcmVxdWlyZShcImRuc1wiKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IHNlcnZpY2VfY29uZmlnXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlLWNvbmZpZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMiA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBiYWNrb2ZmX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL2JhY2tvZmYtdGltZW91dFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2Ruc19yZXNvbHZlcic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMi5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbi8qKlxuICogVGhlIGRlZmF1bHQgVENQIHBvcnQgdG8gY29ubmVjdCB0byBpZiBub3QgZXhwbGljaXRseSBzcGVjaWZpZWQgaW4gdGhlIHRhcmdldC5cbiAqL1xuZXhwb3J0cy5ERUZBVUxUX1BPUlQgPSA0NDM7XG5jb25zdCBERUZBVUxUX01JTl9USU1FX0JFVFdFRU5fUkVTT0xVVElPTlNfTVMgPSAzMDAwMDtcbmNvbnN0IHJlc29sdmVUeHRQcm9taXNlID0gdXRpbC5wcm9taXNpZnkoZG5zLnJlc29sdmVUeHQpO1xuY29uc3QgZG5zTG9va3VwUHJvbWlzZSA9IHV0aWwucHJvbWlzaWZ5KGRucy5sb29rdXApO1xuLyoqXG4gKiBNZXJnZSBhbnkgbnVtYmVyIG9mIGFycmF5cyBpbnRvIGEgc2luZ2xlIGFsdGVybmF0aW5nIGFycmF5XG4gKiBAcGFyYW0gYXJyYXlzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQXJyYXlzKC4uLmFycmF5cykge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDxcbiAgICAgICAgTWF0aC5tYXguYXBwbHkobnVsbCwgYXJyYXlzLm1hcChhcnJheSA9PiBhcnJheS5sZW5ndGgpKTsgaSsrKSB7XG4gICAgICAgIGZvciAoY29uc3QgYXJyYXkgb2YgYXJyYXlzKSB7XG4gICAgICAgICAgICBpZiAoaSA8IGFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBSZXNvbHZlciBpbXBsZW1lbnRhdGlvbiB0aGF0IGhhbmRsZXMgRE5TIG5hbWVzIGFuZCBJUCBhZGRyZXNzZXMuXG4gKi9cbmNsYXNzIERuc1Jlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGxpc3RlbmVyLCBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ0Vycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTmV4dFJlc29sdXRpb25UaW1lclJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1NlcnZpY2VDb25maWdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXR1cm5lZElwUmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHRyYWNlKCdSZXNvbHZlciBjb25zdHJ1Y3RlZCBmb3IgdGFyZ2V0ICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpKTtcbiAgICAgICAgY29uc3QgaG9zdFBvcnQgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRhcmdldC5wYXRoKTtcbiAgICAgICAgaWYgKGhvc3RQb3J0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlwUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZG5zSG9zdG5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoMCwgbmV0XzEuaXNJUHY0KShob3N0UG9ydC5ob3N0KSB8fCAoMCwgbmV0XzEuaXNJUHY2KShob3N0UG9ydC5ob3N0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXBSZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IGhvc3RQb3J0Lmhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiAoX2EgPSBob3N0UG9ydC5wb3J0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBleHBvcnRzLkRFRkFVTFRfUE9SVCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHRoaXMuZG5zSG9zdG5hbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMucG9ydCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlwUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmRuc0hvc3RuYW1lID0gaG9zdFBvcnQuaG9zdDtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQgPSAoX2IgPSBob3N0UG9ydC5wb3J0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBleHBvcnRzLkRFRkFVTFRfUE9SVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSBNYXRoLnJhbmRvbSgpICogMTAwO1xuICAgICAgICBpZiAoY2hhbm5lbE9wdGlvbnNbJ2dycGMuc2VydmljZV9jb25maWdfZGlzYWJsZV9yZXNvbHV0aW9uJ10gPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTZXJ2aWNlQ29uZmlnRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmYXVsdFJlc29sdXRpb25FcnJvciA9IHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgIGRldGFpbHM6IGBOYW1lIHJlc29sdXRpb24gZmFpbGVkIGZvciB0YXJnZXQgJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCl9YCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBiYWNrb2ZmT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGluaXRpYWxEZWxheTogY2hhbm5lbE9wdGlvbnNbJ2dycGMuaW5pdGlhbF9yZWNvbm5lY3RfYmFja29mZl9tcyddLFxuICAgICAgICAgICAgbWF4RGVsYXk6IGNoYW5uZWxPcHRpb25zWydncnBjLm1heF9yZWNvbm5lY3RfYmFja29mZl9tcyddLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJhY2tvZmYgPSBuZXcgYmFja29mZl90aW1lb3V0XzEuQmFja29mZlRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGludWVSZXNvbHZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVzb2x1dGlvbldpdGhCYWNrb2ZmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGJhY2tvZmZPcHRpb25zKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmLnVucmVmKCk7XG4gICAgICAgIHRoaXMubWluVGltZUJldHdlZW5SZXNvbHV0aW9uc01zID1cbiAgICAgICAgICAgIChfYyA9IGNoYW5uZWxPcHRpb25zWydncnBjLmRuc19taW5fdGltZV9iZXR3ZWVuX3Jlc29sdXRpb25zX21zJ10pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IERFRkFVTFRfTUlOX1RJTUVfQkVUV0VFTl9SRVNPTFVUSU9OU19NUztcbiAgICAgICAgdGhpcy5uZXh0UmVzb2x1dGlvblRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7IH0sIDApO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5uZXh0UmVzb2x1dGlvblRpbWVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHRhcmdldCBpcyBhbiBJUCBhZGRyZXNzLCBqdXN0IHByb3ZpZGUgdGhhdCBhZGRyZXNzIGFzIGEgcmVzdWx0LlxuICAgICAqIE90aGVyd2lzZSwgaW5pdGlhdGUgQSwgQUFBQSwgYW5kIFRYVCBsb29rdXBzXG4gICAgICovXG4gICAgc3RhcnRSZXNvbHV0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5pcFJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJldHVybmVkSXBSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0cmFjZSgnUmV0dXJuaW5nIElQIGFkZHJlc3MgZm9yIHRhcmdldCAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpKTtcbiAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24odGhpcy5pcFJlc3VsdCwgbnVsbCwgbnVsbCwgbnVsbCwge30pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucmV0dXJuZWRJcFJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnN0b3BOZXh0UmVzb2x1dGlvblRpbWVyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZG5zSG9zdG5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRyYWNlKCdGYWlsZWQgdG8gcGFyc2UgRE5TIGFkZHJlc3MgJyArICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSk7XG4gICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYEZhaWxlZCB0byBwYXJzZSBETlMgYWRkcmVzcyAkeygwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KX1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zdG9wTmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjZSgnTG9va2luZyB1cCBETlMgaG9zdG5hbWUgJyArIHRoaXMuZG5zSG9zdG5hbWUpO1xuICAgICAgICAgICAgLyogV2UgY2xlYXIgb3V0IGxhdGVzdExvb2t1cFJlc3VsdCBoZXJlIHRvIGVuc3VyZSB0aGF0IGl0IGNvbnRhaW5zIHRoZVxuICAgICAgICAgICAgICogbGF0ZXN0IHJlc3VsdCBzaW5jZSB0aGUgbGFzdCB0aW1lIHdlIHN0YXJ0ZWQgcmVzb2x2aW5nLiBUaGF0IHdheSwgdGhlXG4gICAgICAgICAgICAgKiBUWFQgcmVzb2x1dGlvbiBoYW5kbGVyIGNhbiB1c2UgaXQsIGJ1dCBvbmx5IGlmIGl0IGZpbmlzaGVzIHNlY29uZC4gV2VcbiAgICAgICAgICAgICAqIGRvbid0IGNsZWFyIG91dCBhbnkgcHJldmlvdXMgc2VydmljZSBjb25maWcgcmVzdWx0cyBiZWNhdXNlIGl0J3NcbiAgICAgICAgICAgICAqIGJldHRlciB0byB1c2UgYSBzZXJ2aWNlIGNvbmZpZyB0aGF0J3Mgc2xpZ2h0bHkgb3V0IG9mIGRhdGUgdGhhbiB0b1xuICAgICAgICAgICAgICogcmV2ZXJ0IHRvIGFuIGVmZmVjdGl2ZWx5IGJsYW5rIG9uZS4gKi9cbiAgICAgICAgICAgIHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RuYW1lID0gdGhpcy5kbnNIb3N0bmFtZTtcbiAgICAgICAgICAgIC8qIFdlIGxvb2t1cCBib3RoIGFkZHJlc3MgZmFtaWxpZXMgaGVyZSBhbmQgdGhlbiBzcGxpdCB0aGVtIHVwIGxhdGVyXG4gICAgICAgICAgICAgKiBiZWNhdXNlIHdoZW4gbG9va2luZyB1cCBhIHNpbmdsZSBmYW1pbHksIGRucy5sb29rdXAgb3V0cHV0cyBhbiBlcnJvclxuICAgICAgICAgICAgICogaWYgdGhlIG5hbWUgZXhpc3RzIGJ1dCB0aGVyZSBhcmUgbm8gcmVjb3JkcyBmb3IgdGhhdCBmYW1pbHksIGFuZCB0aGF0XG4gICAgICAgICAgICAgKiBlcnJvciBpcyBpbmRpc3Rpbmd1aXNoYWJsZSBmcm9tIG90aGVyIGtpbmRzIG9mIGVycm9ycyAqL1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IGRuc0xvb2t1cFByb21pc2UoaG9zdG5hbWUsIHsgYWxsOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZS50aGVuKGFkZHJlc3NMaXN0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja29mZi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXA0QWRkcmVzc2VzID0gYWRkcmVzc0xpc3QuZmlsdGVyKGFkZHIgPT4gYWRkci5mYW1pbHkgPT09IDQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlwNkFkZHJlc3NlcyA9IGFkZHJlc3NMaXN0LmZpbHRlcihhZGRyID0+IGFkZHIuZmFtaWx5ID09PSA2KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9IG1lcmdlQXJyYXlzKGlwNkFkZHJlc3NlcywgaXA0QWRkcmVzc2VzKS5tYXAoYWRkciA9PiAoeyBob3N0OiBhZGRyLmFkZHJlc3MsIHBvcnQ6ICt0aGlzLnBvcnQgfSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEFkZHJlc3Nlc1N0cmluZyA9ICdbJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGFkZHIgPT4gYWRkci5ob3N0ICsgJzonICsgYWRkci5wb3J0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywnKSArXG4gICAgICAgICAgICAgICAgICAgICddJztcbiAgICAgICAgICAgICAgICB0cmFjZSgnUmVzb2x2ZWQgYWRkcmVzc2VzIGZvciB0YXJnZXQgJyArXG4gICAgICAgICAgICAgICAgICAgICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSArXG4gICAgICAgICAgICAgICAgICAgICc6ICcgK1xuICAgICAgICAgICAgICAgICAgICBhbGxBZGRyZXNzZXNTdHJpbmcpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhdGVzdExvb2t1cFJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vbkVycm9yKHRoaXMuZGVmYXVsdFJlc29sdXRpb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIFRYVCBsb29rdXAgaGFzIG5vdCB5ZXQgZmluaXNoZWQsIGJvdGggb2YgdGhlIGxhc3QgdHdvXG4gICAgICAgICAgICAgICAgICogYXJndW1lbnRzIHdpbGwgYmUgbnVsbCwgd2hpY2ggaXMgdGhlIGVxdWl2YWxlbnQgb2YgZ2V0dGluZyBhblxuICAgICAgICAgICAgICAgICAqIGVtcHR5IFRYVCByZXNwb25zZS4gV2hlbiB0aGUgVFhUIGxvb2t1cCBkb2VzIGZpbmlzaCwgaXRzIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgKiBjYW4gdXBkYXRlIHRoZSBzZXJ2aWNlIGNvbmZpZyBieSB1c2luZyB0aGUgc2FtZSBhZGRyZXNzIGxpc3QgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24odGhpcy5sYXRlc3RMb29rdXBSZXN1bHQsIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZywgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnRXJyb3IsIG51bGwsIHt9KTtcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFjZSgnUmVzb2x1dGlvbiBlcnJvciBmb3IgdGFyZ2V0ICcgK1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgK1xuICAgICAgICAgICAgICAgICAgICAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uRXJyb3IodGhpcy5kZWZhdWx0UmVzb2x1dGlvbkVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyogSWYgdGhlcmUgYWxyZWFkeSBpcyBhIHN0aWxsLXBlbmRpbmcgVFhUIHJlc29sdXRpb24sIHdlIGNhbiBqdXN0IHVzZVxuICAgICAgICAgICAgICogdGhhdCByZXN1bHQgd2hlbiBpdCBjb21lcyBpbiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTZXJ2aWNlQ29uZmlnRW5hYmxlZCAmJiB0aGlzLnBlbmRpbmdUeHRQcm9taXNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLyogV2UgaGFuZGxlIHRoZSBUWFQgcXVlcnkgcHJvbWlzZSBkaWZmZXJlbnRseSB0aGFuIHRoZSBvdGhlcnMgYmVjYXVzZVxuICAgICAgICAgICAgICAgICAqIHRoZSBuYW1lIHJlc29sdXRpb24gYXR0ZW1wdCBhcyBhIHdob2xlIGlzIGEgc3VjY2VzcyBldmVuIGlmIHRoZSBUWFRcbiAgICAgICAgICAgICAgICAgKiBsb29rdXAgZmFpbHMgKi9cbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdUeHRQcm9taXNlID0gcmVzb2x2ZVR4dFByb21pc2UoaG9zdG5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UudGhlbih0eHRSZWNvcmQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnID0gKDAsIHNlcnZpY2VfY29uZmlnXzEuZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWcpKHR4dFJlY29yZCwgdGhpcy5wZXJjZW50YWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFNlcnZpY2VDb25maWdFcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFBhcnNpbmcgc2VydmljZSBjb25maWcgZmFpbGVkIHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFdlIHJlbHkgaGVyZSBvbiB0aGUgYXNzdW1wdGlvbiB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBpZGVudGljYWwgcGFyYW1ldGVycyB3aWxsIGJlIGVzc2VudGlhbHkgaWRlbXBvdGVudCwgYW5kIGNhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGl0IHdpdGggdGhlIHNhbWUgYWRkcmVzcyBsaXN0IGFuZCBhIGRpZmZlcmVudCBzZXJ2aWNlIGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogc2hvdWxkIHJlc3VsdCBpbiBhIGZhc3QgYW5kIHNlYW1sZXNzIHN3aXRjaG92ZXIuICovXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24odGhpcy5sYXRlc3RMb29rdXBSZXN1bHQsIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZywgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnRXJyb3IsIG51bGwsIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qIElmIFRYVCBsb29rdXAgZmFpbHMgd2Ugc2hvdWxkIGRvIG5vdGhpbmcsIHdoaWNoIG1lYW5zIHRoYXQgd2VcbiAgICAgICAgICAgICAgICAgICAgICogY29udGludWUgdG8gdXNlIHRoZSByZXN1bHQgb2YgdGhlIG1vc3QgcmVjZW50IHN1Y2Nlc3NmdWwgbG9va3VwLFxuICAgICAgICAgICAgICAgICAgICAgKiBvciB0aGUgZGVmYXVsdCBudWxsIGNvbmZpZyBvYmplY3QgaWYgdGhlcmUgaGFzIG5ldmVyIGJlZW4gYVxuICAgICAgICAgICAgICAgICAgICAgKiBzdWNjZXNzZnVsIGxvb2t1cC4gV2UgZG8gbm90IHNldCB0aGUgbGF0ZXN0U2VydmljZUNvbmZpZ0Vycm9yXG4gICAgICAgICAgICAgICAgICAgICAqIGhlcmUgYmVjYXVzZSB0aGF0IGlzIHNwZWNpZmljYWxseSB1c2VkIGZvciByZXNwb25zZSB2YWxpZGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAqIGVycm9ycy4gV2Ugc3RpbGwgbmVlZCB0byBoYW5kbGUgdGhpcyBlcnJvciBzbyB0aGF0IGl0IGRvZXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAqIGJ1YmJsZSB1cCBhcyBhbiB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24uICovXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnROZXh0UmVzb2x1dGlvblRpbWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5uZXh0UmVzb2x1dGlvblRpbWVyKTtcbiAgICAgICAgdGhpcy5uZXh0UmVzb2x1dGlvblRpbWVyID0gKF9iID0gKF9hID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0b3BOZXh0UmVzb2x1dGlvblRpbWVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250aW51ZVJlc29sdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSZXNvbHV0aW9uV2l0aEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5taW5UaW1lQmV0d2VlblJlc29sdXRpb25zTXMpKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB0aGlzLmlzTmV4dFJlc29sdXRpb25UaW1lclJ1bm5pbmcgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wTmV4dFJlc29sdXRpb25UaW1lcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgICAgIHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydFJlc29sdXRpb25XaXRoQmFja29mZigpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5ydW5PbmNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlc29sdXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICAvKiBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgbG9va3VwLCBqdXN0IGxldCBpdCBmaW5pc2guIE90aGVyd2lzZSwgaWYgdGhlXG4gICAgICAgICAqIG5leHRSZXNvbHV0aW9uVGltZXIgb3IgYmFja29mZiB0aW1lciBpcyBydW5uaW5nLCBzZXQgdGhlXG4gICAgICAgICAqIGNvbnRpbnVlUmVzb2x2aW5nIGZsYWcgdG8gcmVzb2x2ZSB3aGVuIHdoaWNoZXZlciBvZiB0aG9zZSB0aW1lcnNcbiAgICAgICAgICogZmlyZXMuIE90aGVyd2lzZSwgc3RhcnQgcmVzb2x2aW5nIGltbWVkaWF0ZWx5LiAqL1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyB8fCB0aGlzLmJhY2tvZmYuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc05leHRSZXNvbHV0aW9uVGltZXJSdW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IFwibWluIHRpbWUgYmV0d2VlbiByZXNvbHV0aW9uc1wiIHJhdGUgbGltaXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IGJhY2tvZmYgdGltZXIgdW50aWwgJyArIHRoaXMuYmFja29mZi5nZXRFbmRUaW1lKCkudG9JU09TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFJlc29sdXRpb25XaXRoQmFja29mZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSByZXNvbHZlciB0byB0aGUgc2FtZSBzdGF0ZSBpdCBoYWQgd2hlbiBpdCB3YXMgY3JlYXRlZC4gSW4tZmxpZ2h0XG4gICAgICogRE5TIHJlcXVlc3RzIGNhbm5vdCBiZSBjYW5jZWxsZWQsIGJ1dCB0aGV5IGFyZSBkaXNjYXJkZWQgYW5kIHRoZWlyIHJlc3VsdHNcbiAgICAgKiB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmLnN0b3AoKTtcbiAgICAgICAgdGhpcy5zdG9wTmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICB0aGlzLnBlbmRpbmdMb29rdXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnJldHVybmVkSXBSZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IGF1dGhvcml0eSBmb3IgdGhlIGdpdmVuIHRhcmdldC4gRm9yIElQIHRhcmdldHMsIHRoYXQgaXNcbiAgICAgKiB0aGUgSVAgYWRkcmVzcy4gRm9yIEROUyB0YXJnZXRzLCBpdCBpcyB0aGUgaG9zdG5hbWUuXG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXREZWZhdWx0QXV0aG9yaXR5KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0LnBhdGg7XG4gICAgfVxufVxuLyoqXG4gKiBTZXQgdXAgdGhlIEROUyByZXNvbHZlciBjbGFzcyBieSByZWdpc3RlcmluZyBpdCBhcyB0aGUgaGFuZGxlciBmb3IgdGhlXG4gKiBcImRuczpcIiBwcmVmaXggYW5kIGFzIHRoZSBkZWZhdWx0IHJlc29sdmVyLlxuICovXG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyKSgnZG5zJywgRG5zUmVzb2x2ZXIpO1xuICAgICgwLCByZXNvbHZlcl8xLnJlZ2lzdGVyRGVmYXVsdFNjaGVtZSkoJ2RucycpO1xufVxuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZXItZG5zLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInNldHVwIiwiREVGQVVMVF9QT1JUIiwicmVzb2x2ZXJfMSIsInJlcXVpcmUiLCJkbnMiLCJ1dGlsIiwic2VydmljZV9jb25maWdfMSIsImNvbnN0YW50c18xIiwibWV0YWRhdGFfMSIsImxvZ2dpbmciLCJjb25zdGFudHNfMiIsInVyaV9wYXJzZXJfMSIsIm5ldF8xIiwiYmFja29mZl90aW1lb3V0XzEiLCJUUkFDRVJfTkFNRSIsInRyYWNlIiwidGV4dCIsIkxvZ1ZlcmJvc2l0eSIsIkRFQlVHIiwiREVGQVVMVF9NSU5fVElNRV9CRVRXRUVOX1JFU09MVVRJT05TX01TIiwicmVzb2x2ZVR4dFByb21pc2UiLCJwcm9taXNpZnkiLCJyZXNvbHZlVHh0IiwiZG5zTG9va3VwUHJvbWlzZSIsImxvb2t1cCIsIm1lcmdlQXJyYXlzIiwiYXJyYXlzIiwicmVzdWx0IiwiaSIsIk1hdGgiLCJtYXgiLCJhcHBseSIsIm1hcCIsImFycmF5IiwibGVuZ3RoIiwicHVzaCIsIkRuc1Jlc29sdmVyIiwiY29uc3RydWN0b3IiLCJ0YXJnZXQiLCJsaXN0ZW5lciIsImNoYW5uZWxPcHRpb25zIiwiX2EiLCJfYiIsIl9jIiwicGVuZGluZ0xvb2t1cFByb21pc2UiLCJwZW5kaW5nVHh0UHJvbWlzZSIsImxhdGVzdExvb2t1cFJlc3VsdCIsImxhdGVzdFNlcnZpY2VDb25maWciLCJsYXRlc3RTZXJ2aWNlQ29uZmlnRXJyb3IiLCJjb250aW51ZVJlc29sdmluZyIsImlzTmV4dFJlc29sdXRpb25UaW1lclJ1bm5pbmciLCJpc1NlcnZpY2VDb25maWdFbmFibGVkIiwicmV0dXJuZWRJcFJlc3VsdCIsInVyaVRvU3RyaW5nIiwiaG9zdFBvcnQiLCJzcGxpdEhvc3RQb3J0IiwicGF0aCIsImlwUmVzdWx0IiwiZG5zSG9zdG5hbWUiLCJwb3J0IiwiaXNJUHY0IiwiaG9zdCIsImlzSVB2NiIsInBlcmNlbnRhZ2UiLCJyYW5kb20iLCJkZWZhdWx0UmVzb2x1dGlvbkVycm9yIiwiY29kZSIsIlN0YXR1cyIsIlVOQVZBSUxBQkxFIiwiZGV0YWlscyIsIm1ldGFkYXRhIiwiTWV0YWRhdGEiLCJiYWNrb2ZmT3B0aW9ucyIsImluaXRpYWxEZWxheSIsIm1heERlbGF5IiwiYmFja29mZiIsIkJhY2tvZmZUaW1lb3V0Iiwic3RhcnRSZXNvbHV0aW9uV2l0aEJhY2tvZmYiLCJ1bnJlZiIsIm1pblRpbWVCZXR3ZWVuUmVzb2x1dGlvbnNNcyIsIm5leHRSZXNvbHV0aW9uVGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic3RhcnRSZXNvbHV0aW9uIiwic2V0SW1tZWRpYXRlIiwib25TdWNjZXNzZnVsUmVzb2x1dGlvbiIsInN0b3AiLCJyZXNldCIsInN0b3BOZXh0UmVzb2x1dGlvblRpbWVyIiwib25FcnJvciIsImhvc3RuYW1lIiwiYWxsIiwidGhlbiIsImFkZHJlc3NMaXN0IiwiaXA0QWRkcmVzc2VzIiwiZmlsdGVyIiwiYWRkciIsImZhbWlseSIsImlwNkFkZHJlc3NlcyIsImFkZHJlc3MiLCJhbGxBZGRyZXNzZXNTdHJpbmciLCJqb2luIiwiZXJyIiwibWVzc2FnZSIsInR4dFJlY29yZCIsImV4dHJhY3RBbmRTZWxlY3RTZXJ2aWNlQ29uZmlnIiwic3RhcnROZXh0UmVzb2x1dGlvblRpbWVyIiwiY2FsbCIsInJ1bk9uY2UiLCJ1cGRhdGVSZXNvbHV0aW9uIiwiaXNSdW5uaW5nIiwiZ2V0RW5kVGltZSIsInRvSVNPU3RyaW5nIiwiZGVzdHJveSIsImdldERlZmF1bHRBdXRob3JpdHkiLCJyZWdpc3RlclJlc29sdmVyIiwicmVnaXN0ZXJEZWZhdWx0U2NoZW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-dns.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-ip.js":
/*!*************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/resolver-ip.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setup = void 0;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'ip_resolver';\nfunction trace(text) {\n  logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst IPV4_SCHEME = 'ipv4';\nconst IPV6_SCHEME = 'ipv6';\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nconst DEFAULT_PORT = 443;\nclass IpResolver {\n  constructor(target, listener, channelOptions) {\n    var _a;\n    this.listener = listener;\n    this.addresses = [];\n    this.error = null;\n    this.hasReturnedResult = false;\n    trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n    const addresses = [];\n    if (!(target.scheme === IPV4_SCHEME || target.scheme === IPV6_SCHEME)) {\n      this.error = {\n        code: constants_1.Status.UNAVAILABLE,\n        details: `Unrecognized scheme ${target.scheme} in IP resolver`,\n        metadata: new metadata_1.Metadata()\n      };\n      return;\n    }\n    const pathList = target.path.split(',');\n    for (const path of pathList) {\n      const hostPort = (0, uri_parser_1.splitHostPort)(path);\n      if (hostPort === null) {\n        this.error = {\n          code: constants_1.Status.UNAVAILABLE,\n          details: `Failed to parse ${target.scheme} address ${path}`,\n          metadata: new metadata_1.Metadata()\n        };\n        return;\n      }\n      if (target.scheme === IPV4_SCHEME && !(0, net_1.isIPv4)(hostPort.host) || target.scheme === IPV6_SCHEME && !(0, net_1.isIPv6)(hostPort.host)) {\n        this.error = {\n          code: constants_1.Status.UNAVAILABLE,\n          details: `Failed to parse ${target.scheme} address ${path}`,\n          metadata: new metadata_1.Metadata()\n        };\n        return;\n      }\n      addresses.push({\n        host: hostPort.host,\n        port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : DEFAULT_PORT\n      });\n    }\n    this.addresses = addresses;\n    trace('Parsed ' + target.scheme + ' address list ' + this.addresses);\n  }\n  updateResolution() {\n    if (!this.hasReturnedResult) {\n      this.hasReturnedResult = true;\n      process.nextTick(() => {\n        if (this.error) {\n          this.listener.onError(this.error);\n        } else {\n          this.listener.onSuccessfulResolution(this.addresses, null, null, null, {});\n        }\n      });\n    }\n  }\n  destroy() {\n    this.hasReturnedResult = false;\n  }\n  static getDefaultAuthority(target) {\n    return target.path.split(',')[0];\n  }\n}\nfunction setup() {\n  (0, resolver_1.registerResolver)(IPV4_SCHEME, IpResolver);\n  (0, resolver_1.registerResolver)(IPV6_SCHEME, IpResolver);\n}\nexports.setup = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItaXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGFBQWEsR0FBRyxLQUFLLENBQUM7QUFDdEIsTUFBTUcsS0FBSyxHQUFHQyxtQkFBTyxDQUFDLGdCQUFLLENBQUM7QUFDNUIsTUFBTUMsV0FBVyxHQUFHRCxtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUUsVUFBVSxHQUFHRixtQkFBTyxDQUFDLDRFQUFZLENBQUM7QUFDeEMsTUFBTUcsVUFBVSxHQUFHSCxtQkFBTyxDQUFDLDRFQUFZLENBQUM7QUFDeEMsTUFBTUksWUFBWSxHQUFHSixtQkFBTyxDQUFDLGdGQUFjLENBQUM7QUFDNUMsTUFBTUssT0FBTyxHQUFHTCxtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDcEMsTUFBTU0sV0FBVyxHQUFHLGFBQWE7QUFDakMsU0FBU0MsS0FBS0EsQ0FBQ0MsSUFBSSxFQUFFO0VBQ2pCSCxPQUFPLENBQUNFLEtBQUssQ0FBQ04sV0FBVyxDQUFDUSxZQUFZLENBQUNDLEtBQUssRUFBRUosV0FBVyxFQUFFRSxJQUFJLENBQUM7QUFDcEU7QUFDQSxNQUFNRyxXQUFXLEdBQUcsTUFBTTtBQUMxQixNQUFNQyxXQUFXLEdBQUcsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxZQUFZLEdBQUcsR0FBRztBQUN4QixNQUFNQyxVQUFVLENBQUM7RUFDYkMsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLGNBQWMsRUFBRTtJQUMxQyxJQUFJQyxFQUFFO0lBQ04sSUFBSSxDQUFDRixRQUFRLEdBQUdBLFFBQVE7SUFDeEIsSUFBSSxDQUFDRyxT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Q0FBQ3ZCLEtBQUssQ0FBQztRQUNyQyxDQUFDLE1BQ0k7VUFDRCxJQUFJLENBQUNKLFFBQVEsQ0FBQzRCLHNCQUFzQixDQUFDLElBQUksQ0FBQ3pCLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM5RTtNQUNKLENBQUMsQ0FBQztJQUNOO0VBQ0o7RUFDQTBCLE9BQU9BLENBQUEsRUFBRztJQUNOLElBQUksQ0FBQ3hCLGlCQUFpQixHQUFHLEtBQUs7RUFDbEM7RUFDQSxPQUFPeUIsbUJBQW1CQSxDQUFDL0IsTUFBTSxFQUFFO0lBQy9CLE9BQU9BLE1BQU0sQ0FBQ2dCLElBQUksQ0FBQ0MsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUNwQztBQUNKO0FBQ0EsU0FBU25DLEtBQUtBLENBQUEsRUFBRztFQUNiLENBQUMsQ0FBQyxFQUFFSyxVQUFVLENBQUM2QyxnQkFBZ0IsRUFBRXJDLFdBQVcsRUFBRUcsVUFBVSxDQUFDO0VBQ3pELENBQUMsQ0FBQyxFQUFFWCxVQUFVLENBQUM2QyxnQkFBZ0IsRUFBRXBDLFdBQVcsRUFBRUUsVUFBVSxDQUFDO0FBQzdEO0FBQ0FsQixhQUFhLEdBQUdFLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLWlwLmpzPzdkMjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cCA9IHZvaWQgMDtcbmNvbnN0IG5ldF8xID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnaXBfcmVzb2x2ZXInO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBJUFY0X1NDSEVNRSA9ICdpcHY0JztcbmNvbnN0IElQVjZfU0NIRU1FID0gJ2lwdjYnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBUQ1AgcG9ydCB0byBjb25uZWN0IHRvIGlmIG5vdCBleHBsaWNpdGx5IHNwZWNpZmllZCBpbiB0aGUgdGFyZ2V0LlxuICovXG5jb25zdCBERUZBVUxUX1BPUlQgPSA0NDM7XG5jbGFzcyBJcFJlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGxpc3RlbmVyLCBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5hZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdHJhY2UoJ1Jlc29sdmVyIGNvbnN0cnVjdGVkIGZvciB0YXJnZXQgJyArICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCkpO1xuICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGFyZ2V0LnNjaGVtZSA9PT0gSVBWNF9TQ0hFTUUgfHwgdGFyZ2V0LnNjaGVtZSA9PT0gSVBWNl9TQ0hFTUUpKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgVW5yZWNvZ25pemVkIHNjaGVtZSAke3RhcmdldC5zY2hlbWV9IGluIElQIHJlc29sdmVyYCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aExpc3QgPSB0YXJnZXQucGF0aC5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgcGF0aExpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwYXRoKTtcbiAgICAgICAgICAgIGlmIChob3N0UG9ydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYEZhaWxlZCB0byBwYXJzZSAke3RhcmdldC5zY2hlbWV9IGFkZHJlc3MgJHtwYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YXJnZXQuc2NoZW1lID09PSBJUFY0X1NDSEVNRSAmJiAhKDAsIG5ldF8xLmlzSVB2NCkoaG9zdFBvcnQuaG9zdCkpIHx8XG4gICAgICAgICAgICAgICAgKHRhcmdldC5zY2hlbWUgPT09IElQVjZfU0NIRU1FICYmICEoMCwgbmV0XzEuaXNJUHY2KShob3N0UG9ydC5ob3N0KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBGYWlsZWQgdG8gcGFyc2UgJHt0YXJnZXQuc2NoZW1lfSBhZGRyZXNzICR7cGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZHJlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBob3N0OiBob3N0UG9ydC5ob3N0LFxuICAgICAgICAgICAgICAgIHBvcnQ6IChfYSA9IGhvc3RQb3J0LnBvcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfUE9SVCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkcmVzc2VzID0gYWRkcmVzc2VzO1xuICAgICAgICB0cmFjZSgnUGFyc2VkICcgKyB0YXJnZXQuc2NoZW1lICsgJyBhZGRyZXNzIGxpc3QgJyArIHRoaXMuYWRkcmVzc2VzKTtcbiAgICB9XG4gICAgdXBkYXRlUmVzb2x1dGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1JldHVybmVkUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmhhc1JldHVybmVkUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25FcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25TdWNjZXNzZnVsUmVzb2x1dGlvbih0aGlzLmFkZHJlc3NlcywgbnVsbCwgbnVsbCwgbnVsbCwge30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQucGF0aC5zcGxpdCgnLCcpWzBdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAgICgwLCByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXIpKElQVjRfU0NIRU1FLCBJcFJlc29sdmVyKTtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyKShJUFY2X1NDSEVNRSwgSXBSZXNvbHZlcik7XG59XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlci1pcC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJzZXR1cCIsIm5ldF8xIiwicmVxdWlyZSIsImNvbnN0YW50c18xIiwibWV0YWRhdGFfMSIsInJlc29sdmVyXzEiLCJ1cmlfcGFyc2VyXzEiLCJsb2dnaW5nIiwiVFJBQ0VSX05BTUUiLCJ0cmFjZSIsInRleHQiLCJMb2dWZXJib3NpdHkiLCJERUJVRyIsIklQVjRfU0NIRU1FIiwiSVBWNl9TQ0hFTUUiLCJERUZBVUxUX1BPUlQiLCJJcFJlc29sdmVyIiwiY29uc3RydWN0b3IiLCJ0YXJnZXQiLCJsaXN0ZW5lciIsImNoYW5uZWxPcHRpb25zIiwiX2EiLCJhZGRyZXNzZXMiLCJlcnJvciIsImhhc1JldHVybmVkUmVzdWx0IiwidXJpVG9TdHJpbmciLCJzY2hlbWUiLCJjb2RlIiwiU3RhdHVzIiwiVU5BVkFJTEFCTEUiLCJkZXRhaWxzIiwibWV0YWRhdGEiLCJNZXRhZGF0YSIsInBhdGhMaXN0IiwicGF0aCIsInNwbGl0IiwiaG9zdFBvcnQiLCJzcGxpdEhvc3RQb3J0IiwiaXNJUHY0IiwiaG9zdCIsImlzSVB2NiIsInB1c2giLCJwb3J0IiwidXBkYXRlUmVzb2x1dGlvbiIsInByb2Nlc3MiLCJuZXh0VGljayIsIm9uRXJyb3IiLCJvblN1Y2Nlc3NmdWxSZXNvbHV0aW9uIiwiZGVzdHJveSIsImdldERlZmF1bHRBdXRob3JpdHkiLCJyZWdpc3RlclJlc29sdmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-ip.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-uds.js":
/*!**************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/resolver-uds.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setup = void 0;\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nclass UdsResolver {\n  constructor(target, listener, channelOptions) {\n    this.listener = listener;\n    this.addresses = [];\n    this.hasReturnedResult = false;\n    let path;\n    if (target.authority === '') {\n      path = '/' + target.path;\n    } else {\n      path = target.path;\n    }\n    this.addresses = [{\n      path\n    }];\n  }\n  updateResolution() {\n    if (!this.hasReturnedResult) {\n      this.hasReturnedResult = true;\n      process.nextTick(this.listener.onSuccessfulResolution, this.addresses, null, null, null, {});\n    }\n  }\n  destroy() {\n    // This resolver owns no resources, so we do nothing here.\n  }\n  static getDefaultAuthority(target) {\n    return 'localhost';\n  }\n}\nfunction setup() {\n  (0, resolver_1.registerResolver)('unix', UdsResolver);\n}\nexports.setup = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItdWRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxhQUFhLEdBQUcsS0FBSyxDQUFDO0FBQ3RCLE1BQU1HLFVBQVUsR0FBR0MsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1DLFdBQVcsQ0FBQztFQUNkQyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsY0FBYyxFQUFFO0lBQzFDLElBQUksQ0FBQ0QsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ0UsU0FBUyxHQUFHLEVBQUU7SUFDbkIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyxLQUFLO0lBQzlCLElBQUlDLElBQUk7SUFDUixJQUFJTCxNQUFNLENBQUNNLFNBQVMsS0FBSyxFQUFFLEVBQUU7TUFDekJELElBQUksR0FBRyxHQUFHLEdBQUdMLE1BQU0sQ0FBQ0ssSUFBSTtJQUM1QixDQUFDLE1BQ0k7TUFDREEsSUFBSSxHQUFHTCxNQUFNLENBQUNLLElBQUk7SUFDdEI7SUFDQSxJQUFJLENBQUNGLFNBQVMsR0FBRyxDQUFDO01BQUVFO0lBQUssQ0FBQyxDQUFDO0VBQy9CO0VBQ0FFLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQ0gsaUJBQWlCLEVBQUU7TUFDekIsSUFBSSxDQUFDQSxpQkFBaUIsR0FBRyxJQUFJO01BQzdCSSxPQUFPLENBQUNDLFFBQVEsQ0FBQyxJQUFJLENBQUNSLFFBQVEsQ0FBQ1Msc0JBQXNCLEVBQUUsSUFBSSxDQUFDUCxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDaEc7RUFDSjtFQUNBUSxPQUFPQSxDQUFBLEVBQUc7SUFDTjtFQUFBO0VBRUosT0FBT0MsbUJBQW1CQSxDQUFDWixNQUFNLEVBQUU7SUFDL0IsT0FBTyxXQUFXO0VBQ3RCO0FBQ0o7QUFDQSxTQUFTTCxLQUFLQSxDQUFBLEVBQUc7RUFDYixDQUFDLENBQUMsRUFBRUMsVUFBVSxDQUFDaUIsZ0JBQWdCLEVBQUUsTUFBTSxFQUFFZixXQUFXLENBQUM7QUFDekQ7QUFDQUwsYUFBYSxHQUFHRSxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZlci11ZHMuanM/Njk1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldHVwID0gdm9pZCAwO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY2xhc3MgVWRzUmVzb2x2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgbGlzdGVuZXIsIGNoYW5uZWxPcHRpb25zKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5hZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgdGhpcy5oYXNSZXR1cm5lZFJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGF0aDtcbiAgICAgICAgaWYgKHRhcmdldC5hdXRob3JpdHkgPT09ICcnKSB7XG4gICAgICAgICAgICBwYXRoID0gJy8nICsgdGFyZ2V0LnBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gdGFyZ2V0LnBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRyZXNzZXMgPSBbeyBwYXRoIH1dO1xuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzUmV0dXJuZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayh0aGlzLmxpc3RlbmVyLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24sIHRoaXMuYWRkcmVzc2VzLCBudWxsLCBudWxsLCBudWxsLCB7fSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgLy8gVGhpcyByZXNvbHZlciBvd25zIG5vIHJlc291cmNlcywgc28gd2UgZG8gbm90aGluZyBoZXJlLlxuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGVmYXVsdEF1dGhvcml0eSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuICdsb2NhbGhvc3QnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAgICgwLCByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXIpKCd1bml4JywgVWRzUmVzb2x2ZXIpO1xufVxuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZXItdWRzLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInNldHVwIiwicmVzb2x2ZXJfMSIsInJlcXVpcmUiLCJVZHNSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwidGFyZ2V0IiwibGlzdGVuZXIiLCJjaGFubmVsT3B0aW9ucyIsImFkZHJlc3NlcyIsImhhc1JldHVybmVkUmVzdWx0IiwicGF0aCIsImF1dGhvcml0eSIsInVwZGF0ZVJlc29sdXRpb24iLCJwcm9jZXNzIiwibmV4dFRpY2siLCJvblN1Y2Nlc3NmdWxSZXNvbHV0aW9uIiwiZGVzdHJveSIsImdldERlZmF1bHRBdXRob3JpdHkiLCJyZWdpc3RlclJlc29sdmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver-uds.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js":
/*!**********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/resolver.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.mapUriDefaultScheme = exports.getDefaultAuthority = exports.createResolver = exports.registerDefaultScheme = exports.registerResolver = void 0;\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst registeredResolvers = {};\nlet defaultScheme = null;\n/**\n * Register a resolver class to handle target names prefixed with the `prefix`\n * string. This prefix should correspond to a URI scheme name listed in the\n * [gRPC Name Resolution document](https://github.com/grpc/grpc/blob/master/doc/naming.md)\n * @param prefix\n * @param resolverClass\n */\nfunction registerResolver(scheme, resolverClass) {\n  registeredResolvers[scheme] = resolverClass;\n}\nexports.registerResolver = registerResolver;\n/**\n * Register a default resolver to handle target names that do not start with\n * any registered prefix.\n * @param resolverClass\n */\nfunction registerDefaultScheme(scheme) {\n  defaultScheme = scheme;\n}\nexports.registerDefaultScheme = registerDefaultScheme;\n/**\n * Create a name resolver for the specified target, if possible. Throws an\n * error if no such name resolver can be created.\n * @param target\n * @param listener\n */\nfunction createResolver(target, listener, options) {\n  if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n    return new registeredResolvers[target.scheme](target, listener, options);\n  } else {\n    throw new Error(`No resolver could be created for target ${(0, uri_parser_1.uriToString)(target)}`);\n  }\n}\nexports.createResolver = createResolver;\n/**\n * Get the default authority for the specified target, if possible. Throws an\n * error if no registered name resolver can parse that target string.\n * @param target\n */\nfunction getDefaultAuthority(target) {\n  if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n    return registeredResolvers[target.scheme].getDefaultAuthority(target);\n  } else {\n    throw new Error(`Invalid target ${(0, uri_parser_1.uriToString)(target)}`);\n  }\n}\nexports.getDefaultAuthority = getDefaultAuthority;\nfunction mapUriDefaultScheme(target) {\n  if (target.scheme === undefined || !(target.scheme in registeredResolvers)) {\n    if (defaultScheme !== null) {\n      return {\n        scheme: defaultScheme,\n        authority: undefined,\n        path: (0, uri_parser_1.uriToString)(target)\n      };\n    } else {\n      return null;\n    }\n  }\n  return target;\n}\nexports.mapUriDefaultScheme = mapUriDefaultScheme;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsMkJBQTJCLEdBQUdBLDJCQUEyQixHQUFHQSxzQkFBc0IsR0FBR0EsNkJBQTZCLEdBQUdBLHdCQUF3QixHQUFHLEtBQUssQ0FBQztBQUN0SixNQUFNTyxZQUFZLEdBQUdDLG1CQUFPLENBQUMsZ0ZBQWMsQ0FBQztBQUM1QyxNQUFNQyxtQkFBbUIsR0FBRyxDQUFDLENBQUM7QUFDOUIsSUFBSUMsYUFBYSxHQUFHLElBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTSixnQkFBZ0JBLENBQUNLLE1BQU0sRUFBRUMsYUFBYSxFQUFFO0VBQzdDSCxtQkFBbUIsQ0FBQ0UsTUFBTSxDQUFDLEdBQUdDLGFBQWE7QUFDL0M7QUFDQVosd0JBQXdCLEdBQUdNLGdCQUFnQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0QscUJBQXFCQSxDQUFDTSxNQUFNLEVBQUU7RUFDbkNELGFBQWEsR0FBR0MsTUFBTTtBQUMxQjtBQUNBWCw2QkFBNkIsR0FBR0sscUJBQXFCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNELGNBQWNBLENBQUNTLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUU7RUFDL0MsSUFBSUYsTUFBTSxDQUFDRixNQUFNLEtBQUtLLFNBQVMsSUFBSUgsTUFBTSxDQUFDRixNQUFNLElBQUlGLG1CQUFtQixFQUFFO0lBQ3JFLE9BQU8sSUFBSUEsbUJBQW1CLENBQUNJLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDLENBQUNFLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxPQUFPLENBQUM7RUFDNUUsQ0FBQyxNQUNJO0lBQ0QsTUFBTSxJQUFJRSxLQUFLLENBQUUsMkNBQTBDLENBQUMsQ0FBQyxFQUFFVixZQUFZLENBQUNXLFdBQVcsRUFBRUwsTUFBTSxDQUFFLEVBQUMsQ0FBQztFQUN2RztBQUNKO0FBQ0FiLHNCQUFzQixHQUFHSSxjQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRCxtQkFBbUJBLENBQUNVLE1BQU0sRUFBRTtFQUNqQyxJQUFJQSxNQUFNLENBQUNGLE1BQU0sS0FBS0ssU0FBUyxJQUFJSCxNQUFNLENBQUNGLE1BQU0sSUFBSUYsbUJBQW1CLEVBQUU7SUFDckUsT0FBT0EsbUJBQW1CLENBQUNJLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDLENBQUNSLG1CQUFtQixDQUFDVSxNQUFNLENBQUM7RUFDekUsQ0FBQyxNQUNJO0lBQ0QsTUFBTSxJQUFJSSxLQUFLLENBQUUsa0JBQWlCLENBQUMsQ0FBQyxFQUFFVixZQUFZLENBQUNXLFdBQVcsRUFBRUwsTUFBTSxDQUFFLEVBQUMsQ0FBQztFQUM5RTtBQUNKO0FBQ0FiLDJCQUEyQixHQUFHRyxtQkFBbUI7QUFDakQsU0FBU0QsbUJBQW1CQSxDQUFDVyxNQUFNLEVBQUU7RUFDakMsSUFBSUEsTUFBTSxDQUFDRixNQUFNLEtBQUtLLFNBQVMsSUFBSSxFQUFFSCxNQUFNLENBQUNGLE1BQU0sSUFBSUYsbUJBQW1CLENBQUMsRUFBRTtJQUN4RSxJQUFJQyxhQUFhLEtBQUssSUFBSSxFQUFFO01BQ3hCLE9BQU87UUFDSEMsTUFBTSxFQUFFRCxhQUFhO1FBQ3JCUyxTQUFTLEVBQUVILFNBQVM7UUFDcEJJLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRWIsWUFBWSxDQUFDVyxXQUFXLEVBQUVMLE1BQU07TUFDOUMsQ0FBQztJQUNMLENBQUMsTUFDSTtNQUNELE9BQU8sSUFBSTtJQUNmO0VBQ0o7RUFDQSxPQUFPQSxNQUFNO0FBQ2pCO0FBQ0FiLDJCQUEyQixHQUFHRSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLmpzPzFkOTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWFwVXJpRGVmYXVsdFNjaGVtZSA9IGV4cG9ydHMuZ2V0RGVmYXVsdEF1dGhvcml0eSA9IGV4cG9ydHMuY3JlYXRlUmVzb2x2ZXIgPSBleHBvcnRzLnJlZ2lzdGVyRGVmYXVsdFNjaGVtZSA9IGV4cG9ydHMucmVnaXN0ZXJSZXNvbHZlciA9IHZvaWQgMDtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCByZWdpc3RlcmVkUmVzb2x2ZXJzID0ge307XG5sZXQgZGVmYXVsdFNjaGVtZSA9IG51bGw7XG4vKipcbiAqIFJlZ2lzdGVyIGEgcmVzb2x2ZXIgY2xhc3MgdG8gaGFuZGxlIHRhcmdldCBuYW1lcyBwcmVmaXhlZCB3aXRoIHRoZSBgcHJlZml4YFxuICogc3RyaW5nLiBUaGlzIHByZWZpeCBzaG91bGQgY29ycmVzcG9uZCB0byBhIFVSSSBzY2hlbWUgbmFtZSBsaXN0ZWQgaW4gdGhlXG4gKiBbZ1JQQyBOYW1lIFJlc29sdXRpb24gZG9jdW1lbnRdKGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL25hbWluZy5tZClcbiAqIEBwYXJhbSBwcmVmaXhcbiAqIEBwYXJhbSByZXNvbHZlckNsYXNzXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyUmVzb2x2ZXIoc2NoZW1lLCByZXNvbHZlckNsYXNzKSB7XG4gICAgcmVnaXN0ZXJlZFJlc29sdmVyc1tzY2hlbWVdID0gcmVzb2x2ZXJDbGFzcztcbn1cbmV4cG9ydHMucmVnaXN0ZXJSZXNvbHZlciA9IHJlZ2lzdGVyUmVzb2x2ZXI7XG4vKipcbiAqIFJlZ2lzdGVyIGEgZGVmYXVsdCByZXNvbHZlciB0byBoYW5kbGUgdGFyZ2V0IG5hbWVzIHRoYXQgZG8gbm90IHN0YXJ0IHdpdGhcbiAqIGFueSByZWdpc3RlcmVkIHByZWZpeC5cbiAqIEBwYXJhbSByZXNvbHZlckNsYXNzXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdFNjaGVtZShzY2hlbWUpIHtcbiAgICBkZWZhdWx0U2NoZW1lID0gc2NoZW1lO1xufVxuZXhwb3J0cy5yZWdpc3RlckRlZmF1bHRTY2hlbWUgPSByZWdpc3RlckRlZmF1bHRTY2hlbWU7XG4vKipcbiAqIENyZWF0ZSBhIG5hbWUgcmVzb2x2ZXIgZm9yIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LCBpZiBwb3NzaWJsZS4gVGhyb3dzIGFuXG4gKiBlcnJvciBpZiBubyBzdWNoIG5hbWUgcmVzb2x2ZXIgY2FuIGJlIGNyZWF0ZWQuXG4gKiBAcGFyYW0gdGFyZ2V0XG4gKiBAcGFyYW0gbGlzdGVuZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVzb2x2ZXIodGFyZ2V0LCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGlmICh0YXJnZXQuc2NoZW1lICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0LnNjaGVtZSBpbiByZWdpc3RlcmVkUmVzb2x2ZXJzKSB7XG4gICAgICAgIHJldHVybiBuZXcgcmVnaXN0ZXJlZFJlc29sdmVyc1t0YXJnZXQuc2NoZW1lXSh0YXJnZXQsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcmVzb2x2ZXIgY291bGQgYmUgY3JlYXRlZCBmb3IgdGFyZ2V0ICR7KDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KX1gKTtcbiAgICB9XG59XG5leHBvcnRzLmNyZWF0ZVJlc29sdmVyID0gY3JlYXRlUmVzb2x2ZXI7XG4vKipcbiAqIEdldCB0aGUgZGVmYXVsdCBhdXRob3JpdHkgZm9yIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LCBpZiBwb3NzaWJsZS4gVGhyb3dzIGFuXG4gKiBlcnJvciBpZiBubyByZWdpc3RlcmVkIG5hbWUgcmVzb2x2ZXIgY2FuIHBhcnNlIHRoYXQgdGFyZ2V0IHN0cmluZy5cbiAqIEBwYXJhbSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gZ2V0RGVmYXVsdEF1dGhvcml0eSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LnNjaGVtZSAhPT0gdW5kZWZpbmVkICYmIHRhcmdldC5zY2hlbWUgaW4gcmVnaXN0ZXJlZFJlc29sdmVycykge1xuICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZFJlc29sdmVyc1t0YXJnZXQuc2NoZW1lXS5nZXREZWZhdWx0QXV0aG9yaXR5KHRhcmdldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGFyZ2V0ICR7KDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KX1gKTtcbiAgICB9XG59XG5leHBvcnRzLmdldERlZmF1bHRBdXRob3JpdHkgPSBnZXREZWZhdWx0QXV0aG9yaXR5O1xuZnVuY3Rpb24gbWFwVXJpRGVmYXVsdFNjaGVtZSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LnNjaGVtZSA9PT0gdW5kZWZpbmVkIHx8ICEodGFyZ2V0LnNjaGVtZSBpbiByZWdpc3RlcmVkUmVzb2x2ZXJzKSkge1xuICAgICAgICBpZiAoZGVmYXVsdFNjaGVtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzY2hlbWU6IGRlZmF1bHRTY2hlbWUsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcGF0aDogKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZXhwb3J0cy5tYXBVcmlEZWZhdWx0U2NoZW1lID0gbWFwVXJpRGVmYXVsdFNjaGVtZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIm1hcFVyaURlZmF1bHRTY2hlbWUiLCJnZXREZWZhdWx0QXV0aG9yaXR5IiwiY3JlYXRlUmVzb2x2ZXIiLCJyZWdpc3RlckRlZmF1bHRTY2hlbWUiLCJyZWdpc3RlclJlc29sdmVyIiwidXJpX3BhcnNlcl8xIiwicmVxdWlyZSIsInJlZ2lzdGVyZWRSZXNvbHZlcnMiLCJkZWZhdWx0U2NoZW1lIiwic2NoZW1lIiwicmVzb2x2ZXJDbGFzcyIsInRhcmdldCIsImxpc3RlbmVyIiwib3B0aW9ucyIsInVuZGVmaW5lZCIsIkVycm9yIiwidXJpVG9TdHJpbmciLCJhdXRob3JpdHkiLCJwYXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/resolving-call.js":
/*!****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/resolving-call.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ResolvingCall = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst TRACER_NAME = 'resolving_call';\nclass ResolvingCall {\n  constructor(channel, method, options, filterStackFactory, credentials, callNumber) {\n    this.channel = channel;\n    this.method = method;\n    this.filterStackFactory = filterStackFactory;\n    this.credentials = credentials;\n    this.callNumber = callNumber;\n    this.child = null;\n    this.readPending = false;\n    this.pendingMessage = null;\n    this.pendingHalfClose = false;\n    this.ended = false;\n    this.readFilterPending = false;\n    this.writeFilterPending = false;\n    this.pendingChildStatus = null;\n    this.metadata = null;\n    this.listener = null;\n    this.statusWatchers = [];\n    this.deadlineTimer = setTimeout(() => {}, 0);\n    this.filterStack = null;\n    this.deadline = options.deadline;\n    this.host = options.host;\n    if (options.parentCall) {\n      if (options.flags & constants_1.Propagate.CANCELLATION) {\n        options.parentCall.on('cancelled', () => {\n          this.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled by parent call');\n        });\n      }\n      if (options.flags & constants_1.Propagate.DEADLINE) {\n        this.trace('Propagating deadline from parent: ' + options.parentCall.getDeadline());\n        this.deadline = (0, deadline_1.minDeadline)(this.deadline, options.parentCall.getDeadline());\n      }\n    }\n    this.trace('Created');\n    this.runDeadlineTimer();\n  }\n  trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n  }\n  runDeadlineTimer() {\n    clearTimeout(this.deadlineTimer);\n    this.trace('Deadline: ' + (0, deadline_1.deadlineToString)(this.deadline));\n    const timeout = (0, deadline_1.getRelativeTimeout)(this.deadline);\n    if (timeout !== Infinity) {\n      this.trace('Deadline will be reached in ' + timeout + 'ms');\n      const handleDeadline = () => {\n        this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, 'Deadline exceeded');\n      };\n      if (timeout <= 0) {\n        process.nextTick(handleDeadline);\n      } else {\n        this.deadlineTimer = setTimeout(handleDeadline, timeout);\n      }\n    }\n  }\n  outputStatus(status) {\n    if (!this.ended) {\n      this.ended = true;\n      if (!this.filterStack) {\n        this.filterStack = this.filterStackFactory.createFilter();\n      }\n      clearTimeout(this.deadlineTimer);\n      const filteredStatus = this.filterStack.receiveTrailers(status);\n      this.trace('ended with status: code=' + filteredStatus.code + ' details=\"' + filteredStatus.details + '\"');\n      this.statusWatchers.forEach(watcher => watcher(filteredStatus));\n      process.nextTick(() => {\n        var _a;\n        (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(filteredStatus);\n      });\n    }\n  }\n  sendMessageOnChild(context, message) {\n    if (!this.child) {\n      throw new Error('sendMessageonChild called with child not populated');\n    }\n    const child = this.child;\n    this.writeFilterPending = true;\n    this.filterStack.sendMessage(Promise.resolve({\n      message: message,\n      flags: context.flags\n    })).then(filteredMessage => {\n      this.writeFilterPending = false;\n      child.sendMessageWithContext(context, filteredMessage.message);\n      if (this.pendingHalfClose) {\n        child.halfClose();\n      }\n    }, status => {\n      this.cancelWithStatus(status.code, status.details);\n    });\n  }\n  getConfig() {\n    if (this.ended) {\n      return;\n    }\n    if (!this.metadata || !this.listener) {\n      throw new Error('getConfig called before start');\n    }\n    const configResult = this.channel.getConfig(this.method, this.metadata);\n    if (configResult.type === 'NONE') {\n      this.channel.queueCallForConfig(this);\n      return;\n    } else if (configResult.type === 'ERROR') {\n      if (this.metadata.getOptions().waitForReady) {\n        this.channel.queueCallForConfig(this);\n      } else {\n        this.outputStatus(configResult.error);\n      }\n      return;\n    }\n    // configResult.type === 'SUCCESS'\n    const config = configResult.config;\n    if (config.status !== constants_1.Status.OK) {\n      const {\n        code,\n        details\n      } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(config.status, 'Failed to route call to method ' + this.method);\n      this.outputStatus({\n        code: code,\n        details: details,\n        metadata: new metadata_1.Metadata()\n      });\n      return;\n    }\n    if (config.methodConfig.timeout) {\n      const configDeadline = new Date();\n      configDeadline.setSeconds(configDeadline.getSeconds() + config.methodConfig.timeout.seconds);\n      configDeadline.setMilliseconds(configDeadline.getMilliseconds() + config.methodConfig.timeout.nanos / 1000000);\n      this.deadline = (0, deadline_1.minDeadline)(this.deadline, configDeadline);\n      this.runDeadlineTimer();\n    }\n    this.filterStackFactory.push(config.dynamicFilterFactories);\n    this.filterStack = this.filterStackFactory.createFilter();\n    this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(filteredMetadata => {\n      this.child = this.channel.createInnerCall(config, this.method, this.host, this.credentials, this.deadline);\n      this.trace('Created child [' + this.child.getCallNumber() + ']');\n      this.child.start(filteredMetadata, {\n        onReceiveMetadata: metadata => {\n          this.trace('Received metadata');\n          this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(metadata));\n        },\n        onReceiveMessage: message => {\n          this.trace('Received message');\n          this.readFilterPending = true;\n          this.filterStack.receiveMessage(message).then(filteredMesssage => {\n            this.trace('Finished filtering received message');\n            this.readFilterPending = false;\n            this.listener.onReceiveMessage(filteredMesssage);\n            if (this.pendingChildStatus) {\n              this.outputStatus(this.pendingChildStatus);\n            }\n          }, status => {\n            this.cancelWithStatus(status.code, status.details);\n          });\n        },\n        onReceiveStatus: status => {\n          this.trace('Received status');\n          if (this.readFilterPending) {\n            this.pendingChildStatus = status;\n          } else {\n            this.outputStatus(status);\n          }\n        }\n      });\n      if (this.readPending) {\n        this.child.startRead();\n      }\n      if (this.pendingMessage) {\n        this.sendMessageOnChild(this.pendingMessage.context, this.pendingMessage.message);\n      } else if (this.pendingHalfClose) {\n        this.child.halfClose();\n      }\n    }, status => {\n      this.outputStatus(status);\n    });\n  }\n  reportResolverError(status) {\n    var _a;\n    if ((_a = this.metadata) === null || _a === void 0 ? void 0 : _a.getOptions().waitForReady) {\n      this.channel.queueCallForConfig(this);\n    } else {\n      this.outputStatus(status);\n    }\n  }\n  cancelWithStatus(status, details) {\n    var _a;\n    this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n    (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n    this.outputStatus({\n      code: status,\n      details: details,\n      metadata: new metadata_1.Metadata()\n    });\n  }\n  getPeer() {\n    var _a, _b;\n    return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n  }\n  start(metadata, listener) {\n    this.trace('start called');\n    this.metadata = metadata.clone();\n    this.listener = listener;\n    this.getConfig();\n  }\n  sendMessageWithContext(context, message) {\n    this.trace('write() called with message of length ' + message.length);\n    if (this.child) {\n      this.sendMessageOnChild(context, message);\n    } else {\n      this.pendingMessage = {\n        context,\n        message\n      };\n    }\n  }\n  startRead() {\n    this.trace('startRead called');\n    if (this.child) {\n      this.child.startRead();\n    } else {\n      this.readPending = true;\n    }\n  }\n  halfClose() {\n    this.trace('halfClose called');\n    if (this.child && !this.writeFilterPending) {\n      this.child.halfClose();\n    } else {\n      this.pendingHalfClose = true;\n    }\n  }\n  setCredentials(credentials) {\n    this.credentials = this.credentials.compose(credentials);\n  }\n  addStatusWatcher(watcher) {\n    this.statusWatchers.push(watcher);\n  }\n  getCallNumber() {\n    return this.callNumber;\n  }\n}\nexports.ResolvingCall = ResolvingCall;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2aW5nLWNhbGwuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQscUJBQXFCLEdBQUcsS0FBSyxDQUFDO0FBQzlCLE1BQU1HLFdBQVcsR0FBR0MsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1DLFVBQVUsR0FBR0QsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1FLFVBQVUsR0FBR0YsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1HLE9BQU8sR0FBR0gsbUJBQU8sQ0FBQywwRUFBVyxDQUFDO0FBQ3BDLE1BQU1JLHNCQUFzQixHQUFHSixtQkFBTyxDQUFDLG9HQUF3QixDQUFDO0FBQ2hFLE1BQU1LLFdBQVcsR0FBRyxnQkFBZ0I7QUFDcEMsTUFBTVAsYUFBYSxDQUFDO0VBQ2hCUSxXQUFXQSxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxrQkFBa0IsRUFBRUMsV0FBVyxFQUFFQyxVQUFVLEVBQUU7SUFDL0UsSUFBSSxDQUFDTCxPQUFPLEdBQUdBLE9BQU87SUFDdEIsSUFBSSxDQUFDQyxNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDRSxrQkFBa0IsR0FBR0Esa0JBQWtCO0lBQzVDLElBQUksQ0FBQ0MsV0FBVyxHQUFHQSxXQUFXO0lBQzlCLElBQUksQ0FBQ0MsVUFBVSxHQUFHQSxVQUFVO0lBQzVCLElBQUksQ0FBQ0MsS0FBSyxHQUFHLElBQUk7SUFDakIsSUFBSSxDQUFDQyxXQUFXLEdBQUcsS0FBSztJQUN4QixJQUFJLENBQUNDLGNBQWMsR0FBRyxJQUFJO0lBQzFCLElBQUksQ0FB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LFNBQVNBLENBQUEsRUFBRztJQUNSLElBQUksQ0FBQ3RFLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQztJQUM5QixJQUFJLElBQUksQ0FBQ3pCLEtBQUssRUFBRTtNQUNaLElBQUksQ0FBQ0EsS0FBSyxDQUFDK0YsU0FBUyxDQUFDLENBQUM7SUFDMUIsQ0FBQyxNQUNJO01BQ0QsSUFBSSxDQUFDOUYsV0FBVyxHQUFHLElBQUk7SUFDM0I7RUFDSjtFQUNBNkQsU0FBU0EsQ0FBQSxFQUFHO0lBQ1IsSUFBSSxDQUFDckMsS0FBSyxDQUFDLGtCQUFrQixDQUFDO0lBQzlCLElBQUksSUFBSSxDQUFDekIsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDTSxrQkFBa0IsRUFBRTtNQUN4QyxJQUFJLENBQUNOLEtBQUssQ0FBQzhELFNBQVMsQ0FBQyxDQUFDO0lBQzFCLENBQUMsTUFDSTtNQUNELElBQUksQ0FBQzNELGdCQUFnQixHQUFHLElBQUk7SUFDaEM7RUFDSjtFQUNBbUcsY0FBY0EsQ0FBQ3hHLFdBQVcsRUFBRTtJQUN4QixJQUFJLENBQUNBLFdBQVcsR0FBRyxJQUFJLENBQUNBLFdBQVcsQ0FBQ3lHLE9BQU8sQ0FBQ3pHLFdBQVcsQ0FBQztFQUM1RDtFQUNBMEcsZ0JBQWdCQSxDQUFDdkQsT0FBTyxFQUFFO0lBQ3RCLElBQUksQ0FBQ3ZDLGNBQWMsQ0FBQ3lFLElBQUksQ0FBQ2xDLE9BQU8sQ0FBQztFQUNyQztFQUNBdUMsYUFBYUEsQ0FBQSxFQUFHO0lBQ1osT0FBTyxJQUFJLENBQUN6RixVQUFVO0VBQzFCO0FBQ0o7QUFDQWhCLHFCQUFxQixHQUFHRSxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZpbmctY2FsbC5qcz82MWFmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlc29sdmluZ0NhbGwgPSB2b2lkIDA7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGRlYWRsaW5lXzEgPSByZXF1aXJlKFwiLi9kZWFkbGluZVwiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29udHJvbF9wbGFuZV9zdGF0dXNfMSA9IHJlcXVpcmUoXCIuL2NvbnRyb2wtcGxhbmUtc3RhdHVzXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAncmVzb2x2aW5nX2NhbGwnO1xuY2xhc3MgUmVzb2x2aW5nQ2FsbCB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbCwgbWV0aG9kLCBvcHRpb25zLCBmaWx0ZXJTdGFja0ZhY3RvcnksIGNyZWRlbnRpYWxzLCBjYWxsTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeSA9IGZpbHRlclN0YWNrRmFjdG9yeTtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmNhbGxOdW1iZXIgPSBjYWxsTnVtYmVyO1xuICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWFkUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFkRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLndyaXRlRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZFN0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0dXNXYXRjaGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRlYWRsaW5lVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsgfSwgMCk7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gb3B0aW9ucy5kZWFkbGluZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gb3B0aW9ucy5ob3N0O1xuICAgICAgICBpZiAob3B0aW9ucy5wYXJlbnRDYWxsKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5mbGFncyAmIGNvbnN0YW50c18xLlByb3BhZ2F0ZS5DQU5DRUxMQVRJT04pIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudENhbGwub24oJ2NhbmNlbGxlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgYnkgcGFyZW50IGNhbGwnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZsYWdzICYgY29uc3RhbnRzXzEuUHJvcGFnYXRlLkRFQURMSU5FKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUHJvcGFnYXRpbmcgZGVhZGxpbmUgZnJvbSBwYXJlbnQ6ICcgK1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudENhbGwuZ2V0RGVhZGxpbmUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFkbGluZSA9ICgwLCBkZWFkbGluZV8xLm1pbkRlYWRsaW5lKSh0aGlzLmRlYWRsaW5lLCBvcHRpb25zLnBhcmVudENhbGwuZ2V0RGVhZGxpbmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnQ3JlYXRlZCcpO1xuICAgICAgICB0aGlzLnJ1bkRlYWRsaW5lVGltZXIoKTtcbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICdbJyArIHRoaXMuY2FsbE51bWJlciArICddICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgcnVuRGVhZGxpbmVUaW1lcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVhZGxpbmVUaW1lcik7XG4gICAgICAgIHRoaXMudHJhY2UoJ0RlYWRsaW5lOiAnICsgKDAsIGRlYWRsaW5lXzEuZGVhZGxpbmVUb1N0cmluZykodGhpcy5kZWFkbGluZSkpO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gKDAsIGRlYWRsaW5lXzEuZ2V0UmVsYXRpdmVUaW1lb3V0KSh0aGlzLmRlYWRsaW5lKTtcbiAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdEZWFkbGluZSB3aWxsIGJlIHJlYWNoZWQgaW4gJyArIHRpbWVvdXQgKyAnbXMnKTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURlYWRsaW5lID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQsICdEZWFkbGluZSBleGNlZWRlZCcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0IDw9IDApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGhhbmRsZURlYWRsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVhZGxpbmVUaW1lciA9IHNldFRpbWVvdXQoaGFuZGxlRGVhZGxpbmUsIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG91dHB1dFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5maWx0ZXJTdGFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeS5jcmVhdGVGaWx0ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYWRsaW5lVGltZXIpO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTdGF0dXMgPSB0aGlzLmZpbHRlclN0YWNrLnJlY2VpdmVUcmFpbGVycyhzdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTdGF0dXMuY29kZSArXG4gICAgICAgICAgICAgICAgJyBkZXRhaWxzPVwiJyArXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgJ1wiJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c1dhdGNoZXJzLmZvckVhY2god2F0Y2hlciA9PiB3YXRjaGVyKGZpbHRlcmVkU3RhdHVzKSk7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uUmVjZWl2ZVN0YXR1cyhmaWx0ZXJlZFN0YXR1cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kTWVzc2FnZU9uQ2hpbGQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2VuZE1lc3NhZ2VvbkNoaWxkIGNhbGxlZCB3aXRoIGNoaWxkIG5vdCBwb3B1bGF0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGQ7XG4gICAgICAgIHRoaXMud3JpdGVGaWx0ZXJQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjay5zZW5kTWVzc2FnZShQcm9taXNlLnJlc29sdmUoeyBtZXNzYWdlOiBtZXNzYWdlLCBmbGFnczogY29udGV4dC5mbGFncyB9KSkudGhlbihmaWx0ZXJlZE1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNoaWxkLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgZmlsdGVyZWRNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLmNvZGUsIHN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldENvbmZpZygpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEgfHwgIXRoaXMubGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0Q29uZmlnIGNhbGxlZCBiZWZvcmUgc3RhcnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25maWdSZXN1bHQgPSB0aGlzLmNoYW5uZWwuZ2V0Q29uZmlnKHRoaXMubWV0aG9kLCB0aGlzLm1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGNvbmZpZ1Jlc3VsdC50eXBlID09PSAnTk9ORScpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JDb25maWcodGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnUmVzdWx0LnR5cGUgPT09ICdFUlJPUicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwucXVldWVDYWxsRm9yQ29uZmlnKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoY29uZmlnUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25maWdSZXN1bHQudHlwZSA9PT0gJ1NVQ0NFU1MnXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ1Jlc3VsdC5jb25maWc7XG4gICAgICAgIGlmIChjb25maWcuc3RhdHVzICE9PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29kZSwgZGV0YWlscyB9ID0gKDAsIGNvbnRyb2xfcGxhbmVfc3RhdHVzXzEucmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlKShjb25maWcuc3RhdHVzLCAnRmFpbGVkIHRvIHJvdXRlIGNhbGwgdG8gbWV0aG9kICcgKyB0aGlzLm1ldGhvZCk7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5tZXRob2RDb25maWcudGltZW91dCkge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnRGVhZGxpbmUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uZmlnRGVhZGxpbmUuc2V0U2Vjb25kcyhjb25maWdEZWFkbGluZS5nZXRTZWNvbmRzKCkgKyBjb25maWcubWV0aG9kQ29uZmlnLnRpbWVvdXQuc2Vjb25kcyk7XG4gICAgICAgICAgICBjb25maWdEZWFkbGluZS5zZXRNaWxsaXNlY29uZHMoY29uZmlnRGVhZGxpbmUuZ2V0TWlsbGlzZWNvbmRzKCkgK1xuICAgICAgICAgICAgICAgIGNvbmZpZy5tZXRob2RDb25maWcudGltZW91dC5uYW5vcyAvIDEwMDAwMDApO1xuICAgICAgICAgICAgdGhpcy5kZWFkbGluZSA9ICgwLCBkZWFkbGluZV8xLm1pbkRlYWRsaW5lKSh0aGlzLmRlYWRsaW5lLCBjb25maWdEZWFkbGluZSk7XG4gICAgICAgICAgICB0aGlzLnJ1bkRlYWRsaW5lVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeS5wdXNoKGNvbmZpZy5keW5hbWljRmlsdGVyRmFjdG9yaWVzKTtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjayA9IHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5LmNyZWF0ZUZpbHRlcigpO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrLnNlbmRNZXRhZGF0YShQcm9taXNlLnJlc29sdmUodGhpcy5tZXRhZGF0YSkpLnRoZW4oZmlsdGVyZWRNZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkID0gdGhpcy5jaGFubmVsLmNyZWF0ZUlubmVyQ2FsbChjb25maWcsIHRoaXMubWV0aG9kLCB0aGlzLmhvc3QsIHRoaXMuY3JlZGVudGlhbHMsIHRoaXMuZGVhZGxpbmUpO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnQ3JlYXRlZCBjaGlsZCBbJyArIHRoaXMuY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnQoZmlsdGVyZWRNZXRhZGF0YSwge1xuICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1ldGFkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEodGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclN0YWNrLnJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpLnRoZW4oZmlsdGVyZWRNZXNzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdGaW5pc2hlZCBmaWx0ZXJpbmcgcmVjZWl2ZWQgbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKGZpbHRlcmVkTWVzc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXModGhpcy5wZW5kaW5nQ2hpbGRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLmNvZGUsIHN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIHN0YXR1cycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkRmlsdGVyUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGRTdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZFBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkLnN0YXJ0UmVhZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlT25DaGlsZCh0aGlzLnBlbmRpbmdNZXNzYWdlLmNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlbmRpbmdIYWxmQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVwb3J0UmVzb2x2ZXJFcnJvcihzdGF0dXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JDb25maWcodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy50cmFjZSgnY2FuY2VsV2l0aFN0YXR1cyBjb2RlOiAnICsgc3RhdHVzICsgJyBkZXRhaWxzOiBcIicgKyBkZXRhaWxzICsgJ1wiJyk7XG4gICAgICAgIChfYSA9IHRoaXMuY2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgIGNvZGU6IHN0YXR1cyxcbiAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmNoYW5uZWwuZ2V0VGFyZ2V0KCk7XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdGFydCBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhLmNsb25lKCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5nZXRDb25maWcoKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3dyaXRlKCkgY2FsbGVkIHdpdGggbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2VPbkNoaWxkKGNvbnRleHQsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IHsgY29udGV4dCwgbWVzc2FnZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0UmVhZCgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnc3RhcnRSZWFkIGNhbGxlZCcpO1xuICAgICAgICBpZiAodGhpcy5jaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZC5zdGFydFJlYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnaGFsZkNsb3NlIGNhbGxlZCcpO1xuICAgICAgICBpZiAodGhpcy5jaGlsZCAmJiAhdGhpcy53cml0ZUZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuaGFsZkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSB0aGlzLmNyZWRlbnRpYWxzLmNvbXBvc2UoY3JlZGVudGlhbHMpO1xuICAgIH1cbiAgICBhZGRTdGF0dXNXYXRjaGVyKHdhdGNoZXIpIHtcbiAgICAgICAgdGhpcy5zdGF0dXNXYXRjaGVycy5wdXNoKHdhdGNoZXIpO1xuICAgIH1cbiAgICBnZXRDYWxsTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsTnVtYmVyO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVzb2x2aW5nQ2FsbCA9IFJlc29sdmluZ0NhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZpbmctY2FsbC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJSZXNvbHZpbmdDYWxsIiwiY29uc3RhbnRzXzEiLCJyZXF1aXJlIiwiZGVhZGxpbmVfMSIsIm1ldGFkYXRhXzEiLCJsb2dnaW5nIiwiY29udHJvbF9wbGFuZV9zdGF0dXNfMSIsIlRSQUNFUl9OQU1FIiwiY29uc3RydWN0b3IiLCJjaGFubmVsIiwibWV0aG9kIiwib3B0aW9ucyIsImZpbHRlclN0YWNrRmFjdG9yeSIsImNyZWRlbnRpYWxzIiwiY2FsbE51bWJlciIsImNoaWxkIiwicmVhZFBlbmRpbmciLCJwZW5kaW5nTWVzc2FnZSIsInBlbmRpbmdIYWxmQ2xvc2UiLCJlbmRlZCIsInJlYWRGaWx0ZXJQZW5kaW5nIiwid3JpdGVGaWx0ZXJQZW5kaW5nIiwicGVuZGluZ0NoaWxkU3RhdHVzIiwibWV0YWRhdGEiLCJsaXN0ZW5lciIsInN0YXR1c1dhdGNoZXJzIiwiZGVhZGxpbmVUaW1lciIsInNldFRpbWVvdXQiLCJmaWx0ZXJTdGFjayIsImRlYWRsaW5lIiwiaG9zdCIsInBhcmVudENhbGwiLCJmbGFncyIsIlByb3BhZ2F0ZSIsIkNBTkNFTExBVElPTiIsIm9uIiwiY2FuY2VsV2l0aFN0YXR1cyIsIlN0YXR1cyIsIkNBTkNFTExFRCIsIkRFQURMSU5FIiwidHJhY2UiLCJnZXREZWFkbGluZSIsIm1pbkRlYWRsaW5lIiwicnVuRGVhZGxpbmVUaW1lciIsInRleHQiLCJMb2dWZXJib3NpdHkiLCJERUJVRyIsImNsZWFyVGltZW91dCIsImRlYWRsaW5lVG9TdHJpbmciLCJ0aW1lb3V0IiwiZ2V0UmVsYXRpdmVUaW1lb3V0IiwiSW5maW5pdHkiLCJoYW5kbGVEZWFkbGluZSIsIkRFQURMSU5FX0VYQ0VFREVEIiwicHJvY2VzcyIsIm5leHRUaWNrIiwib3V0cHV0U3RhdHVzIiwic3RhdHVzIiwiY3JlYXRlRmlsdGVyIiwiZmlsdGVyZWRTdGF0dXMiLCJyZWNlaXZlVHJhaWxlcnMiLCJjb2RlIiwiZGV0YWlscyIsImZvckVhY2giLCJ3YXRjaGVyIiwiX2EiLCJvblJlY2VpdmVTdGF0dXMiLCJzZW5kTWVzc2FnZU9uQ2hpbGQiLCJjb250ZXh0IiwibWVzc2FnZSIsIkVycm9yIiwic2VuZE1lc3NhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJmaWx0ZXJlZE1lc3NhZ2UiLCJzZW5kTWVzc2FnZVdpdGhDb250ZXh0IiwiaGFsZkNsb3NlIiwiZ2V0Q29uZmlnIiwiY29uZmlnUmVzdWx0IiwidHlwZSIsInF1ZXVlQ2FsbEZvckNvbmZpZyIsImdldE9wdGlvbnMiLCJ3YWl0Rm9yUmVhZHkiLCJlcnJvciIsImNvbmZpZyIsIk9LIiwicmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlIiwiTWV0YWRhdGEiLCJtZXRob2RDb25maWciLCJjb25maWdEZWFkbGluZSIsIkRhdGUiLCJzZXRTZWNvbmRzIiwiZ2V0U2Vjb25kcyIsInNlY29uZHMiLCJzZXRNaWxsaXNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJuYW5vcyIsInB1c2giLCJkeW5hbWljRmlsdGVyRmFjdG9yaWVzIiwic2VuZE1ldGFkYXRhIiwiZmlsdGVyZWRNZXRhZGF0YSIsImNyZWF0ZUlubmVyQ2FsbCIsImdldENhbGxOdW1iZXIiLCJzdGFydCIsIm9uUmVjZWl2ZU1ldGFkYXRhIiwicmVjZWl2ZU1ldGFkYXRhIiwib25SZWNlaXZlTWVzc2FnZSIsInJlY2VpdmVNZXNzYWdlIiwiZmlsdGVyZWRNZXNzc2FnZSIsInN0YXJ0UmVhZCIsInJlcG9ydFJlc29sdmVyRXJyb3IiLCJnZXRQZWVyIiwiX2IiLCJnZXRUYXJnZXQiLCJjbG9uZSIsImxlbmd0aCIsInNldENyZWRlbnRpYWxzIiwiY29tcG9zZSIsImFkZFN0YXR1c1dhdGNoZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/resolving-call.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ResolvingLoadBalancer = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst service_config_1 = __webpack_require__(/*! ./service-config */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/service-config.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nconst TRACER_NAME = 'resolving_load_balancer';\nfunction trace(text) {\n  logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\n/**\n * Name match levels in order from most to least specific. This is the order in\n * which searches will be performed.\n */\nconst NAME_MATCH_LEVEL_ORDER = ['SERVICE_AND_METHOD', 'SERVICE', 'EMPTY'];\nfunction hasMatchingName(service, method, methodConfig, matchLevel) {\n  for (const name of methodConfig.name) {\n    switch (matchLevel) {\n      case 'EMPTY':\n        if (!name.service && !name.method) {\n          return true;\n        }\n        break;\n      case 'SERVICE':\n        if (name.service === service && !name.method) {\n          return true;\n        }\n        break;\n      case 'SERVICE_AND_METHOD':\n        if (name.service === service && name.method === method) {\n          return true;\n        }\n    }\n  }\n  return false;\n}\nfunction findMatchingConfig(service, method, methodConfigs, matchLevel) {\n  for (const config of methodConfigs) {\n    if (hasMatchingName(service, method, config, matchLevel)) {\n      return config;\n    }\n  }\n  return null;\n}\nfunction getDefaultConfigSelector(serviceConfig) {\n  return function defaultConfigSelector(methodName, metadata) {\n    var _a, _b;\n    const splitName = methodName.split('/').filter(x => x.length > 0);\n    const service = (_a = splitName[0]) !== null && _a !== void 0 ? _a : '';\n    const method = (_b = splitName[1]) !== null && _b !== void 0 ? _b : '';\n    if (serviceConfig && serviceConfig.methodConfig) {\n      /* Check for the following in order, and return the first method\n       * config that matches:\n       * 1. A name that exactly matches the service and method\n       * 2. A name with no method set that matches the service\n       * 3. An empty name\n       */\n      for (const matchLevel of NAME_MATCH_LEVEL_ORDER) {\n        const matchingConfig = findMatchingConfig(service, method, serviceConfig.methodConfig, matchLevel);\n        if (matchingConfig) {\n          return {\n            methodConfig: matchingConfig,\n            pickInformation: {},\n            status: constants_1.Status.OK,\n            dynamicFilterFactories: []\n          };\n        }\n      }\n    }\n    return {\n      methodConfig: {\n        name: []\n      },\n      pickInformation: {},\n      status: constants_1.Status.OK,\n      dynamicFilterFactories: []\n    };\n  };\n}\nclass ResolvingLoadBalancer {\n  /**\n   * Wrapper class that behaves like a `LoadBalancer` and also handles name\n   * resolution internally.\n   * @param target The address of the backend to connect to.\n   * @param channelControlHelper `ChannelControlHelper` instance provided by\n   *     this load balancer's owner.\n   * @param defaultServiceConfig The default service configuration to be used\n   *     if none is provided by the name resolver. A `null` value indicates\n   *     that the default behavior should be the default unconfigured behavior.\n   *     In practice, that means using the \"pick first\" load balancer\n   *     implmentation\n   */\n  constructor(target, channelControlHelper, channelOptions, onSuccessfulResolution, onFailedResolution) {\n    this.target = target;\n    this.channelControlHelper = channelControlHelper;\n    this.onSuccessfulResolution = onSuccessfulResolution;\n    this.onFailedResolution = onFailedResolution;\n    this.latestChildState = connectivity_state_1.ConnectivityState.IDLE;\n    this.latestChildPicker = new picker_1.QueuePicker(this);\n    /**\n     * This resolving load balancer's current connectivity state.\n     */\n    this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n    /**\n     * The service config object from the last successful resolution, if\n     * available. A value of null indicates that we have not yet received a valid\n     * service config from the resolver.\n     */\n    this.previousServiceConfig = null;\n    /**\n     * Indicates whether we should attempt to resolve again after the backoff\n     * timer runs out.\n     */\n    this.continueResolving = false;\n    if (channelOptions['grpc.service_config']) {\n      this.defaultServiceConfig = (0, service_config_1.validateServiceConfig)(JSON.parse(channelOptions['grpc.service_config']));\n    } else {\n      this.defaultServiceConfig = {\n        loadBalancingConfig: [],\n        methodConfig: []\n      };\n    }\n    this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this));\n    this.childLoadBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler({\n      createSubchannel: channelControlHelper.createSubchannel.bind(channelControlHelper),\n      requestReresolution: () => {\n        /* If the backoffTimeout is running, we're still backing off from\n         * making resolve requests, so we shouldn't make another one here.\n         * In that case, the backoff timer callback will call\n         * updateResolution */\n        if (this.backoffTimeout.isRunning()) {\n          trace('requestReresolution delayed by backoff timer until ' + this.backoffTimeout.getEndTime().toISOString());\n          this.continueResolving = true;\n        } else {\n          this.updateResolution();\n        }\n      },\n      updateState: (newState, picker) => {\n        this.latestChildState = newState;\n        this.latestChildPicker = picker;\n        this.updateState(newState, picker);\n      },\n      addChannelzChild: channelControlHelper.addChannelzChild.bind(channelControlHelper),\n      removeChannelzChild: channelControlHelper.removeChannelzChild.bind(channelControlHelper)\n    });\n    this.innerResolver = (0, resolver_1.createResolver)(target, {\n      onSuccessfulResolution: (addressList, serviceConfig, serviceConfigError, configSelector, attributes) => {\n        var _a;\n        this.backoffTimeout.stop();\n        this.backoffTimeout.reset();\n        let workingServiceConfig = null;\n        /* This first group of conditionals implements the algorithm described\n         * in https://github.com/grpc/proposal/blob/master/A21-service-config-error-handling.md\n         * in the section called \"Behavior on receiving a new gRPC Config\".\n         */\n        if (serviceConfig === null) {\n          // Step 4 and 5\n          if (serviceConfigError === null) {\n            // Step 5\n            this.previousServiceConfig = null;\n            workingServiceConfig = this.defaultServiceConfig;\n          } else {\n            // Step 4\n            if (this.previousServiceConfig === null) {\n              // Step 4.ii\n              this.handleResolutionFailure(serviceConfigError);\n            } else {\n              // Step 4.i\n              workingServiceConfig = this.previousServiceConfig;\n            }\n          }\n        } else {\n          // Step 3\n          workingServiceConfig = serviceConfig;\n          this.previousServiceConfig = serviceConfig;\n        }\n        const workingConfigList = (_a = workingServiceConfig === null || workingServiceConfig === void 0 ? void 0 : workingServiceConfig.loadBalancingConfig) !== null && _a !== void 0 ? _a : [];\n        const loadBalancingConfig = (0, load_balancer_1.getFirstUsableConfig)(workingConfigList, true);\n        if (loadBalancingConfig === null) {\n          // There were load balancing configs but none are supported. This counts as a resolution failure\n          this.handleResolutionFailure({\n            code: constants_1.Status.UNAVAILABLE,\n            details: 'All load balancer options in service config are not compatible',\n            metadata: new metadata_1.Metadata()\n          });\n          return;\n        }\n        this.childLoadBalancer.updateAddressList(addressList, loadBalancingConfig, attributes);\n        const finalServiceConfig = workingServiceConfig !== null && workingServiceConfig !== void 0 ? workingServiceConfig : this.defaultServiceConfig;\n        this.onSuccessfulResolution(finalServiceConfig, configSelector !== null && configSelector !== void 0 ? configSelector : getDefaultConfigSelector(finalServiceConfig));\n      },\n      onError: error => {\n        this.handleResolutionFailure(error);\n      }\n    }, channelOptions);\n    const backoffOptions = {\n      initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n      maxDelay: channelOptions['grpc.max_reconnect_backoff_ms']\n    };\n    this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n      if (this.continueResolving) {\n        this.updateResolution();\n        this.continueResolving = false;\n      } else {\n        this.updateState(this.latestChildState, this.latestChildPicker);\n      }\n    }, backoffOptions);\n    this.backoffTimeout.unref();\n  }\n  updateResolution() {\n    this.innerResolver.updateResolution();\n    if (this.currentState === connectivity_state_1.ConnectivityState.IDLE) {\n      this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n    }\n    this.backoffTimeout.runOnce();\n  }\n  updateState(connectivityState, picker) {\n    trace((0, uri_parser_1.uriToString)(this.target) + ' ' + connectivity_state_1.ConnectivityState[this.currentState] + ' -> ' + connectivity_state_1.ConnectivityState[connectivityState]);\n    // Ensure that this.exitIdle() is called by the picker\n    if (connectivityState === connectivity_state_1.ConnectivityState.IDLE) {\n      picker = new picker_1.QueuePicker(this);\n    }\n    this.currentState = connectivityState;\n    this.channelControlHelper.updateState(connectivityState, picker);\n  }\n  handleResolutionFailure(error) {\n    if (this.latestChildState === connectivity_state_1.ConnectivityState.IDLE) {\n      this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker(error));\n      this.onFailedResolution(error);\n    }\n  }\n  exitIdle() {\n    if (this.currentState === connectivity_state_1.ConnectivityState.IDLE || this.currentState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n      if (this.backoffTimeout.isRunning()) {\n        this.continueResolving = true;\n      } else {\n        this.updateResolution();\n      }\n    }\n    this.childLoadBalancer.exitIdle();\n  }\n  updateAddressList(addressList, lbConfig) {\n    throw new Error('updateAddressList not supported on ResolvingLoadBalancer');\n  }\n  resetBackoff() {\n    this.backoffTimeout.reset();\n    this.childLoadBalancer.resetBackoff();\n  }\n  destroy() {\n    this.childLoadBalancer.destroy();\n    this.innerResolver.destroy();\n    this.backoffTimeout.reset();\n    this.backoffTimeout.stop();\n    this.latestChildState = connectivity_state_1.ConnectivityState.IDLE;\n    this.latestChildPicker = new picker_1.QueuePicker(this);\n    this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n    this.previousServiceConfig = null;\n    this.continueResolving = false;\n  }\n  getTypeName() {\n    return 'resolving_load_balancer';\n  }\n}\nexports.ResolvingLoadBalancer = ResolvingLoadBalancer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2aW5nLWxvYWQtYmFsYW5jZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsNkJBQTZCLEdBQUcsS0FBSyxDQUFDO0FBQ3RDLE1BQU1HLGVBQWUsR0FBR0MsbUJBQU8sQ0FBQyxzRkFBaUIsQ0FBQztBQUNsRCxNQUFNQyxnQkFBZ0IsR0FBR0QsbUJBQU8sQ0FBQyx3RkFBa0IsQ0FBQztBQUNwRCxNQUFNRSxvQkFBb0IsR0FBR0YsbUJBQU8sQ0FBQyxnR0FBc0IsQ0FBQztBQUM1RCxNQUFNRyxVQUFVLEdBQUdILG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNSSxRQUFRLEdBQUdKLG1CQUFPLENBQUMsd0VBQVUsQ0FBQztBQUNwQyxNQUFNSyxpQkFBaUIsR0FBR0wsbUJBQU8sQ0FBQywwRkFBbUIsQ0FBQztBQUN0RCxNQUFNTSxXQUFXLEdBQUdOLG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNTyxVQUFVLEdBQUdQLG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNUSxPQUFPLEdBQUdSLG1CQUFPLENBQUMsMEVBQVcsQ0FBQztBQUNwQyxNQUFNUyxXQUFXLEdBQUdULG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNVSxZQUFZLEdBQUdWLG1CQUFPLENBQUMsZ0ZBQWMsQ0FBQztBQUM1QyxNQUFNVyw2QkFBNkIsR0FBR1gsbUJBQU8sQ0FBQyxrSEFBK0IsQ0FBQztBQUM5RSxNQUFNWSxXQUFXLEdBQUcseUJBQXlCO0FBQzdDLFNBQVNDLEtBQUtBLENBQUNDLElBQUksRUFBRTtFQUNqQk4sT0FBTyxDQUFDSyxL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ckM7RUFDQWYsaUJBQWlCQSxDQUFDZCxXQUFXLEVBQUU4QixRQUFRLEVBQUU7SUFDckMsTUFBTSxJQUFJQyxLQUFLLENBQUMsMERBQTBELENBQUM7RUFDL0U7RUFDQUMsWUFBWUEsQ0FBQSxFQUFHO0lBQ1gsSUFBSSxDQUFDM0MsY0FBYyxDQUFDZ0IsS0FBSyxDQUFDLENBQUM7SUFDM0IsSUFBSSxDQUFDckIsaUJBQWlCLENBQUNnRCxZQUFZLENBQUMsQ0FBQztFQUN6QztFQUNBQyxPQUFPQSxDQUFBLEVBQUc7SUFDTixJQUFJLENBQUNqRCxpQkFBaUIsQ0FBQ2lELE9BQU8sQ0FBQyxDQUFDO0lBQ2hDLElBQUksQ0FBQ25DLGFBQWEsQ0FBQ21DLE9BQU8sQ0FBQyxDQUFDO0lBQzVCLElBQUksQ0FBQzVDLGNBQWMsQ0FBQ2dCLEtBQUssQ0FBQyxDQUFDO0lBQzNCLElBQUksQ0FBQ2hCLGNBQWMsQ0FBQ2UsSUFBSSxDQUFDLENBQUM7SUFDMUIsSUFBSSxDQUFDbEMsZ0JBQWdCLEdBQUdqRCxvQkFBb0IsQ0FBQ2tELGlCQUFpQixDQUFDQyxJQUFJO0lBQ25FLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsSUFBSWxELFFBQVEsQ0FBQ21ELFdBQVcsQ0FBQyxJQUFJLENBQUM7SUFDdkQsSUFBSSxDQUFDQyxZQUFZLEdBQUd0RCxvQkFBb0IsQ0FBQ2tELGlCQUFpQixDQUFDQyxJQUFJO0lBQy9ELElBQUksQ0FBQ0kscUJBQXFCLEdBQUcsSUFBSTtJQUNqQyxJQUFJLENBQUNDLGlCQUFpQixHQUFHLEtBQUs7RUFDbEM7RUFDQXlELFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU8seUJBQXlCO0VBQ3BDO0FBQ0o7QUFDQXZILDZCQUE2QixHQUFHRSxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmluZy1sb2FkLWJhbGFuY2VyLmpzPzQ5N2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVzb2x2aW5nTG9hZEJhbGFuY2VyID0gdm9pZCAwO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IHNlcnZpY2VfY29uZmlnXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlLWNvbmZpZ1wiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBiYWNrb2ZmX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL2JhY2tvZmYtdGltZW91dFwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMiA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX2NoaWxkX2hhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItY2hpbGQtaGFuZGxlclwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3Jlc29sdmluZ19sb2FkX2JhbGFuY2VyJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18yLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuLyoqXG4gKiBOYW1lIG1hdGNoIGxldmVscyBpbiBvcmRlciBmcm9tIG1vc3QgdG8gbGVhc3Qgc3BlY2lmaWMuIFRoaXMgaXMgdGhlIG9yZGVyIGluXG4gKiB3aGljaCBzZWFyY2hlcyB3aWxsIGJlIHBlcmZvcm1lZC5cbiAqL1xuY29uc3QgTkFNRV9NQVRDSF9MRVZFTF9PUkRFUiA9IFtcbiAgICAnU0VSVklDRV9BTkRfTUVUSE9EJyxcbiAgICAnU0VSVklDRScsXG4gICAgJ0VNUFRZJyxcbl07XG5mdW5jdGlvbiBoYXNNYXRjaGluZ05hbWUoc2VydmljZSwgbWV0aG9kLCBtZXRob2RDb25maWcsIG1hdGNoTGV2ZWwpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbWV0aG9kQ29uZmlnLm5hbWUpIHtcbiAgICAgICAgc3dpdGNoIChtYXRjaExldmVsKSB7XG4gICAgICAgICAgICBjYXNlICdFTVBUWSc6XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lLnNlcnZpY2UgJiYgIW5hbWUubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NFUlZJQ0UnOlxuICAgICAgICAgICAgICAgIGlmIChuYW1lLnNlcnZpY2UgPT09IHNlcnZpY2UgJiYgIW5hbWUubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NFUlZJQ0VfQU5EX01FVEhPRCc6XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUuc2VydmljZSA9PT0gc2VydmljZSAmJiBuYW1lLm1ldGhvZCA9PT0gbWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBmaW5kTWF0Y2hpbmdDb25maWcoc2VydmljZSwgbWV0aG9kLCBtZXRob2RDb25maWdzLCBtYXRjaExldmVsKSB7XG4gICAgZm9yIChjb25zdCBjb25maWcgb2YgbWV0aG9kQ29uZmlncykge1xuICAgICAgICBpZiAoaGFzTWF0Y2hpbmdOYW1lKHNlcnZpY2UsIG1ldGhvZCwgY29uZmlnLCBtYXRjaExldmVsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRDb25maWdTZWxlY3RvcihzZXJ2aWNlQ29uZmlnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlZmF1bHRDb25maWdTZWxlY3RvcihtZXRob2ROYW1lLCBtZXRhZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBzcGxpdE5hbWUgPSBtZXRob2ROYW1lLnNwbGl0KCcvJykuZmlsdGVyKHggPT4geC5sZW5ndGggPiAwKTtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IChfYSA9IHNwbGl0TmFtZVswXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IChfYiA9IHNwbGl0TmFtZVsxXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJyc7XG4gICAgICAgIGlmIChzZXJ2aWNlQ29uZmlnICYmIHNlcnZpY2VDb25maWcubWV0aG9kQ29uZmlnKSB7XG4gICAgICAgICAgICAvKiBDaGVjayBmb3IgdGhlIGZvbGxvd2luZyBpbiBvcmRlciwgYW5kIHJldHVybiB0aGUgZmlyc3QgbWV0aG9kXG4gICAgICAgICAgICAgKiBjb25maWcgdGhhdCBtYXRjaGVzOlxuICAgICAgICAgICAgICogMS4gQSBuYW1lIHRoYXQgZXhhY3RseSBtYXRjaGVzIHRoZSBzZXJ2aWNlIGFuZCBtZXRob2RcbiAgICAgICAgICAgICAqIDIuIEEgbmFtZSB3aXRoIG5vIG1ldGhvZCBzZXQgdGhhdCBtYXRjaGVzIHRoZSBzZXJ2aWNlXG4gICAgICAgICAgICAgKiAzLiBBbiBlbXB0eSBuYW1lXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZvciAoY29uc3QgbWF0Y2hMZXZlbCBvZiBOQU1FX01BVENIX0xFVkVMX09SREVSKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdDb25maWcgPSBmaW5kTWF0Y2hpbmdDb25maWcoc2VydmljZSwgbWV0aG9kLCBzZXJ2aWNlQ29uZmlnLm1ldGhvZENvbmZpZywgbWF0Y2hMZXZlbCk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RDb25maWc6IG1hdGNoaW5nQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGlja0luZm9ybWF0aW9uOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY0ZpbHRlckZhY3RvcmllczogW10sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RDb25maWc6IHsgbmFtZTogW10gfSxcbiAgICAgICAgICAgIHBpY2tJbmZvcm1hdGlvbjoge30sXG4gICAgICAgICAgICBzdGF0dXM6IGNvbnN0YW50c18xLlN0YXR1cy5PSyxcbiAgICAgICAgICAgIGR5bmFtaWNGaWx0ZXJGYWN0b3JpZXM6IFtdLFxuICAgICAgICB9O1xuICAgIH07XG59XG5jbGFzcyBSZXNvbHZpbmdMb2FkQmFsYW5jZXIge1xuICAgIC8qKlxuICAgICAqIFdyYXBwZXIgY2xhc3MgdGhhdCBiZWhhdmVzIGxpa2UgYSBgTG9hZEJhbGFuY2VyYCBhbmQgYWxzbyBoYW5kbGVzIG5hbWVcbiAgICAgKiByZXNvbHV0aW9uIGludGVybmFsbHkuXG4gICAgICogQHBhcmFtIHRhcmdldCBUaGUgYWRkcmVzcyBvZiB0aGUgYmFja2VuZCB0byBjb25uZWN0IHRvLlxuICAgICAqIEBwYXJhbSBjaGFubmVsQ29udHJvbEhlbHBlciBgQ2hhbm5lbENvbnRyb2xIZWxwZXJgIGluc3RhbmNlIHByb3ZpZGVkIGJ5XG4gICAgICogICAgIHRoaXMgbG9hZCBiYWxhbmNlcidzIG93bmVyLlxuICAgICAqIEBwYXJhbSBkZWZhdWx0U2VydmljZUNvbmZpZyBUaGUgZGVmYXVsdCBzZXJ2aWNlIGNvbmZpZ3VyYXRpb24gdG8gYmUgdXNlZFxuICAgICAqICAgICBpZiBub25lIGlzIHByb3ZpZGVkIGJ5IHRoZSBuYW1lIHJlc29sdmVyLiBBIGBudWxsYCB2YWx1ZSBpbmRpY2F0ZXNcbiAgICAgKiAgICAgdGhhdCB0aGUgZGVmYXVsdCBiZWhhdmlvciBzaG91bGQgYmUgdGhlIGRlZmF1bHQgdW5jb25maWd1cmVkIGJlaGF2aW9yLlxuICAgICAqICAgICBJbiBwcmFjdGljZSwgdGhhdCBtZWFucyB1c2luZyB0aGUgXCJwaWNrIGZpcnN0XCIgbG9hZCBiYWxhbmNlclxuICAgICAqICAgICBpbXBsbWVudGF0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBjaGFubmVsQ29udHJvbEhlbHBlciwgY2hhbm5lbE9wdGlvbnMsIG9uU3VjY2Vzc2Z1bFJlc29sdXRpb24sIG9uRmFpbGVkUmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlciA9IGNoYW5uZWxDb250cm9sSGVscGVyO1xuICAgICAgICB0aGlzLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24gPSBvblN1Y2Nlc3NmdWxSZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLm9uRmFpbGVkUmVzb2x1dGlvbiA9IG9uRmFpbGVkUmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFBpY2tlciA9IG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcmVzb2x2aW5nIGxvYWQgYmFsYW5jZXIncyBjdXJyZW50IGNvbm5lY3Rpdml0eSBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzZXJ2aWNlIGNvbmZpZyBvYmplY3QgZnJvbSB0aGUgbGFzdCBzdWNjZXNzZnVsIHJlc29sdXRpb24sIGlmXG4gICAgICAgICAqIGF2YWlsYWJsZS4gQSB2YWx1ZSBvZiBudWxsIGluZGljYXRlcyB0aGF0IHdlIGhhdmUgbm90IHlldCByZWNlaXZlZCBhIHZhbGlkXG4gICAgICAgICAqIHNlcnZpY2UgY29uZmlnIGZyb20gdGhlIHJlc29sdmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWcgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgd2Ugc2hvdWxkIGF0dGVtcHQgdG8gcmVzb2x2ZSBhZ2FpbiBhZnRlciB0aGUgYmFja29mZlxuICAgICAgICAgKiB0aW1lciBydW5zIG91dC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKGNoYW5uZWxPcHRpb25zWydncnBjLnNlcnZpY2VfY29uZmlnJ10pIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlcnZpY2VDb25maWcgPSAoMCwgc2VydmljZV9jb25maWdfMS52YWxpZGF0ZVNlcnZpY2VDb25maWcpKEpTT04ucGFyc2UoY2hhbm5lbE9wdGlvbnNbJ2dycGMuc2VydmljZV9jb25maWcnXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBsb2FkQmFsYW5jaW5nQ29uZmlnOiBbXSxcbiAgICAgICAgICAgICAgICBtZXRob2RDb25maWc6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSk7XG4gICAgICAgIHRoaXMuY2hpbGRMb2FkQmFsYW5jZXIgPSBuZXcgbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyKHtcbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IGNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwuYmluZChjaGFubmVsQ29udHJvbEhlbHBlciksXG4gICAgICAgICAgICByZXF1ZXN0UmVyZXNvbHV0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIGJhY2tvZmZUaW1lb3V0IGlzIHJ1bm5pbmcsIHdlJ3JlIHN0aWxsIGJhY2tpbmcgb2ZmIGZyb21cbiAgICAgICAgICAgICAgICAgKiBtYWtpbmcgcmVzb2x2ZSByZXF1ZXN0cywgc28gd2Ugc2hvdWxkbid0IG1ha2UgYW5vdGhlciBvbmUgaGVyZS5cbiAgICAgICAgICAgICAgICAgKiBJbiB0aGF0IGNhc2UsIHRoZSBiYWNrb2ZmIHRpbWVyIGNhbGxiYWNrIHdpbGwgY2FsbFxuICAgICAgICAgICAgICAgICAqIHVwZGF0ZVJlc29sdXRpb24gKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWNrb2ZmVGltZW91dC5pc1J1bm5pbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgncmVxdWVzdFJlcmVzb2x1dGlvbiBkZWxheWVkIGJ5IGJhY2tvZmYgdGltZXIgdW50aWwgJyArIHRoaXMuYmFja29mZlRpbWVvdXQuZ2V0RW5kVGltZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKG5ld1N0YXRlLCBwaWNrZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENoaWxkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENoaWxkUGlja2VyID0gcGlja2VyO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkQ2hhbm5lbHpDaGlsZDogY2hhbm5lbENvbnRyb2xIZWxwZXIuYWRkQ2hhbm5lbHpDaGlsZC5iaW5kKGNoYW5uZWxDb250cm9sSGVscGVyKSxcbiAgICAgICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQ6IGNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQuYmluZChjaGFubmVsQ29udHJvbEhlbHBlciksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlubmVyUmVzb2x2ZXIgPSAoMCwgcmVzb2x2ZXJfMS5jcmVhdGVSZXNvbHZlcikodGFyZ2V0LCB7XG4gICAgICAgICAgICBvblN1Y2Nlc3NmdWxSZXNvbHV0aW9uOiAoYWRkcmVzc0xpc3QsIHNlcnZpY2VDb25maWcsIHNlcnZpY2VDb25maWdFcnJvciwgY29uZmlnU2VsZWN0b3IsIGF0dHJpYnV0ZXMpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgICAgICAgICAgICAgIGxldCB3b3JraW5nU2VydmljZUNvbmZpZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgLyogVGhpcyBmaXJzdCBncm91cCBvZiBjb25kaXRpb25hbHMgaW1wbGVtZW50cyB0aGUgYWxnb3JpdGhtIGRlc2NyaWJlZFxuICAgICAgICAgICAgICAgICAqIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL3Byb3Bvc2FsL2Jsb2IvbWFzdGVyL0EyMS1zZXJ2aWNlLWNvbmZpZy1lcnJvci1oYW5kbGluZy5tZFxuICAgICAgICAgICAgICAgICAqIGluIHRoZSBzZWN0aW9uIGNhbGxlZCBcIkJlaGF2aW9yIG9uIHJlY2VpdmluZyBhIG5ldyBnUlBDIENvbmZpZ1wiLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlQ29uZmlnID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgNCBhbmQgNVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljZUNvbmZpZ0Vycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIDVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNTZXJ2aWNlQ29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtpbmdTZXJ2aWNlQ29uZmlnID0gdGhpcy5kZWZhdWx0U2VydmljZUNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgNFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTZXJ2aWNlQ29uZmlnID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RlcCA0LmlpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNvbHV0aW9uRmFpbHVyZShzZXJ2aWNlQ29uZmlnRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RlcCA0LmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JraW5nU2VydmljZUNvbmZpZyA9IHRoaXMucHJldmlvdXNTZXJ2aWNlQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIDNcbiAgICAgICAgICAgICAgICAgICAgd29ya2luZ1NlcnZpY2VDb25maWcgPSBzZXJ2aWNlQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2VydmljZUNvbmZpZyA9IHNlcnZpY2VDb25maWc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtpbmdDb25maWdMaXN0ID0gKF9hID0gd29ya2luZ1NlcnZpY2VDb25maWcgPT09IG51bGwgfHwgd29ya2luZ1NlcnZpY2VDb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdvcmtpbmdTZXJ2aWNlQ29uZmlnLmxvYWRCYWxhbmNpbmdDb25maWcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRCYWxhbmNpbmdDb25maWcgPSAoMCwgbG9hZF9iYWxhbmNlcl8xLmdldEZpcnN0VXNhYmxlQ29uZmlnKSh3b3JraW5nQ29uZmlnTGlzdCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGxvYWRCYWxhbmNpbmdDb25maWcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgd2VyZSBsb2FkIGJhbGFuY2luZyBjb25maWdzIGJ1dCBub25lIGFyZSBzdXBwb3J0ZWQuIFRoaXMgY291bnRzIGFzIGEgcmVzb2x1dGlvbiBmYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzb2x1dGlvbkZhaWx1cmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ0FsbCBsb2FkIGJhbGFuY2VyIG9wdGlvbnMgaW4gc2VydmljZSBjb25maWcgYXJlIG5vdCBjb21wYXRpYmxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkTG9hZEJhbGFuY2VyLnVwZGF0ZUFkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBsb2FkQmFsYW5jaW5nQ29uZmlnLCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFNlcnZpY2VDb25maWcgPSB3b3JraW5nU2VydmljZUNvbmZpZyAhPT0gbnVsbCAmJiB3b3JraW5nU2VydmljZUNvbmZpZyAhPT0gdm9pZCAwID8gd29ya2luZ1NlcnZpY2VDb25maWcgOiB0aGlzLmRlZmF1bHRTZXJ2aWNlQ29uZmlnO1xuICAgICAgICAgICAgICAgIHRoaXMub25TdWNjZXNzZnVsUmVzb2x1dGlvbihmaW5hbFNlcnZpY2VDb25maWcsIGNvbmZpZ1NlbGVjdG9yICE9PSBudWxsICYmIGNvbmZpZ1NlbGVjdG9yICE9PSB2b2lkIDAgPyBjb25maWdTZWxlY3RvciA6IGdldERlZmF1bHRDb25maWdTZWxlY3RvcihmaW5hbFNlcnZpY2VDb25maWcpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc29sdXRpb25GYWlsdXJlKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIGNoYW5uZWxPcHRpb25zKTtcbiAgICAgICAgY29uc3QgYmFja29mZk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpbml0aWFsRGVsYXk6IGNoYW5uZWxPcHRpb25zWydncnBjLmluaXRpYWxfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgICAgIG1heERlbGF5OiBjaGFubmVsT3B0aW9uc1snZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dCA9IG5ldyBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250aW51ZVJlc29sdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUodGhpcy5sYXRlc3RDaGlsZFN0YXRlLCB0aGlzLmxhdGVzdENoaWxkUGlja2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYmFja29mZk9wdGlvbnMpO1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnVucmVmKCk7XG4gICAgfVxuICAgIHVwZGF0ZVJlc29sdXRpb24oKSB7XG4gICAgICAgIHRoaXMuaW5uZXJSZXNvbHZlci51cGRhdGVSZXNvbHV0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HLCBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucnVuT25jZSgpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyKSB7XG4gICAgICAgIHRyYWNlKCgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbdGhpcy5jdXJyZW50U3RhdGVdICtcbiAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtjb25uZWN0aXZpdHlTdGF0ZV0pO1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGlzLmV4aXRJZGxlKCkgaXMgY2FsbGVkIGJ5IHRoZSBwaWNrZXJcbiAgICAgICAgaWYgKGNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICBwaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyKTtcbiAgICB9XG4gICAgaGFuZGxlUmVzb2x1dGlvbkZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0Q2hpbGRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKGVycm9yKSk7XG4gICAgICAgICAgICB0aGlzLm9uRmFpbGVkUmVzb2x1dGlvbihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXhpdElkbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSB8fFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYWNrb2ZmVGltZW91dC5pc1J1bm5pbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZExvYWRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgIH1cbiAgICB1cGRhdGVBZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgbGJDb25maWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1cGRhdGVBZGRyZXNzTGlzdCBub3Qgc3VwcG9ydGVkIG9uIFJlc29sdmluZ0xvYWRCYWxhbmNlcicpO1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucmVzZXQoKTtcbiAgICAgICAgdGhpcy5jaGlsZExvYWRCYWxhbmNlci5yZXNldEJhY2tvZmYoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jaGlsZExvYWRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5uZXJSZXNvbHZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucmVzZXQoKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5zdG9wKCk7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRQaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyk7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWcgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gJ3Jlc29sdmluZ19sb2FkX2JhbGFuY2VyJztcbiAgICB9XG59XG5leHBvcnRzLlJlc29sdmluZ0xvYWRCYWxhbmNlciA9IFJlc29sdmluZ0xvYWRCYWxhbmNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmluZy1sb2FkLWJhbGFuY2VyLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlJlc29sdmluZ0xvYWRCYWxhbmNlciIsImxvYWRfYmFsYW5jZXJfMSIsInJlcXVpcmUiLCJzZXJ2aWNlX2NvbmZpZ18xIiwiY29ubmVjdGl2aXR5X3N0YXRlXzEiLCJyZXNvbHZlcl8xIiwicGlja2VyXzEiLCJiYWNrb2ZmX3RpbWVvdXRfMSIsImNvbnN0YW50c18xIiwibWV0YWRhdGFfMSIsImxvZ2dpbmciLCJjb25zdGFudHNfMiIsInVyaV9wYXJzZXJfMSIsImxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xIiwiVFJBQ0VSX05BTUUiLCJ0cmFjZSIsInRleHQiLCJMb2dWZXJib3NpdHkiLCJERUJVRyIsIk5BTUVfTUFUQ0hfTEVWRUxfT1JERVIiLCJoYXNNYXRjaGluZ05hbWUiLCJzZXJ2aWNlIiwibWV0aG9kIiwibWV0aG9kQ29uZmlnIiwibWF0Y2hMZXZlbCIsIm5hbWUiLCJmaW5kTWF0Y2hpbmdDb25maWciLCJtZXRob2RDb25maWdzIiwiY29uZmlnIiwiZ2V0RGVmYXVsdENvbmZpZ1NlbGVjdG9yIiwic2VydmljZUNvbmZpZyIsImRlZmF1bHRDb25maWdTZWxlY3RvciIsIm1ldGhvZE5hbWUiLCJtZXRhZGF0YSIsIl9hIiwiX2IiLCJzcGxpdE5hbWUiLCJzcGxpdCIsImZpbHRlciIsIngiLCJsZW5ndGgiLCJtYXRjaGluZ0NvbmZpZyIsInBpY2tJbmZvcm1hdGlvbiIsInN0YXR1cyIsIlN0YXR1cyIsIk9LIiwiZHluYW1pY0ZpbHRlckZhY3RvcmllcyIsImNvbnN0cnVjdG9yIiwidGFyZ2V0IiwiY2hhbm5lbENvbnRyb2xIZWxwZXIiLCJjaGFubmVsT3B0aW9ucyIsIm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24iLCJvbkZhaWxlZFJlc29sdXRpb24iLCJsYXRlc3RDaGlsZFN0YXRlIiwiQ29ubmVjdGl2aXR5U3RhdGUiLCJJRExFIiwibGF0ZXN0Q2hpbGRQaWNrZXIiLCJRdWV1ZVBpY2tlciIsImN1cnJlbnRTdGF0ZSIsInByZXZpb3VzU2VydmljZUNvbmZpZyIsImNvbnRpbnVlUmVzb2x2aW5nIiwiZGVmYXVsdFNlcnZpY2VDb25maWciLCJ2YWxpZGF0ZVNlcnZpY2VDb25maWciLCJKU09OIiwicGFyc2UiLCJsb2FkQmFsYW5jaW5nQ29uZmlnIiwidXBkYXRlU3RhdGUiLCJjaGlsZExvYWRCYWxhbmNlciIsIkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlciIsImNyZWF0ZVN1YmNoYW5uZWwiLCJiaW5kIiwicmVxdWVzdFJlcmVzb2x1dGlvbiIsImJhY2tvZmZUaW1lb3V0IiwiaXNSdW5uaW5nIiwiZ2V0RW5kVGltZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlUmVzb2x1dGlvbiIsIm5ld1N0YXRlIiwicGlja2VyIiwiYWRkQ2hhbm5lbHpDaGlsZCIsInJlbW92ZUNoYW5uZWx6Q2hpbGQiLCJpbm5lclJlc29sdmVyIiwiY3JlYXRlUmVzb2x2ZXIiLCJhZGRyZXNzTGlzdCIsInNlcnZpY2VDb25maWdFcnJvciIsImNvbmZpZ1NlbGVjdG9yIiwiYXR0cmlidXRlcyIsInN0b3AiLCJyZXNldCIsIndvcmtpbmdTZXJ2aWNlQ29uZmlnIiwiaGFuZGxlUmVzb2x1dGlvbkZhaWx1cmUiLCJ3b3JraW5nQ29uZmlnTGlzdCIsImdldEZpcnN0VXNhYmxlQ29uZmlnIiwiY29kZSIsIlVOQVZBSUxBQkxFIiwiZGV0YWlscyIsIk1ldGFkYXRhIiwidXBkYXRlQWRkcmVzc0xpc3QiLCJmaW5hbFNlcnZpY2VDb25maWciLCJvbkVycm9yIiwiZXJyb3IiLCJiYWNrb2ZmT3B0aW9ucyIsImluaXRpYWxEZWxheSIsIm1heERlbGF5IiwiQmFja29mZlRpbWVvdXQiLCJ1bnJlZiIsIkNPTk5FQ1RJTkciLCJydW5PbmNlIiwiY29ubmVjdGl2aXR5U3RhdGUiLCJ1cmlUb1N0cmluZyIsIlRSQU5TSUVOVF9GQUlMVVJFIiwiVW5hdmFpbGFibGVQaWNrZXIiLCJleGl0SWRsZSIsImxiQ29uZmlnIiwiRXJyb3IiLCJyZXNldEJhY2tvZmYiLCJkZXN0cm95IiwiZ2V0VHlwZU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/retrying-call.js":
/*!***************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/retrying-call.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.RetryingCall = exports.MessageBufferTracker = exports.RetryThrottler = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'retrying_call';\nclass RetryThrottler {\n  constructor(maxTokens, tokenRatio, previousRetryThrottler) {\n    this.maxTokens = maxTokens;\n    this.tokenRatio = tokenRatio;\n    if (previousRetryThrottler) {\n      /* When carrying over tokens from a previous config, rescale them to the\n       * new max value */\n      this.tokens = previousRetryThrottler.tokens * (maxTokens / previousRetryThrottler.maxTokens);\n    } else {\n      this.tokens = maxTokens;\n    }\n  }\n  addCallSucceeded() {\n    this.tokens = Math.max(this.tokens + this.tokenRatio, this.maxTokens);\n  }\n  addCallFailed() {\n    this.tokens = Math.min(this.tokens - 1, 0);\n  }\n  canRetryCall() {\n    return this.tokens > this.maxTokens / 2;\n  }\n}\nexports.RetryThrottler = RetryThrottler;\nclass MessageBufferTracker {\n  constructor(totalLimit, limitPerCall) {\n    this.totalLimit = totalLimit;\n    this.limitPerCall = limitPerCall;\n    this.totalAllocated = 0;\n    this.allocatedPerCall = new Map();\n  }\n  allocate(size, callId) {\n    var _a;\n    const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n    if (this.limitPerCall - currentPerCall < size || this.totalLimit - this.totalAllocated < size) {\n      return false;\n    }\n    this.allocatedPerCall.set(callId, currentPerCall + size);\n    this.totalAllocated += size;\n    return true;\n  }\n  free(size, callId) {\n    var _a;\n    if (this.totalAllocated < size) {\n      throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > total allocated ${this.totalAllocated}`);\n    }\n    this.totalAllocated -= size;\n    const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n    if (currentPerCall < size) {\n      throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > allocated for call ${currentPerCall}`);\n    }\n    this.allocatedPerCall.set(callId, currentPerCall - size);\n  }\n  freeAll(callId) {\n    var _a;\n    const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n    if (this.totalAllocated < currentPerCall) {\n      throw new Error(`Invalid buffer allocation state: call ${callId} allocated ${currentPerCall} > total allocated ${this.totalAllocated}`);\n    }\n    this.totalAllocated -= currentPerCall;\n    this.allocatedPerCall.delete(callId);\n  }\n}\nexports.MessageBufferTracker = MessageBufferTracker;\nconst PREVIONS_RPC_ATTEMPTS_METADATA_KEY = 'grpc-previous-rpc-attempts';\nclass RetryingCall {\n  constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber, bufferTracker, retryThrottler) {\n    this.channel = channel;\n    this.callConfig = callConfig;\n    this.methodName = methodName;\n    this.host = host;\n    this.credentials = credentials;\n    this.deadline = deadline;\n    this.callNumber = callNumber;\n    this.bufferTracker = bufferTracker;\n    this.retryThrottler = retryThrottler;\n    this.listener = null;\n    this.initialMetadata = null;\n    this.underlyingCalls = [];\n    this.writeBuffer = [];\n    /**\n     * The offset of message indices in the writeBuffer. For example, if\n     * writeBufferOffset is 10, message 10 is in writeBuffer[0] and message 15\n     * is in writeBuffer[5].\n     */\n    this.writeBufferOffset = 0;\n    /**\n     * Tracks whether a read has been started, so that we know whether to start\n     * reads on new child calls. This only matters for the first read, because\n     * once a message comes in the child call becomes committed and there will\n     * be no new child calls.\n     */\n    this.readStarted = false;\n    this.transparentRetryUsed = false;\n    /**\n     * Number of attempts so far\n     */\n    this.attempts = 0;\n    this.hedgingTimer = null;\n    this.committedCallIndex = null;\n    this.initialRetryBackoffSec = 0;\n    this.nextRetryBackoffSec = 0;\n    if (callConfig.methodConfig.retryPolicy) {\n      this.state = 'RETRY';\n      const retryPolicy = callConfig.methodConfig.retryPolicy;\n      this.nextRetryBackoffSec = this.initialRetryBackoffSec = Number(retryPolicy.initialBackoff.substring(0, retryPolicy.initialBackoff.length - 1));\n    } else if (callConfig.methodConfig.hedgingPolicy) {\n      this.state = 'HEDGING';\n    } else {\n      this.state = 'TRANSPARENT_ONLY';\n    }\n  }\n  getCallNumber() {\n    return this.callNumber;\n  }\n  trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n  }\n  reportStatus(statusObject) {\n    this.trace('ended with status: code=' + statusObject.code + ' details=\"' + statusObject.details + '\"');\n    this.bufferTracker.freeAll(this.callNumber);\n    this.writeBufferOffset = this.writeBufferOffset + this.writeBuffer.length;\n    this.writeBuffer = [];\n    process.nextTick(() => {\n      var _a;\n      // Explicitly construct status object to remove progress field\n      (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus({\n        code: statusObject.code,\n        details: statusObject.details,\n        metadata: statusObject.metadata\n      });\n    });\n  }\n  cancelWithStatus(status, details) {\n    this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n    this.reportStatus({\n      code: status,\n      details,\n      metadata: new metadata_1.Metadata()\n    });\n    for (const {\n      call\n    } of this.underlyingCalls) {\n      call.cancelWithStatus(status, details);\n    }\n  }\n  getPeer() {\n    if (this.committedCallIndex !== null) {\n      return this.underlyingCalls[this.committedCallIndex].call.getPeer();\n    } else {\n      return 'unknown';\n    }\n  }\n  getBufferEntry(messageIndex) {\n    var _a;\n    return (_a = this.writeBuffer[messageIndex - this.writeBufferOffset]) !== null && _a !== void 0 ? _a : {\n      entryType: 'FREED',\n      allocated: false\n    };\n  }\n  getNextBufferIndex() {\n    return this.writeBufferOffset + this.writeBuffer.length;\n  }\n  clearSentMessages() {\n    if (this.state !== 'COMMITTED') {\n      return;\n    }\n    const earliestNeededMessageIndex = this.underlyingCalls[this.committedCallIndex].nextMessageToSend;\n    for (let messageIndex = this.writeBufferOffset; messageIndex < earliestNeededMessageIndex; messageIndex++) {\n      const bufferEntry = this.getBufferEntry(messageIndex);\n      if (bufferEntry.allocated) {\n        this.bufferTracker.free(bufferEntry.message.message.length, this.callNumber);\n      }\n    }\n    this.writeBuffer = this.writeBuffer.slice(earliestNeededMessageIndex - this.writeBufferOffset);\n    this.writeBufferOffset = earliestNeededMessageIndex;\n  }\n  commitCall(index) {\n    if (this.state === 'COMMITTED') {\n      return;\n    }\n    if (this.underlyingCalls[index].state === 'COMPLETED') {\n      return;\n    }\n    this.trace('Committing call [' + this.underlyingCalls[index].call.getCallNumber() + '] at index ' + index);\n    this.state = 'COMMITTED';\n    this.committedCallIndex = index;\n    for (let i = 0; i < this.underlyingCalls.length; i++) {\n      if (i === index) {\n        continue;\n      }\n      if (this.underlyingCalls[i].state === 'COMPLETED') {\n        continue;\n      }\n      this.underlyingCalls[i].state = 'COMPLETED';\n      this.underlyingCalls[i].call.cancelWithStatus(constants_1.Status.CANCELLED, 'Discarded in favor of other hedged attempt');\n    }\n    this.clearSentMessages();\n  }\n  commitCallWithMostMessages() {\n    if (this.state === 'COMMITTED') {\n      return;\n    }\n    let mostMessages = -1;\n    let callWithMostMessages = -1;\n    for (const [index, childCall] of this.underlyingCalls.entries()) {\n      if (childCall.state === 'ACTIVE' && childCall.nextMessageToSend > mostMessages) {\n        mostMessages = childCall.nextMessageToSend;\n        callWithMostMessages = index;\n      }\n    }\n    if (callWithMostMessages === -1) {\n      /* There are no active calls, disable retries to force the next call that\n       * is started to be committed. */\n      this.state = 'TRANSPARENT_ONLY';\n    } else {\n      this.commitCall(callWithMostMessages);\n    }\n  }\n  isStatusCodeInList(list, code) {\n    return list.some(value => value === code || value.toString().toLowerCase() === constants_1.Status[code].toLowerCase());\n  }\n  getNextRetryBackoffMs() {\n    var _a;\n    const retryPolicy = (_a = this.callConfig) === null || _a === void 0 ? void 0 : _a.methodConfig.retryPolicy;\n    if (!retryPolicy) {\n      return 0;\n    }\n    const nextBackoffMs = Math.random() * this.nextRetryBackoffSec * 1000;\n    const maxBackoffSec = Number(retryPolicy.maxBackoff.substring(0, retryPolicy.maxBackoff.length - 1));\n    this.nextRetryBackoffSec = Math.min(this.nextRetryBackoffSec * retryPolicy.backoffMultiplier, maxBackoffSec);\n    return nextBackoffMs;\n  }\n  maybeRetryCall(pushback, callback) {\n    if (this.state !== 'RETRY') {\n      callback(false);\n      return;\n    }\n    const retryPolicy = this.callConfig.methodConfig.retryPolicy;\n    if (this.attempts >= Math.min(retryPolicy.maxAttempts, 5)) {\n      callback(false);\n      return;\n    }\n    let retryDelayMs;\n    if (pushback === null) {\n      retryDelayMs = this.getNextRetryBackoffMs();\n    } else if (pushback < 0) {\n      this.state = 'TRANSPARENT_ONLY';\n      callback(false);\n      return;\n    } else {\n      retryDelayMs = pushback;\n      this.nextRetryBackoffSec = this.initialRetryBackoffSec;\n    }\n    setTimeout(() => {\n      var _a, _b;\n      if (this.state !== 'RETRY') {\n        callback(false);\n        return;\n      }\n      if ((_b = (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.canRetryCall()) !== null && _b !== void 0 ? _b : true) {\n        callback(true);\n        this.attempts += 1;\n        this.startNewAttempt();\n      }\n    }, retryDelayMs);\n  }\n  countActiveCalls() {\n    let count = 0;\n    for (const call of this.underlyingCalls) {\n      if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE') {\n        count += 1;\n      }\n    }\n    return count;\n  }\n  handleProcessedStatus(status, callIndex, pushback) {\n    var _a, _b, _c;\n    switch (this.state) {\n      case 'COMMITTED':\n      case 'TRANSPARENT_ONLY':\n        this.commitCall(callIndex);\n        this.reportStatus(status);\n        break;\n      case 'HEDGING':\n        if (this.isStatusCodeInList((_a = this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes) !== null && _a !== void 0 ? _a : [], status.code)) {\n          (_b = this.retryThrottler) === null || _b === void 0 ? void 0 : _b.addCallFailed();\n          let delayMs;\n          if (pushback === null) {\n            delayMs = 0;\n          } else if (pushback < 0) {\n            this.state = 'TRANSPARENT_ONLY';\n            this.commitCall(callIndex);\n            this.reportStatus(status);\n            return;\n          } else {\n            delayMs = pushback;\n          }\n          setTimeout(() => {\n            this.maybeStartHedgingAttempt();\n            // If after trying to start a call there are no active calls, this was the last one\n            if (this.countActiveCalls() === 0) {\n              this.commitCall(callIndex);\n              this.reportStatus(status);\n            }\n          }, delayMs);\n        } else {\n          this.commitCall(callIndex);\n          this.reportStatus(status);\n        }\n        break;\n      case 'RETRY':\n        if (this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes, status.code)) {\n          (_c = this.retryThrottler) === null || _c === void 0 ? void 0 : _c.addCallFailed();\n          this.maybeRetryCall(pushback, retried => {\n            if (!retried) {\n              this.commitCall(callIndex);\n              this.reportStatus(status);\n            }\n          });\n        } else {\n          this.commitCall(callIndex);\n          this.reportStatus(status);\n        }\n        break;\n    }\n  }\n  getPushback(metadata) {\n    const mdValue = metadata.get('grpc-retry-pushback-ms');\n    if (mdValue.length === 0) {\n      return null;\n    }\n    try {\n      return parseInt(mdValue[0]);\n    } catch (e) {\n      return -1;\n    }\n  }\n  handleChildStatus(status, callIndex) {\n    var _a;\n    if (this.underlyingCalls[callIndex].state === 'COMPLETED') {\n      return;\n    }\n    this.trace('state=' + this.state + ' handling status with progress ' + status.progress + ' from child [' + this.underlyingCalls[callIndex].call.getCallNumber() + '] in state ' + this.underlyingCalls[callIndex].state);\n    this.underlyingCalls[callIndex].state = 'COMPLETED';\n    if (status.code === constants_1.Status.OK) {\n      (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.addCallSucceeded();\n      this.commitCall(callIndex);\n      this.reportStatus(status);\n      return;\n    }\n    if (this.state === 'COMMITTED') {\n      this.reportStatus(status);\n      return;\n    }\n    const pushback = this.getPushback(status.metadata);\n    switch (status.progress) {\n      case 'NOT_STARTED':\n        // RPC never leaves the client, always safe to retry\n        this.startNewAttempt();\n        break;\n      case 'REFUSED':\n        // RPC reaches the server library, but not the server application logic\n        if (this.transparentRetryUsed) {\n          this.handleProcessedStatus(status, callIndex, pushback);\n        } else {\n          this.transparentRetryUsed = true;\n          this.startNewAttempt();\n        }\n        break;\n      case 'DROP':\n        this.commitCall(callIndex);\n        this.reportStatus(status);\n        break;\n      case 'PROCESSED':\n        this.handleProcessedStatus(status, callIndex, pushback);\n        break;\n    }\n  }\n  maybeStartHedgingAttempt() {\n    if (this.state !== 'HEDGING') {\n      return;\n    }\n    if (!this.callConfig.methodConfig.hedgingPolicy) {\n      return;\n    }\n    const hedgingPolicy = this.callConfig.methodConfig.hedgingPolicy;\n    if (this.attempts >= Math.min(hedgingPolicy.maxAttempts, 5)) {\n      return;\n    }\n    this.attempts += 1;\n    this.startNewAttempt();\n    this.maybeStartHedgingTimer();\n  }\n  maybeStartHedgingTimer() {\n    var _a, _b, _c;\n    if (this.hedgingTimer) {\n      clearTimeout(this.hedgingTimer);\n    }\n    if (this.state !== 'HEDGING') {\n      return;\n    }\n    if (!this.callConfig.methodConfig.hedgingPolicy) {\n      return;\n    }\n    const hedgingPolicy = this.callConfig.methodConfig.hedgingPolicy;\n    if (this.attempts >= Math.min(hedgingPolicy.maxAttempts, 5)) {\n      return;\n    }\n    const hedgingDelayString = (_a = hedgingPolicy.hedgingDelay) !== null && _a !== void 0 ? _a : '0s';\n    const hedgingDelaySec = Number(hedgingDelayString.substring(0, hedgingDelayString.length - 1));\n    this.hedgingTimer = setTimeout(() => {\n      this.maybeStartHedgingAttempt();\n    }, hedgingDelaySec * 1000);\n    (_c = (_b = this.hedgingTimer).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n  }\n  startNewAttempt() {\n    const child = this.channel.createLoadBalancingCall(this.callConfig, this.methodName, this.host, this.credentials, this.deadline);\n    this.trace('Created child call [' + child.getCallNumber() + '] for attempt ' + this.attempts);\n    const index = this.underlyingCalls.length;\n    this.underlyingCalls.push({\n      state: 'ACTIVE',\n      call: child,\n      nextMessageToSend: 0\n    });\n    const previousAttempts = this.attempts - 1;\n    const initialMetadata = this.initialMetadata.clone();\n    if (previousAttempts > 0) {\n      initialMetadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n    }\n    let receivedMetadata = false;\n    child.start(initialMetadata, {\n      onReceiveMetadata: metadata => {\n        this.trace('Received metadata from child [' + child.getCallNumber() + ']');\n        this.commitCall(index);\n        receivedMetadata = true;\n        if (previousAttempts > 0) {\n          metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n        }\n        if (this.underlyingCalls[index].state === 'ACTIVE') {\n          this.listener.onReceiveMetadata(metadata);\n        }\n      },\n      onReceiveMessage: message => {\n        this.trace('Received message from child [' + child.getCallNumber() + ']');\n        this.commitCall(index);\n        if (this.underlyingCalls[index].state === 'ACTIVE') {\n          this.listener.onReceiveMessage(message);\n        }\n      },\n      onReceiveStatus: status => {\n        this.trace('Received status from child [' + child.getCallNumber() + ']');\n        if (!receivedMetadata && previousAttempts > 0) {\n          status.metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n        }\n        this.handleChildStatus(status, index);\n      }\n    });\n    this.sendNextChildMessage(index);\n    if (this.readStarted) {\n      child.startRead();\n    }\n  }\n  start(metadata, listener) {\n    this.trace('start called');\n    this.listener = listener;\n    this.initialMetadata = metadata;\n    this.attempts += 1;\n    this.startNewAttempt();\n    this.maybeStartHedgingTimer();\n  }\n  handleChildWriteCompleted(childIndex) {\n    var _a, _b;\n    const childCall = this.underlyingCalls[childIndex];\n    const messageIndex = childCall.nextMessageToSend;\n    (_b = (_a = this.getBufferEntry(messageIndex)).callback) === null || _b === void 0 ? void 0 : _b.call(_a);\n    this.clearSentMessages();\n    childCall.nextMessageToSend += 1;\n    this.sendNextChildMessage(childIndex);\n  }\n  sendNextChildMessage(childIndex) {\n    const childCall = this.underlyingCalls[childIndex];\n    if (childCall.state === 'COMPLETED') {\n      return;\n    }\n    if (this.getBufferEntry(childCall.nextMessageToSend)) {\n      const bufferEntry = this.getBufferEntry(childCall.nextMessageToSend);\n      switch (bufferEntry.entryType) {\n        case 'MESSAGE':\n          childCall.call.sendMessageWithContext({\n            callback: error => {\n              // Ignore error\n              this.handleChildWriteCompleted(childIndex);\n            }\n          }, bufferEntry.message.message);\n          break;\n        case 'HALF_CLOSE':\n          childCall.nextMessageToSend += 1;\n          childCall.call.halfClose();\n          break;\n        case 'FREED':\n          // Should not be possible\n          break;\n      }\n    }\n  }\n  sendMessageWithContext(context, message) {\n    var _a;\n    this.trace('write() called with message of length ' + message.length);\n    const writeObj = {\n      message,\n      flags: context.flags\n    };\n    const messageIndex = this.getNextBufferIndex();\n    const bufferEntry = {\n      entryType: 'MESSAGE',\n      message: writeObj,\n      allocated: this.bufferTracker.allocate(message.length, this.callNumber)\n    };\n    this.writeBuffer.push(bufferEntry);\n    if (bufferEntry.allocated) {\n      (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n      for (const [callIndex, call] of this.underlyingCalls.entries()) {\n        if (call.state === 'ACTIVE' && call.nextMessageToSend === messageIndex) {\n          call.call.sendMessageWithContext({\n            callback: error => {\n              // Ignore error\n              this.handleChildWriteCompleted(callIndex);\n            }\n          }, message);\n        }\n      }\n    } else {\n      this.commitCallWithMostMessages();\n      // commitCallWithMostMessages can fail if we are between ping attempts\n      if (this.committedCallIndex === null) {\n        return;\n      }\n      const call = this.underlyingCalls[this.committedCallIndex];\n      bufferEntry.callback = context.callback;\n      if (call.state === 'ACTIVE' && call.nextMessageToSend === messageIndex) {\n        call.call.sendMessageWithContext({\n          callback: error => {\n            // Ignore error\n            this.handleChildWriteCompleted(this.committedCallIndex);\n          }\n        }, message);\n      }\n    }\n  }\n  startRead() {\n    this.trace('startRead called');\n    this.readStarted = true;\n    for (const underlyingCall of this.underlyingCalls) {\n      if ((underlyingCall === null || underlyingCall === void 0 ? void 0 : underlyingCall.state) === 'ACTIVE') {\n        underlyingCall.call.startRead();\n      }\n    }\n  }\n  halfClose() {\n    this.trace('halfClose called');\n    const halfCloseIndex = this.getNextBufferIndex();\n    this.writeBuffer.push({\n      entryType: 'HALF_CLOSE',\n      allocated: false\n    });\n    for (const call of this.underlyingCalls) {\n      if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE' && call.nextMessageToSend === halfCloseIndex) {\n        call.nextMessageToSend += 1;\n        call.call.halfClose();\n      }\n    }\n  }\n  setCredentials(newCredentials) {\n    throw new Error('Method not implemented.');\n  }\n  getMethod() {\n    return this.methodName;\n  }\n  getHost() {\n    return this.host;\n  }\n}\nexports.RetryingCall = RetryingCall;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmV0cnlpbmctY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxvQkFBb0IsR0FBR0EsNEJBQTRCLEdBQUdBLHNCQUFzQixHQUFHLEtBQUssQ0FBQztBQUNyRixNQUFNSyxXQUFXLEdBQUdDLG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNQyxVQUFVLEdBQUdELG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNRSxPQUFPLEdBQUdGLG1CQUFPLENBQUMsMEVBQVcsQ0FBQztBQUNwQyxNQUFNRyxXQUFXLEdBQUcsZUFBZTtBQUNuQyxNQUFNTCxjQUFjLENBQUM7RUFDakJNLFdBQVdBLENBQUNDLFNBQVMsRUFBRUMsVUFBVSxFQUFFQyxzQkFBc0IsRUFBRTtJQUN2RCxJQUFJLENBQUNGLFNBQVMsR0FBR0EsU0FBUztJQUMxQixJQUFJLENBQUNDLFVBQVUsR0FBR0EsVUFBVTtJQUM1QixJQUFJQyxzQkFBc0IsRUFBRTtNQUN4QjtBQUNaO01BQ1ksSUFBSSxDQUFDQyxNQUFNLEdBQ1BELHNCQUFzQixDQUFDQyxNQUFNLElBQ3hCSCxTQUFTLEdBQUdFLHNCQUFzQixDQUFDRixTQUFTLENBQUM7SUFDMUQsQ0FBQyxNQUNJO01BQ0QsSUFBSSxDQUFDRyxNQUFNLEdBQUdILFNBQVM7SUFDM0I7RUFDSjtFQUNBSSxnQkFBZ0JBLENBQUEsRUFBRztJQUNmLElBQUksQ0FBQ0QsTUFBTSxHQUFHRSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxJQUFJLENBQUNILE1BQU0sR0FBRyxJQUFJLENBQUNGLFVBQVUsRUFBRSxJQUFJLENBQUNELFNBQVMsQ0FBQztF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SSxDQUFDL0YsS0FBSyxDQUFDLGtCQUFrQixDQUFDO0lBQzlCLE1BQU1vRyxjQUFjLEdBQUcsSUFBSSxDQUFDL0Usa0JBQWtCLENBQUMsQ0FBQztJQUNoRCxJQUFJLENBQUN2QyxXQUFXLENBQUNvRyxJQUFJLENBQUM7TUFDbEIvRCxTQUFTLEVBQUUsWUFBWTtNQUN2QkMsU0FBUyxFQUFFO0lBQ2YsQ0FBQyxDQUFDO0lBQ0YsS0FBSyxNQUFNTCxJQUFJLElBQUksSUFBSSxDQUFDbEMsZUFBZSxFQUFFO01BQ3JDLElBQUksQ0FBQ2tDLElBQUksS0FBSyxJQUFJLElBQUlBLElBQUksS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsSUFBSSxDQUFDdEIsS0FBSyxNQUFNLFFBQVEsSUFDckVzQixJQUFJLENBQUNTLGlCQUFpQixLQUFLNEUsY0FBYyxFQUFFO1FBQzNDckYsSUFBSSxDQUFDUyxpQkFBaUIsSUFBSSxDQUFDO1FBQzNCVCxJQUFJLENBQUNBLElBQUksQ0FBQ2dGLFNBQVMsQ0FBQyxDQUFDO01BQ3pCO0lBQ0o7RUFDSjtFQUNBTSxjQUFjQSxDQUFDQyxjQUFjLEVBQUU7SUFDM0IsTUFBTSxJQUFJeEksS0FBSyxDQUFDLHlCQUF5QixDQUFDO0VBQzlDO0VBQ0F5SSxTQUFTQSxDQUFBLEVBQUc7SUFDUixPQUFPLElBQUksQ0FBQ25JLFVBQVU7RUFDMUI7RUFDQW9JLE9BQU9BLENBQUEsRUFBRztJQUNOLE9BQU8sSUFBSSxDQUFDbkksSUFBSTtFQUNwQjtBQUNKO0FBQ0F6QyxvQkFBb0IsR0FBR0UsWUFBWSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmV0cnlpbmctY2FsbC5qcz83Yzc4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJldHJ5aW5nQ2FsbCA9IGV4cG9ydHMuTWVzc2FnZUJ1ZmZlclRyYWNrZXIgPSBleHBvcnRzLlJldHJ5VGhyb3R0bGVyID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3JldHJ5aW5nX2NhbGwnO1xuY2xhc3MgUmV0cnlUaHJvdHRsZXIge1xuICAgIGNvbnN0cnVjdG9yKG1heFRva2VucywgdG9rZW5SYXRpbywgcHJldmlvdXNSZXRyeVRocm90dGxlcikge1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IG1heFRva2VucztcbiAgICAgICAgdGhpcy50b2tlblJhdGlvID0gdG9rZW5SYXRpbztcbiAgICAgICAgaWYgKHByZXZpb3VzUmV0cnlUaHJvdHRsZXIpIHtcbiAgICAgICAgICAgIC8qIFdoZW4gY2Fycnlpbmcgb3ZlciB0b2tlbnMgZnJvbSBhIHByZXZpb3VzIGNvbmZpZywgcmVzY2FsZSB0aGVtIHRvIHRoZVxuICAgICAgICAgICAgICogbmV3IG1heCB2YWx1ZSAqL1xuICAgICAgICAgICAgdGhpcy50b2tlbnMgPVxuICAgICAgICAgICAgICAgIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIudG9rZW5zICpcbiAgICAgICAgICAgICAgICAgICAgKG1heFRva2VucyAvIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIubWF4VG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zID0gbWF4VG9rZW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENhbGxTdWNjZWVkZWQoKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gTWF0aC5tYXgodGhpcy50b2tlbnMgKyB0aGlzLnRva2VuUmF0aW8sIHRoaXMubWF4VG9rZW5zKTtcbiAgICB9XG4gICAgYWRkQ2FsbEZhaWxlZCgpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSBNYXRoLm1pbih0aGlzLnRva2VucyAtIDEsIDApO1xuICAgIH1cbiAgICBjYW5SZXRyeUNhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VucyA+IHRoaXMubWF4VG9rZW5zIC8gMjtcbiAgICB9XG59XG5leHBvcnRzLlJldHJ5VGhyb3R0bGVyID0gUmV0cnlUaHJvdHRsZXI7XG5jbGFzcyBNZXNzYWdlQnVmZmVyVHJhY2tlciB7XG4gICAgY29uc3RydWN0b3IodG90YWxMaW1pdCwgbGltaXRQZXJDYWxsKSB7XG4gICAgICAgIHRoaXMudG90YWxMaW1pdCA9IHRvdGFsTGltaXQ7XG4gICAgICAgIHRoaXMubGltaXRQZXJDYWxsID0gbGltaXRQZXJDYWxsO1xuICAgICAgICB0aGlzLnRvdGFsQWxsb2NhdGVkID0gMDtcbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRQZXJDYWxsID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhbGxvY2F0ZShzaXplLCBjYWxsSWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdXJyZW50UGVyQ2FsbCA9IChfYSA9IHRoaXMuYWxsb2NhdGVkUGVyQ2FsbC5nZXQoY2FsbElkKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbiAgICAgICAgaWYgKHRoaXMubGltaXRQZXJDYWxsIC0gY3VycmVudFBlckNhbGwgPCBzaXplIHx8XG4gICAgICAgICAgICB0aGlzLnRvdGFsTGltaXQgLSB0aGlzLnRvdGFsQWxsb2NhdGVkIDwgc2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWxsb2NhdGVkUGVyQ2FsbC5zZXQoY2FsbElkLCBjdXJyZW50UGVyQ2FsbCArIHNpemUpO1xuICAgICAgICB0aGlzLnRvdGFsQWxsb2NhdGVkICs9IHNpemU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmcmVlKHNpemUsIGNhbGxJZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnRvdGFsQWxsb2NhdGVkIDwgc2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGJ1ZmZlciBhbGxvY2F0aW9uIHN0YXRlOiBjYWxsICR7Y2FsbElkfSBmcmVlZCAke3NpemV9ID4gdG90YWwgYWxsb2NhdGVkICR7dGhpcy50b3RhbEFsbG9jYXRlZH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdGFsQWxsb2NhdGVkIC09IHNpemU7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJDYWxsID0gKF9hID0gdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmdldChjYWxsSWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBpZiAoY3VycmVudFBlckNhbGwgPCBzaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyIGFsbG9jYXRpb24gc3RhdGU6IGNhbGwgJHtjYWxsSWR9IGZyZWVkICR7c2l6ZX0gPiBhbGxvY2F0ZWQgZm9yIGNhbGwgJHtjdXJyZW50UGVyQ2FsbH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFsbG9jYXRlZFBlckNhbGwuc2V0KGNhbGxJZCwgY3VycmVudFBlckNhbGwgLSBzaXplKTtcbiAgICB9XG4gICAgZnJlZUFsbChjYWxsSWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdXJyZW50UGVyQ2FsbCA9IChfYSA9IHRoaXMuYWxsb2NhdGVkUGVyQ2FsbC5nZXQoY2FsbElkKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbiAgICAgICAgaWYgKHRoaXMudG90YWxBbGxvY2F0ZWQgPCBjdXJyZW50UGVyQ2FsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGJ1ZmZlciBhbGxvY2F0aW9uIHN0YXRlOiBjYWxsICR7Y2FsbElkfSBhbGxvY2F0ZWQgJHtjdXJyZW50UGVyQ2FsbH0gPiB0b3RhbCBhbGxvY2F0ZWQgJHt0aGlzLnRvdGFsQWxsb2NhdGVkfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgLT0gY3VycmVudFBlckNhbGw7XG4gICAgICAgIHRoaXMuYWxsb2NhdGVkUGVyQ2FsbC5kZWxldGUoY2FsbElkKTtcbiAgICB9XG59XG5leHBvcnRzLk1lc3NhZ2VCdWZmZXJUcmFja2VyID0gTWVzc2FnZUJ1ZmZlclRyYWNrZXI7XG5jb25zdCBQUkVWSU9OU19SUENfQVRURU1QVFNfTUVUQURBVEFfS0VZID0gJ2dycGMtcHJldmlvdXMtcnBjLWF0dGVtcHRzJztcbmNsYXNzIFJldHJ5aW5nQ2FsbCB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbCwgY2FsbENvbmZpZywgbWV0aG9kTmFtZSwgaG9zdCwgY3JlZGVudGlhbHMsIGRlYWRsaW5lLCBjYWxsTnVtYmVyLCBidWZmZXJUcmFja2VyLCByZXRyeVRocm90dGxlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLmNhbGxDb25maWcgPSBjYWxsQ29uZmlnO1xuICAgICAgICB0aGlzLm1ldGhvZE5hbWUgPSBtZXRob2ROYW1lO1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBkZWFkbGluZTtcbiAgICAgICAgdGhpcy5jYWxsTnVtYmVyID0gY2FsbE51bWJlcjtcbiAgICAgICAgdGhpcy5idWZmZXJUcmFja2VyID0gYnVmZmVyVHJhY2tlcjtcbiAgICAgICAgdGhpcy5yZXRyeVRocm90dGxlciA9IHJldHJ5VGhyb3R0bGVyO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbml0aWFsTWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxscyA9IFtdO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IG9mIG1lc3NhZ2UgaW5kaWNlcyBpbiB0aGUgd3JpdGVCdWZmZXIuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB3cml0ZUJ1ZmZlck9mZnNldCBpcyAxMCwgbWVzc2FnZSAxMCBpcyBpbiB3cml0ZUJ1ZmZlclswXSBhbmQgbWVzc2FnZSAxNVxuICAgICAgICAgKiBpcyBpbiB3cml0ZUJ1ZmZlcls1XS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXJPZmZzZXQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIHdoZXRoZXIgYSByZWFkIGhhcyBiZWVuIHN0YXJ0ZWQsIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIHRvIHN0YXJ0XG4gICAgICAgICAqIHJlYWRzIG9uIG5ldyBjaGlsZCBjYWxscy4gVGhpcyBvbmx5IG1hdHRlcnMgZm9yIHRoZSBmaXJzdCByZWFkLCBiZWNhdXNlXG4gICAgICAgICAqIG9uY2UgYSBtZXNzYWdlIGNvbWVzIGluIHRoZSBjaGlsZCBjYWxsIGJlY29tZXMgY29tbWl0dGVkIGFuZCB0aGVyZSB3aWxsXG4gICAgICAgICAqIGJlIG5vIG5ldyBjaGlsZCBjYWxscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVhZFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmFuc3BhcmVudFJldHJ5VXNlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGF0dGVtcHRzIHNvIGZhclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdHRlbXB0cyA9IDA7XG4gICAgICAgIHRoaXMuaGVkZ2luZ1RpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21taXR0ZWRDYWxsSW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLmluaXRpYWxSZXRyeUJhY2tvZmZTZWMgPSAwO1xuICAgICAgICB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgPSAwO1xuICAgICAgICBpZiAoY2FsbENvbmZpZy5tZXRob2RDb25maWcucmV0cnlQb2xpY3kpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnUkVUUlknO1xuICAgICAgICAgICAgY29uc3QgcmV0cnlQb2xpY3kgPSBjYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5yZXRyeVBvbGljeTtcbiAgICAgICAgICAgIHRoaXMubmV4dFJldHJ5QmFja29mZlNlYyA9IHRoaXMuaW5pdGlhbFJldHJ5QmFja29mZlNlYyA9IE51bWJlcihyZXRyeVBvbGljeS5pbml0aWFsQmFja29mZi5zdWJzdHJpbmcoMCwgcmV0cnlQb2xpY3kuaW5pdGlhbEJhY2tvZmYubGVuZ3RoIC0gMSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnSEVER0lORyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENhbGxOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxOdW1iZXI7XG4gICAgfVxuICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnWycgKyB0aGlzLmNhbGxOdW1iZXIgKyAnXSAnICsgdGV4dCk7XG4gICAgfVxuICAgIHJlcG9ydFN0YXR1cyhzdGF0dXNPYmplY3QpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICBzdGF0dXNPYmplY3QuY29kZSArXG4gICAgICAgICAgICAnIGRldGFpbHM9XCInICtcbiAgICAgICAgICAgIHN0YXR1c09iamVjdC5kZXRhaWxzICtcbiAgICAgICAgICAgICdcIicpO1xuICAgICAgICB0aGlzLmJ1ZmZlclRyYWNrZXIuZnJlZUFsbCh0aGlzLmNhbGxOdW1iZXIpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBjb25zdHJ1Y3Qgc3RhdHVzIG9iamVjdCB0byByZW1vdmUgcHJvZ3Jlc3MgZmllbGRcbiAgICAgICAgICAgIChfYSA9IHRoaXMubGlzdGVuZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblJlY2VpdmVTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IHN0YXR1c09iamVjdC5jb2RlLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHN0YXR1c09iamVjdC5kZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzdGF0dXNPYmplY3QubWV0YWRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbmNlbFdpdGhTdGF0dXMgY29kZTogJyArIHN0YXR1cyArICcgZGV0YWlsczogXCInICsgZGV0YWlscyArICdcIicpO1xuICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyh7IGNvZGU6IHN0YXR1cywgZGV0YWlscywgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkgfSk7XG4gICAgICAgIGZvciAoY29uc3QgeyBjYWxsIH0gb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGNhbGwuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbW1pdHRlZENhbGxJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMuY29tbWl0dGVkQ2FsbEluZGV4XS5jYWxsLmdldFBlZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLndyaXRlQnVmZmVyW21lc3NhZ2VJbmRleCAtIHRoaXMud3JpdGVCdWZmZXJPZmZzZXRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdGUkVFRCcsXG4gICAgICAgICAgICBhbGxvY2F0ZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV4dEJ1ZmZlckluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICBjbGVhclNlbnRNZXNzYWdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdDT01NSVRURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWFybGllc3ROZWVkZWRNZXNzYWdlSW5kZXggPSB0aGlzLnVuZGVybHlpbmdDYWxsc1t0aGlzLmNvbW1pdHRlZENhbGxJbmRleF0ubmV4dE1lc3NhZ2VUb1NlbmQ7XG4gICAgICAgIGZvciAobGV0IG1lc3NhZ2VJbmRleCA9IHRoaXMud3JpdGVCdWZmZXJPZmZzZXQ7IG1lc3NhZ2VJbmRleCA8IGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4OyBtZXNzYWdlSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyRW50cnkgPSB0aGlzLmdldEJ1ZmZlckVudHJ5KG1lc3NhZ2VJbmRleCk7XG4gICAgICAgICAgICBpZiAoYnVmZmVyRW50cnkuYWxsb2NhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJUcmFja2VyLmZyZWUoYnVmZmVyRW50cnkubWVzc2FnZS5tZXNzYWdlLmxlbmd0aCwgdGhpcy5jYWxsTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gdGhpcy53cml0ZUJ1ZmZlci5zbGljZShlYXJsaWVzdE5lZWRlZE1lc3NhZ2VJbmRleCAtIHRoaXMud3JpdGVCdWZmZXJPZmZzZXQpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gZWFybGllc3ROZWVkZWRNZXNzYWdlSW5kZXg7XG4gICAgfVxuICAgIGNvbW1pdENhbGwoaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdDT01NSVRURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudW5kZXJseWluZ0NhbGxzW2luZGV4XS5zdGF0ZSA9PT0gJ0NPTVBMRVRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdDb21taXR0aW5nIGNhbGwgWycgK1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaW5kZXhdLmNhbGwuZ2V0Q2FsbE51bWJlcigpICtcbiAgICAgICAgICAgICddIGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgaW5kZXgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ0NPTU1JVFRFRCc7XG4gICAgICAgIHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4ID0gaW5kZXg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy51bmRlcmx5aW5nQ2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudW5kZXJseWluZ0NhbGxzW2ldLnN0YXRlID09PSAnQ09NUExFVEVEJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaV0uc3RhdGUgPSAnQ09NUExFVEVEJztcbiAgICAgICAgICAgIHRoaXMudW5kZXJseWluZ0NhbGxzW2ldLmNhbGwuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnRGlzY2FyZGVkIGluIGZhdm9yIG9mIG90aGVyIGhlZGdlZCBhdHRlbXB0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhclNlbnRNZXNzYWdlcygpO1xuICAgIH1cbiAgICBjb21taXRDYWxsV2l0aE1vc3RNZXNzYWdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdDT01NSVRURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vc3RNZXNzYWdlcyA9IC0xO1xuICAgICAgICBsZXQgY2FsbFdpdGhNb3N0TWVzc2FnZXMgPSAtMTtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNoaWxkQ2FsbF0gb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRDYWxsLnN0YXRlID09PSAnQUNUSVZFJyAmJlxuICAgICAgICAgICAgICAgIGNoaWxkQ2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA+IG1vc3RNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIG1vc3RNZXNzYWdlcyA9IGNoaWxkQ2FsbC5uZXh0TWVzc2FnZVRvU2VuZDtcbiAgICAgICAgICAgICAgICBjYWxsV2l0aE1vc3RNZXNzYWdlcyA9IGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsV2l0aE1vc3RNZXNzYWdlcyA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8qIFRoZXJlIGFyZSBubyBhY3RpdmUgY2FsbHMsIGRpc2FibGUgcmV0cmllcyB0byBmb3JjZSB0aGUgbmV4dCBjYWxsIHRoYXRcbiAgICAgICAgICAgICAqIGlzIHN0YXJ0ZWQgdG8gYmUgY29tbWl0dGVkLiAqL1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdUUkFOU1BBUkVOVF9PTkxZJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsV2l0aE1vc3RNZXNzYWdlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNTdGF0dXNDb2RlSW5MaXN0KGxpc3QsIGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Quc29tZSh2YWx1ZSA9PiB2YWx1ZSA9PT0gY29kZSB8fFxuICAgICAgICAgICAgdmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID09PSBjb25zdGFudHNfMS5TdGF0dXNbY29kZV0udG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuICAgIGdldE5leHRSZXRyeUJhY2tvZmZNcygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCByZXRyeVBvbGljeSA9IChfYSA9IHRoaXMuY2FsbENvbmZpZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1ldGhvZENvbmZpZy5yZXRyeVBvbGljeTtcbiAgICAgICAgaWYgKCFyZXRyeVBvbGljeSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dEJhY2tvZmZNcyA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgKiAxMDAwO1xuICAgICAgICBjb25zdCBtYXhCYWNrb2ZmU2VjID0gTnVtYmVyKHJldHJ5UG9saWN5Lm1heEJhY2tvZmYuc3Vic3RyaW5nKDAsIHJldHJ5UG9saWN5Lm1heEJhY2tvZmYubGVuZ3RoIC0gMSkpO1xuICAgICAgICB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgPSBNYXRoLm1pbih0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgKiByZXRyeVBvbGljeS5iYWNrb2ZmTXVsdGlwbGllciwgbWF4QmFja29mZlNlYyk7XG4gICAgICAgIHJldHVybiBuZXh0QmFja29mZk1zO1xuICAgIH1cbiAgICBtYXliZVJldHJ5Q2FsbChwdXNoYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdSRVRSWScpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXRyeVBvbGljeSA9IHRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcucmV0cnlQb2xpY3k7XG4gICAgICAgIGlmICh0aGlzLmF0dGVtcHRzID49IE1hdGgubWluKHJldHJ5UG9saWN5Lm1heEF0dGVtcHRzLCA1KSkge1xuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXRyeURlbGF5TXM7XG4gICAgICAgIGlmIChwdXNoYmFjayA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0cnlEZWxheU1zID0gdGhpcy5nZXROZXh0UmV0cnlCYWNrb2ZmTXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwdXNoYmFjayA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnVFJBTlNQQVJFTlRfT05MWSc7XG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXRyeURlbGF5TXMgPSBwdXNoYmFjaztcbiAgICAgICAgICAgIHRoaXMubmV4dFJldHJ5QmFja29mZlNlYyA9IHRoaXMuaW5pdGlhbFJldHJ5QmFja29mZlNlYztcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ1JFVFJZJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKF9iID0gKF9hID0gdGhpcy5yZXRyeVRocm90dGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhblJldHJ5Q2FsbCgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRlbXB0cyArPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnROZXdBdHRlbXB0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHJldHJ5RGVsYXlNcyk7XG4gICAgfVxuICAgIGNvdW50QWN0aXZlQ2FsbHMoKSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLnVuZGVybHlpbmdDYWxscykge1xuICAgICAgICAgICAgaWYgKChjYWxsID09PSBudWxsIHx8IGNhbGwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGwuc3RhdGUpID09PSAnQUNUSVZFJykge1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cbiAgICBoYW5kbGVQcm9jZXNzZWRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgsIHB1c2hiYWNrKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ0NPTU1JVFRFRCc6XG4gICAgICAgICAgICBjYXNlICdUUkFOU1BBUkVOVF9PTkxZJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnSEVER0lORyc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGF0dXNDb2RlSW5MaXN0KChfYSA9IHRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeS5ub25GYXRhbFN0YXR1c0NvZGVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSwgc3RhdHVzLmNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMucmV0cnlUaHJvdHRsZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWxheU1zO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHVzaGJhY2sgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5TXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHB1c2hiYWNrIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdUUkFOU1BBUkVOVF9PTkxZJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5TXMgPSBwdXNoYmFjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEhlZGdpbmdBdHRlbXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhZnRlciB0cnlpbmcgdG8gc3RhcnQgYSBjYWxsIHRoZXJlIGFyZSBubyBhY3RpdmUgY2FsbHMsIHRoaXMgd2FzIHRoZSBsYXN0IG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY291bnRBY3RpdmVDYWxscygpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXlNcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSRVRSWSc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGF0dXNDb2RlSW5MaXN0KHRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcucmV0cnlQb2xpY3kucmV0cnlhYmxlU3RhdHVzQ29kZXMsIHN0YXR1cy5jb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAoX2MgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heWJlUmV0cnlDYWxsKHB1c2hiYWNrLCByZXRyaWVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFB1c2hiYWNrKG1ldGFkYXRhKSB7XG4gICAgICAgIGNvbnN0IG1kVmFsdWUgPSBtZXRhZGF0YS5nZXQoJ2dycGMtcmV0cnktcHVzaGJhY2stbXMnKTtcbiAgICAgICAgaWYgKG1kVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG1kVmFsdWVbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ2hpbGRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbY2FsbEluZGV4XS5zdGF0ZSA9PT0gJ0NPTVBMRVRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdzdGF0ZT0nICtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgK1xuICAgICAgICAgICAgJyBoYW5kbGluZyBzdGF0dXMgd2l0aCBwcm9ncmVzcyAnICtcbiAgICAgICAgICAgIHN0YXR1cy5wcm9ncmVzcyArXG4gICAgICAgICAgICAnIGZyb20gY2hpbGQgWycgK1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbY2FsbEluZGV4XS5jYWxsLmdldENhbGxOdW1iZXIoKSArXG4gICAgICAgICAgICAnXSBpbiBzdGF0ZSAnICtcbiAgICAgICAgICAgIHRoaXMudW5kZXJseWluZ0NhbGxzW2NhbGxJbmRleF0uc3RhdGUpO1xuICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1tjYWxsSW5kZXhdLnN0YXRlID0gJ0NPTVBMRVRFRCc7XG4gICAgICAgIGlmIChzdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnQ09NTUlUVEVEJykge1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdXNoYmFjayA9IHRoaXMuZ2V0UHVzaGJhY2soc3RhdHVzLm1ldGFkYXRhKTtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGNhc2UgJ05PVF9TVEFSVEVEJzpcbiAgICAgICAgICAgICAgICAvLyBSUEMgbmV2ZXIgbGVhdmVzIHRoZSBjbGllbnQsIGFsd2F5cyBzYWZlIHRvIHJldHJ5XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JFRlVTRUQnOlxuICAgICAgICAgICAgICAgIC8vIFJQQyByZWFjaGVzIHRoZSBzZXJ2ZXIgbGlicmFyeSwgYnV0IG5vdCB0aGUgc2VydmVyIGFwcGxpY2F0aW9uIGxvZ2ljXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQcm9jZXNzZWRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgsIHB1c2hiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RST1AnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQUk9DRVNTRUQnOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUHJvY2Vzc2VkU3RhdHVzKHN0YXR1cywgY2FsbEluZGV4LCBwdXNoYmFjayk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF5YmVTdGFydEhlZGdpbmdBdHRlbXB0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ0hFREdJTkcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWRnaW5nUG9saWN5ID0gdGhpcy5jYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5oZWRnaW5nUG9saWN5O1xuICAgICAgICBpZiAodGhpcy5hdHRlbXB0cyA+PSBNYXRoLm1pbihoZWRnaW5nUG9saWN5Lm1heEF0dGVtcHRzLCA1KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgdGhpcy5tYXliZVN0YXJ0SGVkZ2luZ1RpbWVyKCk7XG4gICAgfVxuICAgIG1heWJlU3RhcnRIZWRnaW5nVGltZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAodGhpcy5oZWRnaW5nVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhlZGdpbmdUaW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdIRURHSU5HJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5oZWRnaW5nUG9saWN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVkZ2luZ1BvbGljeSA9IHRoaXMuY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeTtcbiAgICAgICAgaWYgKHRoaXMuYXR0ZW1wdHMgPj0gTWF0aC5taW4oaGVkZ2luZ1BvbGljeS5tYXhBdHRlbXB0cywgNSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWRnaW5nRGVsYXlTdHJpbmcgPSAoX2EgPSBoZWRnaW5nUG9saWN5LmhlZGdpbmdEZWxheSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJzBzJztcbiAgICAgICAgY29uc3QgaGVkZ2luZ0RlbGF5U2VjID0gTnVtYmVyKGhlZGdpbmdEZWxheVN0cmluZy5zdWJzdHJpbmcoMCwgaGVkZ2luZ0RlbGF5U3RyaW5nLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgdGhpcy5oZWRnaW5nVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEhlZGdpbmdBdHRlbXB0KCk7XG4gICAgICAgIH0sIGhlZGdpbmdEZWxheVNlYyAqIDEwMDApO1xuICAgICAgICAoX2MgPSAoX2IgPSB0aGlzLmhlZGdpbmdUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICB9XG4gICAgc3RhcnROZXdBdHRlbXB0KCkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hhbm5lbC5jcmVhdGVMb2FkQmFsYW5jaW5nQ2FsbCh0aGlzLmNhbGxDb25maWcsIHRoaXMubWV0aG9kTmFtZSwgdGhpcy5ob3N0LCB0aGlzLmNyZWRlbnRpYWxzLCB0aGlzLmRlYWRsaW5lKTtcbiAgICAgICAgdGhpcy50cmFjZSgnQ3JlYXRlZCBjaGlsZCBjYWxsIFsnICtcbiAgICAgICAgICAgIGNoaWxkLmdldENhbGxOdW1iZXIoKSArXG4gICAgICAgICAgICAnXSBmb3IgYXR0ZW1wdCAnICtcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdHMpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aDtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHMucHVzaCh7XG4gICAgICAgICAgICBzdGF0ZTogJ0FDVElWRScsXG4gICAgICAgICAgICBjYWxsOiBjaGlsZCxcbiAgICAgICAgICAgIG5leHRNZXNzYWdlVG9TZW5kOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNBdHRlbXB0cyA9IHRoaXMuYXR0ZW1wdHMgLSAxO1xuICAgICAgICBjb25zdCBpbml0aWFsTWV0YWRhdGEgPSB0aGlzLmluaXRpYWxNZXRhZGF0YS5jbG9uZSgpO1xuICAgICAgICBpZiAocHJldmlvdXNBdHRlbXB0cyA+IDApIHtcbiAgICAgICAgICAgIGluaXRpYWxNZXRhZGF0YS5zZXQoUFJFVklPTlNfUlBDX0FUVEVNUFRTX01FVEFEQVRBX0tFWSwgYCR7cHJldmlvdXNBdHRlbXB0c31gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVjZWl2ZWRNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICBjaGlsZC5zdGFydChpbml0aWFsTWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgbWV0YWRhdGEgZnJvbSBjaGlsZCBbJyArIGNoaWxkLmdldENhbGxOdW1iZXIoKSArICddJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGluZGV4KTtcbiAgICAgICAgICAgICAgICByZWNlaXZlZE1ldGFkYXRhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNBdHRlbXB0cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEuc2V0KFBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVksIGAke3ByZXZpb3VzQXR0ZW1wdHN9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVuZGVybHlpbmdDYWxsc1tpbmRleF0uc3RhdGUgPT09ICdBQ1RJVkUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiBtZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXNzYWdlIGZyb20gY2hpbGQgWycgKyBjaGlsZC5nZXRDYWxsTnVtYmVyKCkgKyAnXScpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChpbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudW5kZXJseWluZ0NhbGxzW2luZGV4XS5zdGF0ZSA9PT0gJ0FDVElWRScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgc3RhdHVzIGZyb20gY2hpbGQgWycgKyBjaGlsZC5nZXRDYWxsTnVtYmVyKCkgKyAnXScpO1xuICAgICAgICAgICAgICAgIGlmICghcmVjZWl2ZWRNZXRhZGF0YSAmJiBwcmV2aW91c0F0dGVtcHRzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMubWV0YWRhdGEuc2V0KFBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVksIGAke3ByZXZpb3VzQXR0ZW1wdHN9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hpbGRTdGF0dXMoc3RhdHVzLCBpbmRleCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kTmV4dENoaWxkTWVzc2FnZShpbmRleCk7XG4gICAgICAgIGlmICh0aGlzLnJlYWRTdGFydGVkKSB7XG4gICAgICAgICAgICBjaGlsZC5zdGFydFJlYWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydChtZXRhZGF0YSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnc3RhcnQgY2FsbGVkJyk7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5pbml0aWFsTWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5hdHRlbXB0cyArPSAxO1xuICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICB0aGlzLm1heWJlU3RhcnRIZWRnaW5nVGltZXIoKTtcbiAgICB9XG4gICAgaGFuZGxlQ2hpbGRXcml0ZUNvbXBsZXRlZChjaGlsZEluZGV4KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGNoaWxkQ2FsbCA9IHRoaXMudW5kZXJseWluZ0NhbGxzW2NoaWxkSW5kZXhdO1xuICAgICAgICBjb25zdCBtZXNzYWdlSW5kZXggPSBjaGlsZENhbGwubmV4dE1lc3NhZ2VUb1NlbmQ7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KSkuY2FsbGJhY2spID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbnRNZXNzYWdlcygpO1xuICAgICAgICBjaGlsZENhbGwubmV4dE1lc3NhZ2VUb1NlbmQgKz0gMTtcbiAgICAgICAgdGhpcy5zZW5kTmV4dENoaWxkTWVzc2FnZShjaGlsZEluZGV4KTtcbiAgICB9XG4gICAgc2VuZE5leHRDaGlsZE1lc3NhZ2UoY2hpbGRJbmRleCkge1xuICAgICAgICBjb25zdCBjaGlsZENhbGwgPSB0aGlzLnVuZGVybHlpbmdDYWxsc1tjaGlsZEluZGV4XTtcbiAgICAgICAgaWYgKGNoaWxkQ2FsbC5zdGF0ZSA9PT0gJ0NPTVBMRVRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRCdWZmZXJFbnRyeShjaGlsZENhbGwubmV4dE1lc3NhZ2VUb1NlbmQpKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJFbnRyeSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkoY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kKTtcbiAgICAgICAgICAgIHN3aXRjaCAoYnVmZmVyRW50cnkuZW50cnlUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnTUVTU0FHRSc6XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ2FsbC5jYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkV3JpdGVDb21wbGV0ZWQoY2hpbGRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LCBidWZmZXJFbnRyeS5tZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdIQUxGX0NMT1NFJzpcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ2FsbC5jYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdGUkVFRCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3VsZCBub3QgYmUgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy50cmFjZSgnd3JpdGUoKSBjYWxsZWQgd2l0aCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICBjb25zdCB3cml0ZU9iaiA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBmbGFnczogY29udGV4dC5mbGFncyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gdGhpcy5nZXROZXh0QnVmZmVySW5kZXgoKTtcbiAgICAgICAgY29uc3QgYnVmZmVyRW50cnkgPSB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdNRVNTQUdFJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHdyaXRlT2JqLFxuICAgICAgICAgICAgYWxsb2NhdGVkOiB0aGlzLmJ1ZmZlclRyYWNrZXIuYWxsb2NhdGUobWVzc2FnZS5sZW5ndGgsIHRoaXMuY2FsbE51bWJlciksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIucHVzaChidWZmZXJFbnRyeSk7XG4gICAgICAgIGlmIChidWZmZXJFbnRyeS5hbGxvY2F0ZWQpIHtcbiAgICAgICAgICAgIChfYSA9IGNvbnRleHQuY2FsbGJhY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbY2FsbEluZGV4LCBjYWxsXSBvZiB0aGlzLnVuZGVybHlpbmdDYWxscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbC5zdGF0ZSA9PT0gJ0FDVElWRScgJiZcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA9PT0gbWVzc2FnZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuY2FsbC5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGlsZFdyaXRlQ29tcGxldGVkKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1pdENhbGxXaXRoTW9zdE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAvLyBjb21taXRDYWxsV2l0aE1vc3RNZXNzYWdlcyBjYW4gZmFpbCBpZiB3ZSBhcmUgYmV0d2VlbiBwaW5nIGF0dGVtcHRzXG4gICAgICAgICAgICBpZiAodGhpcy5jb21taXR0ZWRDYWxsSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWxsID0gdGhpcy51bmRlcmx5aW5nQ2FsbHNbdGhpcy5jb21taXR0ZWRDYWxsSW5kZXhdO1xuICAgICAgICAgICAgYnVmZmVyRW50cnkuY2FsbGJhY2sgPSBjb250ZXh0LmNhbGxiYWNrO1xuICAgICAgICAgICAgaWYgKGNhbGwuc3RhdGUgPT09ICdBQ1RJVkUnICYmIGNhbGwubmV4dE1lc3NhZ2VUb1NlbmQgPT09IG1lc3NhZ2VJbmRleCkge1xuICAgICAgICAgICAgICAgIGNhbGwuY2FsbC5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGlsZFdyaXRlQ29tcGxldGVkKHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy5yZWFkU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgdW5kZXJseWluZ0NhbGwgb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGlmICgodW5kZXJseWluZ0NhbGwgPT09IG51bGwgfHwgdW5kZXJseWluZ0NhbGwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVuZGVybHlpbmdDYWxsLnN0YXRlKSA9PT0gJ0FDVElWRScpIHtcbiAgICAgICAgICAgICAgICB1bmRlcmx5aW5nQ2FsbC5jYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnaGFsZkNsb3NlIGNhbGxlZCcpO1xuICAgICAgICBjb25zdCBoYWxmQ2xvc2VJbmRleCA9IHRoaXMuZ2V0TmV4dEJ1ZmZlckluZGV4KCk7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIucHVzaCh7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdIQUxGX0NMT1NFJyxcbiAgICAgICAgICAgIGFsbG9jYXRlZDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGlmICgoY2FsbCA9PT0gbnVsbCB8fCBjYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsLnN0YXRlKSA9PT0gJ0FDVElWRScgJiZcbiAgICAgICAgICAgICAgICBjYWxsLm5leHRNZXNzYWdlVG9TZW5kID09PSBoYWxmQ2xvc2VJbmRleCkge1xuICAgICAgICAgICAgICAgIGNhbGwubmV4dE1lc3NhZ2VUb1NlbmQgKz0gMTtcbiAgICAgICAgICAgICAgICBjYWxsLmNhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Q3JlZGVudGlhbHMobmV3Q3JlZGVudGlhbHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBnZXRNZXRob2QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZE5hbWU7XG4gICAgfVxuICAgIGdldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvc3Q7XG4gICAgfVxufVxuZXhwb3J0cy5SZXRyeWluZ0NhbGwgPSBSZXRyeWluZ0NhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeWluZy1jYWxsLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlJldHJ5aW5nQ2FsbCIsIk1lc3NhZ2VCdWZmZXJUcmFja2VyIiwiUmV0cnlUaHJvdHRsZXIiLCJjb25zdGFudHNfMSIsInJlcXVpcmUiLCJtZXRhZGF0YV8xIiwibG9nZ2luZyIsIlRSQUNFUl9OQU1FIiwiY29uc3RydWN0b3IiLCJtYXhUb2tlbnMiLCJ0b2tlblJhdGlvIiwicHJldmlvdXNSZXRyeVRocm90dGxlciIsInRva2VucyIsImFkZENhbGxTdWNjZWVkZWQiLCJNYXRoIiwibWF4IiwiYWRkQ2FsbEZhaWxlZCIsIm1pbiIsImNhblJldHJ5Q2FsbCIsInRvdGFsTGltaXQiLCJsaW1pdFBlckNhbGwiLCJ0b3RhbEFsbG9jYXRlZCIsImFsbG9jYXRlZFBlckNhbGwiLCJNYXAiLCJhbGxvY2F0ZSIsInNpemUiLCJjYWxsSWQiLCJfYSIsImN1cnJlbnRQZXJDYWxsIiwiZ2V0Iiwic2V0IiwiZnJlZSIsIkVycm9yIiwiZnJlZUFsbCIsImRlbGV0ZSIsIlBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVkiLCJjaGFubmVsIiwiY2FsbENvbmZpZyIsIm1ldGhvZE5hbWUiLCJob3N0IiwiY3JlZGVudGlhbHMiLCJkZWFkbGluZSIsImNhbGxOdW1iZXIiLCJidWZmZXJUcmFja2VyIiwicmV0cnlUaHJvdHRsZXIiLCJsaXN0ZW5lciIsImluaXRpYWxNZXRhZGF0YSIsInVuZGVybHlpbmdDYWxscyIsIndyaXRlQnVmZmVyIiwid3JpdGVCdWZmZXJPZmZzZXQiLCJyZWFkU3RhcnRlZCIsInRyYW5zcGFyZW50UmV0cnlVc2VkIiwiYXR0ZW1wdHMiLCJoZWRnaW5nVGltZXIiLCJjb21taXR0ZWRDYWxsSW5kZXgiLCJpbml0aWFsUmV0cnlCYWNrb2ZmU2VjIiwibmV4dFJldHJ5QmFja29mZlNlYyIsIm1ldGhvZENvbmZpZyIsInJldHJ5UG9saWN5Iiwic3RhdGUiLCJOdW1iZXIiLCJpbml0aWFsQmFja29mZiIsInN1YnN0cmluZyIsImxlbmd0aCIsImhlZGdpbmdQb2xpY3kiLCJnZXRDYWxsTnVtYmVyIiwidHJhY2UiLCJ0ZXh0IiwiTG9nVmVyYm9zaXR5IiwiREVCVUciLCJyZXBvcnRTdGF0dXMiLCJzdGF0dXNPYmplY3QiLCJjb2RlIiwiZGV0YWlscyIsInByb2Nlc3MiLCJuZXh0VGljayIsIm9uUmVjZWl2ZVN0YXR1cyIsIm1ldGFkYXRhIiwiY2FuY2VsV2l0aFN0YXR1cyIsInN0YXR1cyIsIk1ldGFkYXRhIiwiY2FsbCIsImdldFBlZXIiLCJnZXRCdWZmZXJFbnRyeSIsIm1lc3NhZ2VJbmRleCIsImVudHJ5VHlwZSIsImFsbG9jYXRlZCIsImdldE5leHRCdWZmZXJJbmRleCIsImNsZWFyU2VudE1lc3NhZ2VzIiwiZWFybGllc3ROZWVkZWRNZXNzYWdlSW5kZXgiLCJuZXh0TWVzc2FnZVRvU2VuZCIsImJ1ZmZlckVudHJ5IiwibWVzc2FnZSIsInNsaWNlIiwiY29tbWl0Q2FsbCIsImluZGV4IiwiaSIsIlN0YXR1cyIsIkNBTkNFTExFRCIsImNvbW1pdENhbGxXaXRoTW9zdE1lc3NhZ2VzIiwibW9zdE1lc3NhZ2VzIiwiY2FsbFdpdGhNb3N0TWVzc2FnZXMiLCJjaGlsZENhbGwiLCJlbnRyaWVzIiwiaXNTdGF0dXNDb2RlSW5MaXN0IiwibGlzdCIsInNvbWUiLCJ0b1N0cmluZyIsInRvTG93ZXJDYXNlIiwiZ2V0TmV4dFJldHJ5QmFja29mZk1zIiwibmV4dEJhY2tvZmZNcyIsInJhbmRvbSIsIm1heEJhY2tvZmZTZWMiLCJtYXhCYWNrb2ZmIiwiYmFja29mZk11bHRpcGxpZXIiLCJtYXliZVJldHJ5Q2FsbCIsInB1c2hiYWNrIiwiY2FsbGJhY2siLCJtYXhBdHRlbXB0cyIsInJldHJ5RGVsYXlNcyIsInNldFRpbWVvdXQiLCJfYiIsInN0YXJ0TmV3QXR0ZW1wdCIsImNvdW50QWN0aXZlQ2FsbHMiLCJjb3VudCIsImhhbmRsZVByb2Nlc3NlZFN0YXR1cyIsImNhbGxJbmRleCIsIl9jIiwibm9uRmF0YWxTdGF0dXNDb2RlcyIsImRlbGF5TXMiLCJtYXliZVN0YXJ0SGVkZ2luZ0F0dGVtcHQiLCJyZXRyeWFibGVTdGF0dXNDb2RlcyIsInJldHJpZWQiLCJnZXRQdXNoYmFjayIsIm1kVmFsdWUiLCJwYXJzZUludCIsImUiLCJoYW5kbGVDaGlsZFN0YXR1cyIsInByb2dyZXNzIiwiT0siLCJtYXliZVN0YXJ0SGVkZ2luZ1RpbWVyIiwiY2xlYXJUaW1lb3V0IiwiaGVkZ2luZ0RlbGF5U3RyaW5nIiwiaGVkZ2luZ0RlbGF5IiwiaGVkZ2luZ0RlbGF5U2VjIiwidW5yZWYiLCJjaGlsZCIsImNyZWF0ZUxvYWRCYWxhbmNpbmdDYWxsIiwicHVzaCIsInByZXZpb3VzQXR0ZW1wdHMiLCJjbG9uZSIsInJlY2VpdmVkTWV0YWRhdGEiLCJzdGFydCIsIm9uUmVjZWl2ZU1ldGFkYXRhIiwib25SZWNlaXZlTWVzc2FnZSIsInNlbmROZXh0Q2hpbGRNZXNzYWdlIiwic3RhcnRSZWFkIiwiaGFuZGxlQ2hpbGRXcml0ZUNvbXBsZXRlZCIsImNoaWxkSW5kZXgiLCJzZW5kTWVzc2FnZVdpdGhDb250ZXh0IiwiZXJyb3IiLCJoYWxmQ2xvc2UiLCJjb250ZXh0Iiwid3JpdGVPYmoiLCJmbGFncyIsInVuZGVybHlpbmdDYWxsIiwiaGFsZkNsb3NlSW5kZXgiLCJzZXRDcmVkZW50aWFscyIsIm5ld0NyZWRlbnRpYWxzIiwiZ2V0TWV0aG9kIiwiZ2V0SG9zdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/retrying-call.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/server-call.js":
/*!*************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/server-call.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Http2ServerCallStream = exports.ServerDuplexStreamImpl = exports.ServerWritableStreamImpl = exports.ServerReadableStreamImpl = exports.ServerUnaryCallImpl = void 0;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\nconst util_1 = __webpack_require__(/*! util */ \"util\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst stream_decoder_1 = __webpack_require__(/*! ./stream-decoder */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/stream-decoder.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/error.js\");\nconst TRACER_NAME = 'server_call';\nconst unzip = (0, util_1.promisify)(zlib.unzip);\nconst inflate = (0, util_1.promisify)(zlib.inflate);\nfunction trace(text) {\n  logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst GRPC_ACCEPT_ENCODING_HEADER = 'grpc-accept-encoding';\nconst GRPC_ENCODING_HEADER = 'grpc-encoding';\nconst GRPC_MESSAGE_HEADER = 'grpc-message';\nconst GRPC_STATUS_HEADER = 'grpc-status';\nconst GRPC_TIMEOUT_HEADER = 'grpc-timeout';\nconst DEADLINE_REGEX = /(\\d{1,8})\\s*([HMSmun])/;\nconst deadlineUnitsToMs = {\n  H: 3600000,\n  M: 60000,\n  S: 1000,\n  m: 1,\n  u: 0.001,\n  n: 0.000001\n};\nconst defaultCompressionHeaders = {\n  // TODO(cjihrig): Remove these encoding headers from the default response\n  // once compression is integrated.\n  [GRPC_ACCEPT_ENCODING_HEADER]: 'identity,deflate,gzip',\n  [GRPC_ENCODING_HEADER]: 'identity'\n};\nconst defaultResponseHeaders = {\n  [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_OK,\n  [http2.constants.HTTP2_HEADER_CONTENT_TYPE]: 'application/grpc+proto'\n};\nconst defaultResponseOptions = {\n  waitForTrailers: true\n};\nclass ServerUnaryCallImpl extends events_1.EventEmitter {\n  constructor(call, metadata, request) {\n    super();\n    this.call = call;\n    this.metadata = metadata;\n    this.request = request;\n    this.cancelled = false;\n    this.call.setupSurfaceCall(this);\n  }\n  getPeer() {\n    return this.call.getPeer();\n  }\n  sendMetadata(responseMetadata) {\n    this.call.sendMetadata(responseMetadata);\n  }\n  getDeadline() {\n    return this.call.getDeadline();\n  }\n  getPath() {\n    return this.call.getPath();\n  }\n}\nexports.ServerUnaryCallImpl = ServerUnaryCallImpl;\nclass ServerReadableStreamImpl extends stream_1.Readable {\n  constructor(call, metadata, deserialize, encoding) {\n    super({\n      objectMode: true\n    });\n    this.call = call;\n    this.metadata = metadata;\n    this.deserialize = deserialize;\n    this.cancelled = false;\n    this.call.setupSurfaceCall(this);\n    this.call.setupReadable(this, encoding);\n  }\n  _read(size) {\n    if (!this.call.consumeUnpushedMessages(this)) {\n      return;\n    }\n    this.call.resume();\n  }\n  getPeer() {\n    return this.call.getPeer();\n  }\n  sendMetadata(responseMetadata) {\n    this.call.sendMetadata(responseMetadata);\n  }\n  getDeadline() {\n    return this.call.getDeadline();\n  }\n  getPath() {\n    return this.call.getPath();\n  }\n}\nexports.ServerReadableStreamImpl = ServerReadableStreamImpl;\nclass ServerWritableStreamImpl extends stream_1.Writable {\n  constructor(call, metadata, serialize, request) {\n    super({\n      objectMode: true\n    });\n    this.call = call;\n    this.metadata = metadata;\n    this.serialize = serialize;\n    this.request = request;\n    this.cancelled = false;\n    this.trailingMetadata = new metadata_1.Metadata();\n    this.call.setupSurfaceCall(this);\n    this.on('error', err => {\n      this.call.sendError(err);\n      this.end();\n    });\n  }\n  getPeer() {\n    return this.call.getPeer();\n  }\n  sendMetadata(responseMetadata) {\n    this.call.sendMetadata(responseMetadata);\n  }\n  getDeadline() {\n    return this.call.getDeadline();\n  }\n  getPath() {\n    return this.call.getPath();\n  }\n  _write(chunk, encoding,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  callback) {\n    try {\n      const response = this.call.serializeMessage(chunk);\n      if (!this.call.write(response)) {\n        this.call.once('drain', callback);\n        return;\n      }\n    } catch (err) {\n      this.emit('error', {\n        details: (0, error_1.getErrorMessage)(err),\n        code: constants_1.Status.INTERNAL\n      });\n    }\n    callback();\n  }\n  _final(callback) {\n    this.call.sendStatus({\n      code: constants_1.Status.OK,\n      details: 'OK',\n      metadata: this.trailingMetadata\n    });\n    callback(null);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  end(metadata) {\n    if (metadata) {\n      this.trailingMetadata = metadata;\n    }\n    return super.end();\n  }\n}\nexports.ServerWritableStreamImpl = ServerWritableStreamImpl;\nclass ServerDuplexStreamImpl extends stream_1.Duplex {\n  constructor(call, metadata, serialize, deserialize, encoding) {\n    super({\n      objectMode: true\n    });\n    this.call = call;\n    this.metadata = metadata;\n    this.serialize = serialize;\n    this.deserialize = deserialize;\n    this.cancelled = false;\n    this.trailingMetadata = new metadata_1.Metadata();\n    this.call.setupSurfaceCall(this);\n    this.call.setupReadable(this, encoding);\n    this.on('error', err => {\n      this.call.sendError(err);\n      this.end();\n    });\n  }\n  getPeer() {\n    return this.call.getPeer();\n  }\n  sendMetadata(responseMetadata) {\n    this.call.sendMetadata(responseMetadata);\n  }\n  getDeadline() {\n    return this.call.getDeadline();\n  }\n  getPath() {\n    return this.call.getPath();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  end(metadata) {\n    if (metadata) {\n      this.trailingMetadata = metadata;\n    }\n    return super.end();\n  }\n}\nexports.ServerDuplexStreamImpl = ServerDuplexStreamImpl;\nServerDuplexStreamImpl.prototype._read = ServerReadableStreamImpl.prototype._read;\nServerDuplexStreamImpl.prototype._write = ServerWritableStreamImpl.prototype._write;\nServerDuplexStreamImpl.prototype._final = ServerWritableStreamImpl.prototype._final;\n// Internal class that wraps the HTTP2 request.\nclass Http2ServerCallStream extends events_1.EventEmitter {\n  constructor(stream, handler, options) {\n    super();\n    this.stream = stream;\n    this.handler = handler;\n    this.cancelled = false;\n    this.deadlineTimer = null;\n    this.statusSent = false;\n    this.deadline = Infinity;\n    this.wantTrailers = false;\n    this.metadataSent = false;\n    this.canPush = false;\n    this.isPushPending = false;\n    this.bufferedMessages = [];\n    this.messagesToPush = [];\n    this.maxSendMessageSize = constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n    this.maxReceiveMessageSize = constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n    this.stream.once('error', err => {\n      /* We need an error handler to avoid uncaught error event exceptions, but\n       * there is nothing we can reasonably do here. Any error event should\n       * have a corresponding close event, which handles emitting the cancelled\n       * event. And the stream is now in a bad state, so we can't reasonably\n       * expect to be able to send an error over it. */\n    });\n    this.stream.once('close', () => {\n      var _a;\n      trace('Request to method ' + ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) + ' stream closed with rstCode ' + this.stream.rstCode);\n      if (!this.statusSent) {\n        this.cancelled = true;\n        this.emit('cancelled', 'cancelled');\n        this.emit('streamEnd', false);\n        this.sendStatus({\n          code: constants_1.Status.CANCELLED,\n          details: 'Cancelled by client',\n          metadata: null\n        });\n        if (this.deadlineTimer) clearTimeout(this.deadlineTimer);\n      }\n    });\n    this.stream.on('drain', () => {\n      this.emit('drain');\n    });\n    if ('grpc.max_send_message_length' in options) {\n      this.maxSendMessageSize = options['grpc.max_send_message_length'];\n    }\n    if ('grpc.max_receive_message_length' in options) {\n      this.maxReceiveMessageSize = options['grpc.max_receive_message_length'];\n    }\n  }\n  checkCancelled() {\n    /* In some cases the stream can become destroyed before the close event\n     * fires. That creates a race condition that this check works around */\n    if (this.stream.destroyed || this.stream.closed) {\n      this.cancelled = true;\n    }\n    return this.cancelled;\n  }\n  getDecompressedMessage(message, encoding) {\n    if (encoding === 'deflate') {\n      return inflate(message.subarray(5));\n    } else if (encoding === 'gzip') {\n      return unzip(message.subarray(5));\n    } else if (encoding === 'identity') {\n      return message.subarray(5);\n    }\n    return Promise.reject({\n      code: constants_1.Status.UNIMPLEMENTED,\n      details: `Received message compressed with unsupported encoding \"${encoding}\"`\n    });\n  }\n  sendMetadata(customMetadata) {\n    if (this.checkCancelled()) {\n      return;\n    }\n    if (this.metadataSent) {\n      return;\n    }\n    this.metadataSent = true;\n    const custom = customMetadata ? customMetadata.toHttp2Headers() : null;\n    // TODO(cjihrig): Include compression headers.\n    const headers = Object.assign(Object.assign(Object.assign({}, defaultResponseHeaders), defaultCompressionHeaders), custom);\n    this.stream.respond(headers, defaultResponseOptions);\n  }\n  receiveMetadata(headers) {\n    const metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n    if (logging.isTracerEnabled(TRACER_NAME)) {\n      trace('Request to ' + this.handler.path + ' received headers ' + JSON.stringify(metadata.toJSON()));\n    }\n    // TODO(cjihrig): Receive compression metadata.\n    const timeoutHeader = metadata.get(GRPC_TIMEOUT_HEADER);\n    if (timeoutHeader.length > 0) {\n      const match = timeoutHeader[0].toString().match(DEADLINE_REGEX);\n      if (match === null) {\n        const err = new Error('Invalid deadline');\n        err.code = constants_1.Status.OUT_OF_RANGE;\n        this.sendError(err);\n        return metadata;\n      }\n      const timeout = +match[1] * deadlineUnitsToMs[match[2]] | 0;\n      const now = new Date();\n      this.deadline = now.setMilliseconds(now.getMilliseconds() + timeout);\n      this.deadlineTimer = setTimeout(handleExpiredDeadline, timeout, this);\n      metadata.remove(GRPC_TIMEOUT_HEADER);\n    }\n    // Remove several headers that should not be propagated to the application\n    metadata.remove(http2.constants.HTTP2_HEADER_ACCEPT_ENCODING);\n    metadata.remove(http2.constants.HTTP2_HEADER_TE);\n    metadata.remove(http2.constants.HTTP2_HEADER_CONTENT_TYPE);\n    metadata.remove('grpc-accept-encoding');\n    return metadata;\n  }\n  receiveUnaryMessage(encoding) {\n    return new Promise((resolve, reject) => {\n      const {\n        stream\n      } = this;\n      let receivedLength = 0;\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const call = this;\n      const body = [];\n      const limit = this.maxReceiveMessageSize;\n      this.stream.on('data', onData);\n      this.stream.on('end', onEnd);\n      this.stream.on('error', onEnd);\n      function onData(chunk) {\n        receivedLength += chunk.byteLength;\n        if (limit !== -1 && receivedLength > limit) {\n          stream.removeListener('data', onData);\n          stream.removeListener('end', onEnd);\n          stream.removeListener('error', onEnd);\n          reject({\n            code: constants_1.Status.RESOURCE_EXHAUSTED,\n            details: `Received message larger than max (${receivedLength} vs. ${limit})`\n          });\n          return;\n        }\n        body.push(chunk);\n      }\n      function onEnd(err) {\n        stream.removeListener('data', onData);\n        stream.removeListener('end', onEnd);\n        stream.removeListener('error', onEnd);\n        if (err !== undefined) {\n          reject({\n            code: constants_1.Status.INTERNAL,\n            details: err.message\n          });\n          return;\n        }\n        if (receivedLength === 0) {\n          reject({\n            code: constants_1.Status.INTERNAL,\n            details: 'received empty unary message'\n          });\n          return;\n        }\n        call.emit('receiveMessage');\n        const requestBytes = Buffer.concat(body, receivedLength);\n        const compressed = requestBytes.readUInt8(0) === 1;\n        const compressedMessageEncoding = compressed ? encoding : 'identity';\n        const decompressedMessage = call.getDecompressedMessage(requestBytes, compressedMessageEncoding);\n        if (Buffer.isBuffer(decompressedMessage)) {\n          resolve(call.deserializeMessageWithInternalError(decompressedMessage));\n          return;\n        }\n        decompressedMessage.then(decompressed => resolve(call.deserializeMessageWithInternalError(decompressed)), err => reject(err.code ? err : {\n          code: constants_1.Status.INTERNAL,\n          details: `Received \"grpc-encoding\" header \"${encoding}\" but ${encoding} decompression failed`\n        }));\n      }\n    });\n  }\n  async deserializeMessageWithInternalError(buffer) {\n    try {\n      return this.deserializeMessage(buffer);\n    } catch (err) {\n      throw {\n        details: (0, error_1.getErrorMessage)(err),\n        code: constants_1.Status.INTERNAL\n      };\n    }\n  }\n  serializeMessage(value) {\n    const messageBuffer = this.handler.serialize(value);\n    // TODO(cjihrig): Call compression aware serializeMessage().\n    const byteLength = messageBuffer.byteLength;\n    const output = Buffer.allocUnsafe(byteLength + 5);\n    output.writeUInt8(0, 0);\n    output.writeUInt32BE(byteLength, 1);\n    messageBuffer.copy(output, 5);\n    return output;\n  }\n  deserializeMessage(bytes) {\n    return this.handler.deserialize(bytes);\n  }\n  async sendUnaryMessage(err, value, metadata, flags) {\n    if (this.checkCancelled()) {\n      return;\n    }\n    if (metadata === undefined) {\n      metadata = null;\n    }\n    if (err) {\n      if (!Object.prototype.hasOwnProperty.call(err, 'metadata') && metadata) {\n        err.metadata = metadata;\n      }\n      this.sendError(err);\n      return;\n    }\n    try {\n      const response = this.serializeMessage(value);\n      this.write(response);\n      this.sendStatus({\n        code: constants_1.Status.OK,\n        details: 'OK',\n        metadata\n      });\n    } catch (err) {\n      this.sendError({\n        details: (0, error_1.getErrorMessage)(err),\n        code: constants_1.Status.INTERNAL\n      });\n    }\n  }\n  sendStatus(statusObj) {\n    var _a, _b;\n    this.emit('callEnd', statusObj.code);\n    this.emit('streamEnd', statusObj.code === constants_1.Status.OK);\n    if (this.checkCancelled()) {\n      return;\n    }\n    trace('Request to method ' + ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) + ' ended with status code: ' + constants_1.Status[statusObj.code] + ' details: ' + statusObj.details);\n    if (this.deadlineTimer) clearTimeout(this.deadlineTimer);\n    if (this.stream.headersSent) {\n      if (!this.wantTrailers) {\n        this.wantTrailers = true;\n        this.stream.once('wantTrailers', () => {\n          var _a;\n          const trailersToSend = Object.assign({\n            [GRPC_STATUS_HEADER]: statusObj.code,\n            [GRPC_MESSAGE_HEADER]: encodeURI(statusObj.details)\n          }, (_a = statusObj.metadata) === null || _a === void 0 ? void 0 : _a.toHttp2Headers());\n          this.stream.sendTrailers(trailersToSend);\n          this.statusSent = true;\n        });\n        this.stream.end();\n      }\n    } else {\n      // Trailers-only response\n      const trailersToSend = Object.assign(Object.assign({\n        [GRPC_STATUS_HEADER]: statusObj.code,\n        [GRPC_MESSAGE_HEADER]: encodeURI(statusObj.details)\n      }, defaultResponseHeaders), (_b = statusObj.metadata) === null || _b === void 0 ? void 0 : _b.toHttp2Headers());\n      this.stream.respond(trailersToSend, {\n        endStream: true\n      });\n      this.statusSent = true;\n    }\n  }\n  sendError(error) {\n    const status = {\n      code: constants_1.Status.UNKNOWN,\n      details: 'message' in error ? error.message : 'Unknown Error',\n      metadata: 'metadata' in error && error.metadata !== undefined ? error.metadata : null\n    };\n    if ('code' in error && typeof error.code === 'number' && Number.isInteger(error.code)) {\n      status.code = error.code;\n      if ('details' in error && typeof error.details === 'string') {\n        status.details = error.details;\n      }\n    }\n    this.sendStatus(status);\n  }\n  write(chunk) {\n    if (this.checkCancelled()) {\n      return;\n    }\n    if (this.maxSendMessageSize !== -1 && chunk.length > this.maxSendMessageSize) {\n      this.sendError({\n        code: constants_1.Status.RESOURCE_EXHAUSTED,\n        details: `Sent message larger than max (${chunk.length} vs. ${this.maxSendMessageSize})`\n      });\n      return;\n    }\n    this.sendMetadata();\n    this.emit('sendMessage');\n    return this.stream.write(chunk);\n  }\n  resume() {\n    this.stream.resume();\n  }\n  setupSurfaceCall(call) {\n    this.once('cancelled', reason => {\n      call.cancelled = true;\n      call.emit('cancelled', reason);\n    });\n    this.once('callEnd', status => call.emit('callEnd', status));\n  }\n  setupReadable(readable, encoding) {\n    const decoder = new stream_decoder_1.StreamDecoder();\n    let readsDone = false;\n    let pendingMessageProcessing = false;\n    let pushedEnd = false;\n    const maybePushEnd = async () => {\n      if (!pushedEnd && readsDone && !pendingMessageProcessing) {\n        pushedEnd = true;\n        await this.pushOrBufferMessage(readable, null);\n      }\n    };\n    this.stream.on('data', async data => {\n      const messages = decoder.write(data);\n      pendingMessageProcessing = true;\n      this.stream.pause();\n      for (const message of messages) {\n        if (this.maxReceiveMessageSize !== -1 && message.length > this.maxReceiveMessageSize) {\n          this.sendError({\n            code: constants_1.Status.RESOURCE_EXHAUSTED,\n            details: `Received message larger than max (${message.length} vs. ${this.maxReceiveMessageSize})`\n          });\n          return;\n        }\n        this.emit('receiveMessage');\n        const compressed = message.readUInt8(0) === 1;\n        const compressedMessageEncoding = compressed ? encoding : 'identity';\n        const decompressedMessage = await this.getDecompressedMessage(message, compressedMessageEncoding);\n        // Encountered an error with decompression; it'll already have been propogated back\n        // Just return early\n        if (!decompressedMessage) return;\n        await this.pushOrBufferMessage(readable, decompressedMessage);\n      }\n      pendingMessageProcessing = false;\n      this.stream.resume();\n      await maybePushEnd();\n    });\n    this.stream.once('end', async () => {\n      readsDone = true;\n      await maybePushEnd();\n    });\n  }\n  consumeUnpushedMessages(readable) {\n    this.canPush = true;\n    while (this.messagesToPush.length > 0) {\n      const nextMessage = this.messagesToPush.shift();\n      const canPush = readable.push(nextMessage);\n      if (nextMessage === null || canPush === false) {\n        this.canPush = false;\n        break;\n      }\n    }\n    return this.canPush;\n  }\n  async pushOrBufferMessage(readable, messageBytes) {\n    if (this.isPushPending) {\n      this.bufferedMessages.push(messageBytes);\n    } else {\n      await this.pushMessage(readable, messageBytes);\n    }\n  }\n  async pushMessage(readable, messageBytes) {\n    if (messageBytes === null) {\n      trace('Received end of stream');\n      if (this.canPush) {\n        readable.push(null);\n      } else {\n        this.messagesToPush.push(null);\n      }\n      return;\n    }\n    trace('Received message of length ' + messageBytes.length);\n    this.isPushPending = true;\n    try {\n      const deserialized = await this.deserializeMessage(messageBytes);\n      if (this.canPush) {\n        if (!readable.push(deserialized)) {\n          this.canPush = false;\n          this.stream.pause();\n        }\n      } else {\n        this.messagesToPush.push(deserialized);\n      }\n    } catch (error) {\n      // Ignore any remaining messages when errors occur.\n      this.bufferedMessages.length = 0;\n      let code = (0, error_1.getErrorCode)(error);\n      if (code === null || code < constants_1.Status.OK || code > constants_1.Status.UNAUTHENTICATED) {\n        code = constants_1.Status.INTERNAL;\n      }\n      readable.emit('error', {\n        details: (0, error_1.getErrorMessage)(error),\n        code: code\n      });\n    }\n    this.isPushPending = false;\n    if (this.bufferedMessages.length > 0) {\n      await this.pushMessage(readable, this.bufferedMessages.shift());\n    }\n  }\n  getPeer() {\n    var _a;\n    const socket = (_a = this.stream.session) === null || _a === void 0 ? void 0 : _a.socket;\n    if (socket === null || socket === void 0 ? void 0 : socket.remoteAddress) {\n      if (socket.remotePort) {\n        return `${socket.remoteAddress}:${socket.remotePort}`;\n      } else {\n        return socket.remoteAddress;\n      }\n    } else {\n      return 'unknown';\n    }\n  }\n  getDeadline() {\n    return this.deadline;\n  }\n  getPath() {\n    return this.handler.path;\n  }\n}\nexports.Http2ServerCallStream = Http2ServerCallStream;\nfunction handleExpiredDeadline(call) {\n  const err = new Error('Deadline exceeded');\n  err.code = constants_1.Status.DEADLINE_EXCEEDED;\n  call.sendError(err);\n  call.cancelled = true;\n  call.emit('cancelled', 'deadline');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWNhbGwuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsNkJBQTZCLEdBQUdBLDhCQUE4QixHQUFHQSxnQ0FBZ0MsR0FBR0EsZ0NBQWdDLEdBQUdBLDJCQUEyQixHQUFHLEtBQUssQ0FBQztBQUMzSyxNQUFNTyxRQUFRLEdBQUdDLG1CQUFPLENBQUMsc0JBQVEsQ0FBQztBQUNsQyxNQUFNQyxLQUFLLEdBQUdELG1CQUFPLENBQUMsb0JBQU8sQ0FBQztBQUM5QixNQUFNRSxRQUFRLEdBQUdGLG1CQUFPLENBQUMsc0JBQVEsQ0FBQztBQUNsQyxNQUFNRyxJQUFJLEdBQUdILG1CQUFPLENBQUMsa0JBQU0sQ0FBQztBQUM1QixNQUFNSSxNQUFNLEdBQUdKLG1CQUFPLENBQUMsa0JBQU0sQ0FBQztBQUM5QixNQUFNSyxXQUFXLEdBQUdMLG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNTSxVQUFVLEdBQUdOLG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNTyxnQkFBZ0IsR0FBR1AsbUJBQU8sQ0FBQyx3RkFBa0IsQ0FBQztBQUNwRCxNQUFNUSxPQUFPLEdBQUdSLG1CQUFPLENBQUMsMEVBQVcsQ0FBQztBQUNwQyxNQUFNUyxPQUFPLEdBQUdULG1CQUFPLENBQUMsc0VBQVMsQ0FBQztBQUNsQyxNQUFNVSxXQUFXLEdBQUcsYUFBYTtBQUNqQyxNQUFNQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUVQLE1BQU0sQ0FBQ1EsU0FBUyxFQUFFVCxJQUFJLENBQUNRLEtBQUssQ0FBQztBQUMvQyxNQUFNRSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVB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QUFDO0FBQ3RDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXItY2FsbC5qcz83MjNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkh0dHAyU2VydmVyQ2FsbFN0cmVhbSA9IGV4cG9ydHMuU2VydmVyRHVwbGV4U3RyZWFtSW1wbCA9IGV4cG9ydHMuU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsID0gZXhwb3J0cy5TZXJ2ZXJSZWFkYWJsZVN0cmVhbUltcGwgPSBleHBvcnRzLlNlcnZlclVuYXJ5Q2FsbEltcGwgPSB2b2lkIDA7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IHN0cmVhbV8xID0gcmVxdWlyZShcInN0cmVhbVwiKTtcbmNvbnN0IHpsaWIgPSByZXF1aXJlKFwiemxpYlwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBzdHJlYW1fZGVjb2Rlcl8xID0gcmVxdWlyZShcIi4vc3RyZWFtLWRlY29kZXJcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3NlcnZlcl9jYWxsJztcbmNvbnN0IHVuemlwID0gKDAsIHV0aWxfMS5wcm9taXNpZnkpKHpsaWIudW56aXApO1xuY29uc3QgaW5mbGF0ZSA9ICgwLCB1dGlsXzEucHJvbWlzaWZ5KSh6bGliLmluZmxhdGUpO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBHUlBDX0FDQ0VQVF9FTkNPRElOR19IRUFERVIgPSAnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnO1xuY29uc3QgR1JQQ19FTkNPRElOR19IRUFERVIgPSAnZ3JwYy1lbmNvZGluZyc7XG5jb25zdCBHUlBDX01FU1NBR0VfSEVBREVSID0gJ2dycGMtbWVzc2FnZSc7XG5jb25zdCBHUlBDX1NUQVRVU19IRUFERVIgPSAnZ3JwYy1zdGF0dXMnO1xuY29uc3QgR1JQQ19USU1FT1VUX0hFQURFUiA9ICdncnBjLXRpbWVvdXQnO1xuY29uc3QgREVBRExJTkVfUkVHRVggPSAvKFxcZHsxLDh9KVxccyooW0hNU211bl0pLztcbmNvbnN0IGRlYWRsaW5lVW5pdHNUb01zID0ge1xuICAgIEg6IDM2MDAwMDAsXG4gICAgTTogNjAwMDAsXG4gICAgUzogMTAwMCxcbiAgICBtOiAxLFxuICAgIHU6IDAuMDAxLFxuICAgIG46IDAuMDAwMDAxLFxufTtcbmNvbnN0IGRlZmF1bHRDb21wcmVzc2lvbkhlYWRlcnMgPSB7XG4gICAgLy8gVE9ETyhjamlocmlnKTogUmVtb3ZlIHRoZXNlIGVuY29kaW5nIGhlYWRlcnMgZnJvbSB0aGUgZGVmYXVsdCByZXNwb25zZVxuICAgIC8vIG9uY2UgY29tcHJlc3Npb24gaXMgaW50ZWdyYXRlZC5cbiAgICBbR1JQQ19BQ0NFUFRfRU5DT0RJTkdfSEVBREVSXTogJ2lkZW50aXR5LGRlZmxhdGUsZ3ppcCcsXG4gICAgW0dSUENfRU5DT0RJTkdfSEVBREVSXTogJ2lkZW50aXR5Jyxcbn07XG5jb25zdCBkZWZhdWx0UmVzcG9uc2VIZWFkZXJzID0ge1xuICAgIFtodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX1NUQVRVU106IGh0dHAyLmNvbnN0YW50cy5IVFRQX1NUQVRVU19PSyxcbiAgICBbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdOiAnYXBwbGljYXRpb24vZ3JwYytwcm90bycsXG59O1xuY29uc3QgZGVmYXVsdFJlc3BvbnNlT3B0aW9ucyA9IHtcbiAgICB3YWl0Rm9yVHJhaWxlcnM6IHRydWUsXG59O1xuY2xhc3MgU2VydmVyVW5hcnlDYWxsSW1wbCBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoY2FsbCwgbWV0YWRhdGEsIHJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbGwuc2V0dXBTdXJmYWNlQ2FsbCh0aGlzKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGF0aCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyVW5hcnlDYWxsSW1wbCA9IFNlcnZlclVuYXJ5Q2FsbEltcGw7XG5jbGFzcyBTZXJ2ZXJSZWFkYWJsZVN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5SZWFkYWJsZSB7XG4gICAgY29uc3RydWN0b3IoY2FsbCwgbWV0YWRhdGEsIGRlc2VyaWFsaXplLCBlbmNvZGluZykge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbGwuc2V0dXBTdXJmYWNlQ2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYWxsLnNldHVwUmVhZGFibGUodGhpcywgZW5jb2RpbmcpO1xuICAgIH1cbiAgICBfcmVhZChzaXplKSB7XG4gICAgICAgIGlmICghdGhpcy5jYWxsLmNvbnN1bWVVbnB1c2hlZE1lc3NhZ2VzKHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsLnJlc3VtZSgpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldFBlZXIoKTtcbiAgICB9XG4gICAgc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5jYWxsLnNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKTtcbiAgICB9XG4gICAgZ2V0RGVhZGxpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0RGVhZGxpbmUoKTtcbiAgICB9XG4gICAgZ2V0UGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQYXRoKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJSZWFkYWJsZVN0cmVhbUltcGwgPSBTZXJ2ZXJSZWFkYWJsZVN0cmVhbUltcGw7XG5jbGFzcyBTZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5Xcml0YWJsZSB7XG4gICAgY29uc3RydWN0b3IoY2FsbCwgbWV0YWRhdGEsIHNlcmlhbGl6ZSwgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4gICAgICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgIHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhaWxpbmdNZXRhZGF0YSA9IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCk7XG4gICAgICAgIHRoaXMuY2FsbC5zZXR1cFN1cmZhY2VDYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbGwuc2VuZEVycm9yKGVycik7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGF0aCgpO1xuICAgIH1cbiAgICBfd3JpdGUoY2h1bmssIGVuY29kaW5nLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNhbGxiYWNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHRoaXMuY2FsbC5zZXJpYWxpemVNZXNzYWdlKGNodW5rKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYWxsLndyaXRlKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbC5vbmNlKCdkcmFpbicsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGVyciksXG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgX2ZpbmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5PSyxcbiAgICAgICAgICAgIGRldGFpbHM6ICdPSycsXG4gICAgICAgICAgICBtZXRhZGF0YTogdGhpcy50cmFpbGluZ01ldGFkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZW5kKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgdGhpcy50cmFpbGluZ01ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLmVuZCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsID0gU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsO1xuY2xhc3MgU2VydmVyRHVwbGV4U3RyZWFtSW1wbCBleHRlbmRzIHN0cmVhbV8xLkR1cGxleCB7XG4gICAgY29uc3RydWN0b3IoY2FsbCwgbWV0YWRhdGEsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIGVuY29kaW5nKSB7XG4gICAgICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICB0aGlzLmNhbGwuc2V0dXBTdXJmYWNlQ2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYWxsLnNldHVwUmVhZGFibGUodGhpcywgZW5jb2RpbmcpO1xuICAgICAgICB0aGlzLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbGwuc2VuZEVycm9yKGVycik7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGF0aCgpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGVuZChtZXRhZGF0YSkge1xuICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5lbmQoKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlckR1cGxleFN0cmVhbUltcGwgPSBTZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsO1xuU2VydmVyRHVwbGV4U3RyZWFtSW1wbC5wcm90b3R5cGUuX3JlYWQgPVxuICAgIFNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbC5wcm90b3R5cGUuX3JlYWQ7XG5TZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsLnByb3RvdHlwZS5fd3JpdGUgPVxuICAgIFNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbC5wcm90b3R5cGUuX3dyaXRlO1xuU2VydmVyRHVwbGV4U3RyZWFtSW1wbC5wcm90b3R5cGUuX2ZpbmFsID1cbiAgICBTZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGwucHJvdG90eXBlLl9maW5hbDtcbi8vIEludGVybmFsIGNsYXNzIHRoYXQgd3JhcHMgdGhlIEhUVFAyIHJlcXVlc3QuXG5jbGFzcyBIdHRwMlNlcnZlckNhbGxTdHJlYW0gZXh0ZW5kcyBldmVudHNfMS5FdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHN0cmVhbSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWFkbGluZVRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0dXNTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy53YW50VHJhaWxlcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YVNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5QdXNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQdXNoUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZmZlcmVkTWVzc2FnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5tZXNzYWdlc1RvUHVzaCA9IFtdO1xuICAgICAgICB0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZSA9IGNvbnN0YW50c18xLkRFRkFVTFRfTUFYX1NFTkRfTUVTU0FHRV9MRU5HVEg7XG4gICAgICAgIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplID0gY29uc3RhbnRzXzEuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSDtcbiAgICAgICAgdGhpcy5zdHJlYW0ub25jZSgnZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAvKiBXZSBuZWVkIGFuIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgdW5jYXVnaHQgZXJyb3IgZXZlbnQgZXhjZXB0aW9ucywgYnV0XG4gICAgICAgICAgICAgKiB0aGVyZSBpcyBub3RoaW5nIHdlIGNhbiByZWFzb25hYmx5IGRvIGhlcmUuIEFueSBlcnJvciBldmVudCBzaG91bGRcbiAgICAgICAgICAgICAqIGhhdmUgYSBjb3JyZXNwb25kaW5nIGNsb3NlIGV2ZW50LCB3aGljaCBoYW5kbGVzIGVtaXR0aW5nIHRoZSBjYW5jZWxsZWRcbiAgICAgICAgICAgICAqIGV2ZW50LiBBbmQgdGhlIHN0cmVhbSBpcyBub3cgaW4gYSBiYWQgc3RhdGUsIHNvIHdlIGNhbid0IHJlYXNvbmFibHlcbiAgICAgICAgICAgICAqIGV4cGVjdCB0byBiZSBhYmxlIHRvIHNlbmQgYW4gZXJyb3Igb3ZlciBpdC4gKi9cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RyZWFtLm9uY2UoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJhY2UoJ1JlcXVlc3QgdG8gbWV0aG9kICcgK1xuICAgICAgICAgICAgICAgICgoX2EgPSB0aGlzLmhhbmRsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXRoKSArXG4gICAgICAgICAgICAgICAgJyBzdHJlYW0gY2xvc2VkIHdpdGggcnN0Q29kZSAnICtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5yc3RDb2RlKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0dXNTZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2FuY2VsbGVkJywgJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnc3RyZWFtRW5kJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdDYW5jZWxsZWQgYnkgY2xpZW50JyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVhZGxpbmVUaW1lcilcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVhZGxpbmVUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0cmVhbS5vbignZHJhaW4nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2RyYWluJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoJ2dycGMubWF4X3NlbmRfbWVzc2FnZV9sZW5ndGgnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMubWF4U2VuZE1lc3NhZ2VTaXplID0gb3B0aW9uc1snZ3JwYy5tYXhfc2VuZF9tZXNzYWdlX2xlbmd0aCddO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUgPSBvcHRpb25zWydncnBjLm1heF9yZWNlaXZlX21lc3NhZ2VfbGVuZ3RoJ107XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tDYW5jZWxsZWQoKSB7XG4gICAgICAgIC8qIEluIHNvbWUgY2FzZXMgdGhlIHN0cmVhbSBjYW4gYmVjb21lIGRlc3Ryb3llZCBiZWZvcmUgdGhlIGNsb3NlIGV2ZW50XG4gICAgICAgICAqIGZpcmVzLiBUaGF0IGNyZWF0ZXMgYSByYWNlIGNvbmRpdGlvbiB0aGF0IHRoaXMgY2hlY2sgd29ya3MgYXJvdW5kICovXG4gICAgICAgIGlmICh0aGlzLnN0cmVhbS5kZXN0cm95ZWQgfHwgdGhpcy5zdHJlYW0uY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuY2VsbGVkO1xuICAgIH1cbiAgICBnZXREZWNvbXByZXNzZWRNZXNzYWdlKG1lc3NhZ2UsIGVuY29kaW5nKSB7XG4gICAgICAgIGlmIChlbmNvZGluZyA9PT0gJ2RlZmxhdGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbGF0ZShtZXNzYWdlLnN1YmFycmF5KDUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbmNvZGluZyA9PT0gJ2d6aXAnKSB7XG4gICAgICAgICAgICByZXR1cm4gdW56aXAobWVzc2FnZS5zdWJhcnJheSg1KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW5jb2RpbmcgPT09ICdpZGVudGl0eScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLnN1YmFycmF5KDUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBtZXNzYWdlIGNvbXByZXNzZWQgd2l0aCB1bnN1cHBvcnRlZCBlbmNvZGluZyBcIiR7ZW5jb2Rpbmd9XCJgLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZE1ldGFkYXRhKGN1c3RvbU1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YVNlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1ldGFkYXRhU2VudCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGN1c3RvbSA9IGN1c3RvbU1ldGFkYXRhID8gY3VzdG9tTWV0YWRhdGEudG9IdHRwMkhlYWRlcnMoKSA6IG51bGw7XG4gICAgICAgIC8vIFRPRE8oY2ppaHJpZyk6IEluY2x1ZGUgY29tcHJlc3Npb24gaGVhZGVycy5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UmVzcG9uc2VIZWFkZXJzKSwgZGVmYXVsdENvbXByZXNzaW9uSGVhZGVycyksIGN1c3RvbSk7XG4gICAgICAgIHRoaXMuc3RyZWFtLnJlc3BvbmQoaGVhZGVycywgZGVmYXVsdFJlc3BvbnNlT3B0aW9ucyk7XG4gICAgfVxuICAgIHJlY2VpdmVNZXRhZGF0YShoZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gbWV0YWRhdGFfMS5NZXRhZGF0YS5mcm9tSHR0cDJIZWFkZXJzKGhlYWRlcnMpO1xuICAgICAgICBpZiAobG9nZ2luZy5pc1RyYWNlckVuYWJsZWQoVFJBQ0VSX05BTUUpKSB7XG4gICAgICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXIucGF0aCArXG4gICAgICAgICAgICAgICAgJyByZWNlaXZlZCBoZWFkZXJzICcgK1xuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhLnRvSlNPTigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyhjamlocmlnKTogUmVjZWl2ZSBjb21wcmVzc2lvbiBtZXRhZGF0YS5cbiAgICAgICAgY29uc3QgdGltZW91dEhlYWRlciA9IG1ldGFkYXRhLmdldChHUlBDX1RJTUVPVVRfSEVBREVSKTtcbiAgICAgICAgaWYgKHRpbWVvdXRIZWFkZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB0aW1lb3V0SGVhZGVyWzBdLnRvU3RyaW5nKCkubWF0Y2goREVBRExJTkVfUkVHRVgpO1xuICAgICAgICAgICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdJbnZhbGlkIGRlYWRsaW5lJyk7XG4gICAgICAgICAgICAgICAgZXJyLmNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuT1VUX09GX1JBTkdFO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9ICgrbWF0Y2hbMV0gKiBkZWFkbGluZVVuaXRzVG9Nc1ttYXRjaFsyXV0pIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmRlYWRsaW5lID0gbm93LnNldE1pbGxpc2Vjb25kcyhub3cuZ2V0TWlsbGlzZWNvbmRzKCkgKyB0aW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuZGVhZGxpbmVUaW1lciA9IHNldFRpbWVvdXQoaGFuZGxlRXhwaXJlZERlYWRsaW5lLCB0aW1lb3V0LCB0aGlzKTtcbiAgICAgICAgICAgIG1ldGFkYXRhLnJlbW92ZShHUlBDX1RJTUVPVVRfSEVBREVSKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgc2V2ZXJhbCBoZWFkZXJzIHRoYXQgc2hvdWxkIG5vdCBiZSBwcm9wYWdhdGVkIHRvIHRoZSBhcHBsaWNhdGlvblxuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9BQ0NFUFRfRU5DT0RJTkcpO1xuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9URSk7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZShodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX0NPTlRFTlRfVFlQRSk7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnKTtcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICByZWNlaXZlVW5hcnlNZXNzYWdlKGVuY29kaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHN0cmVhbSB9ID0gdGhpcztcbiAgICAgICAgICAgIGxldCByZWNlaXZlZExlbmd0aCA9IDA7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbGltaXQgPSB0aGlzLm1heFJlY2VpdmVNZXNzYWdlU2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLm9uKCdkYXRhJywgb25EYXRhKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLm9uKCdlbmQnLCBvbkVuZCk7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5vbignZXJyb3InLCBvbkVuZCk7XG4gICAgICAgICAgICBmdW5jdGlvbiBvbkRhdGEoY2h1bmspIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChsaW1pdCAhPT0gLTEgJiYgcmVjZWl2ZWRMZW5ndGggPiBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgbWVzc2FnZSBsYXJnZXIgdGhhbiBtYXggKCR7cmVjZWl2ZWRMZW5ndGh9IHZzLiAke2xpbWl0fSlgLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBib2R5LnB1c2goY2h1bmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb25FbmQoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25EYXRhKTtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uRW5kKTtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FbmQpO1xuICAgICAgICAgICAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoeyBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsIGRldGFpbHM6IGVyci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ3JlY2VpdmVkIGVtcHR5IHVuYXJ5IG1lc3NhZ2UnLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsLmVtaXQoJ3JlY2VpdmVNZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdEJ5dGVzID0gQnVmZmVyLmNvbmNhdChib2R5LCByZWNlaXZlZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZCA9IHJlcXVlc3RCeXRlcy5yZWFkVUludDgoMCkgPT09IDE7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZE1lc3NhZ2VFbmNvZGluZyA9IGNvbXByZXNzZWQgPyBlbmNvZGluZyA6ICdpZGVudGl0eSc7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb21wcmVzc2VkTWVzc2FnZSA9IGNhbGwuZ2V0RGVjb21wcmVzc2VkTWVzc2FnZShyZXF1ZXN0Qnl0ZXMsIGNvbXByZXNzZWRNZXNzYWdlRW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIoZGVjb21wcmVzc2VkTWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjYWxsLmRlc2VyaWFsaXplTWVzc2FnZVdpdGhJbnRlcm5hbEVycm9yKGRlY29tcHJlc3NlZE1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZWRNZXNzYWdlLnRoZW4oZGVjb21wcmVzc2VkID0+IHJlc29sdmUoY2FsbC5kZXNlcmlhbGl6ZU1lc3NhZ2VXaXRoSW50ZXJuYWxFcnJvcihkZWNvbXByZXNzZWQpKSwgKGVycikgPT4gcmVqZWN0KGVyci5jb2RlXG4gICAgICAgICAgICAgICAgICAgID8gZXJyXG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIFwiZ3JwYy1lbmNvZGluZ1wiIGhlYWRlciBcIiR7ZW5jb2Rpbmd9XCIgYnV0ICR7ZW5jb2Rpbmd9IGRlY29tcHJlc3Npb24gZmFpbGVkYCxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZGVzZXJpYWxpemVNZXNzYWdlV2l0aEludGVybmFsRXJyb3IoYnVmZmVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZU1lc3NhZ2UoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyB7XG4gICAgICAgICAgICAgICAgZGV0YWlsczogKDAsIGVycm9yXzEuZ2V0RXJyb3JNZXNzYWdlKShlcnIpLFxuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VyaWFsaXplTWVzc2FnZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlQnVmZmVyID0gdGhpcy5oYW5kbGVyLnNlcmlhbGl6ZSh2YWx1ZSk7XG4gICAgICAgIC8vIFRPRE8oY2ppaHJpZyk6IENhbGwgY29tcHJlc3Npb24gYXdhcmUgc2VyaWFsaXplTWVzc2FnZSgpLlxuICAgICAgICBjb25zdCBieXRlTGVuZ3RoID0gbWVzc2FnZUJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUoYnl0ZUxlbmd0aCArIDUpO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50OCgwLCAwKTtcbiAgICAgICAgb3V0cHV0LndyaXRlVUludDMyQkUoYnl0ZUxlbmd0aCwgMSk7XG4gICAgICAgIG1lc3NhZ2VCdWZmZXIuY29weShvdXRwdXQsIDUpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZU1lc3NhZ2UoYnl0ZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlci5kZXNlcmlhbGl6ZShieXRlcyk7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRVbmFyeU1lc3NhZ2UoZXJyLCB2YWx1ZSwgbWV0YWRhdGEsIGZsYWdzKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWV0YWRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVyciwgJ21ldGFkYXRhJykgJiYgbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBlcnIubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5zZXJpYWxpemVNZXNzYWdlKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMud3JpdGUocmVzcG9uc2UpO1xuICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHsgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk9LLCBkZXRhaWxzOiAnT0snLCBtZXRhZGF0YSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFcnJvcih7XG4gICAgICAgICAgICAgICAgZGV0YWlsczogKDAsIGVycm9yXzEuZ2V0RXJyb3JNZXNzYWdlKShlcnIpLFxuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbmRTdGF0dXMoc3RhdHVzT2JqKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuZW1pdCgnY2FsbEVuZCcsIHN0YXR1c09iai5jb2RlKTtcbiAgICAgICAgdGhpcy5lbWl0KCdzdHJlYW1FbmQnLCBzdGF0dXNPYmouY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlKCdSZXF1ZXN0IHRvIG1ldGhvZCAnICtcbiAgICAgICAgICAgICgoX2EgPSB0aGlzLmhhbmRsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXRoKSArXG4gICAgICAgICAgICAnIGVuZGVkIHdpdGggc3RhdHVzIGNvZGU6ICcgK1xuICAgICAgICAgICAgY29uc3RhbnRzXzEuU3RhdHVzW3N0YXR1c09iai5jb2RlXSArXG4gICAgICAgICAgICAnIGRldGFpbHM6ICcgK1xuICAgICAgICAgICAgc3RhdHVzT2JqLmRldGFpbHMpO1xuICAgICAgICBpZiAodGhpcy5kZWFkbGluZVRpbWVyKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVhZGxpbmVUaW1lcik7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbS5oZWFkZXJzU2VudCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLndhbnRUcmFpbGVycykge1xuICAgICAgICAgICAgICAgIHRoaXMud2FudFRyYWlsZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5vbmNlKCd3YW50VHJhaWxlcnMnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhaWxlcnNUb1NlbmQgPSBPYmplY3QuYXNzaWduKHsgW0dSUENfU1RBVFVTX0hFQURFUl06IHN0YXR1c09iai5jb2RlLCBbR1JQQ19NRVNTQUdFX0hFQURFUl06IGVuY29kZVVSSShzdGF0dXNPYmouZGV0YWlscykgfSwgKF9hID0gc3RhdHVzT2JqLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9IdHRwMkhlYWRlcnMoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLnNlbmRUcmFpbGVycyh0cmFpbGVyc1RvU2VuZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzU2VudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0uZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUcmFpbGVycy1vbmx5IHJlc3BvbnNlXG4gICAgICAgICAgICBjb25zdCB0cmFpbGVyc1RvU2VuZCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IFtHUlBDX1NUQVRVU19IRUFERVJdOiBzdGF0dXNPYmouY29kZSwgW0dSUENfTUVTU0FHRV9IRUFERVJdOiBlbmNvZGVVUkkoc3RhdHVzT2JqLmRldGFpbHMpIH0sIGRlZmF1bHRSZXNwb25zZUhlYWRlcnMpLCAoX2IgPSBzdGF0dXNPYmoubWV0YWRhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50b0h0dHAySGVhZGVycygpKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLnJlc3BvbmQodHJhaWxlcnNUb1NlbmQsIHsgZW5kU3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNTZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0ge1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICBkZXRhaWxzOiAnbWVzc2FnZScgaW4gZXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gRXJyb3InLFxuICAgICAgICAgICAgbWV0YWRhdGE6ICdtZXRhZGF0YScgaW4gZXJyb3IgJiYgZXJyb3IubWV0YWRhdGEgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gZXJyb3IubWV0YWRhdGFcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIGlmICgnY29kZScgaW4gZXJyb3IgJiZcbiAgICAgICAgICAgIHR5cGVvZiBlcnJvci5jb2RlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihlcnJvci5jb2RlKSkge1xuICAgICAgICAgICAgc3RhdHVzLmNvZGUgPSBlcnJvci5jb2RlO1xuICAgICAgICAgICAgaWYgKCdkZXRhaWxzJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IuZGV0YWlscyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGV0YWlscyA9IGVycm9yLmRldGFpbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHN0YXR1cyk7XG4gICAgfVxuICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhTZW5kTWVzc2FnZVNpemUgIT09IC0xICYmXG4gICAgICAgICAgICBjaHVuay5sZW5ndGggPiB0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3Ioe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYFNlbnQgbWVzc2FnZSBsYXJnZXIgdGhhbiBtYXggKCR7Y2h1bmsubGVuZ3RofSB2cy4gJHt0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZX0pYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VuZE1ldGFkYXRhKCk7XG4gICAgICAgIHRoaXMuZW1pdCgnc2VuZE1lc3NhZ2UnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKGNodW5rKTtcbiAgICB9XG4gICAgcmVzdW1lKCkge1xuICAgICAgICB0aGlzLnN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gICAgc2V0dXBTdXJmYWNlQ2FsbChjYWxsKSB7XG4gICAgICAgIHRoaXMub25jZSgnY2FuY2VsbGVkJywgcmVhc29uID0+IHtcbiAgICAgICAgICAgIGNhbGwuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNhbGwuZW1pdCgnY2FuY2VsbGVkJywgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25jZSgnY2FsbEVuZCcsIHN0YXR1cyA9PiBjYWxsLmVtaXQoJ2NhbGxFbmQnLCBzdGF0dXMpKTtcbiAgICB9XG4gICAgc2V0dXBSZWFkYWJsZShyZWFkYWJsZSwgZW5jb2RpbmcpIHtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBzdHJlYW1fZGVjb2Rlcl8xLlN0cmVhbURlY29kZXIoKTtcbiAgICAgICAgbGV0IHJlYWRzRG9uZSA9IGZhbHNlO1xuICAgICAgICBsZXQgcGVuZGluZ01lc3NhZ2VQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgIGxldCBwdXNoZWRFbmQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbWF5YmVQdXNoRW5kID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFwdXNoZWRFbmQgJiYgcmVhZHNEb25lICYmICFwZW5kaW5nTWVzc2FnZVByb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgICAgICBwdXNoZWRFbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucHVzaE9yQnVmZmVyTWVzc2FnZShyZWFkYWJsZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RyZWFtLm9uKCdkYXRhJywgYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZGVjb2Rlci53cml0ZShkYXRhKTtcbiAgICAgICAgICAgIHBlbmRpbmdNZXNzYWdlUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5wYXVzZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxlbmd0aCA+IHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgbWVzc2FnZSBsYXJnZXIgdGhhbiBtYXggKCR7bWVzc2FnZS5sZW5ndGh9IHZzLiAke3RoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplfSlgLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3JlY2VpdmVNZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZCA9IG1lc3NhZ2UucmVhZFVJbnQ4KDApID09PSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWRNZXNzYWdlRW5jb2RpbmcgPSBjb21wcmVzc2VkID8gZW5jb2RpbmcgOiAnaWRlbnRpdHknO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29tcHJlc3NlZE1lc3NhZ2UgPSBhd2FpdCB0aGlzLmdldERlY29tcHJlc3NlZE1lc3NhZ2UobWVzc2FnZSwgY29tcHJlc3NlZE1lc3NhZ2VFbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgLy8gRW5jb3VudGVyZWQgYW4gZXJyb3Igd2l0aCBkZWNvbXByZXNzaW9uOyBpdCdsbCBhbHJlYWR5IGhhdmUgYmVlbiBwcm9wb2dhdGVkIGJhY2tcbiAgICAgICAgICAgICAgICAvLyBKdXN0IHJldHVybiBlYXJseVxuICAgICAgICAgICAgICAgIGlmICghZGVjb21wcmVzc2VkTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucHVzaE9yQnVmZmVyTWVzc2FnZShyZWFkYWJsZSwgZGVjb21wcmVzc2VkTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nTWVzc2FnZVByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLnJlc3VtZSgpO1xuICAgICAgICAgICAgYXdhaXQgbWF5YmVQdXNoRW5kKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0cmVhbS5vbmNlKCdlbmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICByZWFkc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgbWF5YmVQdXNoRW5kKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdW1lVW5wdXNoZWRNZXNzYWdlcyhyZWFkYWJsZSkge1xuICAgICAgICB0aGlzLmNhblB1c2ggPSB0cnVlO1xuICAgICAgICB3aGlsZSAodGhpcy5tZXNzYWdlc1RvUHVzaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TWVzc2FnZSA9IHRoaXMubWVzc2FnZXNUb1B1c2guc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhblB1c2ggPSByZWFkYWJsZS5wdXNoKG5leHRNZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChuZXh0TWVzc2FnZSA9PT0gbnVsbCB8fCBjYW5QdXNoID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuUHVzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhblB1c2g7XG4gICAgfVxuICAgIGFzeW5jIHB1c2hPckJ1ZmZlck1lc3NhZ2UocmVhZGFibGUsIG1lc3NhZ2VCeXRlcykge1xuICAgICAgICBpZiAodGhpcy5pc1B1c2hQZW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcmVkTWVzc2FnZXMucHVzaChtZXNzYWdlQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wdXNoTWVzc2FnZShyZWFkYWJsZSwgbWVzc2FnZUJ5dGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwdXNoTWVzc2FnZShyZWFkYWJsZSwgbWVzc2FnZUJ5dGVzKSB7XG4gICAgICAgIGlmIChtZXNzYWdlQnl0ZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRyYWNlKCdSZWNlaXZlZCBlbmQgb2Ygc3RyZWFtJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW5QdXNoKSB7XG4gICAgICAgICAgICAgICAgcmVhZGFibGUucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXNUb1B1c2gucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnUmVjZWl2ZWQgbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2VCeXRlcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLmlzUHVzaFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkID0gYXdhaXQgdGhpcy5kZXNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZUJ5dGVzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhblB1c2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlYWRhYmxlLnB1c2goZGVzZXJpYWxpemVkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhblB1c2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0ucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzVG9QdXNoLnB1c2goZGVzZXJpYWxpemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgcmVtYWluaW5nIG1lc3NhZ2VzIHdoZW4gZXJyb3JzIG9jY3VyLlxuICAgICAgICAgICAgdGhpcy5idWZmZXJlZE1lc3NhZ2VzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBsZXQgY29kZSA9ICgwLCBlcnJvcl8xLmdldEVycm9yQ29kZSkoZXJyb3IpO1xuICAgICAgICAgICAgaWYgKGNvZGUgPT09IG51bGwgfHwgY29kZSA8IGNvbnN0YW50c18xLlN0YXR1cy5PSyB8fCBjb2RlID4gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVVUSEVOVElDQVRFRCkge1xuICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkYWJsZS5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGVycm9yKSxcbiAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1B1c2hQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcmVkTWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wdXNoTWVzc2FnZShyZWFkYWJsZSwgdGhpcy5idWZmZXJlZE1lc3NhZ2VzLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gKF9hID0gdGhpcy5zdHJlYW0uc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvY2tldDtcbiAgICAgICAgaWYgKHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5yZW1vdGVBZGRyZXNzKSB7XG4gICAgICAgICAgICBpZiAoc29ja2V0LnJlbW90ZVBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7c29ja2V0LnJlbW90ZUFkZHJlc3N9OiR7c29ja2V0LnJlbW90ZVBvcnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb2NrZXQucmVtb3RlQWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RGVhZGxpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlYWRsaW5lO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVyLnBhdGg7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwMlNlcnZlckNhbGxTdHJlYW0gPSBIdHRwMlNlcnZlckNhbGxTdHJlYW07XG5mdW5jdGlvbiBoYW5kbGVFeHBpcmVkRGVhZGxpbmUoY2FsbCkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcignRGVhZGxpbmUgZXhjZWVkZWQnKTtcbiAgICBlcnIuY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRDtcbiAgICBjYWxsLnNlbmRFcnJvcihlcnIpO1xuICAgIGNhbGwuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICBjYWxsLmVtaXQoJ2NhbmNlbGxlZCcsICdkZWFkbGluZScpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWNhbGwuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiSHR0cDJTZXJ2ZXJDYWxsU3RyZWFtIiwiU2VydmVyRHVwbGV4U3RyZWFtSW1wbCIsIlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbCIsIlNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCIsIlNlcnZlclVuYXJ5Q2FsbEltcGwiLCJldmVudHNfMSIsInJlcXVpcmUiLCJodHRwMiIsInN0cmVhbV8xIiwiemxpYiIsInV0aWxfMSIsImNvbnN0YW50c18xIiwibWV0YWRhdGFfMSIsInN0cmVhbV9kZWNvZGVyXzEiLCJsb2dnaW5nIiwiZXJyb3JfMSIsIlRSQUNFUl9OQU1FIiwidW56aXAiLCJwcm9taXNpZnkiLCJpbmZsYXRlIiwidHJhY2UiLCJ0ZXh0IiwiTG9nVmVyYm9zaXR5IiwiREVCVUciLCJHUlBDX0FDQ0VQVF9FTkNPRElOR19IRUFERVIiLCJHUlBDX0VOQ09ESU5HX0hFQURFUiIsIkdSUENfTUVTU0FHRV9IRUFERVIiLCJHUlBDX1NUQVRVU19IRUFERVIiLCJHUlBDX1RJTUVPVVRfSEVBREVSIiwiREVBRExJTkVfUkVHRVgiLCJkZWFkbGluZVVuaXRzVG9NcyIsIkgiLCJNIiwiUyIsIm0iLCJ1IiwibiIsImRlZmF1bHRDb21wcmVzc2lvbkhlYWRlcnMiLCJkZWZhdWx0UmVzcG9uc2VIZWFkZXJzIiwiY29uc3RhbnRzIiwiSFRUUDJfSEVBREVSX1NUQVRVUyIsIkhUVFBfU1RBVFVTX09LIiwiSFRUUDJfSEVBREVSX0NPTlRFTlRfVFlQRSIsImRlZmF1bHRSZXNwb25zZU9wdGlvbnMiLCJ3YWl0Rm9yVHJhaWxlcnMiLCJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsImNhbGwiLCJtZXRhZGF0YSIsInJlcXVlc3QiLCJjYW5jZWxsZWQiLCJzZXR1cFN1cmZhY2VDYWxsIiwiZ2V0UGVlciIsInNlbmRNZXRhZGF0YSIsInJlc3BvbnNlTWV0YWRhdGEiLCJnZXREZWFkbGluZSIsImdldFBhdGgiLCJSZWFkYWJsZSIsImRlc2VyaWFsaXplIiwiZW5jb2RpbmciLCJvYmplY3RNb2RlIiwic2V0dXBSZWFkYWJsZSIsIl9yZWFkIiwic2l6ZSIsImNvbnN1bWVVbnB1c2hlZE1lc3NhZ2VzIiwicmVzdW1lIiwiV3JpdGFibGUiLCJzZXJpYWxpemUiLCJ0cmFpbGluZ01ldGFkYXRhIiwiTWV0YWRhdGEiLCJvbiIsImVyciIsInNlbmRFcnJvciIsImVuZCIsIl93cml0ZSIsImNodW5rIiwiY2FsbGJhY2siLCJyZXNwb25zZSIsInNlcmlhbGl6ZU1lc3NhZ2UiLCJ3cml0ZSIsIm9uY2UiLCJlbWl0IiwiZGV0YWlscyIsImdldEVycm9yTWVzc2FnZSIsImNvZGUiLCJTdGF0dXMiLCJJTlRFUk5BTCIsIl9maW5hbCIsInNlbmRTdGF0dXMiLCJPSyIsIkR1cGxleCIsInByb3RvdHlwZSIsInN0cmVhbSIsImhhbmRsZXIiLCJvcHRpb25zIiwiZGVhZGxpbmVUaW1lciIsInN0YXR1c1NlbnQiLCJkZWFkbGluZSIsIkluZmluaXR5Iiwid2FudFRyYWlsZXJzIiwibWV0YWRhdGFTZW50IiwiY2FuUHVzaCIsImlzUHVzaFBlbmRpbmciLCJidWZmZXJlZE1lc3NhZ2VzIiwibWVzc2FnZXNUb1B1c2giLCJtYXhTZW5kTWVzc2FnZVNpemUiLCJERUZBVUxUX01BWF9TRU5EX01FU1NBR0VfTEVOR1RIIiwibWF4UmVjZWl2ZU1lc3NhZ2VTaXplIiwiREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSCIsIl9hIiwicGF0aCIsInJzdENvZGUiLCJDQU5DRUxMRUQiLCJjbGVhclRpbWVvdXQiLCJjaGVja0NhbmNlbGxlZCIsImRlc3Ryb3llZCIsImNsb3NlZCIsImdldERlY29tcHJlc3NlZE1lc3NhZ2UiLCJtZXNzYWdlIiwic3ViYXJyYXkiLCJQcm9taXNlIiwicmVqZWN0IiwiVU5JTVBMRU1FTlRFRCIsImN1c3RvbU1ldGFkYXRhIiwiY3VzdG9tIiwidG9IdHRwMkhlYWRlcnMiLCJoZWFkZXJzIiwiYXNzaWduIiwicmVzcG9uZCIsInJlY2VpdmVNZXRhZGF0YSIsImZyb21IdHRwMkhlYWRlcnMiLCJpc1RyYWNlckVuYWJsZWQiLCJKU09OIiwic3RyaW5naWZ5IiwidG9KU09OIiwidGltZW91dEhlYWRlciIsImdldCIsImxlbmd0aCIsIm1hdGNoIiwidG9TdHJpbmciLCJFcnJvciIsIk9VVF9PRl9SQU5HRSIsInRpbWVvdXQiLCJub3ciLCJEYXRlIiwic2V0TWlsbGlzZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwic2V0VGltZW91dCIsImhhbmRsZUV4cGlyZWREZWFkbGluZSIsInJlbW92ZSIsIkhUVFAyX0hFQURFUl9BQ0NFUFRfRU5DT0RJTkciLCJIVFRQMl9IRUFERVJfVEUiLCJyZWNlaXZlVW5hcnlNZXNzYWdlIiwicmVzb2x2ZSIsInJlY2VpdmVkTGVuZ3RoIiwiYm9keSIsImxpbWl0Iiwib25EYXRhIiwib25FbmQiLCJieXRlTGVuZ3RoIiwicmVtb3ZlTGlzdGVuZXIiLCJSRVNPVVJDRV9FWEhBVVNURUQiLCJwdXNoIiwidW5kZWZpbmVkIiwicmVxdWVzdEJ5dGVzIiwiQnVmZmVyIiwiY29uY2F0IiwiY29tcHJlc3NlZCIsInJlYWRVSW50OCIsImNvbXByZXNzZWRNZXNzYWdlRW5jb2RpbmciLCJkZWNvbXByZXNzZWRNZXNzYWdlIiwiaXNCdWZmZXIiLCJkZXNlcmlhbGl6ZU1lc3NhZ2VXaXRoSW50ZXJuYWxFcnJvciIsInRoZW4iLCJkZWNvbXByZXNzZWQiLCJidWZmZXIiLCJkZXNlcmlhbGl6ZU1lc3NhZ2UiLCJtZXNzYWdlQnVmZmVyIiwib3V0cHV0IiwiYWxsb2NVbnNhZmUiLCJ3cml0ZVVJbnQ4Iiwid3JpdGVVSW50MzJCRSIsImNvcHkiLCJieXRlcyIsInNlbmRVbmFyeU1lc3NhZ2UiLCJmbGFncyIsImhhc093blByb3BlcnR5Iiwic3RhdHVzT2JqIiwiX2IiLCJoZWFkZXJzU2VudCIsInRyYWlsZXJzVG9TZW5kIiwiZW5jb2RlVVJJIiwic2VuZFRyYWlsZXJzIiwiZW5kU3RyZWFtIiwiZXJyb3IiLCJzdGF0dXMiLCJVTktOT1dOIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwicmVhc29uIiwicmVhZGFibGUiLCJkZWNvZGVyIiwiU3RyZWFtRGVjb2RlciIsInJlYWRzRG9uZSIsInBlbmRpbmdNZXNzYWdlUHJvY2Vzc2luZyIsInB1c2hlZEVuZCIsIm1heWJlUHVzaEVuZCIsInB1c2hPckJ1ZmZlck1lc3NhZ2UiLCJkYXRhIiwibWVzc2FnZXMiLCJwYXVzZSIsIm5leHRNZXNzYWdlIiwic2hpZnQiLCJtZXNzYWdlQnl0ZXMiLCJwdXNoTWVzc2FnZSIsImRlc2VyaWFsaXplZCIsImdldEVycm9yQ29kZSIsIlVOQVVUSEVOVElDQVRFRCIsInNvY2tldCIsInNlc3Npb24iLCJyZW1vdGVBZGRyZXNzIiwicmVtb3RlUG9ydCIsIkRFQURMSU5FX0VYQ0VFREVEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/server-call.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/server-credentials.js":
/*!********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/server-credentials.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ServerCredentials = void 0;\nconst tls_helpers_1 = __webpack_require__(/*! ./tls-helpers */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/tls-helpers.js\");\nclass ServerCredentials {\n  static createInsecure() {\n    return new InsecureServerCredentials();\n  }\n  static createSsl(rootCerts, keyCertPairs, checkClientCertificate = false) {\n    if (rootCerts !== null && !Buffer.isBuffer(rootCerts)) {\n      throw new TypeError('rootCerts must be null or a Buffer');\n    }\n    if (!Array.isArray(keyCertPairs)) {\n      throw new TypeError('keyCertPairs must be an array');\n    }\n    if (typeof checkClientCertificate !== 'boolean') {\n      throw new TypeError('checkClientCertificate must be a boolean');\n    }\n    const cert = [];\n    const key = [];\n    for (let i = 0; i < keyCertPairs.length; i++) {\n      const pair = keyCertPairs[i];\n      if (pair === null || typeof pair !== 'object') {\n        throw new TypeError(`keyCertPair[${i}] must be an object`);\n      }\n      if (!Buffer.isBuffer(pair.private_key)) {\n        throw new TypeError(`keyCertPair[${i}].private_key must be a Buffer`);\n      }\n      if (!Buffer.isBuffer(pair.cert_chain)) {\n        throw new TypeError(`keyCertPair[${i}].cert_chain must be a Buffer`);\n      }\n      cert.push(pair.cert_chain);\n      key.push(pair.private_key);\n    }\n    return new SecureServerCredentials({\n      ca: rootCerts || (0, tls_helpers_1.getDefaultRootsData)() || undefined,\n      cert,\n      key,\n      requestCert: checkClientCertificate,\n      ciphers: tls_helpers_1.CIPHER_SUITES\n    });\n  }\n}\nexports.ServerCredentials = ServerCredentials;\nclass InsecureServerCredentials extends ServerCredentials {\n  _isSecure() {\n    return false;\n  }\n  _getSettings() {\n    return null;\n  }\n}\nclass SecureServerCredentials extends ServerCredentials {\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n  _isSecure() {\n    return true;\n  }\n  _getSettings() {\n    return this.options;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWNyZWRlbnRpYWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELHlCQUF5QixHQUFHLEtBQUssQ0FBQztBQUNsQyxNQUFNRyxhQUFhLEdBQUdDLG1CQUFPLENBQUMsa0ZBQWUsQ0FBQztBQUM5QyxNQUFNRixpQkFBaUIsQ0FBQztFQUNwQixPQUFPRyxjQUFjQSxDQUFBLEVBQUc7SUFDcEIsT0FBTyxJQUFJQyx5QkFBeUIsQ0FBQyxDQUFDO0VBQzFDO0VBQ0EsT0FBT0MsU0FBU0EsQ0FBQ0MsU0FBUyxFQUFFQyxZQUFZLEVBQUVDLHNCQUFzQixHQUFHLEtBQUssRUFBRTtJQUN0RSxJQUFJRixTQUFTLEtBQUssSUFBSSxJQUFJLENBQUNHLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDSixTQUFTLENBQUMsRUFBRTtNQUNuRCxNQUFNLElBQUlLLFNBQVMsQ0FBQyxvQ0FBb0MsQ0FBQztJQUM3RDtJQUNBLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxPQUFPLENBQUNOLFlBQVksQ0FBQyxFQUFFO01BQzlCLE1BQU0sSUFBSUksU0FBUyxDQUFDLCtCQUErQixDQUFDO0lBQ3hEO0lBQ0EsSUFBSSxPQUFPSCxzQkFBc0IsS0FBSyxTQUFTLEVBQUU7TUFDN0MsTUFBTSxJQUFJRyxTQUFTLENBQUMsMENBQTBDLENBQUM7SUFDbkU7SUFDQSxNQUFNRyxJQUFJLEdBQUcsRUFBRTtJQUNmLE1BQU1DLEdBQUcsR0FBRyxFQUFFO0lBQ2QsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdULFlBQVksQ0FBQ1UsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUMxQyxNQUFNRSxJQUFJLEdBQUdYLFlBQVksQ0FBQ1MsQ0FBQyxDQUFDO01BQzVCLElBQUlFLElBQUksS0FBSyxJQUFJLElBQUksT0FBT0EsSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUMzQyxNQUFNLElBQUlQLFNBQVMsQ0FBRSxlQUFjSyxDQUFFLHFCQUFvQixDQUFDO01BQzlEO01BQ0EsSUFBSSxDQUFDUCxNQUFNLENBQUNDLFFBQVEsQ0FBQ1EsSUFBSSxDQUFDQyxXQUFXLENBQUMsRUFBRTtRQUNwQyxNQUFNLElBQUlSLFNBQVMsQ0FBRSxlQUFjSyxDQUFFLGdDQUErQixDQUFDO01BQ3pFO01BQ0EsSUFBSSxDQUFDUCxNQUFNLENBQUNDLFFBQVEsQ0FBQ1EsSUFBSSxDQUFDRSxVQUFVLENBQUMsRUFBRTtRQUNuQyxNQUFNLElBQUlULFNBQVMsQ0FBRSxlQUFjSyxDQUFFLCtCQUE4QixDQUFDO01BQ3hFO01BQ0FGLElBQUksQ0FBQ08sSUFBSSxDQUFDSCxJQUFJLENBQUNFLFVBQVUsQ0FBQztNQUMxQkwsR0FBRyxDQUFDTSxJQUFJLENBQUNILElBQUksQ0FBQ0MsV0FBVyxDQUFDO0lBQzlCO0lBQ0EsT0FBTyxJQUFJRyx1QkFBdUIsQ0FBQztNQUMvQkMsRUFBRSxFQUFFakIsU0FBUyxJQUFJLENBQUMsQ0FBQyxFQUFFTCxhQUFhLENBQUN1QixtQkFBbUIsRUFBRSxDQUFDLElBQUlDLFNBQVM7TUFDdEVYLElBQUk7TUFDSkMsR0FBRztNQUNIVyxXQUFXLEVBQUVsQixzQkFBc0I7TUFDbkNtQixPQUFPLEVBQUUxQixhQUFhLENBQUMyQjtJQUMzQixDQUFDLENBQUM7RUFDTjtBQUNKO0FBQ0E5Qix5QkFBeUIsR0FBR0UsaUJBQWlCO0FBQzdDLE1BQU1JLHlCQUF5QixTQUFTSixpQkFBaUIsQ0FBQztFQUN0RDZCLFNBQVNBLENBQUEsRUFBRztJQUNSLE9BQU8sS0FBSztFQUNoQjtFQUNBQyxZQUFZQSxDQUFBLEVBQUc7SUFDWCxPQUFPLElBQUk7RUFDZjtBQUNKO0FBQ0EsTUFBTVIsdUJBQXVCLFNBQVN0QixpQkFBaUIsQ0FBQztFQUNwRCtCLFdBQVdBLENBQUNDLE9BQU8sRUFBRTtJQUNqQixLQUFLLENBQUMsQ0FBQztJQUNQLElBQUksQ0FBQ0EsT0FBTyxHQUFHQSxPQUFPO0VBQzFCO0VBQ0FILFNBQVNBLENBQUEsRUFBRztJQUNSLE9BQU8sSUFBSTtFQUNmO0VBQ0FDLFlBQVlBLENBQUEsRUFBRztJQUNYLE9BQU8sSUFBSSxDQUFDRSxPQUFPO0VBQ3ZCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NlcnZlci1jcmVkZW50aWFscy5qcz9kYzcyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlcnZlckNyZWRlbnRpYWxzID0gdm9pZCAwO1xuY29uc3QgdGxzX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCIuL3Rscy1oZWxwZXJzXCIpO1xuY2xhc3MgU2VydmVyQ3JlZGVudGlhbHMge1xuICAgIHN0YXRpYyBjcmVhdGVJbnNlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnNlY3VyZVNlcnZlckNyZWRlbnRpYWxzKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVTc2wocm9vdENlcnRzLCBrZXlDZXJ0UGFpcnMsIGNoZWNrQ2xpZW50Q2VydGlmaWNhdGUgPSBmYWxzZSkge1xuICAgICAgICBpZiAocm9vdENlcnRzICE9PSBudWxsICYmICFCdWZmZXIuaXNCdWZmZXIocm9vdENlcnRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncm9vdENlcnRzIG11c3QgYmUgbnVsbCBvciBhIEJ1ZmZlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShrZXlDZXJ0UGFpcnMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdrZXlDZXJ0UGFpcnMgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2hlY2tDbGllbnRDZXJ0aWZpY2F0ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjaGVja0NsaWVudENlcnRpZmljYXRlIG11c3QgYmUgYSBib29sZWFuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VydCA9IFtdO1xuICAgICAgICBjb25zdCBrZXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlDZXJ0UGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhaXIgPSBrZXlDZXJ0UGFpcnNbaV07XG4gICAgICAgICAgICBpZiAocGFpciA9PT0gbnVsbCB8fCB0eXBlb2YgcGFpciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBrZXlDZXJ0UGFpclske2l9XSBtdXN0IGJlIGFuIG9iamVjdGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIocGFpci5wcml2YXRlX2tleSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBrZXlDZXJ0UGFpclske2l9XS5wcml2YXRlX2tleSBtdXN0IGJlIGEgQnVmZmVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwYWlyLmNlcnRfY2hhaW4pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihga2V5Q2VydFBhaXJbJHtpfV0uY2VydF9jaGFpbiBtdXN0IGJlIGEgQnVmZmVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjZXJ0LnB1c2gocGFpci5jZXJ0X2NoYWluKTtcbiAgICAgICAgICAgIGtleS5wdXNoKHBhaXIucHJpdmF0ZV9rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2VjdXJlU2VydmVyQ3JlZGVudGlhbHMoe1xuICAgICAgICAgICAgY2E6IHJvb3RDZXJ0cyB8fCAoMCwgdGxzX2hlbHBlcnNfMS5nZXREZWZhdWx0Um9vdHNEYXRhKSgpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNlcnQsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICByZXF1ZXN0Q2VydDogY2hlY2tDbGllbnRDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgIGNpcGhlcnM6IHRsc19oZWxwZXJzXzEuQ0lQSEVSX1NVSVRFUyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJDcmVkZW50aWFscyA9IFNlcnZlckNyZWRlbnRpYWxzO1xuY2xhc3MgSW5zZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyBleHRlbmRzIFNlcnZlckNyZWRlbnRpYWxzIHtcbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX2dldFNldHRpbmdzKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5jbGFzcyBTZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyBleHRlbmRzIFNlcnZlckNyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9nZXRTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2ZXItY3JlZGVudGlhbHMuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiU2VydmVyQ3JlZGVudGlhbHMiLCJ0bHNfaGVscGVyc18xIiwicmVxdWlyZSIsImNyZWF0ZUluc2VjdXJlIiwiSW5zZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyIsImNyZWF0ZVNzbCIsInJvb3RDZXJ0cyIsImtleUNlcnRQYWlycyIsImNoZWNrQ2xpZW50Q2VydGlmaWNhdGUiLCJCdWZmZXIiLCJpc0J1ZmZlciIsIlR5cGVFcnJvciIsIkFycmF5IiwiaXNBcnJheSIsImNlcnQiLCJrZXkiLCJpIiwibGVuZ3RoIiwicGFpciIsInByaXZhdGVfa2V5IiwiY2VydF9jaGFpbiIsInB1c2giLCJTZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyIsImNhIiwiZ2V0RGVmYXVsdFJvb3RzRGF0YSIsInVuZGVmaW5lZCIsInJlcXVlc3RDZXJ0IiwiY2lwaGVycyIsIkNJUEhFUl9TVUlURVMiLCJfaXNTZWN1cmUiLCJfZ2V0U2V0dGluZ3MiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/server-credentials.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/server.js":
/*!********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/server.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.Server = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst server_call_1 = __webpack_require__(/*! ./server-call */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/server-call.js\");\nconst server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst UNLIMITED_CONNECTION_AGE_MS = ~(1 << 31);\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst { HTTP2_HEADER_PATH } = http2.constants;\nconst TRACER_NAME = \"server\";\nfunction noop() {}\nfunction getUnimplementedStatusResponse(methodName) {\n    return {\n        code: constants_1.Status.UNIMPLEMENTED,\n        details: `The server does not implement the method ${methodName}`\n    };\n}\nfunction getDefaultHandler(handlerType, methodName) {\n    const unimplementedStatusResponse = getUnimplementedStatusResponse(methodName);\n    switch(handlerType){\n        case \"unary\":\n            return (call, callback)=>{\n                callback(unimplementedStatusResponse, null);\n            };\n        case \"clientStream\":\n            return (call, callback)=>{\n                callback(unimplementedStatusResponse, null);\n            };\n        case \"serverStream\":\n            return (call)=>{\n                call.emit(\"error\", unimplementedStatusResponse);\n            };\n        case \"bidi\":\n            return (call)=>{\n                call.emit(\"error\", unimplementedStatusResponse);\n            };\n        default:\n            throw new Error(`Invalid handlerType ${handlerType}`);\n    }\n}\nclass Server {\n    constructor(options){\n        var _a, _b, _c, _d;\n        this.http2ServerList = [];\n        this.handlers = new Map();\n        this.sessions = new Map();\n        this.started = false;\n        this.shutdown = false;\n        this.serverAddressString = \"null\";\n        // Channelz Info\n        this.channelzEnabled = true;\n        this.channelzTrace = new channelz_1.ChannelzTrace();\n        this.callTracker = new channelz_1.ChannelzCallTracker();\n        this.listenerChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n        this.sessionChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n        this.options = options !== null && options !== void 0 ? options : {};\n        if (this.options[\"grpc.enable_channelz\"] === 0) {\n            this.channelzEnabled = false;\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzServer)(()=>this.getChannelzInfo(), this.channelzEnabled);\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace(\"CT_INFO\", \"Server created\");\n        }\n        this.maxConnectionAgeMs = (_a = this.options[\"grpc.max_connection_age_ms\"]) !== null && _a !== void 0 ? _a : UNLIMITED_CONNECTION_AGE_MS;\n        this.maxConnectionAgeGraceMs = (_b = this.options[\"grpc.max_connection_age_grace_ms\"]) !== null && _b !== void 0 ? _b : UNLIMITED_CONNECTION_AGE_MS;\n        this.keepaliveTimeMs = (_c = this.options[\"grpc.keepalive_time_ms\"]) !== null && _c !== void 0 ? _c : KEEPALIVE_MAX_TIME_MS;\n        this.keepaliveTimeoutMs = (_d = this.options[\"grpc.keepalive_timeout_ms\"]) !== null && _d !== void 0 ? _d : KEEPALIVE_TIMEOUT_MS;\n        this.trace(\"Server constructed\");\n    }\n    getChannelzInfo() {\n        return {\n            trace: this.channelzTrace,\n            callTracker: this.callTracker,\n            listenerChildren: this.listenerChildrenTracker.getChildLists(),\n            sessionChildren: this.sessionChildrenTracker.getChildLists()\n        };\n    }\n    getChannelzSessionInfoGetter(session) {\n        return ()=>{\n            var _a, _b, _c;\n            const sessionInfo = this.sessions.get(session);\n            const sessionSocket = session.socket;\n            const remoteAddress = sessionSocket.remoteAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort) : null;\n            const localAddress = sessionSocket.localAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort) : null;\n            let tlsInfo;\n            if (session.encrypted) {\n                const tlsSocket = sessionSocket;\n                const cipherInfo = tlsSocket.getCipher();\n                const certificate = tlsSocket.getCertificate();\n                const peerCertificate = tlsSocket.getPeerCertificate();\n                tlsInfo = {\n                    cipherSuiteStandardName: (_a = cipherInfo.standardName) !== null && _a !== void 0 ? _a : null,\n                    cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n                    localCertificate: certificate && \"raw\" in certificate ? certificate.raw : null,\n                    remoteCertificate: peerCertificate && \"raw\" in peerCertificate ? peerCertificate.raw : null\n                };\n            } else {\n                tlsInfo = null;\n            }\n            const socketInfo = {\n                remoteAddress: remoteAddress,\n                localAddress: localAddress,\n                security: tlsInfo,\n                remoteName: null,\n                streamsStarted: sessionInfo.streamTracker.callsStarted,\n                streamsSucceeded: sessionInfo.streamTracker.callsSucceeded,\n                streamsFailed: sessionInfo.streamTracker.callsFailed,\n                messagesSent: sessionInfo.messagesSent,\n                messagesReceived: sessionInfo.messagesReceived,\n                keepAlivesSent: 0,\n                lastLocalStreamCreatedTimestamp: null,\n                lastRemoteStreamCreatedTimestamp: sessionInfo.streamTracker.lastCallStartedTimestamp,\n                lastMessageSentTimestamp: sessionInfo.lastMessageSentTimestamp,\n                lastMessageReceivedTimestamp: sessionInfo.lastMessageReceivedTimestamp,\n                localFlowControlWindow: (_b = session.state.localWindowSize) !== null && _b !== void 0 ? _b : null,\n                remoteFlowControlWindow: (_c = session.state.remoteWindowSize) !== null && _c !== void 0 ? _c : null\n            };\n            return socketInfo;\n        };\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, \"(\" + this.channelzRef.id + \") \" + text);\n    }\n    addProtoService() {\n        throw new Error(\"Not implemented. Use addService() instead\");\n    }\n    addService(service, implementation) {\n        if (service === null || typeof service !== \"object\" || implementation === null || typeof implementation !== \"object\") {\n            throw new Error(\"addService() requires two objects as arguments\");\n        }\n        const serviceKeys = Object.keys(service);\n        if (serviceKeys.length === 0) {\n            throw new Error(\"Cannot add an empty service to a server\");\n        }\n        serviceKeys.forEach((name)=>{\n            const attrs = service[name];\n            let methodType;\n            if (attrs.requestStream) {\n                if (attrs.responseStream) {\n                    methodType = \"bidi\";\n                } else {\n                    methodType = \"clientStream\";\n                }\n            } else {\n                if (attrs.responseStream) {\n                    methodType = \"serverStream\";\n                } else {\n                    methodType = \"unary\";\n                }\n            }\n            let implFn = implementation[name];\n            let impl;\n            if (implFn === undefined && typeof attrs.originalName === \"string\") {\n                implFn = implementation[attrs.originalName];\n            }\n            if (implFn !== undefined) {\n                impl = implFn.bind(implementation);\n            } else {\n                impl = getDefaultHandler(methodType, name);\n            }\n            const success = this.register(attrs.path, impl, attrs.responseSerialize, attrs.requestDeserialize, methodType);\n            if (success === false) {\n                throw new Error(`Method handler for ${attrs.path} already provided.`);\n            }\n        });\n    }\n    removeService(service) {\n        if (service === null || typeof service !== \"object\") {\n            throw new Error(\"removeService() requires object as argument\");\n        }\n        const serviceKeys = Object.keys(service);\n        serviceKeys.forEach((name)=>{\n            const attrs = service[name];\n            this.unregister(attrs.path);\n        });\n    }\n    bind(port, creds) {\n        throw new Error(\"Not implemented. Use bindAsync() instead\");\n    }\n    bindAsync(port, creds, callback) {\n        if (this.started === true) {\n            throw new Error(\"server is already started\");\n        }\n        if (this.shutdown) {\n            throw new Error(\"bindAsync called after shutdown\");\n        }\n        if (typeof port !== \"string\") {\n            throw new TypeError(\"port must be a string\");\n        }\n        if (creds === null || !(creds instanceof server_credentials_1.ServerCredentials)) {\n            throw new TypeError(\"creds must be a ServerCredentials object\");\n        }\n        if (typeof callback !== \"function\") {\n            throw new TypeError(\"callback must be a function\");\n        }\n        const initialPortUri = (0, uri_parser_1.parseUri)(port);\n        if (initialPortUri === null) {\n            throw new Error(`Could not parse port \"${port}\"`);\n        }\n        const portUri = (0, resolver_1.mapUriDefaultScheme)(initialPortUri);\n        if (portUri === null) {\n            throw new Error(`Could not get a default scheme for port \"${port}\"`);\n        }\n        const serverOptions = {\n            maxSendHeaderBlockLength: Number.MAX_SAFE_INTEGER\n        };\n        if (\"grpc-node.max_session_memory\" in this.options) {\n            serverOptions.maxSessionMemory = this.options[\"grpc-node.max_session_memory\"];\n        } else {\n            /* By default, set a very large max session memory limit, to effectively\n       * disable enforcement of the limit. Some testing indicates that Node's\n       * behavior degrades badly when this limit is reached, so we solve that\n       * by disabling the check entirely. */ serverOptions.maxSessionMemory = Number.MAX_SAFE_INTEGER;\n        }\n        if (\"grpc.max_concurrent_streams\" in this.options) {\n            serverOptions.settings = {\n                maxConcurrentStreams: this.options[\"grpc.max_concurrent_streams\"]\n            };\n        }\n        const deferredCallback = (error, port)=>{\n            process.nextTick(()=>callback(error, port));\n        };\n        const setupServer = ()=>{\n            let http2Server;\n            if (creds._isSecure()) {\n                const secureServerOptions = Object.assign(serverOptions, creds._getSettings());\n                secureServerOptions.enableTrace = this.options[\"grpc-node.tls_enable_trace\"] === 1;\n                http2Server = http2.createSecureServer(secureServerOptions);\n                http2Server.on(\"secureConnection\", (socket)=>{\n                    /* These errors need to be handled by the user of Http2SecureServer,\n           * according to https://github.com/nodejs/node/issues/35824 */ socket.on(\"error\", (e)=>{\n                        this.trace(\"An incoming TLS connection closed with error: \" + e.message);\n                    });\n                });\n            } else {\n                http2Server = http2.createServer(serverOptions);\n            }\n            http2Server.setTimeout(0, noop);\n            this._setupHandlers(http2Server);\n            return http2Server;\n        };\n        const bindSpecificPort = (addressList, portNum, previousCount)=>{\n            if (addressList.length === 0) {\n                return Promise.resolve({\n                    port: portNum,\n                    count: previousCount\n                });\n            }\n            return Promise.all(addressList.map((address)=>{\n                this.trace(\"Attempting to bind \" + (0, subchannel_address_1.subchannelAddressToString)(address));\n                let addr;\n                if ((0, subchannel_address_1.isTcpSubchannelAddress)(address)) {\n                    addr = {\n                        host: address.host,\n                        port: portNum\n                    };\n                } else {\n                    addr = address;\n                }\n                const http2Server = setupServer();\n                return new Promise((resolve, reject)=>{\n                    const onError = (err)=>{\n                        this.trace(\"Failed to bind \" + (0, subchannel_address_1.subchannelAddressToString)(address) + \" with error \" + err.message);\n                        resolve(err);\n                    };\n                    http2Server.once(\"error\", onError);\n                    http2Server.listen(addr, ()=>{\n                        if (this.shutdown) {\n                            http2Server.close();\n                            resolve(new Error(\"bindAsync failed because server is shutdown\"));\n                            return;\n                        }\n                        const boundAddress = http2Server.address();\n                        let boundSubchannelAddress;\n                        if (typeof boundAddress === \"string\") {\n                            boundSubchannelAddress = {\n                                path: boundAddress\n                            };\n                        } else {\n                            boundSubchannelAddress = {\n                                host: boundAddress.address,\n                                port: boundAddress.port\n                            };\n                        }\n                        const channelzRef = (0, channelz_1.registerChannelzSocket)((0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress), ()=>{\n                            return {\n                                localAddress: boundSubchannelAddress,\n                                remoteAddress: null,\n                                security: null,\n                                remoteName: null,\n                                streamsStarted: 0,\n                                streamsSucceeded: 0,\n                                streamsFailed: 0,\n                                messagesSent: 0,\n                                messagesReceived: 0,\n                                keepAlivesSent: 0,\n                                lastLocalStreamCreatedTimestamp: null,\n                                lastRemoteStreamCreatedTimestamp: null,\n                                lastMessageSentTimestamp: null,\n                                lastMessageReceivedTimestamp: null,\n                                localFlowControlWindow: null,\n                                remoteFlowControlWindow: null\n                            };\n                        }, this.channelzEnabled);\n                        if (this.channelzEnabled) {\n                            this.listenerChildrenTracker.refChild(channelzRef);\n                        }\n                        this.http2ServerList.push({\n                            server: http2Server,\n                            channelzRef: channelzRef\n                        });\n                        this.trace(\"Successfully bound \" + (0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress));\n                        resolve(\"port\" in boundSubchannelAddress ? boundSubchannelAddress.port : portNum);\n                        http2Server.removeListener(\"error\", onError);\n                    });\n                });\n            })).then((results)=>{\n                let count = 0;\n                for (const result of results){\n                    if (typeof result === \"number\") {\n                        count += 1;\n                        if (result !== portNum) {\n                            throw new Error(\"Invalid state: multiple port numbers added from single address\");\n                        }\n                    }\n                }\n                return {\n                    port: portNum,\n                    count: count + previousCount\n                };\n            });\n        };\n        const bindWildcardPort = (addressList)=>{\n            if (addressList.length === 0) {\n                return Promise.resolve({\n                    port: 0,\n                    count: 0\n                });\n            }\n            const address = addressList[0];\n            const http2Server = setupServer();\n            return new Promise((resolve, reject)=>{\n                const onError = (err)=>{\n                    this.trace(\"Failed to bind \" + (0, subchannel_address_1.subchannelAddressToString)(address) + \" with error \" + err.message);\n                    resolve(bindWildcardPort(addressList.slice(1)));\n                };\n                http2Server.once(\"error\", onError);\n                http2Server.listen(address, ()=>{\n                    if (this.shutdown) {\n                        http2Server.close();\n                        resolve({\n                            port: 0,\n                            count: 0\n                        });\n                        return;\n                    }\n                    const boundAddress = http2Server.address();\n                    const boundSubchannelAddress = {\n                        host: boundAddress.address,\n                        port: boundAddress.port\n                    };\n                    const channelzRef = (0, channelz_1.registerChannelzSocket)((0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress), ()=>{\n                        return {\n                            localAddress: boundSubchannelAddress,\n                            remoteAddress: null,\n                            security: null,\n                            remoteName: null,\n                            streamsStarted: 0,\n                            streamsSucceeded: 0,\n                            streamsFailed: 0,\n                            messagesSent: 0,\n                            messagesReceived: 0,\n                            keepAlivesSent: 0,\n                            lastLocalStreamCreatedTimestamp: null,\n                            lastRemoteStreamCreatedTimestamp: null,\n                            lastMessageSentTimestamp: null,\n                            lastMessageReceivedTimestamp: null,\n                            localFlowControlWindow: null,\n                            remoteFlowControlWindow: null\n                        };\n                    }, this.channelzEnabled);\n                    if (this.channelzEnabled) {\n                        this.listenerChildrenTracker.refChild(channelzRef);\n                    }\n                    this.http2ServerList.push({\n                        server: http2Server,\n                        channelzRef: channelzRef\n                    });\n                    this.trace(\"Successfully bound \" + (0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress));\n                    resolve(bindSpecificPort(addressList.slice(1), boundAddress.port, 1));\n                    http2Server.removeListener(\"error\", onError);\n                });\n            });\n        };\n        const resolverListener = {\n            onSuccessfulResolution: (addressList, serviceConfig, serviceConfigError)=>{\n                // We only want one resolution result. Discard all future results\n                resolverListener.onSuccessfulResolution = ()=>{};\n                if (this.shutdown) {\n                    deferredCallback(new Error(`bindAsync failed because server is shutdown`), 0);\n                }\n                if (addressList.length === 0) {\n                    deferredCallback(new Error(`No addresses resolved for port ${port}`), 0);\n                    return;\n                }\n                let bindResultPromise;\n                if ((0, subchannel_address_1.isTcpSubchannelAddress)(addressList[0])) {\n                    if (addressList[0].port === 0) {\n                        bindResultPromise = bindWildcardPort(addressList);\n                    } else {\n                        bindResultPromise = bindSpecificPort(addressList, addressList[0].port, 0);\n                    }\n                } else {\n                    // Use an arbitrary non-zero port for non-TCP addresses\n                    bindResultPromise = bindSpecificPort(addressList, 1, 0);\n                }\n                bindResultPromise.then((bindResult)=>{\n                    if (bindResult.count === 0) {\n                        const errorString = `No address added out of total ${addressList.length} resolved`;\n                        logging.log(constants_1.LogVerbosity.ERROR, errorString);\n                        deferredCallback(new Error(errorString), 0);\n                    } else {\n                        if (bindResult.count < addressList.length) {\n                            logging.log(constants_1.LogVerbosity.INFO, `WARNING Only ${bindResult.count} addresses added out of total ${addressList.length} resolved`);\n                        }\n                        deferredCallback(null, bindResult.port);\n                    }\n                }, (error)=>{\n                    const errorString = `No address added out of total ${addressList.length} resolved`;\n                    logging.log(constants_1.LogVerbosity.ERROR, errorString);\n                    deferredCallback(new Error(errorString), 0);\n                });\n            },\n            onError: (error)=>{\n                deferredCallback(new Error(error.details), 0);\n            }\n        };\n        const resolver = (0, resolver_1.createResolver)(portUri, resolverListener, this.options);\n        resolver.updateResolution();\n    }\n    forceShutdown() {\n        // Close the server if it is still running.\n        for (const { server: http2Server, channelzRef: ref } of this.http2ServerList){\n            if (http2Server.listening) {\n                http2Server.close(()=>{\n                    if (this.channelzEnabled) {\n                        this.listenerChildrenTracker.unrefChild(ref);\n                        (0, channelz_1.unregisterChannelzRef)(ref);\n                    }\n                });\n            }\n        }\n        this.started = false;\n        this.shutdown = true;\n        // Always destroy any available sessions. It's possible that one or more\n        // tryShutdown() calls are in progress. Don't wait on them to finish.\n        this.sessions.forEach((channelzInfo, session)=>{\n            // Cast NGHTTP2_CANCEL to any because TypeScript doesn't seem to\n            // recognize destroy(code) as a valid signature.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            session.destroy(http2.constants.NGHTTP2_CANCEL);\n        });\n        this.sessions.clear();\n        if (this.channelzEnabled) {\n            (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n        }\n    }\n    register(name, handler, serialize, deserialize, type) {\n        if (this.handlers.has(name)) {\n            return false;\n        }\n        this.handlers.set(name, {\n            func: handler,\n            serialize,\n            deserialize,\n            type,\n            path: name\n        });\n        return true;\n    }\n    unregister(name) {\n        return this.handlers.delete(name);\n    }\n    start() {\n        if (this.http2ServerList.length === 0 || this.http2ServerList.every(({ server: http2Server })=>http2Server.listening !== true)) {\n            throw new Error(\"server must be bound in order to start\");\n        }\n        if (this.started === true) {\n            throw new Error(\"server is already started\");\n        }\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace(\"CT_INFO\", \"Starting\");\n        }\n        this.started = true;\n    }\n    tryShutdown(callback) {\n        const wrappedCallback = (error)=>{\n            if (this.channelzEnabled) {\n                (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n            }\n            callback(error);\n        };\n        let pendingChecks = 0;\n        function maybeCallback() {\n            pendingChecks--;\n            if (pendingChecks === 0) {\n                wrappedCallback();\n            }\n        }\n        // Close the server if necessary.\n        this.started = false;\n        this.shutdown = true;\n        for (const { server: http2Server, channelzRef: ref } of this.http2ServerList){\n            if (http2Server.listening) {\n                pendingChecks++;\n                http2Server.close(()=>{\n                    if (this.channelzEnabled) {\n                        this.listenerChildrenTracker.unrefChild(ref);\n                        (0, channelz_1.unregisterChannelzRef)(ref);\n                    }\n                    maybeCallback();\n                });\n            }\n        }\n        this.sessions.forEach((channelzInfo, session)=>{\n            if (!session.closed) {\n                pendingChecks += 1;\n                session.close(maybeCallback);\n            }\n        });\n        if (pendingChecks === 0) {\n            wrappedCallback();\n        }\n    }\n    addHttp2Port() {\n        throw new Error(\"Not yet implemented\");\n    }\n    /**\n   * Get the channelz reference object for this server. The returned value is\n   * garbage if channelz is disabled for this server.\n   * @returns\n   */ getChannelzRef() {\n        return this.channelzRef;\n    }\n    _verifyContentType(stream, headers) {\n        const contentType = headers[http2.constants.HTTP2_HEADER_CONTENT_TYPE];\n        if (typeof contentType !== \"string\" || !contentType.startsWith(\"application/grpc\")) {\n            stream.respond({\n                [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE\n            }, {\n                endStream: true\n            });\n            return false;\n        }\n        return true;\n    }\n    _retrieveHandler(path) {\n        this.trace(\"Received call to method \" + path + \" at address \" + this.serverAddressString);\n        const handler = this.handlers.get(path);\n        if (handler === undefined) {\n            this.trace(\"No handler registered for method \" + path + \". Sending UNIMPLEMENTED status.\");\n            return null;\n        }\n        return handler;\n    }\n    _respondWithError(err, stream, channelzSessionInfo = null) {\n        const call = new server_call_1.Http2ServerCallStream(stream, null, this.options);\n        if (err.code === undefined) {\n            err.code = constants_1.Status.INTERNAL;\n        }\n        if (this.channelzEnabled) {\n            this.callTracker.addCallFailed();\n            channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n        }\n        call.sendError(err);\n    }\n    _channelzHandler(stream, headers) {\n        const channelzSessionInfo = this.sessions.get(stream.session);\n        this.callTracker.addCallStarted();\n        channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallStarted();\n        if (!this._verifyContentType(stream, headers)) {\n            this.callTracker.addCallFailed();\n            channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n            return;\n        }\n        const path = headers[HTTP2_HEADER_PATH];\n        const handler = this._retrieveHandler(path);\n        if (!handler) {\n            this._respondWithError(getUnimplementedStatusResponse(path), stream, channelzSessionInfo);\n            return;\n        }\n        const call = new server_call_1.Http2ServerCallStream(stream, handler, this.options);\n        call.once(\"callEnd\", (code)=>{\n            if (code === constants_1.Status.OK) {\n                this.callTracker.addCallSucceeded();\n            } else {\n                this.callTracker.addCallFailed();\n            }\n        });\n        if (channelzSessionInfo) {\n            call.once(\"streamEnd\", (success)=>{\n                if (success) {\n                    channelzSessionInfo.streamTracker.addCallSucceeded();\n                } else {\n                    channelzSessionInfo.streamTracker.addCallFailed();\n                }\n            });\n            call.on(\"sendMessage\", ()=>{\n                channelzSessionInfo.messagesSent += 1;\n                channelzSessionInfo.lastMessageSentTimestamp = new Date();\n            });\n            call.on(\"receiveMessage\", ()=>{\n                channelzSessionInfo.messagesReceived += 1;\n                channelzSessionInfo.lastMessageReceivedTimestamp = new Date();\n            });\n        }\n        if (!this._runHandlerForCall(call, handler, headers)) {\n            this.callTracker.addCallFailed();\n            channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n            call.sendError({\n                code: constants_1.Status.INTERNAL,\n                details: `Unknown handler type: ${handler.type}`\n            });\n        }\n    }\n    _streamHandler(stream, headers) {\n        if (this._verifyContentType(stream, headers) !== true) {\n            return;\n        }\n        const path = headers[HTTP2_HEADER_PATH];\n        const handler = this._retrieveHandler(path);\n        if (!handler) {\n            this._respondWithError(getUnimplementedStatusResponse(path), stream, null);\n            return;\n        }\n        const call = new server_call_1.Http2ServerCallStream(stream, handler, this.options);\n        if (!this._runHandlerForCall(call, handler, headers)) {\n            call.sendError({\n                code: constants_1.Status.INTERNAL,\n                details: `Unknown handler type: ${handler.type}`\n            });\n        }\n    }\n    _runHandlerForCall(call, handler, headers) {\n        var _a;\n        const metadata = call.receiveMetadata(headers);\n        const encoding = (_a = metadata.get(\"grpc-encoding\")[0]) !== null && _a !== void 0 ? _a : \"identity\";\n        metadata.remove(\"grpc-encoding\");\n        const { type } = handler;\n        if (type === \"unary\") {\n            handleUnary(call, handler, metadata, encoding);\n        } else if (type === \"clientStream\") {\n            handleClientStreaming(call, handler, metadata, encoding);\n        } else if (type === \"serverStream\") {\n            handleServerStreaming(call, handler, metadata, encoding);\n        } else if (type === \"bidi\") {\n            handleBidiStreaming(call, handler, metadata, encoding);\n        } else {\n            return false;\n        }\n        return true;\n    }\n    _setupHandlers(http2Server) {\n        if (http2Server === null) {\n            return;\n        }\n        const serverAddress = http2Server.address();\n        let serverAddressString = \"null\";\n        if (serverAddress) {\n            if (typeof serverAddress === \"string\") {\n                serverAddressString = serverAddress;\n            } else {\n                serverAddressString = serverAddress.address + \":\" + serverAddress.port;\n            }\n        }\n        this.serverAddressString = serverAddressString;\n        const handler = this.channelzEnabled ? this._channelzHandler : this._streamHandler;\n        http2Server.on(\"stream\", handler.bind(this));\n        http2Server.on(\"session\", (session)=>{\n            var _a, _b, _c, _d, _e;\n            if (!this.started) {\n                session.destroy();\n                return;\n            }\n            const channelzRef = (0, channelz_1.registerChannelzSocket)((_a = session.socket.remoteAddress) !== null && _a !== void 0 ? _a : \"unknown\", this.getChannelzSessionInfoGetter(session), this.channelzEnabled);\n            const channelzSessionInfo = {\n                ref: channelzRef,\n                streamTracker: new channelz_1.ChannelzCallTracker(),\n                messagesSent: 0,\n                messagesReceived: 0,\n                lastMessageSentTimestamp: null,\n                lastMessageReceivedTimestamp: null\n            };\n            this.sessions.set(session, channelzSessionInfo);\n            const clientAddress = session.socket.remoteAddress;\n            if (this.channelzEnabled) {\n                this.channelzTrace.addTrace(\"CT_INFO\", \"Connection established by client \" + clientAddress);\n                this.sessionChildrenTracker.refChild(channelzRef);\n            }\n            let connectionAgeTimer = null;\n            let connectionAgeGraceTimer = null;\n            let sessionClosedByServer = false;\n            if (this.maxConnectionAgeMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                // Apply a random jitter within a +/-10% range\n                const jitterMagnitude = this.maxConnectionAgeMs / 10;\n                const jitter = Math.random() * jitterMagnitude * 2 - jitterMagnitude;\n                connectionAgeTimer = (_c = (_b = setTimeout(()=>{\n                    var _a, _b;\n                    sessionClosedByServer = true;\n                    if (this.channelzEnabled) {\n                        this.channelzTrace.addTrace(\"CT_INFO\", \"Connection dropped by max connection age from \" + clientAddress);\n                    }\n                    try {\n                        session.goaway(http2.constants.NGHTTP2_NO_ERROR, ~(1 << 31), Buffer.from(\"max_age\"));\n                    } catch (e) {\n                        // The goaway can't be sent because the session is already closed\n                        session.destroy();\n                        return;\n                    }\n                    session.close();\n                    /* Allow a grace period after sending the GOAWAY before forcibly\n           * closing the connection. */ if (this.maxConnectionAgeGraceMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                        connectionAgeGraceTimer = (_b = (_a = setTimeout(()=>{\n                            session.destroy();\n                        }, this.maxConnectionAgeGraceMs)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    }\n                }, this.maxConnectionAgeMs + jitter)).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n            }\n            const keeapliveTimeTimer = (_e = (_d = setInterval(()=>{\n                var _a, _b;\n                const timeoutTImer = (_b = (_a = setTimeout(()=>{\n                    sessionClosedByServer = true;\n                    if (this.channelzEnabled) {\n                        this.channelzTrace.addTrace(\"CT_INFO\", \"Connection dropped by keepalive timeout from \" + clientAddress);\n                    }\n                    session.close();\n                }, this.keepaliveTimeoutMs)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n                try {\n                    session.ping((err, duration, payload)=>{\n                        clearTimeout(timeoutTImer);\n                    });\n                } catch (e) {\n                    // The ping can't be sent because the session is already closed\n                    session.destroy();\n                }\n            }, this.keepaliveTimeMs)).unref) === null || _e === void 0 ? void 0 : _e.call(_d);\n            session.on(\"close\", ()=>{\n                if (this.channelzEnabled) {\n                    if (!sessionClosedByServer) {\n                        this.channelzTrace.addTrace(\"CT_INFO\", \"Connection dropped by client \" + clientAddress);\n                    }\n                    this.sessionChildrenTracker.unrefChild(channelzRef);\n                    (0, channelz_1.unregisterChannelzRef)(channelzRef);\n                }\n                if (connectionAgeTimer) {\n                    clearTimeout(connectionAgeTimer);\n                }\n                if (connectionAgeGraceTimer) {\n                    clearTimeout(connectionAgeGraceTimer);\n                }\n                if (keeapliveTimeTimer) {\n                    clearTimeout(keeapliveTimeTimer);\n                }\n                this.sessions.delete(session);\n            });\n        });\n    }\n}\nexports.Server = Server;\nasync function handleUnary(call, handler, metadata, encoding) {\n    try {\n        const request = await call.receiveUnaryMessage(encoding);\n        if (request === undefined || call.cancelled) {\n            return;\n        }\n        const emitter = new server_call_1.ServerUnaryCallImpl(call, metadata, request);\n        handler.func(emitter, (err, value, trailer, flags)=>{\n            call.sendUnaryMessage(err, value, trailer, flags);\n        });\n    } catch (err) {\n        call.sendError(err);\n    }\n}\nfunction handleClientStreaming(call, handler, metadata, encoding) {\n    const stream = new server_call_1.ServerReadableStreamImpl(call, metadata, handler.deserialize, encoding);\n    function respond(err, value, trailer, flags) {\n        stream.destroy();\n        call.sendUnaryMessage(err, value, trailer, flags);\n    }\n    if (call.cancelled) {\n        return;\n    }\n    stream.on(\"error\", respond);\n    handler.func(stream, respond);\n}\nasync function handleServerStreaming(call, handler, metadata, encoding) {\n    try {\n        const request = await call.receiveUnaryMessage(encoding);\n        if (request === undefined || call.cancelled) {\n            return;\n        }\n        const stream = new server_call_1.ServerWritableStreamImpl(call, metadata, handler.serialize, request);\n        handler.func(stream);\n    } catch (err) {\n        call.sendError(err);\n    }\n}\nfunction handleBidiStreaming(call, handler, metadata, encoding) {\n    const stream = new server_call_1.ServerDuplexStreamImpl(call, metadata, handler.serialize, handler.deserialize, encoding);\n    if (call.cancelled) {\n        return;\n    }\n    handler.func(stream);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7Ozs7Ozs7Ozs7Ozs7OztDQWVBLEdBQ0FBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxjQUFjLEdBQUcsS0FBSztBQUN0QixNQUFNRyxRQUFRQyxtQkFBT0EsQ0FBQyxvQkFBTztBQUM3QixNQUFNQyxjQUFjRCxtQkFBT0EsQ0FBQyw4RUFBYTtBQUN6QyxNQUFNRSxnQkFBZ0JGLG1CQUFPQSxDQUFDLGtGQUFlO0FBQzdDLE1BQU1HLHVCQUF1QkgsbUJBQU9BLENBQUMsZ0dBQXNCO0FBQzNELE1BQU1JLGFBQWFKLG1CQUFPQSxDQUFDLDRFQUFZO0FBQ3ZDLE1BQU1LLFVBQVVMLG1CQUFPQSxDQUFDLDBFQUFXO0FBQ25DLE1BQU1NLHVCQUF1Qk4sbUJBQU9BLENBQUMsZ0dBQXNCO0FBQzNELE1BQU1PLGVBQWVQLG1CQUFPQSxDQUFDLGdGQUFjO0FBQzNDLE1BQU1RLGFBQWFSLG1CQUFPQSxDQUFDLDRFQUFZO0FBQ3ZDLE1BQU1TLDhCQUE4QixDQUFFLE1BQUs7QUFDM0MsTUFBTUMsd0JBQXdCLENBQUUsTUFBSztBQUNyQyxNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTSxFQUFFQyxpQkFBQUEsRUFBbUIsR0FBR2IsTUFBTWMsU0FBUztBQUM3QyxNQUFNQyxjQUFjO0FBQ3BCLFNBQVNDLFFBQVM7QUFDbEIsU0FBU0MsK0JBQStCQyxVQUFVO0lBQzlDLE9BQU87UUFDSEMsTUFBTWpCLFlBQVlrQixNQUFNLENBQUNDLGFBQWE7UUFDdENDLFNBQVUsNENBQTJDSixXQUFXO0lBQ3BFO0FBQ0o7QUFDQSxTQUFTSyxrQkFBa0JDLFdBQVcsRUFBRU4sVUFBVTtJQUM5QyxNQUFNTyw4QkFBOEJSLCtCQUErQkM7SUFDbkUsT0FBUU07UUFDSixLQUFLO1lBQ0QsT0FBTyxDQUFDRSxNQUFNQztnQkFDVkEsU0FBU0YsNkJB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O1FBQ3ZDM0QsT0FBT3JCLE9BQU87UUFDZHhNLEtBQUt5UixnQkFBZ0IsQ0FBQ3BILEtBQUtqTSxPQUFPbVQsU0FBU0M7SUFDL0M7SUFDQSxJQUFJeFIsS0FBS29SLFNBQVMsRUFBRTtRQUNoQjtJQUNKO0lBQ0F2RCxPQUFPOUUsRUFBRSxDQUFDLFNBQVNtRjtJQUNuQnZCLFFBQVFNLElBQUksQ0FBQ1ksUUFBUUs7QUFDekI7QUFDQSxlQUFld0Isc0JBQXNCMVAsSUFBSSxFQUFFMk0sT0FBTyxFQUFFeUMsUUFBUSxFQUFFRSxRQUFRO0lBQ2xFLElBQUk7UUFDQSxNQUFNNEIsVUFBVSxNQUFNbFIsS0FBS21SLG1CQUFtQixDQUFDN0I7UUFDL0MsSUFBSTRCLFlBQVl6SyxhQUFhekcsS0FBS29SLFNBQVMsRUFBRTtZQUN6QztRQUNKO1FBQ0EsTUFBTXZELFNBQVMsSUFBSXBQLGNBQWNrVCx3QkFBd0IsQ0FBQzNSLE1BQU1vUCxVQUFVekMsUUFBUUMsU0FBUyxFQUFFc0U7UUFDN0Z2RSxRQUFRTSxJQUFJLENBQUNZO0lBQ2pCLEVBQ0EsT0FBT3hELEtBQUs7UUFDUnJLLEtBQUs0TyxTQUFTLENBQUN2RTtJQUNuQjtBQUNKO0FBQ0EsU0FBU3NGLG9CQUFvQjNQLElBQUksRUFBRTJNLE9BQU8sRUFBRXlDLFFBQVEsRUFBRUUsUUFBUTtJQUMxRCxNQUFNekIsU0FBUyxJQUFJcFAsY0FBY21ULHNCQUFzQixDQUFDNVIsTUFBTW9QLFVBQVV6QyxRQUFRQyxTQUFTLEVBQUVELFFBQVFFLFdBQVcsRUFBRXlDO0lBQ2hILElBQUl0UCxLQUFLb1IsU0FBUyxFQUFFO1FBQ2hCO0lBQ0o7SUFDQXpFLFFBQVFNLElBQUksQ0FBQ1k7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NlcnZlci5qcz9hODgyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlcnZlciA9IHZvaWQgMDtcbmNvbnN0IGh0dHAyID0gcmVxdWlyZShcImh0dHAyXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBzZXJ2ZXJfY2FsbF8xID0gcmVxdWlyZShcIi4vc2VydmVyLWNhbGxcIik7XG5jb25zdCBzZXJ2ZXJfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL3NlcnZlci1jcmVkZW50aWFsc1wiKTtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgY2hhbm5lbHpfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuY29uc3QgVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TID0gfigxIDw8IDMxKTtcbmNvbnN0IEtFRVBBTElWRV9NQVhfVElNRV9NUyA9IH4oMSA8PCAzMSk7XG5jb25zdCBLRUVQQUxJVkVfVElNRU9VVF9NUyA9IDIwMDAwO1xuY29uc3QgeyBIVFRQMl9IRUFERVJfUEFUSCB9ID0gaHR0cDIuY29uc3RhbnRzO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnc2VydmVyJztcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbmZ1bmN0aW9uIGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShtZXRob2ROYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgIGRldGFpbHM6IGBUaGUgc2VydmVyIGRvZXMgbm90IGltcGxlbWVudCB0aGUgbWV0aG9kICR7bWV0aG9kTmFtZX1gLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0SGFuZGxlcihoYW5kbGVyVHlwZSwgbWV0aG9kTmFtZSkge1xuICAgIGNvbnN0IHVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZSA9IGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShtZXRob2ROYW1lKTtcbiAgICBzd2l0Y2ggKGhhbmRsZXJUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3VuYXJ5JzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UsIG51bGwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnY2xpZW50U3RyZWFtJzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UsIG51bGwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnc2VydmVyU3RyZWFtJzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGwuZW1pdCgnZXJyb3InLCB1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnYmlkaSc6XG4gICAgICAgICAgICByZXR1cm4gKGNhbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsLmVtaXQoJ2Vycm9yJywgdW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaGFuZGxlclR5cGUgJHtoYW5kbGVyVHlwZX1gKTtcbiAgICB9XG59XG5jbGFzcyBTZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICB0aGlzLmh0dHAyU2VydmVyTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnNlc3Npb25zID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaHV0ZG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlcnZlckFkZHJlc3NTdHJpbmcgPSAnbnVsbCc7XG4gICAgICAgIC8vIENoYW5uZWx6IEluZm9cbiAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVselRyYWNlKCk7XG4gICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJDaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICB0aGlzLnNlc3Npb25DaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1snZ3JwYy5lbmFibGVfY2hhbm5lbHonXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5uZWx6UmVmID0gKDAsIGNoYW5uZWx6XzEucmVnaXN0ZXJDaGFubmVselNlcnZlcikoKCkgPT4gdGhpcy5nZXRDaGFubmVsekluZm8oKSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdTZXJ2ZXIgY3JlYXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zID1cbiAgICAgICAgICAgIChfYSA9IHRoaXMub3B0aW9uc1snZ3JwYy5tYXhfY29ubmVjdGlvbl9hZ2VfbXMnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TO1xuICAgICAgICB0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zID1cbiAgICAgICAgICAgIChfYiA9IHRoaXMub3B0aW9uc1snZ3JwYy5tYXhfY29ubmVjdGlvbl9hZ2VfZ3JhY2VfbXMnXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TO1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA9XG4gICAgICAgICAgICAoX2MgPSB0aGlzLm9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogS0VFUEFMSVZFX01BWF9USU1FX01TO1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyA9XG4gICAgICAgICAgICAoX2QgPSB0aGlzLm9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVvdXRfbXMnXSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogS0VFUEFMSVZFX1RJTUVPVVRfTVM7XG4gICAgICAgIHRoaXMudHJhY2UoJ1NlcnZlciBjb25zdHJ1Y3RlZCcpO1xuICAgIH1cbiAgICBnZXRDaGFubmVsekluZm8oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFjZTogdGhpcy5jaGFubmVselRyYWNlLFxuICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICBsaXN0ZW5lckNoaWxkcmVuOiB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKSxcbiAgICAgICAgICAgIHNlc3Npb25DaGlsZHJlbjogdGhpcy5zZXNzaW9uQ2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpTZXNzaW9uSW5mb0dldHRlcihzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25JbmZvID0gdGhpcy5zZXNzaW9ucy5nZXQoc2Vzc2lvbik7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uU29ja2V0ID0gc2Vzc2lvbi5zb2NrZXQ7XG4gICAgICAgICAgICBjb25zdCByZW1vdGVBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5yZW1vdGVBZGRyZXNzXG4gICAgICAgICAgICAgICAgPyAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcykoc2Vzc2lvblNvY2tldC5yZW1vdGVBZGRyZXNzLCBzZXNzaW9uU29ja2V0LnJlbW90ZVBvcnQpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgICAgICA/ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzKShzZXNzaW9uU29ja2V0LmxvY2FsQWRkcmVzcywgc2Vzc2lvblNvY2tldC5sb2NhbFBvcnQpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgbGV0IHRsc0luZm87XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5lbmNyeXB0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSBzZXNzaW9uU29ja2V0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNpcGhlckluZm8gPSB0bHNTb2NrZXQuZ2V0Q2lwaGVyKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VydGlmaWNhdGUgPSB0bHNTb2NrZXQuZ2V0Q2VydGlmaWNhdGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZWVyQ2VydGlmaWNhdGUgPSB0bHNTb2NrZXQuZ2V0UGVlckNlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICAgICAgdGxzSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2lwaGVyU3VpdGVTdGFuZGFyZE5hbWU6IChfYSA9IGNpcGhlckluZm8uc3RhbmRhcmROYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjaXBoZXJTdWl0ZU90aGVyTmFtZTogY2lwaGVySW5mby5zdGFuZGFyZE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaXBoZXJJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsQ2VydGlmaWNhdGU6IGNlcnRpZmljYXRlICYmICdyYXcnIGluIGNlcnRpZmljYXRlID8gY2VydGlmaWNhdGUucmF3IDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlQ2VydGlmaWNhdGU6IHBlZXJDZXJ0aWZpY2F0ZSAmJiAncmF3JyBpbiBwZWVyQ2VydGlmaWNhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGVlckNlcnRpZmljYXRlLnJhd1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0bHNJbmZvID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNvY2tldEluZm8gPSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlQWRkcmVzczogcmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBsb2NhbEFkZHJlc3M6IGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBzZWN1cml0eTogdGxzSW5mbyxcbiAgICAgICAgICAgICAgICByZW1vdGVOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0cmVhbXNTdGFydGVkOiBzZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmNhbGxzU3RhcnRlZCxcbiAgICAgICAgICAgICAgICBzdHJlYW1zU3VjY2VlZGVkOiBzZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmNhbGxzU3VjY2VlZGVkLFxuICAgICAgICAgICAgICAgIHN0cmVhbXNGYWlsZWQ6IHNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuY2FsbHNGYWlsZWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXNTZW50OiBzZXNzaW9uSW5mby5tZXNzYWdlc1NlbnQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXNSZWNlaXZlZDogc2Vzc2lvbkluZm8ubWVzc2FnZXNSZWNlaXZlZCxcbiAgICAgICAgICAgICAgICBrZWVwQWxpdmVzU2VudDogMCxcbiAgICAgICAgICAgICAgICBsYXN0TG9jYWxTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBzZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IHNlc3Npb25JbmZvLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wOiBzZXNzaW9uSW5mby5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IChfYiA9IHNlc3Npb24uc3RhdGUubG9jYWxXaW5kb3dTaXplKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlbW90ZUZsb3dDb250cm9sV2luZG93OiAoX2MgPSBzZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHNvY2tldEluZm87XG4gICAgICAgIH07XG4gICAgfVxuICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnKCcgKyB0aGlzLmNoYW5uZWx6UmVmLmlkICsgJykgJyArIHRleHQpO1xuICAgIH1cbiAgICBhZGRQcm90b1NlcnZpY2UoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLiBVc2UgYWRkU2VydmljZSgpIGluc3RlYWQnKTtcbiAgICB9XG4gICAgYWRkU2VydmljZShzZXJ2aWNlLCBpbXBsZW1lbnRhdGlvbikge1xuICAgICAgICBpZiAoc2VydmljZSA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgdHlwZW9mIHNlcnZpY2UgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgdHlwZW9mIGltcGxlbWVudGF0aW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhZGRTZXJ2aWNlKCkgcmVxdWlyZXMgdHdvIG9iamVjdHMgYXMgYXJndW1lbnRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VydmljZUtleXMgPSBPYmplY3Qua2V5cyhzZXJ2aWNlKTtcbiAgICAgICAgaWYgKHNlcnZpY2VLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIGFuIGVtcHR5IHNlcnZpY2UgdG8gYSBzZXJ2ZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzZXJ2aWNlS2V5cy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBzZXJ2aWNlW25hbWVdO1xuICAgICAgICAgICAgbGV0IG1ldGhvZFR5cGU7XG4gICAgICAgICAgICBpZiAoYXR0cnMucmVxdWVzdFN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChhdHRycy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ2JpZGknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdjbGllbnRTdHJlYW0nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChhdHRycy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ3NlcnZlclN0cmVhbSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ3VuYXJ5JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaW1wbEZuID0gaW1wbGVtZW50YXRpb25bbmFtZV07XG4gICAgICAgICAgICBsZXQgaW1wbDtcbiAgICAgICAgICAgIGlmIChpbXBsRm4gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgYXR0cnMub3JpZ2luYWxOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGltcGxGbiA9IGltcGxlbWVudGF0aW9uW2F0dHJzLm9yaWdpbmFsTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW1wbEZuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpbXBsID0gaW1wbEZuLmJpbmQoaW1wbGVtZW50YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW1wbCA9IGdldERlZmF1bHRIYW5kbGVyKG1ldGhvZFR5cGUsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHRoaXMucmVnaXN0ZXIoYXR0cnMucGF0aCwgaW1wbCwgYXR0cnMucmVzcG9uc2VTZXJpYWxpemUsIGF0dHJzLnJlcXVlc3REZXNlcmlhbGl6ZSwgbWV0aG9kVHlwZSk7XG4gICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1ldGhvZCBoYW5kbGVyIGZvciAke2F0dHJzLnBhdGh9IGFscmVhZHkgcHJvdmlkZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVTZXJ2aWNlKHNlcnZpY2UpIHtcbiAgICAgICAgaWYgKHNlcnZpY2UgPT09IG51bGwgfHwgdHlwZW9mIHNlcnZpY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZVNlcnZpY2UoKSByZXF1aXJlcyBvYmplY3QgYXMgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXJ2aWNlS2V5cyA9IE9iamVjdC5rZXlzKHNlcnZpY2UpO1xuICAgICAgICBzZXJ2aWNlS2V5cy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBzZXJ2aWNlW25hbWVdO1xuICAgICAgICAgICAgdGhpcy51bnJlZ2lzdGVyKGF0dHJzLnBhdGgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYmluZChwb3J0LCBjcmVkcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4gVXNlIGJpbmRBc3luYygpIGluc3RlYWQnKTtcbiAgICB9XG4gICAgYmluZEFzeW5jKHBvcnQsIGNyZWRzLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlcnZlciBpcyBhbHJlYWR5IHN0YXJ0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaHV0ZG93bikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQXN5bmMgY2FsbGVkIGFmdGVyIHNodXRkb3duJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwb3J0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncG9ydCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWRzID09PSBudWxsIHx8ICEoY3JlZHMgaW5zdGFuY2VvZiBzZXJ2ZXJfY3JlZGVudGlhbHNfMS5TZXJ2ZXJDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NyZWRzIG11c3QgYmUgYSBTZXJ2ZXJDcmVkZW50aWFscyBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbml0aWFsUG9ydFVyaSA9ICgwLCB1cmlfcGFyc2VyXzEucGFyc2VVcmkpKHBvcnQpO1xuICAgICAgICBpZiAoaW5pdGlhbFBvcnRVcmkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHBhcnNlIHBvcnQgXCIke3BvcnR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3J0VXJpID0gKDAsIHJlc29sdmVyXzEubWFwVXJpRGVmYXVsdFNjaGVtZSkoaW5pdGlhbFBvcnRVcmkpO1xuICAgICAgICBpZiAocG9ydFVyaSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZ2V0IGEgZGVmYXVsdCBzY2hlbWUgZm9yIHBvcnQgXCIke3BvcnR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXJ2ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgbWF4U2VuZEhlYWRlckJsb2NrTGVuZ3RoOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCdncnBjLW5vZGUubWF4X3Nlc3Npb25fbWVtb3J5JyBpbiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHNlcnZlck9wdGlvbnMubWF4U2Vzc2lvbk1lbW9yeSA9XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zWydncnBjLW5vZGUubWF4X3Nlc3Npb25fbWVtb3J5J107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKiBCeSBkZWZhdWx0LCBzZXQgYSB2ZXJ5IGxhcmdlIG1heCBzZXNzaW9uIG1lbW9yeSBsaW1pdCwgdG8gZWZmZWN0aXZlbHlcbiAgICAgICAgICAgICAqIGRpc2FibGUgZW5mb3JjZW1lbnQgb2YgdGhlIGxpbWl0LiBTb21lIHRlc3RpbmcgaW5kaWNhdGVzIHRoYXQgTm9kZSdzXG4gICAgICAgICAgICAgKiBiZWhhdmlvciBkZWdyYWRlcyBiYWRseSB3aGVuIHRoaXMgbGltaXQgaXMgcmVhY2hlZCwgc28gd2Ugc29sdmUgdGhhdFxuICAgICAgICAgICAgICogYnkgZGlzYWJsaW5nIHRoZSBjaGVjayBlbnRpcmVseS4gKi9cbiAgICAgICAgICAgIHNlcnZlck9wdGlvbnMubWF4U2Vzc2lvbk1lbW9yeSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZ3JwYy5tYXhfY29uY3VycmVudF9zdHJlYW1zJyBpbiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHNlcnZlck9wdGlvbnMuc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgbWF4Q29uY3VycmVudFN0cmVhbXM6IHRoaXMub3B0aW9uc1snZ3JwYy5tYXhfY29uY3VycmVudF9zdHJlYW1zJ10sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZmVycmVkQ2FsbGJhY2sgPSAoZXJyb3IsIHBvcnQpID0+IHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4gY2FsbGJhY2soZXJyb3IsIHBvcnQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2V0dXBTZXJ2ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgaHR0cDJTZXJ2ZXI7XG4gICAgICAgICAgICBpZiAoY3JlZHMuX2lzU2VjdXJlKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWN1cmVTZXJ2ZXJPcHRpb25zID0gT2JqZWN0LmFzc2lnbihzZXJ2ZXJPcHRpb25zLCBjcmVkcy5fZ2V0U2V0dGluZ3MoKSk7XG4gICAgICAgICAgICAgICAgc2VjdXJlU2VydmVyT3B0aW9ucy5lbmFibGVUcmFjZSA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1snZ3JwYy1ub2RlLnRsc19lbmFibGVfdHJhY2UnXSA9PT0gMTtcbiAgICAgICAgICAgICAgICBodHRwMlNlcnZlciA9IGh0dHAyLmNyZWF0ZVNlY3VyZVNlcnZlcihzZWN1cmVTZXJ2ZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5vbignc2VjdXJlQ29ubmVjdGlvbicsIChzb2NrZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyogVGhlc2UgZXJyb3JzIG5lZWQgdG8gYmUgaGFuZGxlZCBieSB0aGUgdXNlciBvZiBIdHRwMlNlY3VyZVNlcnZlcixcbiAgICAgICAgICAgICAgICAgICAgICogYWNjb3JkaW5nIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvMzU4MjQgKi9cbiAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdBbiBpbmNvbWluZyBUTFMgY29ubmVjdGlvbiBjbG9zZWQgd2l0aCBlcnJvcjogJyArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIgPSBodHRwMi5jcmVhdGVTZXJ2ZXIoc2VydmVyT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodHRwMlNlcnZlci5zZXRUaW1lb3V0KDAsIG5vb3ApO1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBIYW5kbGVycyhodHRwMlNlcnZlcik7XG4gICAgICAgICAgICByZXR1cm4gaHR0cDJTZXJ2ZXI7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJpbmRTcGVjaWZpY1BvcnQgPSAoYWRkcmVzc0xpc3QsIHBvcnROdW0sIHByZXZpb3VzQ291bnQpID0+IHtcbiAgICAgICAgICAgIGlmIChhZGRyZXNzTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgcG9ydDogcG9ydE51bSwgY291bnQ6IHByZXZpb3VzQ291bnQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYWRkcmVzc0xpc3QubWFwKGFkZHJlc3MgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0F0dGVtcHRpbmcgdG8gYmluZCAnICsgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICBsZXQgYWRkcjtcbiAgICAgICAgICAgICAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiBhZGRyZXNzLmhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiBwb3J0TnVtLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkciA9IGFkZHJlc3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGh0dHAyU2VydmVyID0gc2V0dXBTZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnRmFpbGVkIHRvIGJpbmQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5vbmNlKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5saXN0ZW4oYWRkciwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2h1dGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEVycm9yKCdiaW5kQXN5bmMgZmFpbGVkIGJlY2F1c2Ugc2VydmVyIGlzIHNodXRkb3duJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kQWRkcmVzcyA9IGh0dHAyU2VydmVyLmFkZHJlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib3VuZFN1YmNoYW5uZWxBZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBib3VuZEFkZHJlc3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRTdWJjaGFubmVsQWRkcmVzcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogYm91bmRBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFN1YmNoYW5uZWxBZGRyZXNzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0OiBib3VuZEFkZHJlc3MuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogYm91bmRBZGRyZXNzLnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWx6UmVmID0gKDAsIGNoYW5uZWx6XzEucmVnaXN0ZXJDaGFubmVselNvY2tldCkoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBib3VuZFN1YmNoYW5uZWxBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc1N0YXJ0ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbXNTdWNjZWVkZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbXNGYWlsZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzU2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNSZWNlaXZlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RMb2NhbFN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUZsb3dDb250cm9sV2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLnJlZkNoaWxkKGNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaHR0cDJTZXJ2ZXJMaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcjogaHR0cDJTZXJ2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpSZWY6IGNoYW5uZWx6UmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdTdWNjZXNzZnVsbHkgYm91bmQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ3BvcnQnIGluIGJvdW5kU3ViY2hhbm5lbEFkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MucG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcG9ydE51bSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSkudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gcG9ydE51bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGF0ZTogbXVsdGlwbGUgcG9ydCBudW1iZXJzIGFkZGVkIGZyb20gc2luZ2xlIGFkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwb3J0OiBwb3J0TnVtLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogY291bnQgKyBwcmV2aW91c0NvdW50LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYmluZFdpbGRjYXJkUG9ydCA9IChhZGRyZXNzTGlzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFkZHJlc3NMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBwb3J0OiAwLCBjb3VudDogMCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBhZGRyZXNzTGlzdFswXTtcbiAgICAgICAgICAgIGNvbnN0IGh0dHAyU2VydmVyID0gc2V0dXBTZXJ2ZXIoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnRmFpbGVkIHRvIGJpbmQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYWRkcmVzcykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJpbmRXaWxkY2FyZFBvcnQoYWRkcmVzc0xpc3Quc2xpY2UoMSkpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uY2UoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIubGlzdGVuKGFkZHJlc3MsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2h1dGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgcG9ydDogMCwgY291bnQ6IDAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm91bmRBZGRyZXNzID0gaHR0cDJTZXJ2ZXIuYWRkcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3VuZFN1YmNoYW5uZWxBZGRyZXNzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogYm91bmRBZGRyZXNzLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiBib3VuZEFkZHJlc3MucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSgoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYm91bmRTdWJjaGFubmVsQWRkcmVzcyksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBib3VuZFN1YmNoYW5uZWxBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUFkZHJlc3M6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3RhcnRlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3VjY2VlZGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbXNGYWlsZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNTZW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0UmVtb3RlU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZsb3dDb250cm9sV2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUZsb3dDb250cm9sV2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJDaGlsZHJlblRyYWNrZXIucmVmQ2hpbGQoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHR0cDJTZXJ2ZXJMaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyOiBodHRwMlNlcnZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWx6UmVmOiBjaGFubmVselJlZixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1N1Y2Nlc3NmdWxseSBib3VuZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShib3VuZFN1YmNoYW5uZWxBZGRyZXNzKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYmluZFNwZWNpZmljUG9ydChhZGRyZXNzTGlzdC5zbGljZSgxKSwgYm91bmRBZGRyZXNzLnBvcnQsIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXJMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgIG9uU3VjY2Vzc2Z1bFJlc29sdXRpb246IChhZGRyZXNzTGlzdCwgc2VydmljZUNvbmZpZywgc2VydmljZUNvbmZpZ0Vycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugb25seSB3YW50IG9uZSByZXNvbHV0aW9uIHJlc3VsdC4gRGlzY2FyZCBhbGwgZnV0dXJlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICByZXNvbHZlckxpc3RlbmVyLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24gPSAoKSA9PiB7IH07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2h1dGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRDYWxsYmFjayhuZXcgRXJyb3IoYGJpbmRBc3luYyBmYWlsZWQgYmVjYXVzZSBzZXJ2ZXIgaXMgc2h1dGRvd25gKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhZGRyZXNzTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRDYWxsYmFjayhuZXcgRXJyb3IoYE5vIGFkZHJlc3NlcyByZXNvbHZlZCBmb3IgcG9ydCAke3BvcnR9YCksIDApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBiaW5kUmVzdWx0UHJvbWlzZTtcbiAgICAgICAgICAgICAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3NMaXN0WzBdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc0xpc3RbMF0ucG9ydCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmluZFJlc3VsdFByb21pc2UgPSBiaW5kV2lsZGNhcmRQb3J0KGFkZHJlc3NMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRSZXN1bHRQcm9taXNlID0gYmluZFNwZWNpZmljUG9ydChhZGRyZXNzTGlzdCwgYWRkcmVzc0xpc3RbMF0ucG9ydCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBhbiBhcmJpdHJhcnkgbm9uLXplcm8gcG9ydCBmb3Igbm9uLVRDUCBhZGRyZXNzZXNcbiAgICAgICAgICAgICAgICAgICAgYmluZFJlc3VsdFByb21pc2UgPSBiaW5kU3BlY2lmaWNQb3J0KGFkZHJlc3NMaXN0LCAxLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmluZFJlc3VsdFByb21pc2UudGhlbihiaW5kUmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRSZXN1bHQuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yU3RyaW5nID0gYE5vIGFkZHJlc3MgYWRkZWQgb3V0IG9mIHRvdGFsICR7YWRkcmVzc0xpc3QubGVuZ3RofSByZXNvbHZlZGA7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nLmxvZyhjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIGVycm9yU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkQ2FsbGJhY2sobmV3IEVycm9yKGVycm9yU3RyaW5nKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmluZFJlc3VsdC5jb3VudCA8IGFkZHJlc3NMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5JTkZPLCBgV0FSTklORyBPbmx5ICR7YmluZFJlc3VsdC5jb3VudH0gYWRkcmVzc2VzIGFkZGVkIG91dCBvZiB0b3RhbCAke2FkZHJlc3NMaXN0Lmxlbmd0aH0gcmVzb2x2ZWRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkQ2FsbGJhY2sobnVsbCwgYmluZFJlc3VsdC5wb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdHJpbmcgPSBgTm8gYWRkcmVzcyBhZGRlZCBvdXQgb2YgdG90YWwgJHthZGRyZXNzTGlzdC5sZW5ndGh9IHJlc29sdmVkYDtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy5sb2coY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBlcnJvclN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkQ2FsbGJhY2sobmV3IEVycm9yKGVycm9yU3RyaW5nKSwgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjogZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkQ2FsbGJhY2sobmV3IEVycm9yKGVycm9yLmRldGFpbHMpLCAwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gKDAsIHJlc29sdmVyXzEuY3JlYXRlUmVzb2x2ZXIpKHBvcnRVcmksIHJlc29sdmVyTGlzdGVuZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJlc29sdmVyLnVwZGF0ZVJlc29sdXRpb24oKTtcbiAgICB9XG4gICAgZm9yY2VTaHV0ZG93bigpIHtcbiAgICAgICAgLy8gQ2xvc2UgdGhlIHNlcnZlciBpZiBpdCBpcyBzdGlsbCBydW5uaW5nLlxuICAgICAgICBmb3IgKGNvbnN0IHsgc2VydmVyOiBodHRwMlNlcnZlciwgY2hhbm5lbHpSZWY6IHJlZiB9IG9mIHRoaXNcbiAgICAgICAgICAgIC5odHRwMlNlcnZlckxpc3QpIHtcbiAgICAgICAgICAgIGlmIChodHRwMlNlcnZlci5saXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5jbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKHJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbHpfMS51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYpKHJlZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaHV0ZG93biA9IHRydWU7XG4gICAgICAgIC8vIEFsd2F5cyBkZXN0cm95IGFueSBhdmFpbGFibGUgc2Vzc2lvbnMuIEl0J3MgcG9zc2libGUgdGhhdCBvbmUgb3IgbW9yZVxuICAgICAgICAvLyB0cnlTaHV0ZG93bigpIGNhbGxzIGFyZSBpbiBwcm9ncmVzcy4gRG9uJ3Qgd2FpdCBvbiB0aGVtIHRvIGZpbmlzaC5cbiAgICAgICAgdGhpcy5zZXNzaW9ucy5mb3JFYWNoKChjaGFubmVsekluZm8sIHNlc3Npb24pID0+IHtcbiAgICAgICAgICAgIC8vIENhc3QgTkdIVFRQMl9DQU5DRUwgdG8gYW55IGJlY2F1c2UgVHlwZVNjcmlwdCBkb2Vzbid0IHNlZW0gdG9cbiAgICAgICAgICAgIC8vIHJlY29nbml6ZSBkZXN0cm95KGNvZGUpIGFzIGEgdmFsaWQgc2lnbmF0dXJlLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveShodHRwMi5jb25zdGFudHMuTkdIVFRQMl9DQU5DRUwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucy5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVnaXN0ZXIobmFtZSwgaGFuZGxlciwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgdHlwZSkge1xuICAgICAgICBpZiAodGhpcy5oYW5kbGVycy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChuYW1lLCB7XG4gICAgICAgICAgICBmdW5jOiBoYW5kbGVyLFxuICAgICAgICAgICAgc2VyaWFsaXplLFxuICAgICAgICAgICAgZGVzZXJpYWxpemUsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcGF0aDogbmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMuZGVsZXRlKG5hbWUpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaHR0cDJTZXJ2ZXJMaXN0Lmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgdGhpcy5odHRwMlNlcnZlckxpc3QuZXZlcnkoKHsgc2VydmVyOiBodHRwMlNlcnZlciB9KSA9PiBodHRwMlNlcnZlci5saXN0ZW5pbmcgIT09IHRydWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlcnZlciBtdXN0IGJlIGJvdW5kIGluIG9yZGVyIHRvIHN0YXJ0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXJ2ZXIgaXMgYWxyZWFkeSBzdGFydGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnU3RhcnRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICB0cnlTaHV0ZG93bihjYWxsYmFjaykge1xuICAgICAgICBjb25zdCB3cmFwcGVkQ2FsbGJhY2sgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBwZW5kaW5nQ2hlY2tzID0gMDtcbiAgICAgICAgZnVuY3Rpb24gbWF5YmVDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHBlbmRpbmdDaGVja3MtLTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nQ2hlY2tzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xvc2UgdGhlIHNlcnZlciBpZiBuZWNlc3NhcnkuXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNodXRkb3duID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB7IHNlcnZlcjogaHR0cDJTZXJ2ZXIsIGNoYW5uZWx6UmVmOiByZWYgfSBvZiB0aGlzXG4gICAgICAgICAgICAuaHR0cDJTZXJ2ZXJMaXN0KSB7XG4gICAgICAgICAgICBpZiAoaHR0cDJTZXJ2ZXIubGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0NoZWNrcysrO1xuICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLmNsb3NlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXliZUNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9ucy5mb3JFYWNoKChjaGFubmVsekluZm8sIHNlc3Npb24pID0+IHtcbiAgICAgICAgICAgIGlmICghc2Vzc2lvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nQ2hlY2tzICs9IDE7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZShtYXliZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwZW5kaW5nQ2hlY2tzID09PSAwKSB7XG4gICAgICAgICAgICB3cmFwcGVkQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRIdHRwMlBvcnQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IHlldCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNoYW5uZWx6IHJlZmVyZW5jZSBvYmplY3QgZm9yIHRoaXMgc2VydmVyLiBUaGUgcmV0dXJuZWQgdmFsdWUgaXNcbiAgICAgKiBnYXJiYWdlIGlmIGNoYW5uZWx6IGlzIGRpc2FibGVkIGZvciB0aGlzIHNlcnZlci5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICB9XG4gICAgX3ZlcmlmeUNvbnRlbnRUeXBlKHN0cmVhbSwgaGVhZGVycykge1xuICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnNbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnRUeXBlICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgIWNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ2FwcGxpY2F0aW9uL2dycGMnKSkge1xuICAgICAgICAgICAgc3RyZWFtLnJlc3BvbmQoe1xuICAgICAgICAgICAgICAgIFtodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX1NUQVRVU106IGh0dHAyLmNvbnN0YW50cy5IVFRQX1NUQVRVU19VTlNVUFBPUlRFRF9NRURJQV9UWVBFLFxuICAgICAgICAgICAgfSwgeyBlbmRTdHJlYW06IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9yZXRyaWV2ZUhhbmRsZXIocGF0aCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBjYWxsIHRvIG1ldGhvZCAnICtcbiAgICAgICAgICAgIHBhdGggK1xuICAgICAgICAgICAgJyBhdCBhZGRyZXNzICcgK1xuICAgICAgICAgICAgdGhpcy5zZXJ2ZXJBZGRyZXNzU3RyaW5nKTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KHBhdGgpO1xuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdObyBoYW5kbGVyIHJlZ2lzdGVyZWQgZm9yIG1ldGhvZCAnICtcbiAgICAgICAgICAgICAgICBwYXRoICtcbiAgICAgICAgICAgICAgICAnLiBTZW5kaW5nIFVOSU1QTEVNRU5URUQgc3RhdHVzLicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgfVxuICAgIF9yZXNwb25kV2l0aEVycm9yKGVyciwgc3RyZWFtLCBjaGFubmVselNlc3Npb25JbmZvID0gbnVsbCkge1xuICAgICAgICBjb25zdCBjYWxsID0gbmV3IHNlcnZlcl9jYWxsXzEuSHR0cDJTZXJ2ZXJDYWxsU3RyZWFtKHN0cmVhbSwgbnVsbCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgaWYgKGVyci5jb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVyci5jb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvID09PSBudWxsIHx8IGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbC5zZW5kRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgX2NoYW5uZWx6SGFuZGxlcihzdHJlYW0sIGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IHRoaXMuc2Vzc2lvbnMuZ2V0KHN0cmVhbS5zZXNzaW9uKTtcbiAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICBjaGFubmVselNlc3Npb25JbmZvID09PSBudWxsIHx8IGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICBpZiAoIXRoaXMuX3ZlcmlmeUNvbnRlbnRUeXBlKHN0cmVhbSwgaGVhZGVycykpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gbnVsbCB8fCBjaGFubmVselNlc3Npb25JbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGFubmVselNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGggPSBoZWFkZXJzW0hUVFAyX0hFQURFUl9QQVRIXTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3JldHJpZXZlSGFuZGxlcihwYXRoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNwb25kV2l0aEVycm9yKGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShwYXRoKSwgc3RyZWFtLCBjaGFubmVselNlc3Npb25JbmZvKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsID0gbmV3IHNlcnZlcl9jYWxsXzEuSHR0cDJTZXJ2ZXJDYWxsU3RyZWFtKHN0cmVhbSwgaGFuZGxlciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgY2FsbC5vbmNlKCdjYWxsRW5kJywgKGNvZGUpID0+IHtcbiAgICAgICAgICAgIGlmIChjb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxTdWNjZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNoYW5uZWx6U2Vzc2lvbkluZm8pIHtcbiAgICAgICAgICAgIGNhbGwub25jZSgnc3RyZWFtRW5kJywgKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGwub24oJ3NlbmRNZXNzYWdlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8ubWVzc2FnZXNTZW50ICs9IDE7XG4gICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5sYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWxsLm9uKCdyZWNlaXZlTWVzc2FnZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLm1lc3NhZ2VzUmVjZWl2ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLmxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9ydW5IYW5kbGVyRm9yQ2FsbChjYWxsLCBoYW5kbGVyLCBoZWFkZXJzKSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvID09PSBudWxsIHx8IGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICBjYWxsLnNlbmRFcnJvcih7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBVbmtub3duIGhhbmRsZXIgdHlwZTogJHtoYW5kbGVyLnR5cGV9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zdHJlYW1IYW5kbGVyKHN0cmVhbSwgaGVhZGVycykge1xuICAgICAgICBpZiAodGhpcy5fdmVyaWZ5Q29udGVudFR5cGUoc3RyZWFtLCBoZWFkZXJzKSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGggPSBoZWFkZXJzW0hUVFAyX0hFQURFUl9QQVRIXTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3JldHJpZXZlSGFuZGxlcihwYXRoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNwb25kV2l0aEVycm9yKGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShwYXRoKSwgc3RyZWFtLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsID0gbmV3IHNlcnZlcl9jYWxsXzEuSHR0cDJTZXJ2ZXJDYWxsU3RyZWFtKHN0cmVhbSwgaGFuZGxlciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgaWYgKCF0aGlzLl9ydW5IYW5kbGVyRm9yQ2FsbChjYWxsLCBoYW5kbGVyLCBoZWFkZXJzKSkge1xuICAgICAgICAgICAgY2FsbC5zZW5kRXJyb3Ioe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgVW5rbm93biBoYW5kbGVyIHR5cGU6ICR7aGFuZGxlci50eXBlfWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcnVuSGFuZGxlckZvckNhbGwoY2FsbCwgaGFuZGxlciwgaGVhZGVycykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gY2FsbC5yZWNlaXZlTWV0YWRhdGEoaGVhZGVycyk7XG4gICAgICAgIGNvbnN0IGVuY29kaW5nID0gKF9hID0gbWV0YWRhdGEuZ2V0KCdncnBjLWVuY29kaW5nJylbMF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdpZGVudGl0eSc7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1lbmNvZGluZycpO1xuICAgICAgICBjb25zdCB7IHR5cGUgfSA9IGhhbmRsZXI7XG4gICAgICAgIGlmICh0eXBlID09PSAndW5hcnknKSB7XG4gICAgICAgICAgICBoYW5kbGVVbmFyeShjYWxsLCBoYW5kbGVyLCBtZXRhZGF0YSwgZW5jb2RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdjbGllbnRTdHJlYW0nKSB7XG4gICAgICAgICAgICBoYW5kbGVDbGllbnRTdHJlYW1pbmcoY2FsbCwgaGFuZGxlciwgbWV0YWRhdGEsIGVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnc2VydmVyU3RyZWFtJykge1xuICAgICAgICAgICAgaGFuZGxlU2VydmVyU3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIsIG1ldGFkYXRhLCBlbmNvZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2JpZGknKSB7XG4gICAgICAgICAgICBoYW5kbGVCaWRpU3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIsIG1ldGFkYXRhLCBlbmNvZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9zZXR1cEhhbmRsZXJzKGh0dHAyU2VydmVyKSB7XG4gICAgICAgIGlmIChodHRwMlNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlcnZlckFkZHJlc3MgPSBodHRwMlNlcnZlci5hZGRyZXNzKCk7XG4gICAgICAgIGxldCBzZXJ2ZXJBZGRyZXNzU3RyaW5nID0gJ251bGwnO1xuICAgICAgICBpZiAoc2VydmVyQWRkcmVzcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXJ2ZXJBZGRyZXNzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHNlcnZlckFkZHJlc3NTdHJpbmcgPSBzZXJ2ZXJBZGRyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VydmVyQWRkcmVzc1N0cmluZyA9IHNlcnZlckFkZHJlc3MuYWRkcmVzcyArICc6JyArIHNlcnZlckFkZHJlc3MucG9ydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlcnZlckFkZHJlc3NTdHJpbmcgPSBzZXJ2ZXJBZGRyZXNzU3RyaW5nO1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5jaGFubmVsekVuYWJsZWRcbiAgICAgICAgICAgID8gdGhpcy5fY2hhbm5lbHpIYW5kbGVyXG4gICAgICAgICAgICA6IHRoaXMuX3N0cmVhbUhhbmRsZXI7XG4gICAgICAgIGh0dHAyU2VydmVyLm9uKCdzdHJlYW0nLCBoYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICBodHRwMlNlcnZlci5vbignc2Vzc2lvbicsIHNlc3Npb24gPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSgoX2EgPSBzZXNzaW9uLnNvY2tldC5yZW1vdGVBZGRyZXNzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAndW5rbm93bicsIHRoaXMuZ2V0Q2hhbm5lbHpTZXNzaW9uSW5mb0dldHRlcihzZXNzaW9uKSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IHtcbiAgICAgICAgICAgICAgICByZWY6IGNoYW5uZWx6UmVmLFxuICAgICAgICAgICAgICAgIHN0cmVhbVRyYWNrZXI6IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXIoKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXNSZWNlaXZlZDogMCxcbiAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlc3Npb25zLnNldChzZXNzaW9uLCBjaGFubmVselNlc3Npb25JbmZvKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudEFkZHJlc3MgPSBzZXNzaW9uLnNvY2tldC5yZW1vdGVBZGRyZXNzO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZXN0YWJsaXNoZWQgYnkgY2xpZW50ICcgKyBjbGllbnRBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25DaGlsZHJlblRyYWNrZXIucmVmQ2hpbGQoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNvbm5lY3Rpb25BZ2VUaW1lciA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBhIHJhbmRvbSBqaXR0ZXIgd2l0aGluIGEgKy8tMTAlIHJhbmdlXG4gICAgICAgICAgICAgICAgY29uc3Qgaml0dGVyTWFnbml0dWRlID0gdGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgLyAxMDtcbiAgICAgICAgICAgICAgICBjb25zdCBqaXR0ZXIgPSBNYXRoLnJhbmRvbSgpICogaml0dGVyTWFnbml0dWRlICogMiAtIGppdHRlck1hZ25pdHVkZTtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uQWdlVGltZXIgPSAoX2MgPSAoX2IgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ29ubmVjdGlvbiBkcm9wcGVkIGJ5IG1heCBjb25uZWN0aW9uIGFnZSBmcm9tICcgKyBjbGllbnRBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5nb2F3YXkoaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1IsIH4oMSA8PCAzMSksIEJ1ZmZlci5mcm9tKCdtYXhfYWdlJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZ29hd2F5IGNhbid0IGJlIHNlbnQgYmVjYXVzZSB0aGUgc2Vzc2lvbiBpcyBhbHJlYWR5IGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAvKiBBbGxvdyBhIGdyYWNlIHBlcmlvZCBhZnRlciBzZW5kaW5nIHRoZSBHT0FXQVkgYmVmb3JlIGZvcmNpYmx5XG4gICAgICAgICAgICAgICAgICAgICAqIGNsb3NpbmcgdGhlIGNvbm5lY3Rpb24uICovXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyID0gKF9iID0gKF9hID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zKSkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zICsgaml0dGVyKSkudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGtlZWFwbGl2ZVRpbWVUaW1lciA9IChfZSA9IChfZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRUSW1lciA9IChfYiA9IChfYSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aW9uIGRyb3BwZWQgYnkga2VlcGFsaXZlIHRpbWVvdXQgZnJvbSAnICsgY2xpZW50QWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMua2VlcGFsaXZlVGltZW91dE1zKSkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLnBpbmcoKGVyciwgZHVyYXRpb24sIHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0VEltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHBpbmcgY2FuJ3QgYmUgc2VudCBiZWNhdXNlIHRoZSBzZXNzaW9uIGlzIGFscmVhZHkgY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMua2VlcGFsaXZlVGltZU1zKSkudW5yZWYpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKF9kKTtcbiAgICAgICAgICAgIHNlc3Npb24ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25DbG9zZWRCeVNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBieSBjbGllbnQgJyArIGNsaWVudEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKGNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKShjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQWdlVGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25BZ2VUaW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQWdlR3JhY2VUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2VlYXBsaXZlVGltZVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChrZWVhcGxpdmVUaW1lVGltZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlciA9IFNlcnZlcjtcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVuYXJ5KGNhbGwsIGhhbmRsZXIsIG1ldGFkYXRhLCBlbmNvZGluZykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBjYWxsLnJlY2VpdmVVbmFyeU1lc3NhZ2UoZW5jb2RpbmcpO1xuICAgICAgICBpZiAocmVxdWVzdCA9PT0gdW5kZWZpbmVkIHx8IGNhbGwuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW1pdHRlciA9IG5ldyBzZXJ2ZXJfY2FsbF8xLlNlcnZlclVuYXJ5Q2FsbEltcGwoY2FsbCwgbWV0YWRhdGEsIHJlcXVlc3QpO1xuICAgICAgICBoYW5kbGVyLmZ1bmMoZW1pdHRlciwgKGVyciwgdmFsdWUsIHRyYWlsZXIsIGZsYWdzKSA9PiB7XG4gICAgICAgICAgICBjYWxsLnNlbmRVbmFyeU1lc3NhZ2UoZXJyLCB2YWx1ZSwgdHJhaWxlciwgZmxhZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjYWxsLnNlbmRFcnJvcihlcnIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZUNsaWVudFN0cmVhbWluZyhjYWxsLCBoYW5kbGVyLCBtZXRhZGF0YSwgZW5jb2RpbmcpIHtcbiAgICBjb25zdCBzdHJlYW0gPSBuZXcgc2VydmVyX2NhbGxfMS5TZXJ2ZXJSZWFkYWJsZVN0cmVhbUltcGwoY2FsbCwgbWV0YWRhdGEsIGhhbmRsZXIuZGVzZXJpYWxpemUsIGVuY29kaW5nKTtcbiAgICBmdW5jdGlvbiByZXNwb25kKGVyciwgdmFsdWUsIHRyYWlsZXIsIGZsYWdzKSB7XG4gICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgIGNhbGwuc2VuZFVuYXJ5TWVzc2FnZShlcnIsIHZhbHVlLCB0cmFpbGVyLCBmbGFncyk7XG4gICAgfVxuICAgIGlmIChjYWxsLmNhbmNlbGxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0cmVhbS5vbignZXJyb3InLCByZXNwb25kKTtcbiAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtLCByZXNwb25kKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNlcnZlclN0cmVhbWluZyhjYWxsLCBoYW5kbGVyLCBtZXRhZGF0YSwgZW5jb2RpbmcpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gYXdhaXQgY2FsbC5yZWNlaXZlVW5hcnlNZXNzYWdlKGVuY29kaW5nKTtcbiAgICAgICAgaWYgKHJlcXVlc3QgPT09IHVuZGVmaW5lZCB8fCBjYWxsLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBzZXJ2ZXJfY2FsbF8xLlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbChjYWxsLCBtZXRhZGF0YSwgaGFuZGxlci5zZXJpYWxpemUsIHJlcXVlc3QpO1xuICAgICAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjYWxsLnNlbmRFcnJvcihlcnIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZUJpZGlTdHJlYW1pbmcoY2FsbCwgaGFuZGxlciwgbWV0YWRhdGEsIGVuY29kaW5nKSB7XG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IHNlcnZlcl9jYWxsXzEuU2VydmVyRHVwbGV4U3RyZWFtSW1wbChjYWxsLCBtZXRhZGF0YSwgaGFuZGxlci5zZXJpYWxpemUsIGhhbmRsZXIuZGVzZXJpYWxpemUsIGVuY29kaW5nKTtcbiAgICBpZiAoY2FsbC5jYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZlci5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJTZXJ2ZXIiLCJodHRwMiIsInJlcXVpcmUiLCJjb25zdGFudHNfMSIsInNlcnZlcl9jYWxsXzEiLCJzZXJ2ZXJfY3JlZGVudGlhbHNfMSIsInJlc29sdmVyXzEiLCJsb2dnaW5nIiwic3ViY2hhbm5lbF9hZGRyZXNzXzEiLCJ1cmlfcGFyc2VyXzEiLCJjaGFubmVsel8xIiwiVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TIiwiS0VFUEFMSVZFX01BWF9USU1FX01TIiwiS0VFUEFMSVZFX1RJTUVPVVRfTVMiLCJIVFRQMl9IRUFERVJfUEFUSCIsImNvbnN0YW50cyIsIlRSQUNFUl9OQU1FIiwibm9vcCIsImdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZSIsIm1ldGhvZE5hbWUiLCJjb2RlIiwiU3RhdHVzIiwiVU5JTVBMRU1FTlRFRCIsImRldGFpbHMiLCJnZXREZWZhdWx0SGFuZGxlciIsImhhbmRsZXJUeXBlIiwidW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlIiwiY2FsbCIsImNhbGxiYWNrIiwiZW1pdCIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJodHRwMlNlcnZlckxpc3QiLCJoYW5kbGVycyIsIk1hcCIsInNlc3Npb25zIiwic3RhcnRlZCIsInNodXRkb3duIiwic2VydmVyQWRkcmVzc1N0cmluZyIsImNoYW5uZWx6RW5hYmxlZCIsImNoYW5uZWx6VHJhY2UiLCJDaGFubmVselRyYWNlIiwiY2FsbFRyYWNrZXIiLCJDaGFubmVsekNhbGxUcmFja2VyIiwibGlzdGVuZXJDaGlsZHJlblRyYWNrZXIiLCJDaGFubmVsekNoaWxkcmVuVHJhY2tlciIsInNlc3Npb25DaGlsZHJlblRyYWNrZXIiLCJjaGFubmVselJlZiIsInJlZ2lzdGVyQ2hhbm5lbHpTZXJ2ZXIiLCJnZXRDaGFubmVsekluZm8iLCJhZGRUcmFjZSIsIm1heENvbm5lY3Rpb25BZ2VNcyIsIm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zIiwia2VlcGFsaXZlVGltZU1zIiwia2VlcGFsaXZlVGltZW91dE1zIiwidHJhY2UiLCJsaXN0ZW5lckNoaWxkcmVuIiwiZ2V0Q2hpbGRMaXN0cyIsInNlc3Npb25DaGlsZHJlbiIsImdldENoYW5uZWx6U2Vzc2lvbkluZm9HZXR0ZXIiLCJzZXNzaW9uIiwic2Vzc2lvbkluZm8iLCJnZXQiLCJzZXNzaW9uU29ja2V0Iiwic29ja2V0IiwicmVtb3RlQWRkcmVzcyIsInN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MiLCJyZW1vdGVQb3J0IiwibG9jYWxBZGRyZXNzIiwibG9jYWxQb3J0IiwidGxzSW5mbyIsImVuY3J5cHRlZCIsInRsc1NvY2tldCIsImNpcGhlckluZm8iLCJnZXRDaXBoZXIiLCJjZXJ0aWZpY2F0ZSIsImdldENlcnRpZmljYXRlIiwicGVlckNlcnRpZmljYXRlIiwiZ2V0UGVlckNlcnRpZmljYXRlIiwiY2lwaGVyU3VpdGVTdGFuZGFyZE5hbWUiLCJzdGFuZGFyZE5hbWUiLCJjaXBoZXJTdWl0ZU90aGVyTmFtZSIsIm5hbWUiLCJsb2NhbENlcnRpZmljYXRlIiwicmF3IiwicmVtb3RlQ2VydGlmaWNhdGUiLCJzb2NrZXRJbmZvIiwic2VjdXJpdHkiLCJyZW1vdGVOYW1lIiwic3RyZWFtc1N0YXJ0ZWQiLCJzdHJlYW1UcmFja2VyIiwiY2FsbHNTdGFydGVkIiwic3RyZWFtc1N1Y2NlZWRlZCIsImNhbGxzU3VjY2VlZGVkIiwic3RyZWFtc0ZhaWxlZCIsImNhbGxzRmFpbGVkIiwibWVzc2FnZXNTZW50IiwibWVzc2FnZXNSZWNlaXZlZCIsImtlZXBBbGl2ZXNTZW50IiwibGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcCIsImxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wIiwibGFzdENhbGxTdGFydGVkVGltZXN0YW1wIiwibGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wIiwibGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCIsImxvY2FsRmxvd0NvbnRyb2xXaW5kb3ciLCJzdGF0ZSIsImxvY2FsV2luZG93U2l6ZSIsInJlbW90ZUZsb3dDb250cm9sV2luZG93IiwicmVtb3RlV2luZG93U2l6ZSIsInRleHQiLCJMb2dWZXJib3NpdHkiLCJERUJVRyIsImlkIiwiYWRkUHJvdG9TZXJ2aWNlIiwiYWRkU2VydmljZSIsInNlcnZpY2UiLCJpbXBsZW1lbnRhdGlvbiIsInNlcnZpY2VLZXlzIiwia2V5cyIsImxlbmd0aCIsImZvckVhY2giLCJhdHRycyIsIm1ldGhvZFR5cGUiLCJyZXF1ZXN0U3RyZWFtIiwicmVzcG9uc2VTdHJlYW0iLCJpbXBsRm4iLCJpbXBsIiwidW5kZWZpbmVkIiwib3JpZ2luYWxOYW1lIiwiYmluZCIsInN1Y2Nlc3MiLCJyZWdpc3RlciIsInBhdGgiLCJyZXNwb25zZVNlcmlhbGl6ZSIsInJlcXVlc3REZXNlcmlhbGl6ZSIsInJlbW92ZVNlcnZpY2UiLCJ1bnJlZ2lzdGVyIiwicG9ydCIsImNyZWRzIiwiYmluZEFzeW5jIiwiVHlwZUVycm9yIiwiU2VydmVyQ3JlZGVudGlhbHMiLCJpbml0aWFsUG9ydFVyaSIsInBhcnNlVXJpIiwicG9ydFVyaSIsIm1hcFVyaURlZmF1bHRTY2hlbWUiLCJzZXJ2ZXJPcHRpb25zIiwibWF4U2VuZEhlYWRlckJsb2NrTGVuZ3RoIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsIm1heFNlc3Npb25NZW1vcnkiLCJzZXR0aW5ncyIsIm1heENvbmN1cnJlbnRTdHJlYW1zIiwiZGVmZXJyZWRDYWxsYmFjayIsImVycm9yIiwicHJvY2VzcyIsIm5leHRUaWNrIiwic2V0dXBTZXJ2ZXIiLCJodHRwMlNlcnZlciIsIl9pc1NlY3VyZSIsInNlY3VyZVNlcnZlck9wdGlvbnMiLCJhc3NpZ24iLCJfZ2V0U2V0dGluZ3MiLCJlbmFibGVUcmFjZSIsImNyZWF0ZVNlY3VyZVNlcnZlciIsIm9uIiwiZSIsIm1lc3NhZ2UiLCJjcmVhdGVTZXJ2ZXIiLCJzZXRUaW1lb3V0IiwiX3NldHVwSGFuZGxlcnMiLCJiaW5kU3BlY2lmaWNQb3J0IiwiYWRkcmVzc0xpc3QiLCJwb3J0TnVtIiwicHJldmlvdXNDb3VudCIsIlByb21pc2UiLCJyZXNvbHZlIiwiY291bnQiLCJhbGwiLCJtYXAiLCJhZGRyZXNzIiwic3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZyIsImFkZHIiLCJpc1RjcFN1YmNoYW5uZWxBZGRyZXNzIiwiaG9zdCIsInJlamVjdCIsIm9uRXJyb3IiLCJlcnIiLCJvbmNlIiwibGlzdGVuIiwiY2xvc2UiLCJib3VuZEFkZHJlc3MiLCJib3VuZFN1YmNoYW5uZWxBZGRyZXNzIiwicmVnaXN0ZXJDaGFubmVselNvY2tldCIsInJlZkNoaWxkIiwicHVzaCIsInNlcnZlciIsInJlbW92ZUxpc3RlbmVyIiwidGhlbiIsInJlc3VsdHMiLCJyZXN1bHQiLCJiaW5kV2lsZGNhcmRQb3J0Iiwic2xpY2UiLCJyZXNvbHZlckxpc3RlbmVyIiwib25TdWNjZXNzZnVsUmVzb2x1dGlvbiIsInNlcnZpY2VDb25maWciLCJzZXJ2aWNlQ29uZmlnRXJyb3IiLCJiaW5kUmVzdWx0UHJvbWlzZSIsImJpbmRSZXN1bHQiLCJlcnJvclN0cmluZyIsImxvZyIsIkVSUk9SIiwiSU5GTyIsInJlc29sdmVyIiwiY3JlYXRlUmVzb2x2ZXIiLCJ1cGRhdGVSZXNvbHV0aW9uIiwiZm9yY2VTaHV0ZG93biIsInJlZiIsImxpc3RlbmluZyIsInVucmVmQ2hpbGQiLCJ1bnJlZ2lzdGVyQ2hhbm5lbHpSZWYiLCJjaGFubmVsekluZm8iLCJkZXN0cm95IiwiTkdIVFRQMl9DQU5DRUwiLCJjbGVhciIsImhhbmRsZXIiLCJzZXJpYWxpemUiLCJkZXNlcmlhbGl6ZSIsInR5cGUiLCJoYXMiLCJzZXQiLCJmdW5jIiwiZGVsZXRlIiwic3RhcnQiLCJldmVyeSIsInRyeVNodXRkb3duIiwid3JhcHBlZENhbGxiYWNrIiwicGVuZGluZ0NoZWNrcyIsIm1heWJlQ2FsbGJhY2siLCJjbG9zZWQiLCJhZGRIdHRwMlBvcnQiLCJnZXRDaGFubmVselJlZiIsIl92ZXJpZnlDb250ZW50VHlwZSIsInN0cmVhbSIsImhlYWRlcnMiLCJjb250ZW50VHlwZSIsIkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEUiLCJzdGFydHNXaXRoIiwicmVzcG9uZCIsIkhUVFAyX0hFQURFUl9TVEFUVVMiLCJIVFRQX1NUQVRVU19VTlNVUFBPUlRFRF9NRURJQV9UWVBFIiwiZW5kU3RyZWFtIiwiX3JldHJpZXZlSGFuZGxlciIsIl9yZXNwb25kV2l0aEVycm9yIiwiY2hhbm5lbHpTZXNzaW9uSW5mbyIsIkh0dHAyU2VydmVyQ2FsbFN0cmVhbSIsIklOVEVSTkFMIiwiYWRkQ2FsbEZhaWxlZCIsInNlbmRFcnJvciIsIl9jaGFubmVsekhhbmRsZXIiLCJhZGRDYWxsU3RhcnRlZCIsIk9LIiwiYWRkQ2FsbFN1Y2NlZWRlZCIsIkRhdGUiLCJfcnVuSGFuZGxlckZvckNhbGwiLCJfc3RyZWFtSGFuZGxlciIsIm1ldGFkYXRhIiwicmVjZWl2ZU1ldGFkYXRhIiwiZW5jb2RpbmciLCJyZW1vdmUiLCJoYW5kbGVVbmFyeSIsImhhbmRsZUNsaWVudFN0cmVhbWluZyIsImhhbmRsZVNlcnZlclN0cmVhbWluZyIsImhhbmRsZUJpZGlTdHJlYW1pbmciLCJzZXJ2ZXJBZGRyZXNzIiwiX2UiLCJjbGllbnRBZGRyZXNzIiwiY29ubmVjdGlvbkFnZVRpbWVyIiwiY29ubmVjdGlvbkFnZUdyYWNlVGltZXIiLCJzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIiLCJqaXR0ZXJNYWduaXR1ZGUiLCJqaXR0ZXIiLCJNYXRoIiwicmFuZG9tIiwiZ29hd2F5IiwiTkdIVFRQMl9OT19FUlJPUiIsIkJ1ZmZlciIsImZyb20iLCJ1bnJlZiIsImtlZWFwbGl2ZVRpbWVUaW1lciIsInNldEludGVydmFsIiwidGltZW91dFRJbWVyIiwicGluZyIsImR1cmF0aW9uIiwicGF5bG9hZCIsImNsZWFyVGltZW91dCIsInJlcXVlc3QiLCJyZWNlaXZlVW5hcnlNZXNzYWdlIiwiY2FuY2VsbGVkIiwiZW1pdHRlciIsIlNlcnZlclVuYXJ5Q2FsbEltcGwiLCJ0cmFpbGVyIiwiZmxhZ3MiLCJzZW5kVW5hcnlNZXNzYWdlIiwiU2VydmVyUmVhZGFibGVTdHJlYW1JbXBsIiwiU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsIiwiU2VydmVyRHVwbGV4U3RyZWFtSW1wbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/server.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/service-config.js":
/*!****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/service-config.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.extractAndSelectServiceConfig = exports.validateServiceConfig = exports.validateRetryThrottling = void 0;\n/* This file implements gRFC A2 and the service config spec:\n * https://github.com/grpc/proposal/blob/master/A2-service-configs-in-dns.md\n * https://github.com/grpc/grpc/blob/master/doc/service_config.md. Each\n * function here takes an object with unknown structure and returns its\n * specific object type if the input has the right structure, and throws an\n * error otherwise. */\n/* The any type is purposely used here. All functions validate their input at\n * runtime */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst os = __webpack_require__(/*! os */ \"os\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\n/**\n * Recognizes a number with up to 9 digits after the decimal point, followed by\n * an \"s\", representing a number of seconds.\n */\nconst DURATION_REGEX = /^\\d+(\\.\\d{1,9})?s$/;\n/**\n * Client language name used for determining whether this client matches a\n * `ServiceConfigCanaryConfig`'s `clientLanguage` list.\n */\nconst CLIENT_LANGUAGE_STRING = 'node';\nfunction validateName(obj) {\n  // In this context, and unset field and '' are considered the same\n  if ('service' in obj && obj.service !== '') {\n    if (typeof obj.service !== 'string') {\n      throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof obj.service}`);\n    }\n    if ('method' in obj && obj.method !== '') {\n      if (typeof obj.method !== 'string') {\n        throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof obj.service}`);\n      }\n      return {\n        service: obj.service,\n        method: obj.method\n      };\n    } else {\n      return {\n        service: obj.service\n      };\n    }\n  } else {\n    if ('method' in obj && obj.method !== undefined) {\n      throw new Error(`Invalid method config name: method set with empty or unset service`);\n    }\n    return {};\n  }\n}\nfunction validateRetryPolicy(obj) {\n  if (!('maxAttempts' in obj) || !Number.isInteger(obj.maxAttempts) || obj.maxAttempts < 2) {\n    throw new Error('Invalid method config retry policy: maxAttempts must be an integer at least 2');\n  }\n  if (!('initialBackoff' in obj) || typeof obj.initialBackoff !== 'string' || !DURATION_REGEX.test(obj.initialBackoff)) {\n    throw new Error('Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s');\n  }\n  if (!('maxBackoff' in obj) || typeof obj.maxBackoff !== 'string' || !DURATION_REGEX.test(obj.maxBackoff)) {\n    throw new Error('Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s');\n  }\n  if (!('backoffMultiplier' in obj) || typeof obj.backoffMultiplier !== 'number' || obj.backoffMultiplier <= 0) {\n    throw new Error('Invalid method config retry policy: backoffMultiplier must be a number greater than 0');\n  }\n  if (!('retryableStatusCodes' in obj && Array.isArray(obj.retryableStatusCodes))) {\n    throw new Error('Invalid method config retry policy: retryableStatusCodes is required');\n  }\n  if (obj.retryableStatusCodes.length === 0) {\n    throw new Error('Invalid method config retry policy: retryableStatusCodes must be non-empty');\n  }\n  for (const value of obj.retryableStatusCodes) {\n    if (typeof value === 'number') {\n      if (!Object.values(constants_1.Status).includes(value)) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes value not in status code range');\n      }\n    } else if (typeof value === 'string') {\n      if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes value not a status code name');\n      }\n    } else {\n      throw new Error('Invalid method config retry policy: retryableStatusCodes value must be a string or number');\n    }\n  }\n  return {\n    maxAttempts: obj.maxAttempts,\n    initialBackoff: obj.initialBackoff,\n    maxBackoff: obj.maxBackoff,\n    backoffMultiplier: obj.backoffMultiplier,\n    retryableStatusCodes: obj.retryableStatusCodes\n  };\n}\nfunction validateHedgingPolicy(obj) {\n  if (!('maxAttempts' in obj) || !Number.isInteger(obj.maxAttempts) || obj.maxAttempts < 2) {\n    throw new Error('Invalid method config hedging policy: maxAttempts must be an integer at least 2');\n  }\n  if ('hedgingDelay' in obj && (typeof obj.hedgingDelay !== 'string' || !DURATION_REGEX.test(obj.hedgingDelay))) {\n    throw new Error('Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s');\n  }\n  if ('nonFatalStatusCodes' in obj && Array.isArray(obj.nonFatalStatusCodes)) {\n    for (const value of obj.nonFatalStatusCodes) {\n      if (typeof value === 'number') {\n        if (!Object.values(constants_1.Status).includes(value)) {\n          throw new Error('Invlid method config hedging policy: nonFatalStatusCodes value not in status code range');\n        }\n      } else if (typeof value === 'string') {\n        if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n          throw new Error('Invlid method config hedging policy: nonFatalStatusCodes value not a status code name');\n        }\n      } else {\n        throw new Error('Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number');\n      }\n    }\n  }\n  const result = {\n    maxAttempts: obj.maxAttempts\n  };\n  if (obj.hedgingDelay) {\n    result.hedgingDelay = obj.hedgingDelay;\n  }\n  if (obj.nonFatalStatusCodes) {\n    result.nonFatalStatusCodes = obj.nonFatalStatusCodes;\n  }\n  return result;\n}\nfunction validateMethodConfig(obj) {\n  var _a;\n  const result = {\n    name: []\n  };\n  if (!('name' in obj) || !Array.isArray(obj.name)) {\n    throw new Error('Invalid method config: invalid name array');\n  }\n  for (const name of obj.name) {\n    result.name.push(validateName(name));\n  }\n  if ('waitForReady' in obj) {\n    if (typeof obj.waitForReady !== 'boolean') {\n      throw new Error('Invalid method config: invalid waitForReady');\n    }\n    result.waitForReady = obj.waitForReady;\n  }\n  if ('timeout' in obj) {\n    if (typeof obj.timeout === 'object') {\n      if (!('seconds' in obj.timeout) || !(typeof obj.timeout.seconds === 'number')) {\n        throw new Error('Invalid method config: invalid timeout.seconds');\n      }\n      if (!('nanos' in obj.timeout) || !(typeof obj.timeout.nanos === 'number')) {\n        throw new Error('Invalid method config: invalid timeout.nanos');\n      }\n      result.timeout = obj.timeout;\n    } else if (typeof obj.timeout === 'string' && DURATION_REGEX.test(obj.timeout)) {\n      const timeoutParts = obj.timeout.substring(0, obj.timeout.length - 1).split('.');\n      result.timeout = {\n        seconds: timeoutParts[0] | 0,\n        nanos: ((_a = timeoutParts[1]) !== null && _a !== void 0 ? _a : 0) | 0\n      };\n    } else {\n      throw new Error('Invalid method config: invalid timeout');\n    }\n  }\n  if ('maxRequestBytes' in obj) {\n    if (typeof obj.maxRequestBytes !== 'number') {\n      throw new Error('Invalid method config: invalid maxRequestBytes');\n    }\n    result.maxRequestBytes = obj.maxRequestBytes;\n  }\n  if ('maxResponseBytes' in obj) {\n    if (typeof obj.maxResponseBytes !== 'number') {\n      throw new Error('Invalid method config: invalid maxRequestBytes');\n    }\n    result.maxResponseBytes = obj.maxResponseBytes;\n  }\n  if ('retryPolicy' in obj) {\n    if ('hedgingPolicy' in obj) {\n      throw new Error('Invalid method config: retryPolicy and hedgingPolicy cannot both be specified');\n    } else {\n      result.retryPolicy = validateRetryPolicy(obj.retryPolicy);\n    }\n  } else if ('hedgingPolicy' in obj) {\n    result.hedgingPolicy = validateHedgingPolicy(obj.hedgingPolicy);\n  }\n  return result;\n}\nfunction validateRetryThrottling(obj) {\n  if (!('maxTokens' in obj) || typeof obj.maxTokens !== 'number' || obj.maxTokens <= 0 || obj.maxTokens > 1000) {\n    throw new Error('Invalid retryThrottling: maxTokens must be a number in (0, 1000]');\n  }\n  if (!('tokenRatio' in obj) || typeof obj.tokenRatio !== 'number' || obj.tokenRatio <= 0) {\n    throw new Error('Invalid retryThrottling: tokenRatio must be a number greater than 0');\n  }\n  return {\n    maxTokens: +obj.maxTokens.toFixed(3),\n    tokenRatio: +obj.tokenRatio.toFixed(3)\n  };\n}\nexports.validateRetryThrottling = validateRetryThrottling;\nfunction validateServiceConfig(obj) {\n  const result = {\n    loadBalancingConfig: [],\n    methodConfig: []\n  };\n  if ('loadBalancingPolicy' in obj) {\n    if (typeof obj.loadBalancingPolicy === 'string') {\n      result.loadBalancingPolicy = obj.loadBalancingPolicy;\n    } else {\n      throw new Error('Invalid service config: invalid loadBalancingPolicy');\n    }\n  }\n  if ('loadBalancingConfig' in obj) {\n    if (Array.isArray(obj.loadBalancingConfig)) {\n      for (const config of obj.loadBalancingConfig) {\n        result.loadBalancingConfig.push((0, load_balancer_1.validateLoadBalancingConfig)(config));\n      }\n    } else {\n      throw new Error('Invalid service config: invalid loadBalancingConfig');\n    }\n  }\n  if ('methodConfig' in obj) {\n    if (Array.isArray(obj.methodConfig)) {\n      for (const methodConfig of obj.methodConfig) {\n        result.methodConfig.push(validateMethodConfig(methodConfig));\n      }\n    }\n  }\n  if ('retryThrottling' in obj) {\n    result.retryThrottling = validateRetryThrottling(obj.retryThrottling);\n  }\n  // Validate method name uniqueness\n  const seenMethodNames = [];\n  for (const methodConfig of result.methodConfig) {\n    for (const name of methodConfig.name) {\n      for (const seenName of seenMethodNames) {\n        if (name.service === seenName.service && name.method === seenName.method) {\n          throw new Error(`Invalid service config: duplicate name ${name.service}/${name.method}`);\n        }\n      }\n      seenMethodNames.push(name);\n    }\n  }\n  return result;\n}\nexports.validateServiceConfig = validateServiceConfig;\nfunction validateCanaryConfig(obj) {\n  if (!('serviceConfig' in obj)) {\n    throw new Error('Invalid service config choice: missing service config');\n  }\n  const result = {\n    serviceConfig: validateServiceConfig(obj.serviceConfig)\n  };\n  if ('clientLanguage' in obj) {\n    if (Array.isArray(obj.clientLanguage)) {\n      result.clientLanguage = [];\n      for (const lang of obj.clientLanguage) {\n        if (typeof lang === 'string') {\n          result.clientLanguage.push(lang);\n        } else {\n          throw new Error('Invalid service config choice: invalid clientLanguage');\n        }\n      }\n    } else {\n      throw new Error('Invalid service config choice: invalid clientLanguage');\n    }\n  }\n  if ('clientHostname' in obj) {\n    if (Array.isArray(obj.clientHostname)) {\n      result.clientHostname = [];\n      for (const lang of obj.clientHostname) {\n        if (typeof lang === 'string') {\n          result.clientHostname.push(lang);\n        } else {\n          throw new Error('Invalid service config choice: invalid clientHostname');\n        }\n      }\n    } else {\n      throw new Error('Invalid service config choice: invalid clientHostname');\n    }\n  }\n  if ('percentage' in obj) {\n    if (typeof obj.percentage === 'number' && 0 <= obj.percentage && obj.percentage <= 100) {\n      result.percentage = obj.percentage;\n    } else {\n      throw new Error('Invalid service config choice: invalid percentage');\n    }\n  }\n  // Validate that no unexpected fields are present\n  const allowedFields = ['clientLanguage', 'percentage', 'clientHostname', 'serviceConfig'];\n  for (const field in obj) {\n    if (!allowedFields.includes(field)) {\n      throw new Error(`Invalid service config choice: unexpected field ${field}`);\n    }\n  }\n  return result;\n}\nfunction validateAndSelectCanaryConfig(obj, percentage) {\n  if (!Array.isArray(obj)) {\n    throw new Error('Invalid service config list');\n  }\n  for (const config of obj) {\n    const validatedConfig = validateCanaryConfig(config);\n    /* For each field, we check if it is present, then only discard the\n     * config if the field value does not match the current client */\n    if (typeof validatedConfig.percentage === 'number' && percentage > validatedConfig.percentage) {\n      continue;\n    }\n    if (Array.isArray(validatedConfig.clientHostname)) {\n      let hostnameMatched = false;\n      for (const hostname of validatedConfig.clientHostname) {\n        if (hostname === os.hostname()) {\n          hostnameMatched = true;\n        }\n      }\n      if (!hostnameMatched) {\n        continue;\n      }\n    }\n    if (Array.isArray(validatedConfig.clientLanguage)) {\n      let languageMatched = false;\n      for (const language of validatedConfig.clientLanguage) {\n        if (language === CLIENT_LANGUAGE_STRING) {\n          languageMatched = true;\n        }\n      }\n      if (!languageMatched) {\n        continue;\n      }\n    }\n    return validatedConfig.serviceConfig;\n  }\n  throw new Error('No matching service config found');\n}\n/**\n * Find the \"grpc_config\" record among the TXT records, parse its value as JSON, validate its contents,\n * and select a service config with selection fields that all match this client. Most of these steps\n * can fail with an error; the caller must handle any errors thrown this way.\n * @param txtRecord The TXT record array that is output from a successful call to dns.resolveTxt\n * @param percentage A number chosen from the range [0, 100) that is used to select which config to use\n * @return The service configuration to use, given the percentage value, or null if the service config\n *     data has a valid format but none of the options match the current client.\n */\nfunction extractAndSelectServiceConfig(txtRecord, percentage) {\n  for (const record of txtRecord) {\n    if (record.length > 0 && record[0].startsWith('grpc_config=')) {\n      /* Treat the list of strings in this record as a single string and remove\n       * \"grpc_config=\" from the beginning. The rest should be a JSON string */\n      const recordString = record.join('').substring('grpc_config='.length);\n      const recordJson = JSON.parse(recordString);\n      return validateAndSelectCanaryConfig(recordJson, percentage);\n    }\n  }\n  return null;\n}\nexports.extractAndSelectServiceConfig = extractAndSelectServiceConfig;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmljZS1jb25maWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQscUNBQXFDLEdBQUdBLDZCQUE2QixHQUFHQSwrQkFBK0IsR0FBRyxLQUFLLENBQUM7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUssRUFBRSxHQUFHQyxtQkFBTyxDQUFDLGNBQUksQ0FBQztBQUN4QixNQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNRSxlQUFlLEdBQUdGLG1CQUFPLENBQUMsc0ZBQWlCLENBQUM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNRyxjQUFjLEdBQUcsb0JBQW9CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUMsc0JBQXNCLEdBQUcsTUFBTTtBQUNyQyxTQUFTQyxZQUFZQSxDQUFDQyxHQUFHLEVBQUU7RUFDdkI7RUFDQSxJQUFJLFNBQVMsSUFBSUEsR0FBRyxJQUFJQSxHQUFHLENBQUNDLE9BQU8sS0FBSyxFQUFFLEVBQUU7SUFDeEMsSUFBSSxPQUFPRCxHQUFHLENBQUNDLE9BQU8sS0FBSyxRQUFRLEVBQUU7TUFDakMsTUFBTSxJQUFJQyxLQUFLLENBQUUsMEVBQXlFLE9BQU9GLEdBQUcsQ0FBQ0MsT0FBUSxFQUFDLENBQUM7SUFDbkg7SUFDQSxJQUFJLFFBQVEsSUFBSUQsR0FBRyxJQUFJQSxHQUFHLENBQUNHLE1BQU0sS0FBSyxFQUFFLEVBQUU7TUFDdEMsSUFBSSxPQUFPSCxHQUFHLENBQUNHLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDaEMs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Q0EsZUFBZSxFQUFFO1FBQ2xCO01BQ0o7SUFDSjtJQUNBLE9BQU9ILGVBQWUsQ0FBQ1IsYUFBYTtFQUN4QztFQUNBLE1BQU0sSUFBSWxELEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNaLDZCQUE2QkEsQ0FBQzJFLFNBQVMsRUFBRVQsVUFBVSxFQUFFO0VBQzFELEtBQUssTUFBTVUsTUFBTSxJQUFJRCxTQUFTLEVBQUU7SUFDNUIsSUFBSUMsTUFBTSxDQUFDbEQsTUFBTSxHQUFHLENBQUMsSUFBSWtELE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLGNBQWMsQ0FBQyxFQUFFO01BQzNEO0FBQ1o7TUFDWSxNQUFNQyxZQUFZLEdBQUdGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDbkMsU0FBUyxDQUFDLGNBQWMsQ0FBQ2xCLE1BQU0sQ0FBQztNQUNyRSxNQUFNc0QsVUFBVSxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0osWUFBWSxDQUFDO01BQzNDLE9BQU9ULDZCQUE2QixDQUFDVyxVQUFVLEVBQUVkLFVBQVUsQ0FBQztJQUNoRTtFQUNKO0VBQ0EsT0FBTyxJQUFJO0FBQ2Y7QUFDQXBFLHFDQUFxQyxHQUFHRSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NlcnZpY2UtY29uZmlnLmpzPzZjNDgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWcgPSBleHBvcnRzLnZhbGlkYXRlU2VydmljZUNvbmZpZyA9IGV4cG9ydHMudmFsaWRhdGVSZXRyeVRocm90dGxpbmcgPSB2b2lkIDA7XG4vKiBUaGlzIGZpbGUgaW1wbGVtZW50cyBnUkZDIEEyIGFuZCB0aGUgc2VydmljZSBjb25maWcgc3BlYzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL3Byb3Bvc2FsL2Jsb2IvbWFzdGVyL0EyLXNlcnZpY2UtY29uZmlncy1pbi1kbnMubWRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL3NlcnZpY2VfY29uZmlnLm1kLiBFYWNoXG4gKiBmdW5jdGlvbiBoZXJlIHRha2VzIGFuIG9iamVjdCB3aXRoIHVua25vd24gc3RydWN0dXJlIGFuZCByZXR1cm5zIGl0c1xuICogc3BlY2lmaWMgb2JqZWN0IHR5cGUgaWYgdGhlIGlucHV0IGhhcyB0aGUgcmlnaHQgc3RydWN0dXJlLCBhbmQgdGhyb3dzIGFuXG4gKiBlcnJvciBvdGhlcndpc2UuICovXG4vKiBUaGUgYW55IHR5cGUgaXMgcHVycG9zZWx5IHVzZWQgaGVyZS4gQWxsIGZ1bmN0aW9ucyB2YWxpZGF0ZSB0aGVpciBpbnB1dCBhdFxuICogcnVudGltZSAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG4vKipcbiAqIFJlY29nbml6ZXMgYSBudW1iZXIgd2l0aCB1cCB0byA5IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCwgZm9sbG93ZWQgYnlcbiAqIGFuIFwic1wiLCByZXByZXNlbnRpbmcgYSBudW1iZXIgb2Ygc2Vjb25kcy5cbiAqL1xuY29uc3QgRFVSQVRJT05fUkVHRVggPSAvXlxcZCsoXFwuXFxkezEsOX0pP3MkLztcbi8qKlxuICogQ2xpZW50IGxhbmd1YWdlIG5hbWUgdXNlZCBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0aGlzIGNsaWVudCBtYXRjaGVzIGFcbiAqIGBTZXJ2aWNlQ29uZmlnQ2FuYXJ5Q29uZmlnYCdzIGBjbGllbnRMYW5ndWFnZWAgbGlzdC5cbiAqL1xuY29uc3QgQ0xJRU5UX0xBTkdVQUdFX1NUUklORyA9ICdub2RlJztcbmZ1bmN0aW9uIHZhbGlkYXRlTmFtZShvYmopIHtcbiAgICAvLyBJbiB0aGlzIGNvbnRleHQsIGFuZCB1bnNldCBmaWVsZCBhbmQgJycgYXJlIGNvbnNpZGVyZWQgdGhlIHNhbWVcbiAgICBpZiAoJ3NlcnZpY2UnIGluIG9iaiAmJiBvYmouc2VydmljZSAhPT0gJycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmouc2VydmljZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtZXRob2QgY29uZmlnIG5hbWU6IGludmFsaWQgc2VydmljZTogZXhwZWN0ZWQgdHlwZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvYmouc2VydmljZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ21ldGhvZCcgaW4gb2JqICYmIG9iai5tZXRob2QgIT09ICcnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iai5tZXRob2QgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1ldGhvZCBjb25maWcgbmFtZTogaW52YWxpZCBtZXRob2Q6IGV4cGVjdGVkIHR5cGUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb2JqLnNlcnZpY2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNlcnZpY2U6IG9iai5zZXJ2aWNlLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogb2JqLm1ldGhvZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNlcnZpY2U6IG9iai5zZXJ2aWNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCdtZXRob2QnIGluIG9iaiAmJiBvYmoubWV0aG9kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtZXRob2QgY29uZmlnIG5hbWU6IG1ldGhvZCBzZXQgd2l0aCBlbXB0eSBvciB1bnNldCBzZXJ2aWNlYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUmV0cnlQb2xpY3kob2JqKSB7XG4gICAgaWYgKCEoJ21heEF0dGVtcHRzJyBpbiBvYmopIHx8XG4gICAgICAgICFOdW1iZXIuaXNJbnRlZ2VyKG9iai5tYXhBdHRlbXB0cykgfHxcbiAgICAgICAgb2JqLm1heEF0dGVtcHRzIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyByZXRyeSBwb2xpY3k6IG1heEF0dGVtcHRzIG11c3QgYmUgYW4gaW50ZWdlciBhdCBsZWFzdCAyJyk7XG4gICAgfVxuICAgIGlmICghKCdpbml0aWFsQmFja29mZicgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLmluaXRpYWxCYWNrb2ZmICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAhRFVSQVRJT05fUkVHRVgudGVzdChvYmouaW5pdGlhbEJhY2tvZmYpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogaW5pdGlhbEJhY2tvZmYgbXVzdCBiZSBhIHN0cmluZyBjb25zaXN0aW5nIG9mIGEgcG9zaXRpdmUgaW50ZWdlciBmb2xsb3dlZCBieSBzJyk7XG4gICAgfVxuICAgIGlmICghKCdtYXhCYWNrb2ZmJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmoubWF4QmFja29mZiAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgIURVUkFUSU9OX1JFR0VYLnRlc3Qob2JqLm1heEJhY2tvZmYpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogbWF4QmFja29mZiBtdXN0IGJlIGEgc3RyaW5nIGNvbnNpc3Rpbmcgb2YgYSBwb3NpdGl2ZSBpbnRlZ2VyIGZvbGxvd2VkIGJ5IHMnKTtcbiAgICB9XG4gICAgaWYgKCEoJ2JhY2tvZmZNdWx0aXBsaWVyJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmouYmFja29mZk11bHRpcGxpZXIgIT09ICdudW1iZXInIHx8XG4gICAgICAgIG9iai5iYWNrb2ZmTXVsdGlwbGllciA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogYmFja29mZk11bHRpcGxpZXIgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMCcpO1xuICAgIH1cbiAgICBpZiAoISgncmV0cnlhYmxlU3RhdHVzQ29kZXMnIGluIG9iaiAmJiBBcnJheS5pc0FycmF5KG9iai5yZXRyeWFibGVTdGF0dXNDb2RlcykpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogcmV0cnlhYmxlU3RhdHVzQ29kZXMgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgaWYgKG9iai5yZXRyeWFibGVTdGF0dXNDb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyBtdXN0IGJlIG5vbi1lbXB0eScpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIG9iai5yZXRyeWFibGVTdGF0dXNDb2Rlcykge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKGNvbnN0YW50c18xLlN0YXR1cykuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyB2YWx1ZSBub3QgaW4gc3RhdHVzIGNvZGUgcmFuZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoY29uc3RhbnRzXzEuU3RhdHVzKS5pbmNsdWRlcyh2YWx1ZS50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogcmV0cnlhYmxlU3RhdHVzQ29kZXMgdmFsdWUgbm90IGEgc3RhdHVzIGNvZGUgbmFtZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlcicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1heEF0dGVtcHRzOiBvYmoubWF4QXR0ZW1wdHMsXG4gICAgICAgIGluaXRpYWxCYWNrb2ZmOiBvYmouaW5pdGlhbEJhY2tvZmYsXG4gICAgICAgIG1heEJhY2tvZmY6IG9iai5tYXhCYWNrb2ZmLFxuICAgICAgICBiYWNrb2ZmTXVsdGlwbGllcjogb2JqLmJhY2tvZmZNdWx0aXBsaWVyLFxuICAgICAgICByZXRyeWFibGVTdGF0dXNDb2Rlczogb2JqLnJldHJ5YWJsZVN0YXR1c0NvZGVzLFxuICAgIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUhlZGdpbmdQb2xpY3kob2JqKSB7XG4gICAgaWYgKCEoJ21heEF0dGVtcHRzJyBpbiBvYmopIHx8XG4gICAgICAgICFOdW1iZXIuaXNJbnRlZ2VyKG9iai5tYXhBdHRlbXB0cykgfHxcbiAgICAgICAgb2JqLm1heEF0dGVtcHRzIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbWF4QXR0ZW1wdHMgbXVzdCBiZSBhbiBpbnRlZ2VyIGF0IGxlYXN0IDInKTtcbiAgICB9XG4gICAgaWYgKCdoZWRnaW5nRGVsYXknIGluIG9iaiAmJlxuICAgICAgICAodHlwZW9mIG9iai5oZWRnaW5nRGVsYXkgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAhRFVSQVRJT05fUkVHRVgudGVzdChvYmouaGVkZ2luZ0RlbGF5KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgaGVkZ2luZyBwb2xpY3k6IGhlZGdpbmdEZWxheSBtdXN0IGJlIGEgc3RyaW5nIGNvbnNpc3Rpbmcgb2YgYSBwb3NpdGl2ZSBpbnRlZ2VyIGZvbGxvd2VkIGJ5IHMnKTtcbiAgICB9XG4gICAgaWYgKCdub25GYXRhbFN0YXR1c0NvZGVzJyBpbiBvYmogJiYgQXJyYXkuaXNBcnJheShvYmoubm9uRmF0YWxTdGF0dXNDb2RlcykpIHtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBvYmoubm9uRmF0YWxTdGF0dXNDb2Rlcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoY29uc3RhbnRzXzEuU3RhdHVzKS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbm9uRmF0YWxTdGF0dXNDb2RlcyB2YWx1ZSBub3QgaW4gc3RhdHVzIGNvZGUgcmFuZ2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKGNvbnN0YW50c18xLlN0YXR1cykuaW5jbHVkZXModmFsdWUudG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbm9uRmF0YWxTdGF0dXNDb2RlcyB2YWx1ZSBub3QgYSBzdGF0dXMgY29kZSBuYW1lJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbm9uRmF0YWxTdGF0dXNDb2RlcyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgbWF4QXR0ZW1wdHM6IG9iai5tYXhBdHRlbXB0cyxcbiAgICB9O1xuICAgIGlmIChvYmouaGVkZ2luZ0RlbGF5KSB7XG4gICAgICAgIHJlc3VsdC5oZWRnaW5nRGVsYXkgPSBvYmouaGVkZ2luZ0RlbGF5O1xuICAgIH1cbiAgICBpZiAob2JqLm5vbkZhdGFsU3RhdHVzQ29kZXMpIHtcbiAgICAgICAgcmVzdWx0Lm5vbkZhdGFsU3RhdHVzQ29kZXMgPSBvYmoubm9uRmF0YWxTdGF0dXNDb2RlcztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTWV0aG9kQ29uZmlnKG9iaikge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IFtdLFxuICAgIH07XG4gICAgaWYgKCEoJ25hbWUnIGluIG9iaikgfHwgIUFycmF5LmlzQXJyYXkob2JqLm5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIG5hbWUgYXJyYXknKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIG9iai5uYW1lKSB7XG4gICAgICAgIHJlc3VsdC5uYW1lLnB1c2godmFsaWRhdGVOYW1lKG5hbWUpKTtcbiAgICB9XG4gICAgaWYgKCd3YWl0Rm9yUmVhZHknIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai53YWl0Rm9yUmVhZHkgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgd2FpdEZvclJlYWR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LndhaXRGb3JSZWFkeSA9IG9iai53YWl0Rm9yUmVhZHk7XG4gICAgfVxuICAgIGlmICgndGltZW91dCcgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLnRpbWVvdXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoISgnc2Vjb25kcycgaW4gb2JqLnRpbWVvdXQpIHx8XG4gICAgICAgICAgICAgICAgISh0eXBlb2Ygb2JqLnRpbWVvdXQuc2Vjb25kcyA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgdGltZW91dC5zZWNvbmRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISgnbmFub3MnIGluIG9iai50aW1lb3V0KSB8fFxuICAgICAgICAgICAgICAgICEodHlwZW9mIG9iai50aW1lb3V0Lm5hbm9zID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB0aW1lb3V0Lm5hbm9zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQudGltZW91dCA9IG9iai50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmoudGltZW91dCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIERVUkFUSU9OX1JFR0VYLnRlc3Qob2JqLnRpbWVvdXQpKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0UGFydHMgPSBvYmoudGltZW91dFxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMCwgb2JqLnRpbWVvdXQubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICAuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHJlc3VsdC50aW1lb3V0ID0ge1xuICAgICAgICAgICAgICAgIHNlY29uZHM6IHRpbWVvdXRQYXJ0c1swXSB8IDAsXG4gICAgICAgICAgICAgICAgbmFub3M6ICgoX2EgPSB0aW1lb3V0UGFydHNbMV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApIHwgMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB0aW1lb3V0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdtYXhSZXF1ZXN0Qnl0ZXMnIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai5tYXhSZXF1ZXN0Qnl0ZXMgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCBtYXhSZXF1ZXN0Qnl0ZXMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubWF4UmVxdWVzdEJ5dGVzID0gb2JqLm1heFJlcXVlc3RCeXRlcztcbiAgICB9XG4gICAgaWYgKCdtYXhSZXNwb25zZUJ5dGVzJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoubWF4UmVzcG9uc2VCeXRlcyAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIG1heFJlcXVlc3RCeXRlcycpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5tYXhSZXNwb25zZUJ5dGVzID0gb2JqLm1heFJlc3BvbnNlQnl0ZXM7XG4gICAgfVxuICAgIGlmICgncmV0cnlQb2xpY3knIGluIG9iaikge1xuICAgICAgICBpZiAoJ2hlZGdpbmdQb2xpY3knIGluIG9iaikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IHJldHJ5UG9saWN5IGFuZCBoZWRnaW5nUG9saWN5IGNhbm5vdCBib3RoIGJlIHNwZWNpZmllZCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnJldHJ5UG9saWN5ID0gdmFsaWRhdGVSZXRyeVBvbGljeShvYmoucmV0cnlQb2xpY3kpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCdoZWRnaW5nUG9saWN5JyBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0LmhlZGdpbmdQb2xpY3kgPSB2YWxpZGF0ZUhlZGdpbmdQb2xpY3kob2JqLmhlZGdpbmdQb2xpY3kpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVSZXRyeVRocm90dGxpbmcob2JqKSB7XG4gICAgaWYgKCEoJ21heFRva2VucycgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLm1heFRva2VucyAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgb2JqLm1heFRva2VucyA8PSAwIHx8XG4gICAgICAgIG9iai5tYXhUb2tlbnMgPiAxMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXRyeVRocm90dGxpbmc6IG1heFRva2VucyBtdXN0IGJlIGEgbnVtYmVyIGluICgwLCAxMDAwXScpO1xuICAgIH1cbiAgICBpZiAoISgndG9rZW5SYXRpbycgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLnRva2VuUmF0aW8gIT09ICdudW1iZXInIHx8XG4gICAgICAgIG9iai50b2tlblJhdGlvIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJldHJ5VGhyb3R0bGluZzogdG9rZW5SYXRpbyBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1heFRva2VuczogK29iai5tYXhUb2tlbnMudG9GaXhlZCgzKSxcbiAgICAgICAgdG9rZW5SYXRpbzogK29iai50b2tlblJhdGlvLnRvRml4ZWQoMyksXG4gICAgfTtcbn1cbmV4cG9ydHMudmFsaWRhdGVSZXRyeVRocm90dGxpbmcgPSB2YWxpZGF0ZVJldHJ5VGhyb3R0bGluZztcbmZ1bmN0aW9uIHZhbGlkYXRlU2VydmljZUNvbmZpZyhvYmopIHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIGxvYWRCYWxhbmNpbmdDb25maWc6IFtdLFxuICAgICAgICBtZXRob2RDb25maWc6IFtdLFxuICAgIH07XG4gICAgaWYgKCdsb2FkQmFsYW5jaW5nUG9saWN5JyBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoubG9hZEJhbGFuY2luZ1BvbGljeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc3VsdC5sb2FkQmFsYW5jaW5nUG9saWN5ID0gb2JqLmxvYWRCYWxhbmNpbmdQb2xpY3k7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWc6IGludmFsaWQgbG9hZEJhbGFuY2luZ1BvbGljeScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnbG9hZEJhbGFuY2luZ0NvbmZpZycgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iai5sb2FkQmFsYW5jaW5nQ29uZmlnKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb25maWcgb2Ygb2JqLmxvYWRCYWxhbmNpbmdDb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQubG9hZEJhbGFuY2luZ0NvbmZpZy5wdXNoKCgwLCBsb2FkX2JhbGFuY2VyXzEudmFsaWRhdGVMb2FkQmFsYW5jaW5nQ29uZmlnKShjb25maWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZzogaW52YWxpZCBsb2FkQmFsYW5jaW5nQ29uZmlnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdtZXRob2RDb25maWcnIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmoubWV0aG9kQ29uZmlnKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtZXRob2RDb25maWcgb2Ygb2JqLm1ldGhvZENvbmZpZykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5tZXRob2RDb25maWcucHVzaCh2YWxpZGF0ZU1ldGhvZENvbmZpZyhtZXRob2RDb25maWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ3JldHJ5VGhyb3R0bGluZycgaW4gb2JqKSB7XG4gICAgICAgIHJlc3VsdC5yZXRyeVRocm90dGxpbmcgPSB2YWxpZGF0ZVJldHJ5VGhyb3R0bGluZyhvYmoucmV0cnlUaHJvdHRsaW5nKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgbWV0aG9kIG5hbWUgdW5pcXVlbmVzc1xuICAgIGNvbnN0IHNlZW5NZXRob2ROYW1lcyA9IFtdO1xuICAgIGZvciAoY29uc3QgbWV0aG9kQ29uZmlnIG9mIHJlc3VsdC5tZXRob2RDb25maWcpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG1ldGhvZENvbmZpZy5uYW1lKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlZW5OYW1lIG9mIHNlZW5NZXRob2ROYW1lcykge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lLnNlcnZpY2UgPT09IHNlZW5OYW1lLnNlcnZpY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgbmFtZS5tZXRob2QgPT09IHNlZW5OYW1lLm1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VydmljZSBjb25maWc6IGR1cGxpY2F0ZSBuYW1lICR7bmFtZS5zZXJ2aWNlfS8ke25hbWUubWV0aG9kfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZW5NZXRob2ROYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnZhbGlkYXRlU2VydmljZUNvbmZpZyA9IHZhbGlkYXRlU2VydmljZUNvbmZpZztcbmZ1bmN0aW9uIHZhbGlkYXRlQ2FuYXJ5Q29uZmlnKG9iaikge1xuICAgIGlmICghKCdzZXJ2aWNlQ29uZmlnJyBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IG1pc3Npbmcgc2VydmljZSBjb25maWcnKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBzZXJ2aWNlQ29uZmlnOiB2YWxpZGF0ZVNlcnZpY2VDb25maWcob2JqLnNlcnZpY2VDb25maWcpLFxuICAgIH07XG4gICAgaWYgKCdjbGllbnRMYW5ndWFnZScgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iai5jbGllbnRMYW5ndWFnZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5jbGllbnRMYW5ndWFnZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYW5nIG9mIG9iai5jbGllbnRMYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFuZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNsaWVudExhbmd1YWdlLnB1c2gobGFuZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIGNsaWVudExhbmd1YWdlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogaW52YWxpZCBjbGllbnRMYW5ndWFnZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnY2xpZW50SG9zdG5hbWUnIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmouY2xpZW50SG9zdG5hbWUpKSB7XG4gICAgICAgICAgICByZXN1bHQuY2xpZW50SG9zdG5hbWUgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGFuZyBvZiBvYmouY2xpZW50SG9zdG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxhbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jbGllbnRIb3N0bmFtZS5wdXNoKGxhbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogaW52YWxpZCBjbGllbnRIb3N0bmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IGludmFsaWQgY2xpZW50SG9zdG5hbWUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ3BlcmNlbnRhZ2UnIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai5wZXJjZW50YWdlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgMCA8PSBvYmoucGVyY2VudGFnZSAmJlxuICAgICAgICAgICAgb2JqLnBlcmNlbnRhZ2UgPD0gMTAwKSB7XG4gICAgICAgICAgICByZXN1bHQucGVyY2VudGFnZSA9IG9iai5wZXJjZW50YWdlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogaW52YWxpZCBwZXJjZW50YWdlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgdGhhdCBubyB1bmV4cGVjdGVkIGZpZWxkcyBhcmUgcHJlc2VudFxuICAgIGNvbnN0IGFsbG93ZWRGaWVsZHMgPSBbXG4gICAgICAgICdjbGllbnRMYW5ndWFnZScsXG4gICAgICAgICdwZXJjZW50YWdlJyxcbiAgICAgICAgJ2NsaWVudEhvc3RuYW1lJyxcbiAgICAgICAgJ3NlcnZpY2VDb25maWcnLFxuICAgIF07XG4gICAgZm9yIChjb25zdCBmaWVsZCBpbiBvYmopIHtcbiAgICAgICAgaWYgKCFhbGxvd2VkRmllbGRzLmluY2x1ZGVzKGZpZWxkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogdW5leHBlY3RlZCBmaWVsZCAke2ZpZWxkfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUFuZFNlbGVjdENhbmFyeUNvbmZpZyhvYmosIHBlcmNlbnRhZ2UpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgbGlzdCcpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNvbmZpZyBvZiBvYmopIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkQ29uZmlnID0gdmFsaWRhdGVDYW5hcnlDb25maWcoY29uZmlnKTtcbiAgICAgICAgLyogRm9yIGVhY2ggZmllbGQsIHdlIGNoZWNrIGlmIGl0IGlzIHByZXNlbnQsIHRoZW4gb25seSBkaXNjYXJkIHRoZVxuICAgICAgICAgKiBjb25maWcgaWYgdGhlIGZpZWxkIHZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZSBjdXJyZW50IGNsaWVudCAqL1xuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRlZENvbmZpZy5wZXJjZW50YWdlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgcGVyY2VudGFnZSA+IHZhbGlkYXRlZENvbmZpZy5wZXJjZW50YWdlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWxpZGF0ZWRDb25maWcuY2xpZW50SG9zdG5hbWUpKSB7XG4gICAgICAgICAgICBsZXQgaG9zdG5hbWVNYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhvc3RuYW1lIG9mIHZhbGlkYXRlZENvbmZpZy5jbGllbnRIb3N0bmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChob3N0bmFtZSA9PT0gb3MuaG9zdG5hbWUoKSkge1xuICAgICAgICAgICAgICAgICAgICBob3N0bmFtZU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaG9zdG5hbWVNYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsaWRhdGVkQ29uZmlnLmNsaWVudExhbmd1YWdlKSkge1xuICAgICAgICAgICAgbGV0IGxhbmd1YWdlTWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYW5ndWFnZSBvZiB2YWxpZGF0ZWRDb25maWcuY2xpZW50TGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2UgPT09IENMSUVOVF9MQU5HVUFHRV9TVFJJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VNYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWxhbmd1YWdlTWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRDb25maWcuc2VydmljZUNvbmZpZztcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBtYXRjaGluZyBzZXJ2aWNlIGNvbmZpZyBmb3VuZCcpO1xufVxuLyoqXG4gKiBGaW5kIHRoZSBcImdycGNfY29uZmlnXCIgcmVjb3JkIGFtb25nIHRoZSBUWFQgcmVjb3JkcywgcGFyc2UgaXRzIHZhbHVlIGFzIEpTT04sIHZhbGlkYXRlIGl0cyBjb250ZW50cyxcbiAqIGFuZCBzZWxlY3QgYSBzZXJ2aWNlIGNvbmZpZyB3aXRoIHNlbGVjdGlvbiBmaWVsZHMgdGhhdCBhbGwgbWF0Y2ggdGhpcyBjbGllbnQuIE1vc3Qgb2YgdGhlc2Ugc3RlcHNcbiAqIGNhbiBmYWlsIHdpdGggYW4gZXJyb3I7IHRoZSBjYWxsZXIgbXVzdCBoYW5kbGUgYW55IGVycm9ycyB0aHJvd24gdGhpcyB3YXkuXG4gKiBAcGFyYW0gdHh0UmVjb3JkIFRoZSBUWFQgcmVjb3JkIGFycmF5IHRoYXQgaXMgb3V0cHV0IGZyb20gYSBzdWNjZXNzZnVsIGNhbGwgdG8gZG5zLnJlc29sdmVUeHRcbiAqIEBwYXJhbSBwZXJjZW50YWdlIEEgbnVtYmVyIGNob3NlbiBmcm9tIHRoZSByYW5nZSBbMCwgMTAwKSB0aGF0IGlzIHVzZWQgdG8gc2VsZWN0IHdoaWNoIGNvbmZpZyB0byB1c2VcbiAqIEByZXR1cm4gVGhlIHNlcnZpY2UgY29uZmlndXJhdGlvbiB0byB1c2UsIGdpdmVuIHRoZSBwZXJjZW50YWdlIHZhbHVlLCBvciBudWxsIGlmIHRoZSBzZXJ2aWNlIGNvbmZpZ1xuICogICAgIGRhdGEgaGFzIGEgdmFsaWQgZm9ybWF0IGJ1dCBub25lIG9mIHRoZSBvcHRpb25zIG1hdGNoIHRoZSBjdXJyZW50IGNsaWVudC5cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWcodHh0UmVjb3JkLCBwZXJjZW50YWdlKSB7XG4gICAgZm9yIChjb25zdCByZWNvcmQgb2YgdHh0UmVjb3JkKSB7XG4gICAgICAgIGlmIChyZWNvcmQubGVuZ3RoID4gMCAmJiByZWNvcmRbMF0uc3RhcnRzV2l0aCgnZ3JwY19jb25maWc9JykpIHtcbiAgICAgICAgICAgIC8qIFRyZWF0IHRoZSBsaXN0IG9mIHN0cmluZ3MgaW4gdGhpcyByZWNvcmQgYXMgYSBzaW5nbGUgc3RyaW5nIGFuZCByZW1vdmVcbiAgICAgICAgICAgICAqIFwiZ3JwY19jb25maWc9XCIgZnJvbSB0aGUgYmVnaW5uaW5nLiBUaGUgcmVzdCBzaG91bGQgYmUgYSBKU09OIHN0cmluZyAqL1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkU3RyaW5nID0gcmVjb3JkLmpvaW4oJycpLnN1YnN0cmluZygnZ3JwY19jb25maWc9Jy5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkSnNvbiA9IEpTT04ucGFyc2UocmVjb3JkU3RyaW5nKTtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZUFuZFNlbGVjdENhbmFyeUNvbmZpZyhyZWNvcmRKc29uLCBwZXJjZW50YWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMuZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWcgPSBleHRyYWN0QW5kU2VsZWN0U2VydmljZUNvbmZpZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZpY2UtY29uZmlnLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4dHJhY3RBbmRTZWxlY3RTZXJ2aWNlQ29uZmlnIiwidmFsaWRhdGVTZXJ2aWNlQ29uZmlnIiwidmFsaWRhdGVSZXRyeVRocm90dGxpbmciLCJvcyIsInJlcXVpcmUiLCJjb25zdGFudHNfMSIsImxvYWRfYmFsYW5jZXJfMSIsIkRVUkFUSU9OX1JFR0VYIiwiQ0xJRU5UX0xBTkdVQUdFX1NUUklORyIsInZhbGlkYXRlTmFtZSIsIm9iaiIsInNlcnZpY2UiLCJFcnJvciIsIm1ldGhvZCIsInVuZGVmaW5lZCIsInZhbGlkYXRlUmV0cnlQb2xpY3kiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJtYXhBdHRlbXB0cyIsImluaXRpYWxCYWNrb2ZmIiwidGVzdCIsIm1heEJhY2tvZmYiLCJiYWNrb2ZmTXVsdGlwbGllciIsIkFycmF5IiwiaXNBcnJheSIsInJldHJ5YWJsZVN0YXR1c0NvZGVzIiwibGVuZ3RoIiwidmFsdWVzIiwiU3RhdHVzIiwiaW5jbHVkZXMiLCJ0b1VwcGVyQ2FzZSIsInZhbGlkYXRlSGVkZ2luZ1BvbGljeSIsImhlZGdpbmdEZWxheSIsIm5vbkZhdGFsU3RhdHVzQ29kZXMiLCJyZXN1bHQiLCJ2YWxpZGF0ZU1ldGhvZENvbmZpZyIsIl9hIiwibmFtZSIsInB1c2giLCJ3YWl0Rm9yUmVhZHkiLCJ0aW1lb3V0Iiwic2Vjb25kcyIsIm5hbm9zIiwidGltZW91dFBhcnRzIiwic3Vic3RyaW5nIiwic3BsaXQiLCJtYXhSZXF1ZXN0Qnl0ZXMiLCJtYXhSZXNwb25zZUJ5dGVzIiwicmV0cnlQb2xpY3kiLCJoZWRnaW5nUG9saWN5IiwibWF4VG9rZW5zIiwidG9rZW5SYXRpbyIsInRvRml4ZWQiLCJsb2FkQmFsYW5jaW5nQ29uZmlnIiwibWV0aG9kQ29uZmlnIiwibG9hZEJhbGFuY2luZ1BvbGljeSIsImNvbmZpZyIsInZhbGlkYXRlTG9hZEJhbGFuY2luZ0NvbmZpZyIsInJldHJ5VGhyb3R0bGluZyIsInNlZW5NZXRob2ROYW1lcyIsInNlZW5OYW1lIiwidmFsaWRhdGVDYW5hcnlDb25maWciLCJzZXJ2aWNlQ29uZmlnIiwiY2xpZW50TGFuZ3VhZ2UiLCJsYW5nIiwiY2xpZW50SG9zdG5hbWUiLCJwZXJjZW50YWdlIiwiYWxsb3dlZEZpZWxkcyIsImZpZWxkIiwidmFsaWRhdGVBbmRTZWxlY3RDYW5hcnlDb25maWciLCJ2YWxpZGF0ZWRDb25maWciLCJob3N0bmFtZU1hdGNoZWQiLCJob3N0bmFtZSIsImxhbmd1YWdlTWF0Y2hlZCIsImxhbmd1YWdlIiwidHh0UmVjb3JkIiwicmVjb3JkIiwic3RhcnRzV2l0aCIsInJlY29yZFN0cmluZyIsImpvaW4iLCJyZWNvcmRKc29uIiwiSlNPTiIsInBhcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/service-config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/status-builder.js":
/*!****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/status-builder.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.StatusBuilder = void 0;\n/**\n * A builder for gRPC status objects.\n */\nclass StatusBuilder {\n  constructor() {\n    this.code = null;\n    this.details = null;\n    this.metadata = null;\n  }\n  /**\n   * Adds a status code to the builder.\n   */\n  withCode(code) {\n    this.code = code;\n    return this;\n  }\n  /**\n   * Adds details to the builder.\n   */\n  withDetails(details) {\n    this.details = details;\n    return this;\n  }\n  /**\n   * Adds metadata to the builder.\n   */\n  withMetadata(metadata) {\n    this.metadata = metadata;\n    return this;\n  }\n  /**\n   * Builds the status object.\n   */\n  build() {\n    const status = {};\n    if (this.code !== null) {\n      status.code = this.code;\n    }\n    if (this.details !== null) {\n      status.details = this.details;\n    }\n    if (this.metadata !== null) {\n      status.metadata = this.metadata;\n    }\n    return status;\n  }\n}\nexports.StatusBuilder = StatusBuilder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3RhdHVzLWJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQscUJBQXFCLEdBQUcsS0FBSyxDQUFDO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLE1BQU1FLGFBQWEsQ0FBQztFQUNoQkMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDQyxJQUFJLEdBQUcsSUFBSTtJQUNoQixJQUFJLENBQUNDLE9BQU8sR0FBRyxJQUFJO0lBQ25CLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUk7RUFDeEI7RUFDQTtBQUNKO0FBQ0E7RUFDSUMsUUFBUUEsQ0FBQ0gsSUFBSSxFQUFFO0lBQ1gsSUFBSSxDQUFDQSxJQUFJLEdBQUdBLElBQUk7SUFDaEIsT0FBTyxJQUFJO0VBQ2Y7RUFDQTtBQUNKO0FBQ0E7RUFDSUksV0FBV0EsQ0FBQ0gsT0FBTyxFQUFFO0lBQ2pCLElBQUksQ0FBQ0EsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLE9BQU8sSUFBSTtFQUNmO0VBQ0E7QUFDSjtBQUNBO0VBQ0lJLFlBQVlBLENBQUNILFFBQVEsRUFBRTtJQUNuQixJQUFJLENBQUNBLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixPQUFPLElBQUk7RUFDZjtFQUNBO0FBQ0o7QUFDQTtFQUNJSSxLQUFLQSxDQUFBLEVBQUc7SUFDSixNQUFNQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLElBQUksSUFBSSxDQUFDUCxJQUFJLEtBQUssSUFBSSxFQUFFO01BQ3BCTyxNQUFNLENBQUNQLElBQUksR0FBRyxJQUFJLENBQUNBLElBQUk7SUFDM0I7SUFDQSxJQUFJLElBQUksQ0FBQ0MsT0FBTyxLQUFLLElBQUksRUFBRTtNQUN2Qk0sTUFBTSxDQUFDTixPQUFPLEdBQUcsSUFBSSxDQUFDQSxPQUFPO0lBQ2pDO0lBQ0EsSUFBSSxJQUFJLENBQUNDLFFBQVEsS0FBSyxJQUFJLEVBQUU7TUFDeEJLLE1BQU0sQ0FBQ0wsUUFBUSxHQUFHLElBQUksQ0FBQ0EsUUFBUTtJQUNuQztJQUNBLE9BQU9LLE1BQU07RUFDakI7QUFDSjtBQUNBWCxxQkFBcUIsR0FBR0UsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3RhdHVzLWJ1aWxkZXIuanM/ZDI5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdGF0dXNCdWlsZGVyID0gdm9pZCAwO1xuLyoqXG4gKiBBIGJ1aWxkZXIgZm9yIGdSUEMgc3RhdHVzIG9iamVjdHMuXG4gKi9cbmNsYXNzIFN0YXR1c0J1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBudWxsO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHN0YXR1cyBjb2RlIHRvIHRoZSBidWlsZGVyLlxuICAgICAqL1xuICAgIHdpdGhDb2RlKGNvZGUpIHtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgZGV0YWlscyB0byB0aGUgYnVpbGRlci5cbiAgICAgKi9cbiAgICB3aXRoRGV0YWlscyhkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIG1ldGFkYXRhIHRvIHRoZSBidWlsZGVyLlxuICAgICAqL1xuICAgIHdpdGhNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIHN0YXR1cyBvYmplY3QuXG4gICAgICovXG4gICAgYnVpbGQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5jb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0dXMuY29kZSA9IHRoaXMuY29kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXRhaWxzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0dXMuZGV0YWlscyA9IHRoaXMuZGV0YWlscztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdHVzLm1ldGFkYXRhID0gdGhpcy5tZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RhdHVzQnVpbGRlciA9IFN0YXR1c0J1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0dXMtYnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJTdGF0dXNCdWlsZGVyIiwiY29uc3RydWN0b3IiLCJjb2RlIiwiZGV0YWlscyIsIm1ldGFkYXRhIiwid2l0aENvZGUiLCJ3aXRoRGV0YWlscyIsIndpdGhNZXRhZGF0YSIsImJ1aWxkIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/status-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/stream-decoder.js":
/*!****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/stream-decoder.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.StreamDecoder = void 0;\nvar ReadState;\n(function (ReadState) {\n  ReadState[ReadState[\"NO_DATA\"] = 0] = \"NO_DATA\";\n  ReadState[ReadState[\"READING_SIZE\"] = 1] = \"READING_SIZE\";\n  ReadState[ReadState[\"READING_MESSAGE\"] = 2] = \"READING_MESSAGE\";\n})(ReadState || (ReadState = {}));\nclass StreamDecoder {\n  constructor() {\n    this.readState = ReadState.NO_DATA;\n    this.readCompressFlag = Buffer.alloc(1);\n    this.readPartialSize = Buffer.alloc(4);\n    this.readSizeRemaining = 4;\n    this.readMessageSize = 0;\n    this.readPartialMessage = [];\n    this.readMessageRemaining = 0;\n  }\n  write(data) {\n    let readHead = 0;\n    let toRead;\n    const result = [];\n    while (readHead < data.length) {\n      switch (this.readState) {\n        case ReadState.NO_DATA:\n          this.readCompressFlag = data.slice(readHead, readHead + 1);\n          readHead += 1;\n          this.readState = ReadState.READING_SIZE;\n          this.readPartialSize.fill(0);\n          this.readSizeRemaining = 4;\n          this.readMessageSize = 0;\n          this.readMessageRemaining = 0;\n          this.readPartialMessage = [];\n          break;\n        case ReadState.READING_SIZE:\n          toRead = Math.min(data.length - readHead, this.readSizeRemaining);\n          data.copy(this.readPartialSize, 4 - this.readSizeRemaining, readHead, readHead + toRead);\n          this.readSizeRemaining -= toRead;\n          readHead += toRead;\n          // readSizeRemaining >=0 here\n          if (this.readSizeRemaining === 0) {\n            this.readMessageSize = this.readPartialSize.readUInt32BE(0);\n            this.readMessageRemaining = this.readMessageSize;\n            if (this.readMessageRemaining > 0) {\n              this.readState = ReadState.READING_MESSAGE;\n            } else {\n              const message = Buffer.concat([this.readCompressFlag, this.readPartialSize], 5);\n              this.readState = ReadState.NO_DATA;\n              result.push(message);\n            }\n          }\n          break;\n        case ReadState.READING_MESSAGE:\n          toRead = Math.min(data.length - readHead, this.readMessageRemaining);\n          this.readPartialMessage.push(data.slice(readHead, readHead + toRead));\n          this.readMessageRemaining -= toRead;\n          readHead += toRead;\n          // readMessageRemaining >=0 here\n          if (this.readMessageRemaining === 0) {\n            // At this point, we have read a full message\n            const framedMessageBuffers = [this.readCompressFlag, this.readPartialSize].concat(this.readPartialMessage);\n            const framedMessage = Buffer.concat(framedMessageBuffers, this.readMessageSize + 5);\n            this.readState = ReadState.NO_DATA;\n            result.push(framedMessage);\n          }\n          break;\n        default:\n          throw new Error('Unexpected read state');\n      }\n    }\n    return result;\n  }\n}\nexports.StreamDecoder = StreamDecoder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3RyZWFtLWRlY29kZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQscUJBQXFCLEdBQUcsS0FBSyxDQUFDO0FBQzlCLElBQUlHLFNBQVM7QUFDYixDQUFDLFVBQVVBLFNBQVMsRUFBRTtFQUNsQkEsU0FBUyxDQUFDQSxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsU0FBUztFQUMvQ0EsU0FBUyxDQUFDQSxTQUFTLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsY0FBYztFQUN6REEsU0FBUyxDQUFDQSxTQUFTLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxpQkFBaUI7QUFDbkUsQ0FBQyxFQUFFQSxTQUFTLEtBQUtBLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLE1BQU1ELGFBQWEsQ0FBQztFQUNoQkUsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDQyxTQUFTLEdBQUdGLFNBQVMsQ0FBQ0csT0FBTztJQUNsQyxJQUFJLENBQUNDLGdCQUFnQixHQUFHQyxNQUFNLENBQUNDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDdkMsSUFBSSxDQUFDQyxlQUFlLEdBQUdGLE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUNFLGlCQUFpQixHQUFHLENBQUM7SUFDMUIsSUFBSSxDQUFDQyxlQUFlLEdBQUcsQ0FBQztJQUN4QixJQUFJLENBQUNDLGtCQUFrQixHQUFHLEVBQUU7SUFDNUIsSUFBSSxDQUFDQyxvQkFBb0IsR0FBRyxDQUFDO0VBQ2pDO0VB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QUFNLENBQUNFLG9CQUFvQixFQUFFLElBQUksQ0FBQ3BCLGVBQWUsR0FBRyxDQUFDLENBQUM7WUFDbkYsSUFBSSxDQUFDUCxTQUFTLEdBQUdGLFNBQVMsQ0FBQ0csT0FBTztZQUNsQ2EsTUFBTSxDQUFDWSxJQUFJLENBQUNFLGFBQWEsQ0FBQztVQUM5QjtVQUNBO1FBQ0o7VUFDSSxNQUFNLElBQUlDLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQztNQUNoRDtJQUNKO0lBQ0EsT0FBT2YsTUFBTTtFQUNqQjtBQUNKO0FBQ0FuQixxQkFBcUIsR0FBR0UsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3RyZWFtLWRlY29kZXIuanM/NmNiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdHJlYW1EZWNvZGVyID0gdm9pZCAwO1xudmFyIFJlYWRTdGF0ZTtcbihmdW5jdGlvbiAoUmVhZFN0YXRlKSB7XG4gICAgUmVhZFN0YXRlW1JlYWRTdGF0ZVtcIk5PX0RBVEFcIl0gPSAwXSA9IFwiTk9fREFUQVwiO1xuICAgIFJlYWRTdGF0ZVtSZWFkU3RhdGVbXCJSRUFESU5HX1NJWkVcIl0gPSAxXSA9IFwiUkVBRElOR19TSVpFXCI7XG4gICAgUmVhZFN0YXRlW1JlYWRTdGF0ZVtcIlJFQURJTkdfTUVTU0FHRVwiXSA9IDJdID0gXCJSRUFESU5HX01FU1NBR0VcIjtcbn0pKFJlYWRTdGF0ZSB8fCAoUmVhZFN0YXRlID0ge30pKTtcbmNsYXNzIFN0cmVhbURlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5OT19EQVRBO1xuICAgICAgICB0aGlzLnJlYWRDb21wcmVzc0ZsYWcgPSBCdWZmZXIuYWxsb2MoMSk7XG4gICAgICAgIHRoaXMucmVhZFBhcnRpYWxTaXplID0gQnVmZmVyLmFsbG9jKDQpO1xuICAgICAgICB0aGlzLnJlYWRTaXplUmVtYWluaW5nID0gNDtcbiAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVNpemUgPSAwO1xuICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsTWVzc2FnZSA9IFtdO1xuICAgICAgICB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nID0gMDtcbiAgICB9XG4gICAgd3JpdGUoZGF0YSkge1xuICAgICAgICBsZXQgcmVhZEhlYWQgPSAwO1xuICAgICAgICBsZXQgdG9SZWFkO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKHJlYWRIZWFkIDwgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5yZWFkU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFJlYWRTdGF0ZS5OT19EQVRBOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRDb21wcmVzc0ZsYWcgPSBkYXRhLnNsaWNlKHJlYWRIZWFkLCByZWFkSGVhZCArIDEpO1xuICAgICAgICAgICAgICAgICAgICByZWFkSGVhZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5SRUFESU5HX1NJWkU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFBhcnRpYWxTaXplLmZpbGwoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFNpemVSZW1haW5pbmcgPSA0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsTWVzc2FnZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFJlYWRTdGF0ZS5SRUFESU5HX1NJWkU6XG4gICAgICAgICAgICAgICAgICAgIHRvUmVhZCA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gcmVhZEhlYWQsIHRoaXMucmVhZFNpemVSZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmNvcHkodGhpcy5yZWFkUGFydGlhbFNpemUsIDQgLSB0aGlzLnJlYWRTaXplUmVtYWluaW5nLCByZWFkSGVhZCwgcmVhZEhlYWQgKyB0b1JlYWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTaXplUmVtYWluaW5nIC09IHRvUmVhZDtcbiAgICAgICAgICAgICAgICAgICAgcmVhZEhlYWQgKz0gdG9SZWFkO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWFkU2l6ZVJlbWFpbmluZyA+PTAgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkU2l6ZVJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVNpemUgPSB0aGlzLnJlYWRQYXJ0aWFsU2l6ZS5yZWFkVUludDMyQkUoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nID0gdGhpcy5yZWFkTWVzc2FnZVNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5SRUFESU5HX01FU1NBR0U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5yZWFkQ29tcHJlc3NGbGFnLCB0aGlzLnJlYWRQYXJ0aWFsU2l6ZV0sIDUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLk5PX0RBVEE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBSZWFkU3RhdGUuUkVBRElOR19NRVNTQUdFOlxuICAgICAgICAgICAgICAgICAgICB0b1JlYWQgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIHJlYWRIZWFkLCB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkUGFydGlhbE1lc3NhZ2UucHVzaChkYXRhLnNsaWNlKHJlYWRIZWFkLCByZWFkSGVhZCArIHRvUmVhZCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nIC09IHRvUmVhZDtcbiAgICAgICAgICAgICAgICAgICAgcmVhZEhlYWQgKz0gdG9SZWFkO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWFkTWVzc2FnZVJlbWFpbmluZyA+PTAgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSByZWFkIGEgZnVsbCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZWRNZXNzYWdlQnVmZmVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRDb21wcmVzc0ZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkUGFydGlhbFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmNvbmNhdCh0aGlzLnJlYWRQYXJ0aWFsTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZWRNZXNzYWdlID0gQnVmZmVyLmNvbmNhdChmcmFtZWRNZXNzYWdlQnVmZmVycywgdGhpcy5yZWFkTWVzc2FnZVNpemUgKyA1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLk5PX0RBVEE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmcmFtZWRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgcmVhZCBzdGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5TdHJlYW1EZWNvZGVyID0gU3RyZWFtRGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbS1kZWNvZGVyLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlN0cmVhbURlY29kZXIiLCJSZWFkU3RhdGUiLCJjb25zdHJ1Y3RvciIsInJlYWRTdGF0ZSIsIk5PX0RBVEEiLCJyZWFkQ29tcHJlc3NGbGFnIiwiQnVmZmVyIiwiYWxsb2MiLCJyZWFkUGFydGlhbFNpemUiLCJyZWFkU2l6ZVJlbWFpbmluZyIsInJlYWRNZXNzYWdlU2l6ZSIsInJlYWRQYXJ0aWFsTWVzc2FnZSIsInJlYWRNZXNzYWdlUmVtYWluaW5nIiwid3JpdGUiLCJkYXRhIiwicmVhZEhlYWQiLCJ0b1JlYWQiLCJyZXN1bHQiLCJsZW5ndGgiLCJzbGljZSIsIlJFQURJTkdfU0laRSIsImZpbGwiLCJNYXRoIiwibWluIiwiY29weSIsInJlYWRVSW50MzJCRSIsIlJFQURJTkdfTUVTU0FHRSIsIm1lc3NhZ2UiLCJjb25jYXQiLCJwdXNoIiwiZnJhbWVkTWVzc2FnZUJ1ZmZlcnMiLCJmcmFtZWRNZXNzYWdlIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/stream-decoder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js":
/*!********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/subchannel-address.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.stringToSubchannelAddress = exports.subchannelAddressToString = exports.subchannelAddressEqual = exports.isTcpSubchannelAddress = void 0;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nfunction isTcpSubchannelAddress(address) {\n  return 'port' in address;\n}\nexports.isTcpSubchannelAddress = isTcpSubchannelAddress;\nfunction subchannelAddressEqual(address1, address2) {\n  if (!address1 && !address2) {\n    return true;\n  }\n  if (!address1 || !address2) {\n    return false;\n  }\n  if (isTcpSubchannelAddress(address1)) {\n    return isTcpSubchannelAddress(address2) && address1.host === address2.host && address1.port === address2.port;\n  } else {\n    return !isTcpSubchannelAddress(address2) && address1.path === address2.path;\n  }\n}\nexports.subchannelAddressEqual = subchannelAddressEqual;\nfunction subchannelAddressToString(address) {\n  if (isTcpSubchannelAddress(address)) {\n    return address.host + ':' + address.port;\n  } else {\n    return address.path;\n  }\n}\nexports.subchannelAddressToString = subchannelAddressToString;\nconst DEFAULT_PORT = 443;\nfunction stringToSubchannelAddress(addressString, port) {\n  if ((0, net_1.isIP)(addressString)) {\n    return {\n      host: addressString,\n      port: port !== null && port !== void 0 ? port : DEFAULT_PORT\n    };\n  } else {\n    return {\n      path: addressString\n    };\n  }\n}\nexports.stringToSubchannelAddress = stringToSubchannelAddress;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1hZGRyZXNzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGlDQUFpQyxHQUFHQSxpQ0FBaUMsR0FBR0EsOEJBQThCLEdBQUdBLDhCQUE4QixHQUFHLEtBQUssQ0FBQztBQUNoSixNQUFNTSxLQUFLLEdBQUdDLG1CQUFPLENBQUMsZ0JBQUssQ0FBQztBQUM1QixTQUFTRixzQkFBc0JBLENBQUNHLE9BQU8sRUFBRTtFQUNyQyxPQUFPLE1BQU0sSUFBSUEsT0FBTztBQUM1QjtBQUNBUiw4QkFBOEIsR0FBR0ssc0JBQXNCO0FBQ3ZELFNBQVNELHNCQUFzQkEsQ0FBQ0ssUUFBUSxFQUFFQyxRQUFRLEVBQUU7RUFDaEQsSUFBSSxDQUFDRCxRQUFRLElBQUksQ0FBQ0MsUUFBUSxFQUFFO0lBQ3hCLE9BQU8sSUFBSTtFQUNmO0VBQ0EsSUFBSSxDQUFDRCxRQUFRLElBQUksQ0FBQ0MsUUFBUSxFQUFFO0lBQ3hCLE9BQU8sS0FBSztFQUNoQjtFQUNBLElBQUlMLHNCQUFzQixDQUFDSSxRQUFRLENBQUMsRUFBRTtJQUNsQyxPQUFRSixzQkFBc0IsQ0FBQ0ssUUFBUSxDQUFDLElBQ3BDRCxRQUFRLENBQUNFLElBQUksS0FBS0QsUUFBUSxDQUFDQyxJQUFJLElBQy9CRixRQUFRLENBQUNHLElBQUksS0FBS0YsUUFBUSxDQUFDRSxJQUFJO0VBQ3ZDLENBQUMsTUFDSTtJQUNELE9BQU8sQ0FBQ1Asc0JBQXNCLENBQUNLLFFBQVEsQ0FBQyxJQUFJRCxRQUFRLENBQUNJLElBQUksS0FBS0gsUUFBUSxDQUFDRyxJQUFJO0VBQy9FO0FBQ0o7QUFDQWIsOEJBQThCLEdBQUdJLHNCQUFzQjtBQUN2RCxTQUFTRCx5QkFBeUJBLENBQUNLLE9BQU8sRUFBRTtFQUN4QyxJQUFJSCxzQkFBc0IsQ0FBQ0csT0FBTyxDQUFDLEVBQUU7SUFDakMsT0FBT0EsT0FBTyxDQUFDRyxJQUFJLEdBQUcsR0FBRyxHQUFHSCxPQUFPLENBQUNJLElBQUk7RUFDNUMsQ0FBQyxNQUNJO0lBQ0QsT0FBT0osT0FBTyxDQUFDSyxJQUFJO0VBQ3ZCO0FBQ0o7QUFDQWIsaUNBQWlDLEdBQUdHLHlCQUF5QjtBQUM3RCxNQUFNVyxZQUFZLEdBQUcsR0FBRztBQUN4QixTQUFTWix5QkFBeUJBLENBQUNhLGFBQWEsRUFBRUgsSUFBSSxFQUFFO0VBQ3BELElBQUksQ0FBQyxDQUFDLEVBQUVOLEtBQUssQ0FBQ1UsSUFBSSxFQUFFRCxhQUFhLENBQUMsRUFBRTtJQUNoQyxPQUFPO01BQ0hKLElBQUksRUFBRUksYUFBYTtNQUNuQkgsSUFBSSxFQUFFQSxJQUFJLEtBQUssSUFBSSxJQUFJQSxJQUFJLEtBQUssS0FBSyxDQUFDLEdBQUdBLElBQUksR0FBR0U7SUFDcEQsQ0FBQztFQUNMLENBQUMsTUFDSTtJQUNELE9BQU87TUFDSEQsSUFBSSxFQUFFRTtJQUNWLENBQUM7RUFDTDtBQUNKO0FBQ0FmLGlDQUFpQyxHQUFHRSx5QkFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N1YmNoYW5uZWwtYWRkcmVzcy5qcz9iYTMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MgPSBleHBvcnRzLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcgPSBleHBvcnRzLnN1YmNoYW5uZWxBZGRyZXNzRXF1YWwgPSBleHBvcnRzLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MgPSB2b2lkIDA7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5mdW5jdGlvbiBpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICByZXR1cm4gJ3BvcnQnIGluIGFkZHJlc3M7XG59XG5leHBvcnRzLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MgPSBpc1RjcFN1YmNoYW5uZWxBZGRyZXNzO1xuZnVuY3Rpb24gc3ViY2hhbm5lbEFkZHJlc3NFcXVhbChhZGRyZXNzMSwgYWRkcmVzczIpIHtcbiAgICBpZiAoIWFkZHJlc3MxICYmICFhZGRyZXNzMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhZGRyZXNzMSB8fCAhYWRkcmVzczIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNUY3BTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzMSkpIHtcbiAgICAgICAgcmV0dXJuIChpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MyKSAmJlxuICAgICAgICAgICAgYWRkcmVzczEuaG9zdCA9PT0gYWRkcmVzczIuaG9zdCAmJlxuICAgICAgICAgICAgYWRkcmVzczEucG9ydCA9PT0gYWRkcmVzczIucG9ydCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gIWlzVGNwU3ViY2hhbm5lbEFkZHJlc3MoYWRkcmVzczIpICYmIGFkZHJlc3MxLnBhdGggPT09IGFkZHJlc3MyLnBhdGg7XG4gICAgfVxufVxuZXhwb3J0cy5zdWJjaGFubmVsQWRkcmVzc0VxdWFsID0gc3ViY2hhbm5lbEFkZHJlc3NFcXVhbDtcbmZ1bmN0aW9uIHN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcoYWRkcmVzcykge1xuICAgIGlmIChpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MpKSB7XG4gICAgICAgIHJldHVybiBhZGRyZXNzLmhvc3QgKyAnOicgKyBhZGRyZXNzLnBvcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYWRkcmVzcy5wYXRoO1xuICAgIH1cbn1cbmV4cG9ydHMuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZyA9IHN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmc7XG5jb25zdCBERUZBVUxUX1BPUlQgPSA0NDM7XG5mdW5jdGlvbiBzdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3NTdHJpbmcsIHBvcnQpIHtcbiAgICBpZiAoKDAsIG5ldF8xLmlzSVApKGFkZHJlc3NTdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3N0OiBhZGRyZXNzU3RyaW5nLFxuICAgICAgICAgICAgcG9ydDogcG9ydCAhPT0gbnVsbCAmJiBwb3J0ICE9PSB2b2lkIDAgPyBwb3J0IDogREVGQVVMVF9QT1JULFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhdGg6IGFkZHJlc3NTdHJpbmcsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzID0gc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtYWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJzdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzIiwic3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZyIsInN1YmNoYW5uZWxBZGRyZXNzRXF1YWwiLCJpc1RjcFN1YmNoYW5uZWxBZGRyZXNzIiwibmV0XzEiLCJyZXF1aXJlIiwiYWRkcmVzcyIsImFkZHJlc3MxIiwiYWRkcmVzczIiLCJob3N0IiwicG9ydCIsInBhdGgiLCJERUZBVUxUX1BPUlQiLCJhZGRyZXNzU3RyaW5nIiwiaXNJUCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-call.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/subchannel-call.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Http2SubchannelCall = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst os = __webpack_require__(/*! os */ \"os\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst stream_decoder_1 = __webpack_require__(/*! ./stream-decoder */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/stream-decoder.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst TRACER_NAME = 'subchannel_call';\n/**\n * Should do approximately the same thing as util.getSystemErrorName but the\n * TypeScript types don't have that function for some reason so I just made my\n * own.\n * @param errno\n */\nfunction getSystemErrorName(errno) {\n  for (const [name, num] of Object.entries(os.constants.errno)) {\n    if (num === errno) {\n      return name;\n    }\n  }\n  return 'Unknown system error ' + errno;\n}\nclass Http2SubchannelCall {\n  constructor(http2Stream, callEventTracker, listener, transport, callId) {\n    this.http2Stream = http2Stream;\n    this.callEventTracker = callEventTracker;\n    this.listener = listener;\n    this.transport = transport;\n    this.callId = callId;\n    this.decoder = new stream_decoder_1.StreamDecoder();\n    this.isReadFilterPending = false;\n    this.isPushPending = false;\n    this.canPush = false;\n    /**\n     * Indicates that an 'end' event has come from the http2 stream, so there\n     * will be no more data events.\n     */\n    this.readsClosed = false;\n    this.statusOutput = false;\n    this.unpushedReadMessages = [];\n    // Status code mapped from :status. To be used if grpc-status is not received\n    this.mappedStatusCode = constants_1.Status.UNKNOWN;\n    // This is populated (non-null) if and only if the call has ended\n    this.finalStatus = null;\n    this.internalError = null;\n    http2Stream.on('response', (headers, flags) => {\n      let headersString = '';\n      for (const header of Object.keys(headers)) {\n        headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n      }\n      this.trace('Received server headers:\\n' + headersString);\n      switch (headers[':status']) {\n        // TODO(murgatroid99): handle 100 and 101\n        case 400:\n          this.mappedStatusCode = constants_1.Status.INTERNAL;\n          break;\n        case 401:\n          this.mappedStatusCode = constants_1.Status.UNAUTHENTICATED;\n          break;\n        case 403:\n          this.mappedStatusCode = constants_1.Status.PERMISSION_DENIED;\n          break;\n        case 404:\n          this.mappedStatusCode = constants_1.Status.UNIMPLEMENTED;\n          break;\n        case 429:\n        case 502:\n        case 503:\n        case 504:\n          this.mappedStatusCode = constants_1.Status.UNAVAILABLE;\n          break;\n        default:\n          this.mappedStatusCode = constants_1.Status.UNKNOWN;\n      }\n      if (flags & http2.constants.NGHTTP2_FLAG_END_STREAM) {\n        this.handleTrailers(headers);\n      } else {\n        let metadata;\n        try {\n          metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n        } catch (error) {\n          this.endCall({\n            code: constants_1.Status.UNKNOWN,\n            details: error.message,\n            metadata: new metadata_1.Metadata()\n          });\n          return;\n        }\n        this.listener.onReceiveMetadata(metadata);\n      }\n    });\n    http2Stream.on('trailers', headers => {\n      this.handleTrailers(headers);\n    });\n    http2Stream.on('data', data => {\n      /* If the status has already been output, allow the http2 stream to\n       * drain without processing the data. */\n      if (this.statusOutput) {\n        return;\n      }\n      this.trace('receive HTTP/2 data frame of length ' + data.length);\n      const messages = this.decoder.write(data);\n      for (const message of messages) {\n        this.trace('parsed message of length ' + message.length);\n        this.callEventTracker.addMessageReceived();\n        this.tryPush(message);\n      }\n    });\n    http2Stream.on('end', () => {\n      this.readsClosed = true;\n      this.maybeOutputStatus();\n    });\n    http2Stream.on('close', () => {\n      /* Use process.next tick to ensure that this code happens after any\n       * \"error\" event that may be emitted at about the same time, so that\n       * we can bubble up the error message from that event. */\n      process.nextTick(() => {\n        var _a;\n        this.trace('HTTP/2 stream closed with code ' + http2Stream.rstCode);\n        /* If we have a final status with an OK status code, that means that\n         * we have received all of the messages and we have processed the\n         * trailers and the call completed successfully, so it doesn't matter\n         * how the stream ends after that */\n        if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n          return;\n        }\n        let code;\n        let details = '';\n        switch (http2Stream.rstCode) {\n          case http2.constants.NGHTTP2_NO_ERROR:\n            /* If we get a NO_ERROR code and we already have a status, the\n             * stream completed properly and we just haven't fully processed\n             * it yet */\n            if (this.finalStatus !== null) {\n              return;\n            }\n            code = constants_1.Status.INTERNAL;\n            details = `Received RST_STREAM with code ${http2Stream.rstCode}`;\n            break;\n          case http2.constants.NGHTTP2_REFUSED_STREAM:\n            code = constants_1.Status.UNAVAILABLE;\n            details = 'Stream refused by server';\n            break;\n          case http2.constants.NGHTTP2_CANCEL:\n            code = constants_1.Status.CANCELLED;\n            details = 'Call cancelled';\n            break;\n          case http2.constants.NGHTTP2_ENHANCE_YOUR_CALM:\n            code = constants_1.Status.RESOURCE_EXHAUSTED;\n            details = 'Bandwidth exhausted or memory limit exceeded';\n            break;\n          case http2.constants.NGHTTP2_INADEQUATE_SECURITY:\n            code = constants_1.Status.PERMISSION_DENIED;\n            details = 'Protocol not secure enough';\n            break;\n          case http2.constants.NGHTTP2_INTERNAL_ERROR:\n            code = constants_1.Status.INTERNAL;\n            if (this.internalError === null) {\n              /* This error code was previously handled in the default case, and\n               * there are several instances of it online, so I wanted to\n               * preserve the original error message so that people find existing\n               * information in searches, but also include the more recognizable\n               * \"Internal server error\" message. */\n              details = `Received RST_STREAM with code ${http2Stream.rstCode} (Internal server error)`;\n            } else {\n              if (this.internalError.code === 'ECONNRESET' || this.internalError.code === 'ETIMEDOUT') {\n                code = constants_1.Status.UNAVAILABLE;\n                details = this.internalError.message;\n              } else {\n                /* The \"Received RST_STREAM with code ...\" error is preserved\n                 * here for continuity with errors reported online, but the\n                 * error message at the end will probably be more relevant in\n                 * most cases. */\n                details = `Received RST_STREAM with code ${http2Stream.rstCode} triggered by internal client error: ${this.internalError.message}`;\n              }\n            }\n            break;\n          default:\n            code = constants_1.Status.INTERNAL;\n            details = `Received RST_STREAM with code ${http2Stream.rstCode}`;\n        }\n        // This is a no-op if trailers were received at all.\n        // This is OK, because status codes emitted here correspond to more\n        // catastrophic issues that prevent us from receiving trailers in the\n        // first place.\n        this.endCall({\n          code,\n          details,\n          metadata: new metadata_1.Metadata(),\n          rstCode: http2Stream.rstCode\n        });\n      });\n    });\n    http2Stream.on('error', err => {\n      /* We need an error handler here to stop \"Uncaught Error\" exceptions\n       * from bubbling up. However, errors here should all correspond to\n       * \"close\" events, where we will handle the error more granularly */\n      /* Specifically looking for stream errors that were *not* constructed\n       * from a RST_STREAM response here:\n       * https://github.com/nodejs/node/blob/8b8620d580314050175983402dfddf2674e8e22a/lib/internal/http2/core.js#L2267\n       */\n      if (err.code !== 'ERR_HTTP2_STREAM_ERROR') {\n        this.trace('Node error event: message=' + err.message + ' code=' + err.code + ' errno=' + getSystemErrorName(err.errno) + ' syscall=' + err.syscall);\n        this.internalError = err;\n      }\n      this.callEventTracker.onStreamEnd(false);\n    });\n  }\n  onDisconnect() {\n    this.endCall({\n      code: constants_1.Status.UNAVAILABLE,\n      details: 'Connection dropped',\n      metadata: new metadata_1.Metadata()\n    });\n  }\n  outputStatus() {\n    /* Precondition: this.finalStatus !== null */\n    if (!this.statusOutput) {\n      this.statusOutput = true;\n      this.trace('ended with status: code=' + this.finalStatus.code + ' details=\"' + this.finalStatus.details + '\"');\n      this.callEventTracker.onCallEnd(this.finalStatus);\n      /* We delay the actual action of bubbling up the status to insulate the\n       * cleanup code in this class from any errors that may be thrown in the\n       * upper layers as a result of bubbling up the status. In particular,\n       * if the status is not OK, the \"error\" event may be emitted\n       * synchronously at the top level, which will result in a thrown error if\n       * the user does not handle that event. */\n      process.nextTick(() => {\n        this.listener.onReceiveStatus(this.finalStatus);\n      });\n      /* Leave the http2 stream in flowing state to drain incoming messages, to\n       * ensure that the stream closure completes. The call stream already does\n       * not push more messages after the status is output, so the messages go\n       * nowhere either way. */\n      this.http2Stream.resume();\n    }\n  }\n  trace(text) {\n    logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callId + '] ' + text);\n  }\n  /**\n   * On first call, emits a 'status' event with the given StatusObject.\n   * Subsequent calls are no-ops.\n   * @param status The status of the call.\n   */\n  endCall(status) {\n    /* If the status is OK and a new status comes in (e.g. from a\n     * deserialization failure), that new status takes priority */\n    if (this.finalStatus === null || this.finalStatus.code === constants_1.Status.OK) {\n      this.finalStatus = status;\n      this.maybeOutputStatus();\n    }\n    this.destroyHttp2Stream();\n  }\n  maybeOutputStatus() {\n    if (this.finalStatus !== null) {\n      /* The combination check of readsClosed and that the two message buffer\n       * arrays are empty checks that there all incoming data has been fully\n       * processed */\n      if (this.finalStatus.code !== constants_1.Status.OK || this.readsClosed && this.unpushedReadMessages.length === 0 && !this.isReadFilterPending && !this.isPushPending) {\n        this.outputStatus();\n      }\n    }\n  }\n  push(message) {\n    this.trace('pushing to reader message of length ' + (message instanceof Buffer ? message.length : null));\n    this.canPush = false;\n    this.isPushPending = true;\n    process.nextTick(() => {\n      this.isPushPending = false;\n      /* If we have already output the status any later messages should be\n       * ignored, and can cause out-of-order operation errors higher up in the\n       * stack. Checking as late as possible here to avoid any race conditions.\n       */\n      if (this.statusOutput) {\n        return;\n      }\n      this.listener.onReceiveMessage(message);\n      this.maybeOutputStatus();\n    });\n  }\n  tryPush(messageBytes) {\n    if (this.canPush) {\n      this.http2Stream.pause();\n      this.push(messageBytes);\n    } else {\n      this.trace('unpushedReadMessages.push message of length ' + messageBytes.length);\n      this.unpushedReadMessages.push(messageBytes);\n    }\n  }\n  handleTrailers(headers) {\n    this.callEventTracker.onStreamEnd(true);\n    let headersString = '';\n    for (const header of Object.keys(headers)) {\n      headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n    }\n    this.trace('Received server trailers:\\n' + headersString);\n    let metadata;\n    try {\n      metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n    } catch (e) {\n      metadata = new metadata_1.Metadata();\n    }\n    const metadataMap = metadata.getMap();\n    let code = this.mappedStatusCode;\n    if (code === constants_1.Status.UNKNOWN && typeof metadataMap['grpc-status'] === 'string') {\n      const receivedStatus = Number(metadataMap['grpc-status']);\n      if (receivedStatus in constants_1.Status) {\n        code = receivedStatus;\n        this.trace('received status code ' + receivedStatus + ' from server');\n      }\n      metadata.remove('grpc-status');\n    }\n    let details = '';\n    if (typeof metadataMap['grpc-message'] === 'string') {\n      try {\n        details = decodeURI(metadataMap['grpc-message']);\n      } catch (e) {\n        details = metadataMap['grpc-message'];\n      }\n      metadata.remove('grpc-message');\n      this.trace('received status details string \"' + details + '\" from server');\n    }\n    const status = {\n      code,\n      details,\n      metadata\n    };\n    // This is a no-op if the call was already ended when handling headers.\n    this.endCall(status);\n  }\n  destroyHttp2Stream() {\n    var _a;\n    // The http2 stream could already have been destroyed if cancelWithStatus\n    // is called in response to an internal http2 error.\n    if (!this.http2Stream.destroyed) {\n      /* If the call has ended with an OK status, communicate that when closing\n       * the stream, partly to avoid a situation in which we detect an error\n       * RST_STREAM as a result after we have the status */\n      let code;\n      if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n        code = http2.constants.NGHTTP2_NO_ERROR;\n      } else {\n        code = http2.constants.NGHTTP2_CANCEL;\n      }\n      this.trace('close http2 stream with code ' + code);\n      this.http2Stream.close(code);\n    }\n  }\n  cancelWithStatus(status, details) {\n    this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n    this.endCall({\n      code: status,\n      details,\n      metadata: new metadata_1.Metadata()\n    });\n  }\n  getStatus() {\n    return this.finalStatus;\n  }\n  getPeer() {\n    return this.transport.getPeerName();\n  }\n  getCallNumber() {\n    return this.callId;\n  }\n  startRead() {\n    /* If the stream has ended with an error, we should not emit any more\n     * messages and we should communicate that the stream has ended */\n    if (this.finalStatus !== null && this.finalStatus.code !== constants_1.Status.OK) {\n      this.readsClosed = true;\n      this.maybeOutputStatus();\n      return;\n    }\n    this.canPush = true;\n    if (this.unpushedReadMessages.length > 0) {\n      const nextMessage = this.unpushedReadMessages.shift();\n      this.push(nextMessage);\n      return;\n    }\n    /* Only resume reading from the http2Stream if we don't have any pending\n     * messages to emit */\n    this.http2Stream.resume();\n  }\n  sendMessageWithContext(context, message) {\n    this.trace('write() called with message of length ' + message.length);\n    const cb = error => {\n      /* nextTick here ensures that no stream action can be taken in the call\n       * stack of the write callback, in order to hopefully work around\n       * https://github.com/nodejs/node/issues/49147 */\n      process.nextTick(() => {\n        var _a;\n        let code = constants_1.Status.UNAVAILABLE;\n        if ((error === null || error === void 0 ? void 0 : error.code) === 'ERR_STREAM_WRITE_AFTER_END') {\n          code = constants_1.Status.INTERNAL;\n        }\n        if (error) {\n          this.cancelWithStatus(code, `Write error: ${error.message}`);\n        }\n        (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n      });\n    };\n    this.trace('sending data chunk of length ' + message.length);\n    this.callEventTracker.addMessageSent();\n    try {\n      this.http2Stream.write(message, cb);\n    } catch (error) {\n      this.endCall({\n        code: constants_1.Status.UNAVAILABLE,\n        details: `Write failed with error ${error.message}`,\n        metadata: new metadata_1.Metadata()\n      });\n    }\n  }\n  halfClose() {\n    this.trace('end() called');\n    this.trace('calling end() on HTTP/2 stream');\n    this.http2Stream.end();\n  }\n}\nexports.Http2SubchannelCall = Http2SubchannelCall;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1jYWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELDJCQUEyQixHQUFHLEtBQUssQ0FBQztBQUNwQyxNQUFNRyxLQUFLLEdBQUdDLG1CQUFPLENBQUMsb0JBQU8sQ0FBQztBQUM5QixNQUFNQyxFQUFFLEdBQUdELG1CQUFPLENBQUMsY0FBSSxDQUFDO0FBQ3hCLE1BQU1FLFdBQVcsR0FBR0YsbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1HLFVBQVUsR0FBR0gsbUJBQU8sQ0FBQyw0RUFBWSxDQUFDO0FBQ3hDLE1BQU1JLGdCQUFnQixHQUFHSixtQkFBTyxDQUFDLHdGQUFrQixDQUFDO0FBQ3BELE1BQU1LLE9BQU8sR0FBR0wsbUJBQU8sQ0FBQywwRUFBVyxDQUFDO0FBQ3BDLE1BQU1NLFdBQVcsR0FBR04sbUJBQU8sQ0FBQyw4RUFBYSxDQUFDO0FBQzFDLE1BQU1PLFdBQVcsR0FBRyxpQkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0Msa0JBQWtCQSxDQUFDQyxLQUFLLEVBQUU7RUFDL0IsS0FBSyxNQUFNLENBQUNDLElBQUksRUFBRUMsR0FBRyxDQUFDLElBQUlqQixNQUFNLENBQUNrQixPQUFPLENBQUNYLEVBQUUsQ0FBQ1ksU0FBUyxDQUFDSixLQUFLLENBQUMsRUFBRTtJQUMxRCxJQUFJRSxHQUFHLEtBQUtGLEtBQUssRUFBRTtNQUNmLE9BQU9DLElBQUk7SUFDZjtFQUNKO0VBQ0EsT0FBTyx1QkFBdUIsR0FBR0QsS0FBSztBQUMxQztBQUNBLE1BQU1YLG1CQUFtQixDQUFDO0VBQ3RC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Q0QsSUFBSSxDQUFDekUsS0FBSyxDQUFDLCtCQUErQixHQUFHZSxPQUFPLENBQUNHLE1BQU0sQ0FBQztJQUM1RCxJQUFJLENBQUN6QyxnQkFBZ0IsQ0FBQ29HLGNBQWMsQ0FBQyxDQUFDO0lBQ3RDLElBQUk7TUFDQSxJQUFJLENBQUNyRyxXQUFXLENBQUM0QyxLQUFLLENBQUNMLE9BQU8sRUFBRTJELEVBQUUsQ0FBQztJQUN2QyxDQUFDLENBQ0QsT0FBTy9ELEtBQUssRUFBRTtNQUNWLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQ1RDLElBQUksRUFBRWxELFdBQVcsQ0FBQzJCLE1BQU0sQ0FBQ2UsV0FBVztRQUNwQ1MsT0FBTyxFQUFHLDJCQUEwQkgsS0FBSyxDQUFDSSxPQUFRLEVBQUM7UUFDbkRQLFFBQVEsRUFBRSxJQUFJNUMsVUFBVSxDQUFDNkMsUUFBUSxDQUFDO01BQ3RDLENBQUMsQ0FBQztJQUNOO0VBQ0o7RUFDQXFFLFNBQVNBLENBQUEsRUFBRztJQUNSLElBQUksQ0FBQzlFLEtBQUssQ0FBQyxjQUFjLENBQUM7SUFDMUIsSUFBSSxDQUFDQSxLQUFLLENBQUMsZ0NBQWdDLENBQUM7SUFDNUMsSUFBSSxDQUFDeEIsV0FBVyxDQUFDdUcsR0FBRyxDQUFDLENBQUM7RUFDMUI7QUFDSjtBQUNBMUgsMkJBQTJCLEdBQUdFLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1jYWxsLmpzPzAwNTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSHR0cDJTdWJjaGFubmVsQ2FsbCA9IHZvaWQgMDtcbmNvbnN0IGh0dHAyID0gcmVxdWlyZShcImh0dHAyXCIpO1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IHN0cmVhbV9kZWNvZGVyXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tZGVjb2RlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzIgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdzdWJjaGFubmVsX2NhbGwnO1xuLyoqXG4gKiBTaG91bGQgZG8gYXBwcm94aW1hdGVseSB0aGUgc2FtZSB0aGluZyBhcyB1dGlsLmdldFN5c3RlbUVycm9yTmFtZSBidXQgdGhlXG4gKiBUeXBlU2NyaXB0IHR5cGVzIGRvbid0IGhhdmUgdGhhdCBmdW5jdGlvbiBmb3Igc29tZSByZWFzb24gc28gSSBqdXN0IG1hZGUgbXlcbiAqIG93bi5cbiAqIEBwYXJhbSBlcnJub1xuICovXG5mdW5jdGlvbiBnZXRTeXN0ZW1FcnJvck5hbWUoZXJybm8pIHtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBudW1dIG9mIE9iamVjdC5lbnRyaWVzKG9zLmNvbnN0YW50cy5lcnJubykpIHtcbiAgICAgICAgaWYgKG51bSA9PT0gZXJybm8pIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnVW5rbm93biBzeXN0ZW0gZXJyb3IgJyArIGVycm5vO1xufVxuY2xhc3MgSHR0cDJTdWJjaGFubmVsQ2FsbCB7XG4gICAgY29uc3RydWN0b3IoaHR0cDJTdHJlYW0sIGNhbGxFdmVudFRyYWNrZXIsIGxpc3RlbmVyLCB0cmFuc3BvcnQsIGNhbGxJZCkge1xuICAgICAgICB0aGlzLmh0dHAyU3RyZWFtID0gaHR0cDJTdHJlYW07XG4gICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlciA9IGNhbGxFdmVudFRyYWNrZXI7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIHRoaXMuY2FsbElkID0gY2FsbElkO1xuICAgICAgICB0aGlzLmRlY29kZXIgPSBuZXcgc3RyZWFtX2RlY29kZXJfMS5TdHJlYW1EZWNvZGVyKCk7XG4gICAgICAgIHRoaXMuaXNSZWFkRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzUHVzaFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5QdXNoID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCBhbiAnZW5kJyBldmVudCBoYXMgY29tZSBmcm9tIHRoZSBodHRwMiBzdHJlYW0sIHNvIHRoZXJlXG4gICAgICAgICAqIHdpbGwgYmUgbm8gbW9yZSBkYXRhIGV2ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVhZHNDbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGF0dXNPdXRwdXQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcyA9IFtdO1xuICAgICAgICAvLyBTdGF0dXMgY29kZSBtYXBwZWQgZnJvbSA6c3RhdHVzLiBUbyBiZSB1c2VkIGlmIGdycGMtc3RhdHVzIGlzIG5vdCByZWNlaXZlZFxuICAgICAgICB0aGlzLm1hcHBlZFN0YXR1c0NvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgLy8gVGhpcyBpcyBwb3B1bGF0ZWQgKG5vbi1udWxsKSBpZiBhbmQgb25seSBpZiB0aGUgY2FsbCBoYXMgZW5kZWRcbiAgICAgICAgdGhpcy5maW5hbFN0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxFcnJvciA9IG51bGw7XG4gICAgICAgIGh0dHAyU3RyZWFtLm9uKCdyZXNwb25zZScsIChoZWFkZXJzLCBmbGFncykgPT4ge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNTdHJpbmcgPSAnJztcbiAgICAgICAgICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1N0cmluZyArPSAnXFx0XFx0JyArIGhlYWRlciArICc6ICcgKyBoZWFkZXJzW2hlYWRlcl0gKyAnXFxuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIHNlcnZlciBoZWFkZXJzOlxcbicgKyBoZWFkZXJzU3RyaW5nKTtcbiAgICAgICAgICAgIHN3aXRjaCAoaGVhZGVyc1snOnN0YXR1cyddKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyhtdXJnYXRyb2lkOTkpOiBoYW5kbGUgMTAwIGFuZCAxMDFcbiAgICAgICAgICAgICAgICBjYXNlIDQwMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQwMTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVVUSEVOVElDQVRFRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5QRVJNSVNTSU9OX0RFTklFRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQyOTpcbiAgICAgICAgICAgICAgICBjYXNlIDUwMjpcbiAgICAgICAgICAgICAgICBjYXNlIDUwMzpcbiAgICAgICAgICAgICAgICBjYXNlIDUwNDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcHBlZFN0YXR1c0NvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmbGFncyAmIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0ZMQUdfRU5EX1NUUkVBTSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhaWxlcnMoaGVhZGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBtZXRhZGF0YV8xLk1ldGFkYXRhLmZyb21IdHRwMkhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZENhbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ3RyYWlsZXJzJywgKGhlYWRlcnMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhaWxlcnMoaGVhZGVycyk7XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvKiBJZiB0aGUgc3RhdHVzIGhhcyBhbHJlYWR5IGJlZW4gb3V0cHV0LCBhbGxvdyB0aGUgaHR0cDIgc3RyZWFtIHRvXG4gICAgICAgICAgICAgKiBkcmFpbiB3aXRob3V0IHByb2Nlc3NpbmcgdGhlIGRhdGEuICovXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0dXNPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdyZWNlaXZlIEhUVFAvMiBkYXRhIGZyYW1lIG9mIGxlbmd0aCAnICsgZGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmRlY29kZXIud3JpdGUoZGF0YSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdwYXJzZWQgbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIuYWRkTWVzc2FnZVJlY2VpdmVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlQdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZHNDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgLyogVXNlIHByb2Nlc3MubmV4dCB0aWNrIHRvIGVuc3VyZSB0aGF0IHRoaXMgY29kZSBoYXBwZW5zIGFmdGVyIGFueVxuICAgICAgICAgICAgICogXCJlcnJvclwiIGV2ZW50IHRoYXQgbWF5IGJlIGVtaXR0ZWQgYXQgYWJvdXQgdGhlIHNhbWUgdGltZSwgc28gdGhhdFxuICAgICAgICAgICAgICogd2UgY2FuIGJ1YmJsZSB1cCB0aGUgZXJyb3IgbWVzc2FnZSBmcm9tIHRoYXQgZXZlbnQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnSFRUUC8yIHN0cmVhbSBjbG9zZWQgd2l0aCBjb2RlICcgKyBodHRwMlN0cmVhbS5yc3RDb2RlKTtcbiAgICAgICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGEgZmluYWwgc3RhdHVzIHdpdGggYW4gT0sgc3RhdHVzIGNvZGUsIHRoYXQgbWVhbnMgdGhhdFxuICAgICAgICAgICAgICAgICAqIHdlIGhhdmUgcmVjZWl2ZWQgYWxsIG9mIHRoZSBtZXNzYWdlcyBhbmQgd2UgaGF2ZSBwcm9jZXNzZWQgdGhlXG4gICAgICAgICAgICAgICAgICogdHJhaWxlcnMgYW5kIHRoZSBjYWxsIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHksIHNvIGl0IGRvZXNuJ3QgbWF0dGVyXG4gICAgICAgICAgICAgICAgICogaG93IHRoZSBzdHJlYW0gZW5kcyBhZnRlciB0aGF0ICovXG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLmZpbmFsU3RhdHVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29kZSkgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjb2RlO1xuICAgICAgICAgICAgICAgIGxldCBkZXRhaWxzID0gJyc7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChodHRwMlN0cmVhbS5yc3RDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1I6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBJZiB3ZSBnZXQgYSBOT19FUlJPUiBjb2RlIGFuZCB3ZSBhbHJlYWR5IGhhdmUgYSBzdGF0dXMsIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogc3RyZWFtIGNvbXBsZXRlZCBwcm9wZXJseSBhbmQgd2UganVzdCBoYXZlbid0IGZ1bGx5IHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogaXQgeWV0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maW5hbFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gYFJlY2VpdmVkIFJTVF9TVFJFQU0gd2l0aCBjb2RlICR7aHR0cDJTdHJlYW0ucnN0Q29kZX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfUkVGVVNFRF9TVFJFQU06XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9ICdTdHJlYW0gcmVmdXNlZCBieSBzZXJ2ZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfQ0FOQ0VMOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0NhbGwgY2FuY2VsbGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0VOSEFOQ0VfWU9VUl9DQUxNOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0JhbmR3aWR0aCBleGhhdXN0ZWQgb3IgbWVtb3J5IGxpbWl0IGV4Y2VlZGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0lOQURFUVVBVEVfU0VDVVJJVFk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlBFUk1JU1NJT05fREVOSUVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9ICdQcm90b2NvbCBub3Qgc2VjdXJlIGVub3VnaCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9JTlRFUk5BTF9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcm5hbEVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhpcyBlcnJvciBjb2RlIHdhcyBwcmV2aW91c2x5IGhhbmRsZWQgaW4gdGhlIGRlZmF1bHQgY2FzZSwgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdGhlcmUgYXJlIHNldmVyYWwgaW5zdGFuY2VzIG9mIGl0IG9ubGluZSwgc28gSSB3YW50ZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBzbyB0aGF0IHBlb3BsZSBmaW5kIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaW5mb3JtYXRpb24gaW4gc2VhcmNoZXMsIGJ1dCBhbHNvIGluY2x1ZGUgdGhlIG1vcmUgcmVjb2duaXphYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiBtZXNzYWdlLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBgUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgJHtodHRwMlN0cmVhbS5yc3RDb2RlfSAoSW50ZXJuYWwgc2VydmVyIGVycm9yKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcm5hbEVycm9yLmNvZGUgPT09ICdFQ09OTlJFU0VUJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsRXJyb3IuY29kZSA9PT0gJ0VUSU1FRE9VVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IHRoaXMuaW50ZXJuYWxFcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhlIFwiUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgLi4uXCIgZXJyb3IgaXMgcHJlc2VydmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGhlcmUgZm9yIGNvbnRpbnVpdHkgd2l0aCBlcnJvcnMgcmVwb3J0ZWQgb25saW5lLCBidXQgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGVycm9yIG1lc3NhZ2UgYXQgdGhlIGVuZCB3aWxsIHByb2JhYmx5IGJlIG1vcmUgcmVsZXZhbnQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbW9zdCBjYXNlcy4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGBSZWNlaXZlZCBSU1RfU1RSRUFNIHdpdGggY29kZSAke2h0dHAyU3RyZWFtLnJzdENvZGV9IHRyaWdnZXJlZCBieSBpbnRlcm5hbCBjbGllbnQgZXJyb3I6ICR7dGhpcy5pbnRlcm5hbEVycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gYFJlY2VpdmVkIFJTVF9TVFJFQU0gd2l0aCBjb2RlICR7aHR0cDJTdHJlYW0ucnN0Q29kZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbm8tb3AgaWYgdHJhaWxlcnMgd2VyZSByZWNlaXZlZCBhdCBhbGwuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBPSywgYmVjYXVzZSBzdGF0dXMgY29kZXMgZW1pdHRlZCBoZXJlIGNvcnJlc3BvbmQgdG8gbW9yZVxuICAgICAgICAgICAgICAgIC8vIGNhdGFzdHJvcGhpYyBpc3N1ZXMgdGhhdCBwcmV2ZW50IHVzIGZyb20gcmVjZWl2aW5nIHRyYWlsZXJzIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGZpcnN0IHBsYWNlLlxuICAgICAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICByc3RDb2RlOiBodHRwMlN0cmVhbS5yc3RDb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAvKiBXZSBuZWVkIGFuIGVycm9yIGhhbmRsZXIgaGVyZSB0byBzdG9wIFwiVW5jYXVnaHQgRXJyb3JcIiBleGNlcHRpb25zXG4gICAgICAgICAgICAgKiBmcm9tIGJ1YmJsaW5nIHVwLiBIb3dldmVyLCBlcnJvcnMgaGVyZSBzaG91bGQgYWxsIGNvcnJlc3BvbmQgdG9cbiAgICAgICAgICAgICAqIFwiY2xvc2VcIiBldmVudHMsIHdoZXJlIHdlIHdpbGwgaGFuZGxlIHRoZSBlcnJvciBtb3JlIGdyYW51bGFybHkgKi9cbiAgICAgICAgICAgIC8qIFNwZWNpZmljYWxseSBsb29raW5nIGZvciBzdHJlYW0gZXJyb3JzIHRoYXQgd2VyZSAqbm90KiBjb25zdHJ1Y3RlZFxuICAgICAgICAgICAgICogZnJvbSBhIFJTVF9TVFJFQU0gcmVzcG9uc2UgaGVyZTpcbiAgICAgICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iLzhiODYyMGQ1ODAzMTQwNTAxNzU5ODM0MDJkZmRkZjI2NzRlOGUyMmEvbGliL2ludGVybmFsL2h0dHAyL2NvcmUuanMjTDIyNjdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGVyci5jb2RlICE9PSAnRVJSX0hUVFAyX1NUUkVBTV9FUlJPUicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdOb2RlIGVycm9yIGV2ZW50OiBtZXNzYWdlPScgK1xuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSArXG4gICAgICAgICAgICAgICAgICAgICcgY29kZT0nICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgK1xuICAgICAgICAgICAgICAgICAgICAnIGVycm5vPScgK1xuICAgICAgICAgICAgICAgICAgICBnZXRTeXN0ZW1FcnJvck5hbWUoZXJyLmVycm5vKSArXG4gICAgICAgICAgICAgICAgICAgICcgc3lzY2FsbD0nICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLnN5c2NhbGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vblN0cmVhbUVuZChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZW5kQ2FsbCh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICBkZXRhaWxzOiAnQ29ubmVjdGlvbiBkcm9wcGVkJyxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb3V0cHV0U3RhdHVzKCkge1xuICAgICAgICAvKiBQcmVjb25kaXRpb246IHRoaXMuZmluYWxTdGF0dXMgIT09IG51bGwgKi9cbiAgICAgICAgaWYgKCF0aGlzLnN0YXR1c091dHB1dCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNPdXRwdXQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5maW5hbFN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAnIGRldGFpbHM9XCInICtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmFsU3RhdHVzLmRldGFpbHMgK1xuICAgICAgICAgICAgICAgICdcIicpO1xuICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uQ2FsbEVuZCh0aGlzLmZpbmFsU3RhdHVzKTtcbiAgICAgICAgICAgIC8qIFdlIGRlbGF5IHRoZSBhY3R1YWwgYWN0aW9uIG9mIGJ1YmJsaW5nIHVwIHRoZSBzdGF0dXMgdG8gaW5zdWxhdGUgdGhlXG4gICAgICAgICAgICAgKiBjbGVhbnVwIGNvZGUgaW4gdGhpcyBjbGFzcyBmcm9tIGFueSBlcnJvcnMgdGhhdCBtYXkgYmUgdGhyb3duIGluIHRoZVxuICAgICAgICAgICAgICogdXBwZXIgbGF5ZXJzIGFzIGEgcmVzdWx0IG9mIGJ1YmJsaW5nIHVwIHRoZSBzdGF0dXMuIEluIHBhcnRpY3VsYXIsXG4gICAgICAgICAgICAgKiBpZiB0aGUgc3RhdHVzIGlzIG5vdCBPSywgdGhlIFwiZXJyb3JcIiBldmVudCBtYXkgYmUgZW1pdHRlZFxuICAgICAgICAgICAgICogc3luY2hyb25vdXNseSBhdCB0aGUgdG9wIGxldmVsLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIHRocm93biBlcnJvciBpZlxuICAgICAgICAgICAgICogdGhlIHVzZXIgZG9lcyBub3QgaGFuZGxlIHRoYXQgZXZlbnQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyh0aGlzLmZpbmFsU3RhdHVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyogTGVhdmUgdGhlIGh0dHAyIHN0cmVhbSBpbiBmbG93aW5nIHN0YXRlIHRvIGRyYWluIGluY29taW5nIG1lc3NhZ2VzLCB0b1xuICAgICAgICAgICAgICogZW5zdXJlIHRoYXQgdGhlIHN0cmVhbSBjbG9zdXJlIGNvbXBsZXRlcy4gVGhlIGNhbGwgc3RyZWFtIGFscmVhZHkgZG9lc1xuICAgICAgICAgICAgICogbm90IHB1c2ggbW9yZSBtZXNzYWdlcyBhZnRlciB0aGUgc3RhdHVzIGlzIG91dHB1dCwgc28gdGhlIG1lc3NhZ2VzIGdvXG4gICAgICAgICAgICAgKiBub3doZXJlIGVpdGhlciB3YXkuICovXG4gICAgICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMi5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnWycgKyB0aGlzLmNhbGxJZCArICddICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT24gZmlyc3QgY2FsbCwgZW1pdHMgYSAnc3RhdHVzJyBldmVudCB3aXRoIHRoZSBnaXZlbiBTdGF0dXNPYmplY3QuXG4gICAgICogU3Vic2VxdWVudCBjYWxscyBhcmUgbm8tb3BzLlxuICAgICAqIEBwYXJhbSBzdGF0dXMgVGhlIHN0YXR1cyBvZiB0aGUgY2FsbC5cbiAgICAgKi9cbiAgICBlbmRDYWxsKHN0YXR1cykge1xuICAgICAgICAvKiBJZiB0aGUgc3RhdHVzIGlzIE9LIGFuZCBhIG5ldyBzdGF0dXMgY29tZXMgaW4gKGUuZy4gZnJvbSBhXG4gICAgICAgICAqIGRlc2VyaWFsaXphdGlvbiBmYWlsdXJlKSwgdGhhdCBuZXcgc3RhdHVzIHRha2VzIHByaW9yaXR5ICovXG4gICAgICAgIGlmICh0aGlzLmZpbmFsU3RhdHVzID09PSBudWxsIHx8IHRoaXMuZmluYWxTdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmFsU3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdHJveUh0dHAyU3RyZWFtKCk7XG4gICAgfVxuICAgIG1heWJlT3V0cHV0U3RhdHVzKCkge1xuICAgICAgICBpZiAodGhpcy5maW5hbFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLyogVGhlIGNvbWJpbmF0aW9uIGNoZWNrIG9mIHJlYWRzQ2xvc2VkIGFuZCB0aGF0IHRoZSB0d28gbWVzc2FnZSBidWZmZXJcbiAgICAgICAgICAgICAqIGFycmF5cyBhcmUgZW1wdHkgY2hlY2tzIHRoYXQgdGhlcmUgYWxsIGluY29taW5nIGRhdGEgaGFzIGJlZW4gZnVsbHlcbiAgICAgICAgICAgICAqIHByb2Nlc3NlZCAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuZmluYWxTdGF0dXMuY29kZSAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMucmVhZHNDbG9zZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuaXNSZWFkRmlsdGVyUGVuZGluZyAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5pc1B1c2hQZW5kaW5nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVzaChtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3B1c2hpbmcgdG8gcmVhZGVyIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgK1xuICAgICAgICAgICAgKG1lc3NhZ2UgaW5zdGFuY2VvZiBCdWZmZXIgPyBtZXNzYWdlLmxlbmd0aCA6IG51bGwpKTtcbiAgICAgICAgdGhpcy5jYW5QdXNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQdXNoUGVuZGluZyA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1B1c2hQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGFscmVhZHkgb3V0cHV0IHRoZSBzdGF0dXMgYW55IGxhdGVyIG1lc3NhZ2VzIHNob3VsZCBiZVxuICAgICAgICAgICAgICogaWdub3JlZCwgYW5kIGNhbiBjYXVzZSBvdXQtb2Ytb3JkZXIgb3BlcmF0aW9uIGVycm9ycyBoaWdoZXIgdXAgaW4gdGhlXG4gICAgICAgICAgICAgKiBzdGFjay4gQ2hlY2tpbmcgYXMgbGF0ZSBhcyBwb3NzaWJsZSBoZXJlIHRvIGF2b2lkIGFueSByYWNlIGNvbmRpdGlvbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1c091dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVPdXRwdXRTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyeVB1c2gobWVzc2FnZUJ5dGVzKSB7XG4gICAgICAgIGlmICh0aGlzLmNhblB1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0ucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaChtZXNzYWdlQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgndW5wdXNoZWRSZWFkTWVzc2FnZXMucHVzaCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZUJ5dGVzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzLnB1c2gobWVzc2FnZUJ5dGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVUcmFpbGVycyhoZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vblN0cmVhbUVuZCh0cnVlKTtcbiAgICAgICAgbGV0IGhlYWRlcnNTdHJpbmcgPSAnJztcbiAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgICAgIGhlYWRlcnNTdHJpbmcgKz0gJ1xcdFxcdCcgKyBoZWFkZXIgKyAnOiAnICsgaGVhZGVyc1toZWFkZXJdICsgJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgc2VydmVyIHRyYWlsZXJzOlxcbicgKyBoZWFkZXJzU3RyaW5nKTtcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBtZXRhZGF0YV8xLk1ldGFkYXRhLmZyb21IdHRwMkhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhID0gbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhZGF0YU1hcCA9IG1ldGFkYXRhLmdldE1hcCgpO1xuICAgICAgICBsZXQgY29kZSA9IHRoaXMubWFwcGVkU3RhdHVzQ29kZTtcbiAgICAgICAgaWYgKGNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOICYmXG4gICAgICAgICAgICB0eXBlb2YgbWV0YWRhdGFNYXBbJ2dycGMtc3RhdHVzJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCByZWNlaXZlZFN0YXR1cyA9IE51bWJlcihtZXRhZGF0YU1hcFsnZ3JwYy1zdGF0dXMnXSk7XG4gICAgICAgICAgICBpZiAocmVjZWl2ZWRTdGF0dXMgaW4gY29uc3RhbnRzXzEuU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IHJlY2VpdmVkU3RhdHVzO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ3JlY2VpdmVkIHN0YXR1cyBjb2RlICcgKyByZWNlaXZlZFN0YXR1cyArICcgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1zdGF0dXMnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGV0YWlscyA9ICcnO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGFkYXRhTWFwWydncnBjLW1lc3NhZ2UnXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGV0YWlscyA9IGRlY29kZVVSSShtZXRhZGF0YU1hcFsnZ3JwYy1tZXNzYWdlJ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBkZXRhaWxzID0gbWV0YWRhdGFNYXBbJ2dycGMtbWVzc2FnZSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0YWRhdGEucmVtb3ZlKCdncnBjLW1lc3NhZ2UnKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ3JlY2VpdmVkIHN0YXR1cyBkZXRhaWxzIHN0cmluZyBcIicgKyBkZXRhaWxzICsgJ1wiIGZyb20gc2VydmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0geyBjb2RlLCBkZXRhaWxzLCBtZXRhZGF0YSB9O1xuICAgICAgICAvLyBUaGlzIGlzIGEgbm8tb3AgaWYgdGhlIGNhbGwgd2FzIGFscmVhZHkgZW5kZWQgd2hlbiBoYW5kbGluZyBoZWFkZXJzLlxuICAgICAgICB0aGlzLmVuZENhbGwoc3RhdHVzKTtcbiAgICB9XG4gICAgZGVzdHJveUh0dHAyU3RyZWFtKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFRoZSBodHRwMiBzdHJlYW0gY291bGQgYWxyZWFkeSBoYXZlIGJlZW4gZGVzdHJveWVkIGlmIGNhbmNlbFdpdGhTdGF0dXNcbiAgICAgICAgLy8gaXMgY2FsbGVkIGluIHJlc3BvbnNlIHRvIGFuIGludGVybmFsIGh0dHAyIGVycm9yLlxuICAgICAgICBpZiAoIXRoaXMuaHR0cDJTdHJlYW0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAvKiBJZiB0aGUgY2FsbCBoYXMgZW5kZWQgd2l0aCBhbiBPSyBzdGF0dXMsIGNvbW11bmljYXRlIHRoYXQgd2hlbiBjbG9zaW5nXG4gICAgICAgICAgICAgKiB0aGUgc3RyZWFtLCBwYXJ0bHkgdG8gYXZvaWQgYSBzaXR1YXRpb24gaW4gd2hpY2ggd2UgZGV0ZWN0IGFuIGVycm9yXG4gICAgICAgICAgICAgKiBSU1RfU1RSRUFNIGFzIGEgcmVzdWx0IGFmdGVyIHdlIGhhdmUgdGhlIHN0YXR1cyAqL1xuICAgICAgICAgICAgbGV0IGNvZGU7XG4gICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMuZmluYWxTdGF0dXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2RlKSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX05PX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2Nsb3NlIGh0dHAyIHN0cmVhbSB3aXRoIGNvZGUgJyArIGNvZGUpO1xuICAgICAgICAgICAgdGhpcy5odHRwMlN0cmVhbS5jbG9zZShjb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB0aGlzLnRyYWNlKCdjYW5jZWxXaXRoU3RhdHVzIGNvZGU6ICcgKyBzdGF0dXMgKyAnIGRldGFpbHM6IFwiJyArIGRldGFpbHMgKyAnXCInKTtcbiAgICAgICAgdGhpcy5lbmRDYWxsKHsgY29kZTogc3RhdHVzLCBkZXRhaWxzLCBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9KTtcbiAgICB9XG4gICAgZ2V0U3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5hbFN0YXR1cztcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFBlZXJOYW1lKCk7XG4gICAgfVxuICAgIGdldENhbGxOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxJZDtcbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICAvKiBJZiB0aGUgc3RyZWFtIGhhcyBlbmRlZCB3aXRoIGFuIGVycm9yLCB3ZSBzaG91bGQgbm90IGVtaXQgYW55IG1vcmVcbiAgICAgICAgICogbWVzc2FnZXMgYW5kIHdlIHNob3VsZCBjb21tdW5pY2F0ZSB0aGF0IHRoZSBzdHJlYW0gaGFzIGVuZGVkICovXG4gICAgICAgIGlmICh0aGlzLmZpbmFsU3RhdHVzICE9PSBudWxsICYmIHRoaXMuZmluYWxTdGF0dXMuY29kZSAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVPdXRwdXRTdGF0dXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhblB1c2ggPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TWVzc2FnZSA9IHRoaXMudW5wdXNoZWRSZWFkTWVzc2FnZXMuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaChuZXh0TWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyogT25seSByZXN1bWUgcmVhZGluZyBmcm9tIHRoZSBodHRwMlN0cmVhbSBpZiB3ZSBkb24ndCBoYXZlIGFueSBwZW5kaW5nXG4gICAgICAgICAqIG1lc3NhZ2VzIHRvIGVtaXQgKi9cbiAgICAgICAgdGhpcy5odHRwMlN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3dyaXRlKCkgY2FsbGVkIHdpdGggbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8qIG5leHRUaWNrIGhlcmUgZW5zdXJlcyB0aGF0IG5vIHN0cmVhbSBhY3Rpb24gY2FuIGJlIHRha2VuIGluIHRoZSBjYWxsXG4gICAgICAgICAgICAgKiBzdGFjayBvZiB0aGUgd3JpdGUgY2FsbGJhY2ssIGluIG9yZGVyIHRvIGhvcGVmdWxseSB3b3JrIGFyb3VuZFxuICAgICAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2lzc3Vlcy80OTE0NyAqL1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGxldCBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFO1xuICAgICAgICAgICAgICAgIGlmICgoZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLmNvZGUpID09PVxuICAgICAgICAgICAgICAgICAgICAnRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoY29kZSwgYFdyaXRlIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYSA9IGNvbnRleHQuY2FsbGJhY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHJhY2UoJ3NlbmRpbmcgZGF0YSBjaHVuayBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLmFkZE1lc3NhZ2VTZW50KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLndyaXRlKG1lc3NhZ2UsIGNiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBXcml0ZSBmYWlsZWQgd2l0aCBlcnJvciAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnZW5kKCkgY2FsbGVkJyk7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbGxpbmcgZW5kKCkgb24gSFRUUC8yIHN0cmVhbScpO1xuICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLmVuZCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cDJTdWJjaGFubmVsQ2FsbCA9IEh0dHAyU3ViY2hhbm5lbENhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJjaGFubmVsLWNhbGwuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiSHR0cDJTdWJjaGFubmVsQ2FsbCIsImh0dHAyIiwicmVxdWlyZSIsIm9zIiwiY29uc3RhbnRzXzEiLCJtZXRhZGF0YV8xIiwic3RyZWFtX2RlY29kZXJfMSIsImxvZ2dpbmciLCJjb25zdGFudHNfMiIsIlRSQUNFUl9OQU1FIiwiZ2V0U3lzdGVtRXJyb3JOYW1lIiwiZXJybm8iLCJuYW1lIiwibnVtIiwiZW50cmllcyIsImNvbnN0YW50cyIsImNvbnN0cnVjdG9yIiwiaHR0cDJTdHJlYW0iLCJjYWxsRXZlbnRUcmFja2VyIiwibGlzdGVuZXIiLCJ0cmFuc3BvcnQiLCJjYWxsSWQiLCJkZWNvZGVyIiwiU3RyZWFtRGVjb2RlciIsImlzUmVhZEZpbHRlclBlbmRpbmciLCJpc1B1c2hQZW5kaW5nIiwiY2FuUHVzaCIsInJlYWRzQ2xvc2VkIiwic3RhdHVzT3V0cHV0IiwidW5wdXNoZWRSZWFkTWVzc2FnZXMiLCJtYXBwZWRTdGF0dXNDb2RlIiwiU3RhdHVzIiwiVU5LTk9XTiIsImZpbmFsU3RhdHVzIiwiaW50ZXJuYWxFcnJvciIsIm9uIiwiaGVhZGVycyIsImZsYWdzIiwiaGVhZGVyc1N0cmluZyIsImhlYWRlciIsImtleXMiLCJ0cmFjZSIsIklOVEVSTkFMIiwiVU5BVVRIRU5USUNBVEVEIiwiUEVSTUlTU0lPTl9ERU5JRUQiLCJVTklNUExFTUVOVEVEIiwiVU5BVkFJTEFCTEUiLCJOR0hUVFAyX0ZMQUdfRU5EX1NUUkVBTSIsImhhbmRsZVRyYWlsZXJzIiwibWV0YWRhdGEiLCJNZXRhZGF0YSIsImZyb21IdHRwMkhlYWRlcnMiLCJlcnJvciIsImVuZENhbGwiLCJjb2RlIiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJvblJlY2VpdmVNZXRhZGF0YSIsImRhdGEiLCJsZW5ndGgiLCJtZXNzYWdlcyIsIndyaXRlIiwiYWRkTWVzc2FnZVJlY2VpdmVkIiwidHJ5UHVzaCIsIm1heWJlT3V0cHV0U3RhdHVzIiwicHJvY2VzcyIsIm5leHRUaWNrIiwiX2EiLCJyc3RDb2RlIiwiT0siLCJOR0hUVFAyX05PX0VSUk9SIiwiTkdIVFRQMl9SRUZVU0VEX1NUUkVBTSIsIk5HSFRUUDJfQ0FOQ0VMIiwiQ0FOQ0VMTEVEIiwiTkdIVFRQMl9FTkhBTkNFX1lPVVJfQ0FMTSIsIlJFU09VUkNFX0VYSEFVU1RFRCIsIk5HSFRUUDJfSU5BREVRVUFURV9TRUNVUklUWSIsIk5HSFRUUDJfSU5URVJOQUxfRVJST1IiLCJlcnIiLCJzeXNjYWxsIiwib25TdHJlYW1FbmQiLCJvbkRpc2Nvbm5lY3QiLCJvdXRwdXRTdGF0dXMiLCJvbkNhbGxFbmQiLCJvblJlY2VpdmVTdGF0dXMiLCJyZXN1bWUiLCJ0ZXh0IiwiTG9nVmVyYm9zaXR5IiwiREVCVUciLCJzdGF0dXMiLCJkZXN0cm95SHR0cDJTdHJlYW0iLCJwdXNoIiwiQnVmZmVyIiwib25SZWNlaXZlTWVzc2FnZSIsIm1lc3NhZ2VCeXRlcyIsInBhdXNlIiwiZSIsIm1ldGFkYXRhTWFwIiwiZ2V0TWFwIiwicmVjZWl2ZWRTdGF0dXMiLCJOdW1iZXIiLCJyZW1vdmUiLCJkZWNvZGVVUkkiLCJkZXN0cm95ZWQiLCJjbG9zZSIsImNhbmNlbFdpdGhTdGF0dXMiLCJnZXRTdGF0dXMiLCJnZXRQZWVyIiwiZ2V0UGVlck5hbWUiLCJnZXRDYWxsTnVtYmVyIiwic3RhcnRSZWFkIiwibmV4dE1lc3NhZ2UiLCJzaGlmdCIsInNlbmRNZXNzYWdlV2l0aENvbnRleHQiLCJjb250ZXh0IiwiY2IiLCJjYWxsYmFjayIsImNhbGwiLCJhZGRNZXNzYWdlU2VudCIsImhhbGZDbG9zZSIsImVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-call.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-interface.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/subchannel-interface.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseSubchannelWrapper = void 0;\nclass BaseSubchannelWrapper {\n  constructor(child) {\n    this.child = child;\n  }\n  getConnectivityState() {\n    return this.child.getConnectivityState();\n  }\n  addConnectivityStateListener(listener) {\n    this.child.addConnectivityStateListener(listener);\n  }\n  removeConnectivityStateListener(listener) {\n    this.child.removeConnectivityStateListener(listener);\n  }\n  startConnecting() {\n    this.child.startConnecting();\n  }\n  getAddress() {\n    return this.child.getAddress();\n  }\n  throttleKeepalive(newKeepaliveTime) {\n    this.child.throttleKeepalive(newKeepaliveTime);\n  }\n  ref() {\n    this.child.ref();\n  }\n  unref() {\n    this.child.unref();\n  }\n  getChannelzRef() {\n    return this.child.getChannelzRef();\n  }\n  getRealSubchannel() {\n    return this.child.getRealSubchannel();\n  }\n  realSubchannelEquals(other) {\n    return this.getRealSubchannel() === other.getRealSubchannel();\n  }\n}\nexports.BaseSubchannelWrapper = BaseSubchannelWrapper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1pbnRlcmZhY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsNkJBQTZCLEdBQUcsS0FBSyxDQUFDO0FBQ3RDLE1BQU1FLHFCQUFxQixDQUFDO0VBQ3hCQyxXQUFXQSxDQUFDQyxLQUFLLEVBQUU7SUFDZixJQUFJLENBQUNBLEtBQUssR0FBR0EsS0FBSztFQUN0QjtFQUNBQyxvQkFBb0JBLENBQUEsRUFBRztJQUNuQixPQUFPLElBQUksQ0FBQ0QsS0FBSyxDQUFDQyxvQkFBb0IsQ0FBQyxDQUFDO0VBQzVDO0VBQ0FDLDRCQUE0QkEsQ0FBQ0MsUUFBUSxFQUFFO0lBQ25DLElBQUksQ0FBQ0gsS0FBSyxDQUFDRSw0QkFBNEIsQ0FBQ0MsUUFBUSxDQUFDO0VBQ3JEO0VBQ0FDLCtCQUErQkEsQ0FBQ0QsUUFBUSxFQUFFO0lBQ3RDLElBQUksQ0FBQ0gsS0FBSyxDQUFDSSwrQkFBK0IsQ0FBQ0QsUUFBUSxDQUFDO0VBQ3hEO0VBQ0FFLGVBQWVBLENBQUEsRUFBRztJQUNkLElBQUksQ0FBQ0wsS0FBSyxDQUFDSyxlQUFlLENBQUMsQ0FBQztFQUNoQztFQUNBQyxVQUFVQSxDQUFBLEVBQUc7SUFDVCxPQUFPLElBQUksQ0FBQ04sS0FBSyxDQUFDTSxVQUFVLENBQUMsQ0FBQztFQUNsQztFQUNBQyxpQkFBaUJBLENBQUNDLGdCQUFnQixFQUFFO0lBQ2hDLElBQUksQ0FBQ1IsS0FBSyxDQUFDTyxpQkFBaUIsQ0FBQ0MsZ0JBQWdCLENBQUM7RUFDbEQ7RUFDQUMsR0FBR0EsQ0FBQSxFQUFHO0lBQ0YsSUFBSSxDQUFDVCxLQUFLLENBQUNTLEdBQUcsQ0FBQyxDQUFDO0VBQ3BCO0VBQ0FDLEtBQUtBLENBQUEsRUFBRztJQUNKLElBQUksQ0FBQ1YsS0FBSyxDQUFDVSxLQUFLLENBQUMsQ0FBQztFQUN0QjtFQUNBQyxjQUFjQSxDQUFBLEVBQUc7SUFDYixPQUFPLElBQUksQ0FBQ1gsS0FBSyxDQUFDVyxjQUFjLENBQUMsQ0FBQztFQUN0QztFQUNBQyxpQkFBaUJBLENBQUEsRUFBRztJQUNoQixPQUFPLElBQUksQ0FBQ1osS0FBSyxDQUFDWSxpQkFBaUIsQ0FBQyxDQUFDO0VBQ3pDO0VBQ0FDLG9CQUFvQkEsQ0FBQ0MsS0FBSyxFQUFFO0lBQ3hCLE9BQU8sSUFBSSxDQUFDRixpQkFBaUIsQ0FBQyxDQUFDLEtBQUtFLEtBQUssQ0FBQ0YsaUJBQWlCLENBQUMsQ0FBQztFQUNqRTtBQUNKO0FBQ0FoQiw2QkFBNkIsR0FBR0UscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLWludGVyZmFjZS5qcz8yOGNmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJhc2VTdWJjaGFubmVsV3JhcHBlciA9IHZvaWQgMDtcbmNsYXNzIEJhc2VTdWJjaGFubmVsV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGQpIHtcbiAgICAgICAgdGhpcy5jaGlsZCA9IGNoaWxkO1xuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKTtcbiAgICB9XG4gICAgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmNoaWxkLmFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH1cbiAgICByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuY2hpbGQucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfVxuICAgIHN0YXJ0Q29ubmVjdGluZygpIHtcbiAgICAgICAgdGhpcy5jaGlsZC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICB9XG4gICAgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0QWRkcmVzcygpO1xuICAgIH1cbiAgICB0aHJvdHRsZUtlZXBhbGl2ZShuZXdLZWVwYWxpdmVUaW1lKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudGhyb3R0bGVLZWVwYWxpdmUobmV3S2VlcGFsaXZlVGltZSk7XG4gICAgfVxuICAgIHJlZigpIHtcbiAgICAgICAgdGhpcy5jaGlsZC5yZWYoKTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudW5yZWYoKTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpSZWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldENoYW5uZWx6UmVmKCk7XG4gICAgfVxuICAgIGdldFJlYWxTdWJjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRSZWFsU3ViY2hhbm5lbCgpO1xuICAgIH1cbiAgICByZWFsU3ViY2hhbm5lbEVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWFsU3ViY2hhbm5lbCgpID09PSBvdGhlci5nZXRSZWFsU3ViY2hhbm5lbCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVN1YmNoYW5uZWxXcmFwcGVyID0gQmFzZVN1YmNoYW5uZWxXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ViY2hhbm5lbC1pbnRlcmZhY2UuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQmFzZVN1YmNoYW5uZWxXcmFwcGVyIiwiY29uc3RydWN0b3IiLCJjaGlsZCIsImdldENvbm5lY3Rpdml0eVN0YXRlIiwiYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lciIsImxpc3RlbmVyIiwicmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lciIsInN0YXJ0Q29ubmVjdGluZyIsImdldEFkZHJlc3MiLCJ0aHJvdHRsZUtlZXBhbGl2ZSIsIm5ld0tlZXBhbGl2ZVRpbWUiLCJyZWYiLCJ1bnJlZiIsImdldENoYW5uZWx6UmVmIiwiZ2V0UmVhbFN1YmNoYW5uZWwiLCJyZWFsU3ViY2hhbm5lbEVxdWFscyIsIm90aGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-pool.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/subchannel-pool.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getSubchannelPool = exports.SubchannelPool = void 0;\nconst channel_options_1 = __webpack_require__(/*! ./channel-options */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channel-options.js\");\nconst subchannel_1 = __webpack_require__(/*! ./subchannel */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst transport_1 = __webpack_require__(/*! ./transport */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/transport.js\");\n// 10 seconds in milliseconds. This value is arbitrary.\n/**\n * The amount of time in between checks for dropping subchannels that have no\n * other references\n */\nconst REF_CHECK_INTERVAL = 10000;\nclass SubchannelPool {\n  /**\n   * A pool of subchannels use for making connections. Subchannels with the\n   * exact same parameters will be reused.\n   */\n  constructor() {\n    this.pool = Object.create(null);\n    /**\n     * A timer of a task performing a periodic subchannel cleanup.\n     */\n    this.cleanupTimer = null;\n  }\n  /**\n   * Unrefs all unused subchannels and cancels the cleanup task if all\n   * subchannels have been unrefed.\n   */\n  unrefUnusedSubchannels() {\n    let allSubchannelsUnrefed = true;\n    /* These objects are created with Object.create(null), so they do not\n     * have a prototype, which means that for (... in ...) loops over them\n     * do not need to be filtered */\n    // eslint-disable-disable-next-line:forin\n    for (const channelTarget in this.pool) {\n      const subchannelObjArray = this.pool[channelTarget];\n      const refedSubchannels = subchannelObjArray.filter(value => !value.subchannel.unrefIfOneRef());\n      if (refedSubchannels.length > 0) {\n        allSubchannelsUnrefed = false;\n      }\n      /* For each subchannel in the pool, try to unref it if it has\n       * exactly one ref (which is the ref from the pool itself). If that\n       * does happen, remove the subchannel from the pool */\n      this.pool[channelTarget] = refedSubchannels;\n    }\n    /* Currently we do not delete keys with empty values. If that results\n     * in significant memory usage we should change it. */\n    // Cancel the cleanup task if all subchannels have been unrefed.\n    if (allSubchannelsUnrefed && this.cleanupTimer !== null) {\n      clearInterval(this.cleanupTimer);\n      this.cleanupTimer = null;\n    }\n  }\n  /**\n   * Ensures that the cleanup task is spawned.\n   */\n  ensureCleanupTask() {\n    var _a, _b;\n    if (this.cleanupTimer === null) {\n      this.cleanupTimer = setInterval(() => {\n        this.unrefUnusedSubchannels();\n      }, REF_CHECK_INTERVAL);\n      // Unref because this timer should not keep the event loop running.\n      // Call unref only if it exists to address electron/electron#21162\n      (_b = (_a = this.cleanupTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n  }\n  /**\n   * Get a subchannel if one already exists with exactly matching parameters.\n   * Otherwise, create and save a subchannel with those parameters.\n   * @param channelTarget\n   * @param subchannelTarget\n   * @param channelArguments\n   * @param channelCredentials\n   */\n  getOrCreateSubchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials) {\n    this.ensureCleanupTask();\n    const channelTarget = (0, uri_parser_1.uriToString)(channelTargetUri);\n    if (channelTarget in this.pool) {\n      const subchannelObjArray = this.pool[channelTarget];\n      for (const subchannelObj of subchannelObjArray) {\n        if ((0, subchannel_address_1.subchannelAddressEqual)(subchannelTarget, subchannelObj.subchannelAddress) && (0, channel_options_1.channelOptionsEqual)(channelArguments, subchannelObj.channelArguments) && channelCredentials._equals(subchannelObj.channelCredentials)) {\n          return subchannelObj.subchannel;\n        }\n      }\n    }\n    // If we get here, no matching subchannel was found\n    const subchannel = new subchannel_1.Subchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials, new transport_1.Http2SubchannelConnector(channelTargetUri));\n    if (!(channelTarget in this.pool)) {\n      this.pool[channelTarget] = [];\n    }\n    this.pool[channelTarget].push({\n      subchannelAddress: subchannelTarget,\n      channelArguments,\n      channelCredentials,\n      subchannel\n    });\n    subchannel.ref();\n    return subchannel;\n  }\n}\nexports.SubchannelPool = SubchannelPool;\nconst globalSubchannelPool = new SubchannelPool();\n/**\n * Get either the global subchannel pool, or a new subchannel pool.\n * @param global\n */\nfunction getSubchannelPool(global) {\n  if (global) {\n    return globalSubchannelPool;\n  } else {\n    return new SubchannelPool();\n  }\n}\nexports.getSubchannelPool = getSubchannelPool;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1wb29sLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELHlCQUF5QixHQUFHQSxzQkFBc0IsR0FBRyxLQUFLLENBQUM7QUFDM0QsTUFBTUksaUJBQWlCLEdBQUdDLG1CQUFPLENBQUMsMEZBQW1CLENBQUM7QUFDdEQsTUFBTUMsWUFBWSxHQUFHRCxtQkFBTyxDQUFDLGdGQUFjLENBQUM7QUFDNUMsTUFBTUUsb0JBQW9CLEdBQUdGLG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUcsWUFBWSxHQUFHSCxtQkFBTyxDQUFDLGdGQUFjLENBQUM7QUFDNUMsTUFBTUksV0FBVyxHQUFHSixtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1LLGtCQUFrQixHQUFHLEtBQUs7QUFDaEMsTUFBTVAsY0FBYyxDQUFDO0VBQ2pCO0FBQ0o7QUFDQTtBQUNBO0VBQ0lRLFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksQ0FBQ0MsSUFBSSxHQUFHZCxNQUFNLENBQUNlLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDL0I7QUFDUjtBQUNBO0lBQ1EsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSTtFQUM1QjtFQUNBO0FBQ0o7QUFDQTtBQUNBO0VBQ0lDLHNCQUFzQkEsQ0FBQSxFQUFHO0lBQ3JCLElBQUlDLHFCQUFxQixHQUFHLElBQUk7SUFDaEM7QUFDUjtBQUNBO0lBQ1E7SUFDQSxLQUFLLE1BQU1DLGFBQWEsSUFBSSxJQUFJLENBQUNMLElBQUksRUFBRTtNQUNuQyxNQUFNTSxrQkFBa0IsR0FBRyxJQUFJLENBQUNOLElBQUksQ0FBQ0ssYUFBYSxDQUFDO01BQ25ELE1BQU1FLGdCQUFnQixHQUFHRCxrQkFBa0IsQ0FBQ0UsTUFBTSxDQUFDbkIsS0FBSyxJQUFJLENBQUNBLEtBQUssQ0FBQ29CLFVBQVUsQ0FBQ0MsYUFBYSxDQUFDLENBQUMsQ0FBQztNQUM5RixJQUFJSCxnQkFBZ0IsQ0FBQ0ksTUFBTSxHQUFHLENBQUMsRUFBRTtRQUM3QlAscUJBQXFCLEdBQUcsS0FBSztNQUNqQztNQUNBO0FBQ1o7QUFDQTtNQUNZLElBQUksQ0FBQ0osSUFBSSxDQUFDSyxhQUFhLENBQUMsR0FBR0UsZ0JBQWdCO0lBQy9DO0lBQ0E7QUFDUjtJQUNRO0lBQ0EsSUFBSUgscUJBQXFCLElBQUksSUFBSSxDQUFDRixZQUFZLEtBQUssSUFBSSxFQUFFO01BQ3JEVSxhQUFhLENBQUMsSUFBSSxDQUFDVixZQUFZLENBQUM7TUFDaEMsSUFBSSxDQUFDQSxZQUFZLEdBQUcsSUFBSTtJQUM1QjtFQUNKO0VBQ0E7QUFDSjtBQUNBO0VBQ0lXLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQ2hCLElBQUlDLEVBQUUsRUFBRUMsRUFBRTtJQUNWLElBQUksSUFBSSxDQUFDYixZQUFZLEtBQUssSUFBSSxFQUFFO01BQzVCLElBQUksQ0FBQ0EsWUFBWSxHQUFHYyxXQUFXLENBQUMsTUFBTTtRQUNsQyxJQUFJLENBQUNiLHNCQUFzQixDQUFDLENBQUM7TUFDakMsQ0FBQyxFQUFFTCxrQkFBa0IsQ0FBQztNQUN0QjtNQUNBO01BQ0EsQ0FBQ2lCLEVBQUUsR0FBRyxDQUFDRCxFQUFFLEdBQUcsSUFBSSxDQUFDWixZQUFZLEVBQUVlLEtBQUssTUFBTSxJQUFJLElBQUlGLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDRyxJQUFJLENBQUNKLEVBQUUsQ0FBQztJQUMxRjtFQUNKO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJSyxxQkFBcUJBLENBQUNDLGdCQUFnQixFQUFFQyxnQkFBZ0IsRUFBRUMsZ0JBQWdCLEVBQUVDLGtCQUFrQixFQUFFO0lBQzVGLElBQUksQ0FBQ1YsaUJBQWlCLENBQUMsQ0FBQztJQUN4QixNQUFNUixhQUFhLEdBQUcsQ0FBQyxDQUFDLEVBQUVULFlBQVksQ0FBQzRCLFdBQVcsRUFBRUosZ0JBQWdCLENBQUM7SUFDckUsSUFBSWYsYUFBYSxJQUFJLElBQUksQ0FBQ0wsSUFBSSxFQUFFO01BQzVCLE1BQU1NLGtCQUFrQixHQUFHLElBQUksQ0FBQ04sSUFBSSxDQUFDSyxhQUFhLENBQUM7TUFDbkQsS0FBSyxNQUFNb0IsYUFBYSxJQUFJbkIsa0JBQWtCLEVBQUU7UUFDNUMsSUFBSSxDQUFDLENBQUMsRUFBRVgsb0JBQW9CLENBQUMrQixzQkFBc0IsRUFBRUwsZ0JBQWdCLEVBQUVJLGFBQWEsQ0FBQ0UsaUJBQWlCLENBQUMsSUFDbkcsQ0FBQyxDQUFDLEVBQUVuQyxpQkFBaUIsQ0FBQ29DLG1CQUFtQixFQUFFTixnQkFBZ0IsRUFBRUcsYUFBYSxDQUFDSCxnQkFBZ0IsQ0FBQyxJQUM1RkMsa0JBQWtCLENBQUNNLE9BQU8sQ0FBQ0osYUFBYSxDQUFDRixrQkFBa0IsQ0FBQyxFQUFFO1VBQzlELE9BQU9FLGFBQWEsQ0FBQ2hCLFVBQVU7UUFDbkM7TUFDSjtJQUNKO0lBQ0E7SUFDQSxNQUFNQSxVQUFVLEdBQUcsSUFBSWYsWUFBWSxDQUFDb0MsVUFBVSxDQUFDVixnQkFBZ0IsRUFBRUMsZ0JBQWdCLEVBQUVDLGdCQUFnQixFQUFFQyxrQkFBa0IsRUFBRSxJQUFJMUIsV0FBVyxDQUFDa0Msd0JBQXdCLENBQUNYLGdCQUFnQixDQUFDLENBQUM7SUFDcEwsSUFBSSxFQUFFZixhQUFhLElBQUksSUFBSSxDQUFDTCxJQUFJLENBQUMsRUFBRTtNQUMvQixJQUFJLENBQUNBLElBQUksQ0FBQ0ssYUFBYSxDQUFDLEdBQUcsRUFBRTtJQUNqQztJQUNBLElBQUksQ0FBQ0wsSUFBSSxDQUFDSyxhQUFhLENBQUMsQ0FBQzJCLElBQUksQ0FBQztNQUMxQkwsaUJBQWlCLEVBQUVOLGdCQUFnQjtNQUNuQ0MsZ0JBQWdCO01BQ2hCQyxrQkFBa0I7TUFDbEJkO0lBQ0osQ0FBQyxDQUFDO0lBQ0ZBLFVBQVUsQ0FBQ3dCLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLE9BQU94QixVQUFVO0VBQ3JCO0FBQ0o7QUFDQXJCLHNCQUFzQixHQUFHRyxjQUFjO0FBQ3ZDLE1BQU0yQyxvQkFBb0IsR0FBRyxJQUFJM0MsY0FBYyxDQUFDLENBQUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRCxpQkFBaUJBLENBQUM2QyxNQUFNLEVBQUU7RUFDL0IsSUFBSUEsTUFBTSxFQUFFO0lBQ1IsT0FBT0Qsb0JBQW9CO0VBQy9CLENBQUMsTUFDSTtJQUNELE9BQU8sSUFBSTNDLGNBQWMsQ0FBQyxDQUFDO0VBQy9CO0FBQ0o7QUFDQUgseUJBQXlCLEdBQUdFLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1wb29sLmpzP2M1NjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0U3ViY2hhbm5lbFBvb2wgPSBleHBvcnRzLlN1YmNoYW5uZWxQb29sID0gdm9pZCAwO1xuY29uc3QgY2hhbm5lbF9vcHRpb25zXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLW9wdGlvbnNcIik7XG5jb25zdCBzdWJjaGFubmVsXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgdHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRcIik7XG4vLyAxMCBzZWNvbmRzIGluIG1pbGxpc2Vjb25kcy4gVGhpcyB2YWx1ZSBpcyBhcmJpdHJhcnkuXG4vKipcbiAqIFRoZSBhbW91bnQgb2YgdGltZSBpbiBiZXR3ZWVuIGNoZWNrcyBmb3IgZHJvcHBpbmcgc3ViY2hhbm5lbHMgdGhhdCBoYXZlIG5vXG4gKiBvdGhlciByZWZlcmVuY2VzXG4gKi9cbmNvbnN0IFJFRl9DSEVDS19JTlRFUlZBTCA9IDEwMDAwO1xuY2xhc3MgU3ViY2hhbm5lbFBvb2wge1xuICAgIC8qKlxuICAgICAqIEEgcG9vbCBvZiBzdWJjaGFubmVscyB1c2UgZm9yIG1ha2luZyBjb25uZWN0aW9ucy4gU3ViY2hhbm5lbHMgd2l0aCB0aGVcbiAgICAgKiBleGFjdCBzYW1lIHBhcmFtZXRlcnMgd2lsbCBiZSByZXVzZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9vbCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVyIG9mIGEgdGFzayBwZXJmb3JtaW5nIGEgcGVyaW9kaWMgc3ViY2hhbm5lbCBjbGVhbnVwLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhbnVwVGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnJlZnMgYWxsIHVudXNlZCBzdWJjaGFubmVscyBhbmQgY2FuY2VscyB0aGUgY2xlYW51cCB0YXNrIGlmIGFsbFxuICAgICAqIHN1YmNoYW5uZWxzIGhhdmUgYmVlbiB1bnJlZmVkLlxuICAgICAqL1xuICAgIHVucmVmVW51c2VkU3ViY2hhbm5lbHMoKSB7XG4gICAgICAgIGxldCBhbGxTdWJjaGFubmVsc1VucmVmZWQgPSB0cnVlO1xuICAgICAgICAvKiBUaGVzZSBvYmplY3RzIGFyZSBjcmVhdGVkIHdpdGggT2JqZWN0LmNyZWF0ZShudWxsKSwgc28gdGhleSBkbyBub3RcbiAgICAgICAgICogaGF2ZSBhIHByb3RvdHlwZSwgd2hpY2ggbWVhbnMgdGhhdCBmb3IgKC4uLiBpbiAuLi4pIGxvb3BzIG92ZXIgdGhlbVxuICAgICAgICAgKiBkbyBub3QgbmVlZCB0byBiZSBmaWx0ZXJlZCAqL1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1kaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgICBmb3IgKGNvbnN0IGNoYW5uZWxUYXJnZXQgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsT2JqQXJyYXkgPSB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF07XG4gICAgICAgICAgICBjb25zdCByZWZlZFN1YmNoYW5uZWxzID0gc3ViY2hhbm5lbE9iakFycmF5LmZpbHRlcih2YWx1ZSA9PiAhdmFsdWUuc3ViY2hhbm5lbC51bnJlZklmT25lUmVmKCkpO1xuICAgICAgICAgICAgaWYgKHJlZmVkU3ViY2hhbm5lbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFsbFN1YmNoYW5uZWxzVW5yZWZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogRm9yIGVhY2ggc3ViY2hhbm5lbCBpbiB0aGUgcG9vbCwgdHJ5IHRvIHVucmVmIGl0IGlmIGl0IGhhc1xuICAgICAgICAgICAgICogZXhhY3RseSBvbmUgcmVmICh3aGljaCBpcyB0aGUgcmVmIGZyb20gdGhlIHBvb2wgaXRzZWxmKS4gSWYgdGhhdFxuICAgICAgICAgICAgICogZG9lcyBoYXBwZW4sIHJlbW92ZSB0aGUgc3ViY2hhbm5lbCBmcm9tIHRoZSBwb29sICovXG4gICAgICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0gPSByZWZlZFN1YmNoYW5uZWxzO1xuICAgICAgICB9XG4gICAgICAgIC8qIEN1cnJlbnRseSB3ZSBkbyBub3QgZGVsZXRlIGtleXMgd2l0aCBlbXB0eSB2YWx1ZXMuIElmIHRoYXQgcmVzdWx0c1xuICAgICAgICAgKiBpbiBzaWduaWZpY2FudCBtZW1vcnkgdXNhZ2Ugd2Ugc2hvdWxkIGNoYW5nZSBpdC4gKi9cbiAgICAgICAgLy8gQ2FuY2VsIHRoZSBjbGVhbnVwIHRhc2sgaWYgYWxsIHN1YmNoYW5uZWxzIGhhdmUgYmVlbiB1bnJlZmVkLlxuICAgICAgICBpZiAoYWxsU3ViY2hhbm5lbHNVbnJlZmVkICYmIHRoaXMuY2xlYW51cFRpbWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY2xlYW51cFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIGNsZWFudXAgdGFzayBpcyBzcGF3bmVkLlxuICAgICAqL1xuICAgIGVuc3VyZUNsZWFudXBUYXNrKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5jbGVhbnVwVGltZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudW5yZWZVbnVzZWRTdWJjaGFubmVscygpO1xuICAgICAgICAgICAgfSwgUkVGX0NIRUNLX0lOVEVSVkFMKTtcbiAgICAgICAgICAgIC8vIFVucmVmIGJlY2F1c2UgdGhpcyB0aW1lciBzaG91bGQgbm90IGtlZXAgdGhlIGV2ZW50IGxvb3AgcnVubmluZy5cbiAgICAgICAgICAgIC8vIENhbGwgdW5yZWYgb25seSBpZiBpdCBleGlzdHMgdG8gYWRkcmVzcyBlbGVjdHJvbi9lbGVjdHJvbiMyMTE2MlxuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5jbGVhbnVwVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3ViY2hhbm5lbCBpZiBvbmUgYWxyZWFkeSBleGlzdHMgd2l0aCBleGFjdGx5IG1hdGNoaW5nIHBhcmFtZXRlcnMuXG4gICAgICogT3RoZXJ3aXNlLCBjcmVhdGUgYW5kIHNhdmUgYSBzdWJjaGFubmVsIHdpdGggdGhvc2UgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbFRhcmdldFxuICAgICAqIEBwYXJhbSBzdWJjaGFubmVsVGFyZ2V0XG4gICAgICogQHBhcmFtIGNoYW5uZWxBcmd1bWVudHNcbiAgICAgKiBAcGFyYW0gY2hhbm5lbENyZWRlbnRpYWxzXG4gICAgICovXG4gICAgZ2V0T3JDcmVhdGVTdWJjaGFubmVsKGNoYW5uZWxUYXJnZXRVcmksIHN1YmNoYW5uZWxUYXJnZXQsIGNoYW5uZWxBcmd1bWVudHMsIGNoYW5uZWxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLmVuc3VyZUNsZWFudXBUYXNrKCk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxUYXJnZXQgPSAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShjaGFubmVsVGFyZ2V0VXJpKTtcbiAgICAgICAgaWYgKGNoYW5uZWxUYXJnZXQgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsT2JqQXJyYXkgPSB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YmNoYW5uZWxPYmogb2Ygc3ViY2hhbm5lbE9iakFycmF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc0VxdWFsKShzdWJjaGFubmVsVGFyZ2V0LCBzdWJjaGFubmVsT2JqLnN1YmNoYW5uZWxBZGRyZXNzKSAmJlxuICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbF9vcHRpb25zXzEuY2hhbm5lbE9wdGlvbnNFcXVhbCkoY2hhbm5lbEFyZ3VtZW50cywgc3ViY2hhbm5lbE9iai5jaGFubmVsQXJndW1lbnRzKSAmJlxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ3JlZGVudGlhbHMuX2VxdWFscyhzdWJjaGFubmVsT2JqLmNoYW5uZWxDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YmNoYW5uZWxPYmouc3ViY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIG5vIG1hdGNoaW5nIHN1YmNoYW5uZWwgd2FzIGZvdW5kXG4gICAgICAgIGNvbnN0IHN1YmNoYW5uZWwgPSBuZXcgc3ViY2hhbm5lbF8xLlN1YmNoYW5uZWwoY2hhbm5lbFRhcmdldFVyaSwgc3ViY2hhbm5lbFRhcmdldCwgY2hhbm5lbEFyZ3VtZW50cywgY2hhbm5lbENyZWRlbnRpYWxzLCBuZXcgdHJhbnNwb3J0XzEuSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXRVcmkpKTtcbiAgICAgICAgaWYgKCEoY2hhbm5lbFRhcmdldCBpbiB0aGlzLnBvb2wpKSB7XG4gICAgICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0ucHVzaCh7XG4gICAgICAgICAgICBzdWJjaGFubmVsQWRkcmVzczogc3ViY2hhbm5lbFRhcmdldCxcbiAgICAgICAgICAgIGNoYW5uZWxBcmd1bWVudHMsXG4gICAgICAgICAgICBjaGFubmVsQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICBzdWJjaGFubmVsLFxuICAgICAgICB9KTtcbiAgICAgICAgc3ViY2hhbm5lbC5yZWYoKTtcbiAgICAgICAgcmV0dXJuIHN1YmNoYW5uZWw7XG4gICAgfVxufVxuZXhwb3J0cy5TdWJjaGFubmVsUG9vbCA9IFN1YmNoYW5uZWxQb29sO1xuY29uc3QgZ2xvYmFsU3ViY2hhbm5lbFBvb2wgPSBuZXcgU3ViY2hhbm5lbFBvb2woKTtcbi8qKlxuICogR2V0IGVpdGhlciB0aGUgZ2xvYmFsIHN1YmNoYW5uZWwgcG9vbCwgb3IgYSBuZXcgc3ViY2hhbm5lbCBwb29sLlxuICogQHBhcmFtIGdsb2JhbFxuICovXG5mdW5jdGlvbiBnZXRTdWJjaGFubmVsUG9vbChnbG9iYWwpIHtcbiAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxTdWJjaGFubmVsUG9vbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViY2hhbm5lbFBvb2woKTtcbiAgICB9XG59XG5leHBvcnRzLmdldFN1YmNoYW5uZWxQb29sID0gZ2V0U3ViY2hhbm5lbFBvb2w7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJjaGFubmVsLXBvb2wuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZ2V0U3ViY2hhbm5lbFBvb2wiLCJTdWJjaGFubmVsUG9vbCIsImNoYW5uZWxfb3B0aW9uc18xIiwicmVxdWlyZSIsInN1YmNoYW5uZWxfMSIsInN1YmNoYW5uZWxfYWRkcmVzc18xIiwidXJpX3BhcnNlcl8xIiwidHJhbnNwb3J0XzEiLCJSRUZfQ0hFQ0tfSU5URVJWQUwiLCJjb25zdHJ1Y3RvciIsInBvb2wiLCJjcmVhdGUiLCJjbGVhbnVwVGltZXIiLCJ1bnJlZlVudXNlZFN1YmNoYW5uZWxzIiwiYWxsU3ViY2hhbm5lbHNVbnJlZmVkIiwiY2hhbm5lbFRhcmdldCIsInN1YmNoYW5uZWxPYmpBcnJheSIsInJlZmVkU3ViY2hhbm5lbHMiLCJmaWx0ZXIiLCJzdWJjaGFubmVsIiwidW5yZWZJZk9uZVJlZiIsImxlbmd0aCIsImNsZWFySW50ZXJ2YWwiLCJlbnN1cmVDbGVhbnVwVGFzayIsIl9hIiwiX2IiLCJzZXRJbnRlcnZhbCIsInVucmVmIiwiY2FsbCIsImdldE9yQ3JlYXRlU3ViY2hhbm5lbCIsImNoYW5uZWxUYXJnZXRVcmkiLCJzdWJjaGFubmVsVGFyZ2V0IiwiY2hhbm5lbEFyZ3VtZW50cyIsImNoYW5uZWxDcmVkZW50aWFscyIsInVyaVRvU3RyaW5nIiwic3ViY2hhbm5lbE9iaiIsInN1YmNoYW5uZWxBZGRyZXNzRXF1YWwiLCJzdWJjaGFubmVsQWRkcmVzcyIsImNoYW5uZWxPcHRpb25zRXF1YWwiLCJfZXF1YWxzIiwiU3ViY2hhbm5lbCIsIkh0dHAyU3ViY2hhbm5lbENvbm5lY3RvciIsInB1c2giLCJyZWYiLCJnbG9iYWxTdWJjaGFubmVsUG9vbCIsImdsb2JhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-pool.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel.js":
/*!************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/subchannel.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Subchannel = void 0;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst TRACER_NAME = 'subchannel';\n/* setInterval and setTimeout only accept signed 32 bit integers. JS doesn't\n * have a constant for the max signed 32 bit integer, so this is a simple way\n * to calculate it */\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nclass Subchannel {\n  /**\n   * A class representing a connection to a single backend.\n   * @param channelTarget The target string for the channel as a whole\n   * @param subchannelAddress The address for the backend that this subchannel\n   *     will connect to\n   * @param options The channel options, plus any specific subchannel options\n   *     for this subchannel\n   * @param credentials The channel credentials used to establish this\n   *     connection\n   */\n  constructor(channelTarget, subchannelAddress, options, credentials, connector) {\n    var _a;\n    this.channelTarget = channelTarget;\n    this.subchannelAddress = subchannelAddress;\n    this.options = options;\n    this.credentials = credentials;\n    this.connector = connector;\n    /**\n     * The subchannel's current connectivity state. Invariant: `session` === `null`\n     * if and only if `connectivityState` is IDLE or TRANSIENT_FAILURE.\n     */\n    this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n    /**\n     * The underlying http2 session used to make requests.\n     */\n    this.transport = null;\n    /**\n     * Indicates that the subchannel should transition from TRANSIENT_FAILURE to\n     * CONNECTING instead of IDLE when the backoff timeout ends.\n     */\n    this.continueConnecting = false;\n    /**\n     * A list of listener functions that will be called whenever the connectivity\n     * state changes. Will be modified by `addConnectivityStateListener` and\n     * `removeConnectivityStateListener`\n     */\n    this.stateListeners = new Set();\n    /**\n     * Tracks channels and subchannel pools with references to this subchannel\n     */\n    this.refcount = 0;\n    // Channelz info\n    this.channelzEnabled = true;\n    this.callTracker = new channelz_1.ChannelzCallTracker();\n    this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n    // Channelz socket info\n    this.streamTracker = new channelz_1.ChannelzCallTracker();\n    const backoffOptions = {\n      initialDelay: options['grpc.initial_reconnect_backoff_ms'],\n      maxDelay: options['grpc.max_reconnect_backoff_ms']\n    };\n    this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n      this.handleBackoffTimer();\n    }, backoffOptions);\n    this.backoffTimeout.unref();\n    this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n    this.keepaliveTime = (_a = options['grpc.keepalive_time_ms']) !== null && _a !== void 0 ? _a : -1;\n    if (options['grpc.enable_channelz'] === 0) {\n      this.channelzEnabled = false;\n    }\n    this.channelzTrace = new channelz_1.ChannelzTrace();\n    this.channelzRef = (0, channelz_1.registerChannelzSubchannel)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n    if (this.channelzEnabled) {\n      this.channelzTrace.addTrace('CT_INFO', 'Subchannel created');\n    }\n    this.trace('Subchannel constructed with options ' + JSON.stringify(options, undefined, 2));\n  }\n  getChannelzInfo() {\n    return {\n      state: this.connectivityState,\n      trace: this.channelzTrace,\n      callTracker: this.callTracker,\n      children: this.childrenTracker.getChildLists(),\n      target: this.subchannelAddressString\n    };\n  }\n  trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n  }\n  refTrace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, 'subchannel_refcount', '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n  }\n  handleBackoffTimer() {\n    if (this.continueConnecting) {\n      this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n    } else {\n      this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.IDLE);\n    }\n  }\n  /**\n   * Start a backoff timer with the current nextBackoff timeout\n   */\n  startBackoff() {\n    this.backoffTimeout.runOnce();\n  }\n  stopBackoff() {\n    this.backoffTimeout.stop();\n    this.backoffTimeout.reset();\n  }\n  startConnectingInternal() {\n    let options = this.options;\n    if (options['grpc.keepalive_time_ms']) {\n      const adjustedKeepaliveTime = Math.min(this.keepaliveTime, KEEPALIVE_MAX_TIME_MS);\n      options = Object.assign(Object.assign({}, options), {\n        'grpc.keepalive_time_ms': adjustedKeepaliveTime\n      });\n    }\n    this.connector.connect(this.subchannelAddress, this.credentials, options).then(transport => {\n      if (this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.READY)) {\n        this.transport = transport;\n        if (this.channelzEnabled) {\n          this.childrenTracker.refChild(transport.getChannelzRef());\n        }\n        transport.addDisconnectListener(tooManyPings => {\n          this.transitionToState([connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n          if (tooManyPings && this.keepaliveTime > 0) {\n            this.keepaliveTime *= 2;\n            logging.log(constants_1.LogVerbosity.ERROR, `Connection to ${(0, uri_parser_1.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`);\n          }\n        });\n      }\n    }, error => {\n      this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, `${error}`);\n    });\n  }\n  /**\n   * Initiate a state transition from any element of oldStates to the new\n   * state. If the current connectivityState is not in oldStates, do nothing.\n   * @param oldStates The set of states to transition from\n   * @param newState The state to transition to\n   * @returns True if the state changed, false otherwise\n   */\n  transitionToState(oldStates, newState, errorMessage) {\n    var _a, _b;\n    if (oldStates.indexOf(this.connectivityState) === -1) {\n      return false;\n    }\n    this.trace(connectivity_state_1.ConnectivityState[this.connectivityState] + ' -> ' + connectivity_state_1.ConnectivityState[newState]);\n    if (this.channelzEnabled) {\n      this.channelzTrace.addTrace('CT_INFO', 'Connectivity state change to ' + connectivity_state_1.ConnectivityState[newState]);\n    }\n    const previousState = this.connectivityState;\n    this.connectivityState = newState;\n    switch (newState) {\n      case connectivity_state_1.ConnectivityState.READY:\n        this.stopBackoff();\n        break;\n      case connectivity_state_1.ConnectivityState.CONNECTING:\n        this.startBackoff();\n        this.startConnectingInternal();\n        this.continueConnecting = false;\n        break;\n      case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n        if (this.channelzEnabled && this.transport) {\n          this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n        }\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.shutdown();\n        this.transport = null;\n        /* If the backoff timer has already ended by the time we get to the\n         * TRANSIENT_FAILURE state, we want to immediately transition out of\n         * TRANSIENT_FAILURE as though the backoff timer is ending right now */\n        if (!this.backoffTimeout.isRunning()) {\n          process.nextTick(() => {\n            this.handleBackoffTimer();\n          });\n        }\n        break;\n      case connectivity_state_1.ConnectivityState.IDLE:\n        if (this.channelzEnabled && this.transport) {\n          this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n        }\n        (_b = this.transport) === null || _b === void 0 ? void 0 : _b.shutdown();\n        this.transport = null;\n        break;\n      default:\n        throw new Error(`Invalid state: unknown ConnectivityState ${newState}`);\n    }\n    for (const listener of this.stateListeners) {\n      listener(this, previousState, newState, this.keepaliveTime, errorMessage);\n    }\n    return true;\n  }\n  ref() {\n    this.refTrace('refcount ' + this.refcount + ' -> ' + (this.refcount + 1));\n    this.refcount += 1;\n  }\n  unref() {\n    this.refTrace('refcount ' + this.refcount + ' -> ' + (this.refcount - 1));\n    this.refcount -= 1;\n    if (this.refcount === 0) {\n      if (this.channelzEnabled) {\n        this.channelzTrace.addTrace('CT_INFO', 'Shutting down');\n      }\n      if (this.channelzEnabled) {\n        (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n      }\n      process.nextTick(() => {\n        this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING, connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n      });\n    }\n  }\n  unrefIfOneRef() {\n    if (this.refcount === 1) {\n      this.unref();\n      return true;\n    }\n    return false;\n  }\n  createCall(metadata, host, method, listener) {\n    if (!this.transport) {\n      throw new Error('Cannot create call, subchannel not READY');\n    }\n    let statsTracker;\n    if (this.channelzEnabled) {\n      this.callTracker.addCallStarted();\n      this.streamTracker.addCallStarted();\n      statsTracker = {\n        onCallEnd: status => {\n          if (status.code === constants_1.Status.OK) {\n            this.callTracker.addCallSucceeded();\n          } else {\n            this.callTracker.addCallFailed();\n          }\n        }\n      };\n    } else {\n      statsTracker = {};\n    }\n    return this.transport.createCall(metadata, host, method, listener, statsTracker);\n  }\n  /**\n   * If the subchannel is currently IDLE, start connecting and switch to the\n   * CONNECTING state. If the subchannel is current in TRANSIENT_FAILURE,\n   * the next time it would transition to IDLE, start connecting again instead.\n   * Otherwise, do nothing.\n   */\n  startConnecting() {\n    process.nextTick(() => {\n      /* First, try to transition from IDLE to connecting. If that doesn't happen\n       * because the state is not currently IDLE, check if it is\n       * TRANSIENT_FAILURE, and if so indicate that it should go back to\n       * connecting after the backoff timer ends. Otherwise do nothing */\n      if (!this.transitionToState([connectivity_state_1.ConnectivityState.IDLE], connectivity_state_1.ConnectivityState.CONNECTING)) {\n        if (this.connectivityState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n          this.continueConnecting = true;\n        }\n      }\n    });\n  }\n  /**\n   * Get the subchannel's current connectivity state.\n   */\n  getConnectivityState() {\n    return this.connectivityState;\n  }\n  /**\n   * Add a listener function to be called whenever the subchannel's\n   * connectivity state changes.\n   * @param listener\n   */\n  addConnectivityStateListener(listener) {\n    this.stateListeners.add(listener);\n  }\n  /**\n   * Remove a listener previously added with `addConnectivityStateListener`\n   * @param listener A reference to a function previously passed to\n   *     `addConnectivityStateListener`\n   */\n  removeConnectivityStateListener(listener) {\n    this.stateListeners.delete(listener);\n  }\n  /**\n   * Reset the backoff timeout, and immediately start connecting if in backoff.\n   */\n  resetBackoff() {\n    process.nextTick(() => {\n      this.backoffTimeout.reset();\n      this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n    });\n  }\n  getAddress() {\n    return this.subchannelAddressString;\n  }\n  getChannelzRef() {\n    return this.channelzRef;\n  }\n  getRealSubchannel() {\n    return this;\n  }\n  realSubchannelEquals(other) {\n    return other.getRealSubchannel() === this;\n  }\n  throttleKeepalive(newKeepaliveTime) {\n    if (newKeepaliveTime > this.keepaliveTime) {\n      this.keepaliveTime = newKeepaliveTime;\n    }\n  }\n}\nexports.Subchannel = Subchannel;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxrQkFBa0IsR0FBRyxLQUFLLENBQUM7QUFDM0IsTUFBTUcsb0JBQW9CLEdBQUdDLG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTUMsaUJBQWlCLEdBQUdELG1CQUFPLENBQUMsMEZBQW1CLENBQUM7QUFDdEQsTUFBTUUsT0FBTyxHQUFHRixtQkFBTyxDQUFDLDBFQUFXLENBQUM7QUFDcEMsTUFBTUcsV0FBVyxHQUFHSCxtQkFBTyxDQUFDLDhFQUFhLENBQUM7QUFDMUMsTUFBTUksWUFBWSxHQUFHSixtQkFBTyxDQUFDLGdGQUFjLENBQUM7QUFDNUMsTUFBTUssb0JBQW9CLEdBQUdMLG1CQUFPLENBQUMsZ0dBQXNCLENBQUM7QUFDNUQsTUFBTU0sVUFBVSxHQUFHTixtQkFBTyxDQUFDLDRFQUFZLENBQUM7QUFDeEMsTUFBTU8sV0FBVyxHQUFHLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsTUFBTUMscUJBQXFCLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3hDLE1BQU1WLFVBQVUsQ0FBQztFQUNiO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lXLFdBQVdBLENBQUNDLGFBQWEsRUFBRUMsaUJBQWlCLEVBQUVDLE9BQU8sRUFBRUMsV0FBVyxFQUFFQyxTQUFTLEVBQUU7SUFDM0UsSUFBSUMsRUFBRTtJQUNOLElBQUksQ0FBQ0wsYUFBYSxHQUFHQSxhQUFhO0lBQ2xDLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdBLGlCQUFpQjtJ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LEdBQUdxRixnQkFBZ0I7SUFDekM7RUFDSjtBQUNKO0FBQ0FoSSxrQkFBa0IsR0FBR0UsVUFBVSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC5qcz84ODc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN1YmNoYW5uZWwgPSB2b2lkIDA7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGJhY2tvZmZfdGltZW91dF8xID0gcmVxdWlyZShcIi4vYmFja29mZi10aW1lb3V0XCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3N1YmNoYW5uZWwnO1xuLyogc2V0SW50ZXJ2YWwgYW5kIHNldFRpbWVvdXQgb25seSBhY2NlcHQgc2lnbmVkIDMyIGJpdCBpbnRlZ2Vycy4gSlMgZG9lc24ndFxuICogaGF2ZSBhIGNvbnN0YW50IGZvciB0aGUgbWF4IHNpZ25lZCAzMiBiaXQgaW50ZWdlciwgc28gdGhpcyBpcyBhIHNpbXBsZSB3YXlcbiAqIHRvIGNhbGN1bGF0ZSBpdCAqL1xuY29uc3QgS0VFUEFMSVZFX01BWF9USU1FX01TID0gfigxIDw8IDMxKTtcbmNsYXNzIFN1YmNoYW5uZWwge1xuICAgIC8qKlxuICAgICAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIGEgY29ubmVjdGlvbiB0byBhIHNpbmdsZSBiYWNrZW5kLlxuICAgICAqIEBwYXJhbSBjaGFubmVsVGFyZ2V0IFRoZSB0YXJnZXQgc3RyaW5nIGZvciB0aGUgY2hhbm5lbCBhcyBhIHdob2xlXG4gICAgICogQHBhcmFtIHN1YmNoYW5uZWxBZGRyZXNzIFRoZSBhZGRyZXNzIGZvciB0aGUgYmFja2VuZCB0aGF0IHRoaXMgc3ViY2hhbm5lbFxuICAgICAqICAgICB3aWxsIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2hhbm5lbCBvcHRpb25zLCBwbHVzIGFueSBzcGVjaWZpYyBzdWJjaGFubmVsIG9wdGlvbnNcbiAgICAgKiAgICAgZm9yIHRoaXMgc3ViY2hhbm5lbFxuICAgICAqIEBwYXJhbSBjcmVkZW50aWFscyBUaGUgY2hhbm5lbCBjcmVkZW50aWFscyB1c2VkIHRvIGVzdGFibGlzaCB0aGlzXG4gICAgICogICAgIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsVGFyZ2V0LCBzdWJjaGFubmVsQWRkcmVzcywgb3B0aW9ucywgY3JlZGVudGlhbHMsIGNvbm5lY3Rvcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY2hhbm5lbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3MgPSBzdWJjaGFubmVsQWRkcmVzcztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmNvbm5lY3RvciA9IGNvbm5lY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdWJjaGFubmVsJ3MgY3VycmVudCBjb25uZWN0aXZpdHkgc3RhdGUuIEludmFyaWFudDogYHNlc3Npb25gID09PSBgbnVsbGBcbiAgICAgICAgICogaWYgYW5kIG9ubHkgaWYgYGNvbm5lY3Rpdml0eVN0YXRlYCBpcyBJRExFIG9yIFRSQU5TSUVOVF9GQUlMVVJFLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdW5kZXJseWluZyBodHRwMiBzZXNzaW9uIHVzZWQgdG8gbWFrZSByZXF1ZXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBzdWJjaGFubmVsIHNob3VsZCB0cmFuc2l0aW9uIGZyb20gVFJBTlNJRU5UX0ZBSUxVUkUgdG9cbiAgICAgICAgICogQ09OTkVDVElORyBpbnN0ZWFkIG9mIElETEUgd2hlbiB0aGUgYmFja29mZiB0aW1lb3V0IGVuZHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRpbnVlQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBjb25uZWN0aXZpdHlcbiAgICAgICAgICogc3RhdGUgY2hhbmdlcy4gV2lsbCBiZSBtb2RpZmllZCBieSBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmAgYW5kXG4gICAgICAgICAqIGByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyYFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyBjaGFubmVscyBhbmQgc3ViY2hhbm5lbCBwb29scyB3aXRoIHJlZmVyZW5jZXMgdG8gdGhpcyBzdWJjaGFubmVsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZmNvdW50ID0gMDtcbiAgICAgICAgLy8gQ2hhbm5lbHogaW5mb1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIoKTtcbiAgICAgICAgLy8gQ2hhbm5lbHogc29ja2V0IGluZm9cbiAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICBjb25zdCBiYWNrb2ZmT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGluaXRpYWxEZWxheTogb3B0aW9uc1snZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJ10sXG4gICAgICAgICAgICBtYXhEZWxheTogb3B0aW9uc1snZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dCA9IG5ldyBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2tvZmZUaW1lcigpO1xuICAgICAgICB9LCBiYWNrb2ZmT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQudW5yZWYoKTtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShzdWJjaGFubmVsQWRkcmVzcyk7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IChfYSA9IG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTE7XG4gICAgICAgIGlmIChvcHRpb25zWydncnBjLmVuYWJsZV9jaGFubmVseiddID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTdWJjaGFubmVsKSh0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nLCAoKSA9PiB0aGlzLmdldENoYW5uZWx6SW5mbygpLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ1N1YmNoYW5uZWwgY3JlYXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2UoJ1N1YmNoYW5uZWwgY29uc3RydWN0ZWQgd2l0aCBvcHRpb25zICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgdW5kZWZpbmVkLCAyKSk7XG4gICAgfVxuICAgIGdldENoYW5uZWx6SW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlLFxuICAgICAgICAgICAgdHJhY2U6IHRoaXMuY2hhbm5lbHpUcmFjZSxcbiAgICAgICAgICAgIGNhbGxUcmFja2VyOiB0aGlzLmNhbGxUcmFja2VyLFxuICAgICAgICAgICAgY2hpbGRyZW46IHRoaXMuY2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKSxcbiAgICAgICAgICAgIHRhcmdldDogdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIHJlZlRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdzdWJjaGFubmVsX3JlZmNvdW50JywgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAgaGFuZGxlQmFja29mZlRpbWVyKCkge1xuICAgICAgICBpZiAodGhpcy5jb250aW51ZUNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Ub1N0YXRlKFtjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRV0sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGEgYmFja29mZiB0aW1lciB3aXRoIHRoZSBjdXJyZW50IG5leHRCYWNrb2ZmIHRpbWVvdXRcbiAgICAgKi9cbiAgICBzdGFydEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucnVuT25jZSgpO1xuICAgIH1cbiAgICBzdG9wQmFja29mZigpIHtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5zdG9wKCk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucmVzZXQoKTtcbiAgICB9XG4gICAgc3RhcnRDb25uZWN0aW5nSW50ZXJuYWwoKSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9uc1snZ3JwYy5rZWVwYWxpdmVfdGltZV9tcyddKSB7XG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZEtlZXBhbGl2ZVRpbWUgPSBNYXRoLm1pbih0aGlzLmtlZXBhbGl2ZVRpbWUsIEtFRVBBTElWRV9NQVhfVElNRV9NUyk7XG4gICAgICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyAnZ3JwYy5rZWVwYWxpdmVfdGltZV9tcyc6IGFkanVzdGVkS2VlcGFsaXZlVGltZSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RvclxuICAgICAgICAgICAgLmNvbm5lY3QodGhpcy5zdWJjaGFubmVsQWRkcmVzcywgdGhpcy5jcmVkZW50aWFscywgb3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHRyYW5zcG9ydCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElOR10sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZCh0cmFuc3BvcnQuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5hZGREaXNjb25uZWN0TGlzdGVuZXIodG9vTWFueVBpbmdzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFldLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb01hbnlQaW5ncyAmJiB0aGlzLmtlZXBhbGl2ZVRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWUgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgYENvbm5lY3Rpb24gdG8gJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLmNoYW5uZWxUYXJnZXQpfSBhdCAke3RoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmd9IHJlamVjdGVkIGJ5IHNlcnZlciBiZWNhdXNlIG9mIGV4Y2VzcyBwaW5ncy4gSW5jcmVhc2luZyBwaW5nIGludGVydmFsIHRvICR7dGhpcy5rZWVwYWxpdmVUaW1lfSBtc2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkddLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgYCR7ZXJyb3J9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWF0ZSBhIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBhbnkgZWxlbWVudCBvZiBvbGRTdGF0ZXMgdG8gdGhlIG5ld1xuICAgICAqIHN0YXRlLiBJZiB0aGUgY3VycmVudCBjb25uZWN0aXZpdHlTdGF0ZSBpcyBub3QgaW4gb2xkU3RhdGVzLCBkbyBub3RoaW5nLlxuICAgICAqIEBwYXJhbSBvbGRTdGF0ZXMgVGhlIHNldCBvZiBzdGF0ZXMgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIHRvXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc3RhdGUgY2hhbmdlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgdHJhbnNpdGlvblRvU3RhdGUob2xkU3RhdGVzLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChvbGRTdGF0ZXMuaW5kZXhPZih0aGlzLmNvbm5lY3Rpdml0eVN0YXRlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY29ubmVjdGl2aXR5U3RhdGVdICtcbiAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aXZpdHkgc3RhdGUgY2hhbmdlIHRvICcgKyBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIHN3aXRjaCAobmV3U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFk6XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wQmFja29mZigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRCYWNrb2ZmKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydENvbm5lY3RpbmdJbnRlcm5hbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCAmJiB0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKHRoaXMudHJhbnNwb3J0LmdldENoYW5uZWx6UmVmKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnRyYW5zcG9ydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNodXRkb3duKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8qIElmIHRoZSBiYWNrb2ZmIHRpbWVyIGhhcyBhbHJlYWR5IGVuZGVkIGJ5IHRoZSB0aW1lIHdlIGdldCB0byB0aGVcbiAgICAgICAgICAgICAgICAgKiBUUkFOU0lFTlRfRkFJTFVSRSBzdGF0ZSwgd2Ugd2FudCB0byBpbW1lZGlhdGVseSB0cmFuc2l0aW9uIG91dCBvZlxuICAgICAgICAgICAgICAgICAqIFRSQU5TSUVOVF9GQUlMVVJFIGFzIHRob3VnaCB0aGUgYmFja29mZiB0aW1lciBpcyBlbmRpbmcgcmlnaHQgbm93ICovXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJhY2tvZmZUaW1lb3V0LmlzUnVubmluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVCYWNrb2ZmVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCAmJiB0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKHRoaXMudHJhbnNwb3J0LmdldENoYW5uZWx6UmVmKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnRyYW5zcG9ydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNodXRkb3duKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RhdGU6IHVua25vd24gQ29ubmVjdGl2aXR5U3RhdGUgJHtuZXdTdGF0ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuc3RhdGVMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKHRoaXMsIHByZXZpb3VzU3RhdGUsIG5ld1N0YXRlLCB0aGlzLmtlZXBhbGl2ZVRpbWUsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJlZigpIHtcbiAgICAgICAgdGhpcy5yZWZUcmFjZSgncmVmY291bnQgJyArIHRoaXMucmVmY291bnQgKyAnIC0+ICcgKyAodGhpcy5yZWZjb3VudCArIDEpKTtcbiAgICAgICAgdGhpcy5yZWZjb3VudCArPSAxO1xuICAgIH1cbiAgICB1bnJlZigpIHtcbiAgICAgICAgdGhpcy5yZWZUcmFjZSgncmVmY291bnQgJyArIHRoaXMucmVmY291bnQgKyAnIC0+ICcgKyAodGhpcy5yZWZjb3VudCAtIDEpKTtcbiAgICAgICAgdGhpcy5yZWZjb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5yZWZjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ1NodXR0aW5nIGRvd24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Ub1N0YXRlKFtjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWV0sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5yZWZJZk9uZVJlZigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVmY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMudW5yZWYoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY3JlYXRlQ2FsbChtZXRhZGF0YSwgaG9zdCwgbWV0aG9kLCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgY2FsbCwgc3ViY2hhbm5lbCBub3QgUkVBRFknKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhdHNUcmFja2VyO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbFN0YXJ0ZWQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICAgICAgc3RhdHNUcmFja2VyID0ge1xuICAgICAgICAgICAgICAgIG9uQ2FsbEVuZDogc3RhdHVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5jb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRzVHJhY2tlciA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5jcmVhdGVDYWxsKG1ldGFkYXRhLCBob3N0LCBtZXRob2QsIGxpc3RlbmVyLCBzdGF0c1RyYWNrZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgc3ViY2hhbm5lbCBpcyBjdXJyZW50bHkgSURMRSwgc3RhcnQgY29ubmVjdGluZyBhbmQgc3dpdGNoIHRvIHRoZVxuICAgICAqIENPTk5FQ1RJTkcgc3RhdGUuIElmIHRoZSBzdWJjaGFubmVsIGlzIGN1cnJlbnQgaW4gVFJBTlNJRU5UX0ZBSUxVUkUsXG4gICAgICogdGhlIG5leHQgdGltZSBpdCB3b3VsZCB0cmFuc2l0aW9uIHRvIElETEUsIHN0YXJ0IGNvbm5lY3RpbmcgYWdhaW4gaW5zdGVhZC5cbiAgICAgKiBPdGhlcndpc2UsIGRvIG5vdGhpbmcuXG4gICAgICovXG4gICAgc3RhcnRDb25uZWN0aW5nKCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIC8qIEZpcnN0LCB0cnkgdG8gdHJhbnNpdGlvbiBmcm9tIElETEUgdG8gY29ubmVjdGluZy4gSWYgdGhhdCBkb2Vzbid0IGhhcHBlblxuICAgICAgICAgICAgICogYmVjYXVzZSB0aGUgc3RhdGUgaXMgbm90IGN1cnJlbnRseSBJRExFLCBjaGVjayBpZiBpdCBpc1xuICAgICAgICAgICAgICogVFJBTlNJRU5UX0ZBSUxVUkUsIGFuZCBpZiBzbyBpbmRpY2F0ZSB0aGF0IGl0IHNob3VsZCBnbyBiYWNrIHRvXG4gICAgICAgICAgICAgKiBjb25uZWN0aW5nIGFmdGVyIHRoZSBiYWNrb2ZmIHRpbWVyIGVuZHMuIE90aGVyd2lzZSBkbyBub3RoaW5nICovXG4gICAgICAgICAgICBpZiAoIXRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEVdLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlQ29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdWJjaGFubmVsJ3MgY3VycmVudCBjb25uZWN0aXZpdHkgc3RhdGUuXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIHN1YmNoYW5uZWwnc1xuICAgICAqIGNvbm5lY3Rpdml0eSBzdGF0ZSBjaGFuZ2VzLlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIGFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5zdGF0ZUxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBsaXN0ZW5lciBwcmV2aW91c2x5IGFkZGVkIHdpdGggYGFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXJgXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIEEgcmVmZXJlbmNlIHRvIGEgZnVuY3Rpb24gcHJldmlvdXNseSBwYXNzZWQgdG9cbiAgICAgKiAgICAgYGFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXJgXG4gICAgICovXG4gICAgcmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBiYWNrb2ZmIHRpbWVvdXQsIGFuZCBpbW1lZGlhdGVseSBzdGFydCBjb25uZWN0aW5nIGlmIGluIGJhY2tvZmYuXG4gICAgICovXG4gICAgcmVzZXRCYWNrb2ZmKCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZztcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpSZWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWx6UmVmO1xuICAgIH1cbiAgICBnZXRSZWFsU3ViY2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlYWxTdWJjaGFubmVsRXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlci5nZXRSZWFsU3ViY2hhbm5lbCgpID09PSB0aGlzO1xuICAgIH1cbiAgICB0aHJvdHRsZUtlZXBhbGl2ZShuZXdLZWVwYWxpdmVUaW1lKSB7XG4gICAgICAgIGlmIChuZXdLZWVwYWxpdmVUaW1lID4gdGhpcy5rZWVwYWxpdmVUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWUgPSBuZXdLZWVwYWxpdmVUaW1lO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5TdWJjaGFubmVsID0gU3ViY2hhbm5lbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiU3ViY2hhbm5lbCIsImNvbm5lY3Rpdml0eV9zdGF0ZV8xIiwicmVxdWlyZSIsImJhY2tvZmZfdGltZW91dF8xIiwibG9nZ2luZyIsImNvbnN0YW50c18xIiwidXJpX3BhcnNlcl8xIiwic3ViY2hhbm5lbF9hZGRyZXNzXzEiLCJjaGFubmVsel8xIiwiVFJBQ0VSX05BTUUiLCJLRUVQQUxJVkVfTUFYX1RJTUVfTVMiLCJjb25zdHJ1Y3RvciIsImNoYW5uZWxUYXJnZXQiLCJzdWJjaGFubmVsQWRkcmVzcyIsIm9wdGlvbnMiLCJjcmVkZW50aWFscyIsImNvbm5lY3RvciIsIl9hIiwiY29ubmVjdGl2aXR5U3RhdGUiLCJDb25uZWN0aXZpdHlTdGF0ZSIsIklETEUiLCJ0cmFuc3BvcnQiLCJjb250aW51ZUNvbm5lY3RpbmciLCJzdGF0ZUxpc3RlbmVycyIsIlNldCIsInJlZmNvdW50IiwiY2hhbm5lbHpFbmFibGVkIiwiY2FsbFRyYWNrZXIiLCJDaGFubmVsekNhbGxUcmFja2VyIiwiY2hpbGRyZW5UcmFja2VyIiwiQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIiLCJzdHJlYW1UcmFja2VyIiwiYmFja29mZk9wdGlvbnMiLCJpbml0aWFsRGVsYXkiLCJtYXhEZWxheSIsImJhY2tvZmZUaW1lb3V0IiwiQmFja29mZlRpbWVvdXQiLCJoYW5kbGVCYWNrb2ZmVGltZXIiLCJ1bnJlZiIsInN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nIiwic3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZyIsImtlZXBhbGl2ZVRpbWUiLCJjaGFubmVselRyYWNlIiwiQ2hhbm5lbHpUcmFjZSIsImNoYW5uZWx6UmVmIiwicmVnaXN0ZXJDaGFubmVselN1YmNoYW5uZWwiLCJnZXRDaGFubmVsekluZm8iLCJhZGRUcmFjZSIsInRyYWNlIiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCIsInN0YXRlIiwiY2hpbGRyZW4iLCJnZXRDaGlsZExpc3RzIiwidGFyZ2V0IiwidGV4dCIsIkxvZ1ZlcmJvc2l0eSIsIkRFQlVHIiwiaWQiLCJyZWZUcmFjZSIsInRyYW5zaXRpb25Ub1N0YXRlIiwiVFJBTlNJRU5UX0ZBSUxVUkUiLCJDT05ORUNUSU5HIiwic3RhcnRCYWNrb2ZmIiwicnVuT25jZSIsInN0b3BCYWNrb2ZmIiwic3RvcCIsInJlc2V0Iiwic3RhcnRDb25uZWN0aW5nSW50ZXJuYWwiLCJhZGp1c3RlZEtlZXBhbGl2ZVRpbWUiLCJNYXRoIiwibWluIiwiYXNzaWduIiwiY29ubmVjdCIsInRoZW4iLCJSRUFEWSIsInJlZkNoaWxkIiwiZ2V0Q2hhbm5lbHpSZWYiLCJhZGREaXNjb25uZWN0TGlzdGVuZXIiLCJ0b29NYW55UGluZ3MiLCJsb2ciLCJFUlJPUiIsInVyaVRvU3RyaW5nIiwiZXJyb3IiLCJvbGRTdGF0ZXMiLCJuZXdTdGF0ZSIsImVycm9yTWVzc2FnZSIsIl9iIiwiaW5kZXhPZiIsInByZXZpb3VzU3RhdGUiLCJ1bnJlZkNoaWxkIiwic2h1dGRvd24iLCJpc1J1bm5pbmciLCJwcm9jZXNzIiwibmV4dFRpY2siLCJFcnJvciIsImxpc3RlbmVyIiwicmVmIiwidW5yZWdpc3RlckNoYW5uZWx6UmVmIiwidW5yZWZJZk9uZVJlZiIsImNyZWF0ZUNhbGwiLCJtZXRhZGF0YSIsImhvc3QiLCJtZXRob2QiLCJzdGF0c1RyYWNrZXIiLCJhZGRDYWxsU3RhcnRlZCIsIm9uQ2FsbEVuZCIsInN0YXR1cyIsImNvZGUiLCJTdGF0dXMiLCJPSyIsImFkZENhbGxTdWNjZWVkZWQiLCJhZGRDYWxsRmFpbGVkIiwic3RhcnRDb25uZWN0aW5nIiwiZ2V0Q29ubmVjdGl2aXR5U3RhdGUiLCJhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyIiwiYWRkIiwicmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lciIsImRlbGV0ZSIsInJlc2V0QmFja29mZiIsImdldEFkZHJlc3MiLCJnZXRSZWFsU3ViY2hhbm5lbCIsInJlYWxTdWJjaGFubmVsRXF1YWxzIiwib3RoZXIiLCJ0aHJvdHRsZUtlZXBhbGl2ZSIsIm5ld0tlZXBhbGl2ZVRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/tls-helpers.js":
/*!*************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/tls-helpers.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getDefaultRootsData = exports.CIPHER_SUITES = void 0;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nexports.CIPHER_SUITES = process.env.GRPC_SSL_CIPHER_SUITES;\nconst DEFAULT_ROOTS_FILE_PATH = process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;\nlet defaultRootsData = null;\nfunction getDefaultRootsData() {\n  if (DEFAULT_ROOTS_FILE_PATH) {\n    if (defaultRootsData === null) {\n      defaultRootsData = fs.readFileSync(DEFAULT_ROOTS_FILE_PATH);\n    }\n    return defaultRootsData;\n  }\n  return null;\n}\nexports.getDefaultRootsData = getDefaultRootsData;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdGxzLWhlbHBlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsMkJBQTJCLEdBQUdBLHFCQUFxQixHQUFHLEtBQUssQ0FBQztBQUM1RCxNQUFNSSxFQUFFLEdBQUdDLG1CQUFPLENBQUMsY0FBSSxDQUFDO0FBQ3hCTCxxQkFBcUIsR0FBR00sT0FBTyxDQUFDQyxHQUFHLENBQUNDLHNCQUFzQjtBQUMxRCxNQUFNQyx1QkFBdUIsR0FBR0gsT0FBTyxDQUFDQyxHQUFHLENBQUNHLGdDQUFnQztBQUM1RSxJQUFJQyxnQkFBZ0IsR0FBRyxJQUFJO0FBQzNCLFNBQVNULG1CQUFtQkEsQ0FBQSxFQUFHO0VBQzNCLElBQUlPLHVCQUF1QixFQUFFO0lBQ3pCLElBQUlFLGdCQUFnQixLQUFLLElBQUksRUFBRTtNQUMzQkEsZ0JBQWdCLEdBQUdQLEVBQUUsQ0FBQ1EsWUFBWSxDQUFDSCx1QkFBdUIsQ0FBQztJQUMvRDtJQUNBLE9BQU9FLGdCQUFnQjtFQUMzQjtFQUNBLE9BQU8sSUFBSTtBQUNmO0FBQ0FYLDJCQUEyQixHQUFHRSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Rscy1oZWxwZXJzLmpzPzBlZDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0RGVmYXVsdFJvb3RzRGF0YSA9IGV4cG9ydHMuQ0lQSEVSX1NVSVRFUyA9IHZvaWQgMDtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuZXhwb3J0cy5DSVBIRVJfU1VJVEVTID0gcHJvY2Vzcy5lbnYuR1JQQ19TU0xfQ0lQSEVSX1NVSVRFUztcbmNvbnN0IERFRkFVTFRfUk9PVFNfRklMRV9QQVRIID0gcHJvY2Vzcy5lbnYuR1JQQ19ERUZBVUxUX1NTTF9ST09UU19GSUxFX1BBVEg7XG5sZXQgZGVmYXVsdFJvb3RzRGF0YSA9IG51bGw7XG5mdW5jdGlvbiBnZXREZWZhdWx0Um9vdHNEYXRhKCkge1xuICAgIGlmIChERUZBVUxUX1JPT1RTX0ZJTEVfUEFUSCkge1xuICAgICAgICBpZiAoZGVmYXVsdFJvb3RzRGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVmYXVsdFJvb3RzRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhERUZBVUxUX1JPT1RTX0ZJTEVfUEFUSCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRSb290c0RhdGE7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0cy5nZXREZWZhdWx0Um9vdHNEYXRhID0gZ2V0RGVmYXVsdFJvb3RzRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRscy1oZWxwZXJzLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImdldERlZmF1bHRSb290c0RhdGEiLCJDSVBIRVJfU1VJVEVTIiwiZnMiLCJyZXF1aXJlIiwicHJvY2VzcyIsImVudiIsIkdSUENfU1NMX0NJUEhFUl9TVUlURVMiLCJERUZBVUxUX1JPT1RTX0ZJTEVfUEFUSCIsIkdSUENfREVGQVVMVF9TU0xfUk9PVFNfRklMRV9QQVRIIiwiZGVmYXVsdFJvb3RzRGF0YSIsInJlYWRGaWxlU3luYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/tls-helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/transport.js":
/*!***********************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/transport.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/*\n * Copyright 2023 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Http2SubchannelConnector = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst tls_1 = __webpack_require__(/*! tls */ \"tls\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst http_proxy_1 = __webpack_require__(/*! ./http_proxy */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/http_proxy.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst subchannel_call_1 = __webpack_require__(/*! ./subchannel-call */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/subchannel-call.js\");\nconst call_number_1 = __webpack_require__(/*! ./call-number */ \"(ssr)/./node_modules/@grpc/grpc-js/build/src/call-number.js\");\nconst TRACER_NAME = 'transport';\nconst FLOW_CONTROL_TRACER_NAME = 'transport_flowctrl';\nconst clientVersion = (__webpack_require__(/*! ../../package.json */ \"(ssr)/./node_modules/@grpc/grpc-js/package.json\").version);\nconst {\n  HTTP2_HEADER_AUTHORITY,\n  HTTP2_HEADER_CONTENT_TYPE,\n  HTTP2_HEADER_METHOD,\n  HTTP2_HEADER_PATH,\n  HTTP2_HEADER_TE,\n  HTTP2_HEADER_USER_AGENT\n} = http2.constants;\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst tooManyPingsData = Buffer.from('too_many_pings', 'ascii');\nclass Http2Transport {\n  constructor(session, subchannelAddress, options,\n  /**\n   * Name of the remote server, if it is not the same as the subchannel\n   * address, i.e. if connecting through an HTTP CONNECT proxy.\n   */\n  remoteName) {\n    this.session = session;\n    this.remoteName = remoteName;\n    /**\n     * The amount of time in between sending pings\n     */\n    this.keepaliveTimeMs = -1;\n    /**\n     * The amount of time to wait for an acknowledgement after sending a ping\n     */\n    this.keepaliveTimeoutMs = KEEPALIVE_TIMEOUT_MS;\n    /**\n     * Timer reference for timeout that indicates when to send the next ping\n     */\n    this.keepaliveTimerId = null;\n    /**\n     * Indicates that the keepalive timer ran out while there were no active\n     * calls, and a ping should be sent the next time a call starts.\n     */\n    this.pendingSendKeepalivePing = false;\n    /**\n     * Timer reference tracking when the most recent ping will be considered lost\n     */\n    this.keepaliveTimeoutId = null;\n    /**\n     * Indicates whether keepalive pings should be sent without any active calls\n     */\n    this.keepaliveWithoutCalls = false;\n    this.activeCalls = new Set();\n    this.disconnectListeners = [];\n    this.disconnectHandled = false;\n    this.channelzEnabled = true;\n    this.streamTracker = new channelz_1.ChannelzCallTracker();\n    this.keepalivesSent = 0;\n    this.messagesSent = 0;\n    this.messagesReceived = 0;\n    this.lastMessageSentTimestamp = null;\n    this.lastMessageReceivedTimestamp = null;\n    /* Populate subchannelAddressString and channelzRef before doing anything\n     * else, because they are used in the trace methods. */\n    this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n    if (options['grpc.enable_channelz'] === 0) {\n      this.channelzEnabled = false;\n    }\n    this.channelzRef = (0, channelz_1.registerChannelzSocket)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n    // Build user-agent string.\n    this.userAgent = [options['grpc.primary_user_agent'], `grpc-node-js/${clientVersion}`, options['grpc.secondary_user_agent']].filter(e => e).join(' '); // remove falsey values first\n    if ('grpc.keepalive_time_ms' in options) {\n      this.keepaliveTimeMs = options['grpc.keepalive_time_ms'];\n    }\n    if ('grpc.keepalive_timeout_ms' in options) {\n      this.keepaliveTimeoutMs = options['grpc.keepalive_timeout_ms'];\n    }\n    if ('grpc.keepalive_permit_without_calls' in options) {\n      this.keepaliveWithoutCalls = options['grpc.keepalive_permit_without_calls'] === 1;\n    } else {\n      this.keepaliveWithoutCalls = false;\n    }\n    session.once('close', () => {\n      this.trace('session closed');\n      this.stopKeepalivePings();\n      this.handleDisconnect();\n    });\n    session.once('goaway', (errorCode, lastStreamID, opaqueData) => {\n      let tooManyPings = false;\n      /* See the last paragraph of\n       * https://github.com/grpc/proposal/blob/master/A8-client-side-keepalive.md#basic-keepalive */\n      if (errorCode === http2.constants.NGHTTP2_ENHANCE_YOUR_CALM && opaqueData && opaqueData.equals(tooManyPingsData)) {\n        tooManyPings = true;\n      }\n      this.trace('connection closed by GOAWAY with code ' + errorCode + ' and data ' + (opaqueData === null || opaqueData === void 0 ? void 0 : opaqueData.toString()));\n      this.reportDisconnectToOwner(tooManyPings);\n    });\n    session.once('error', error => {\n      /* Do nothing here. Any error should also trigger a close event, which is\n       * where we want to handle that.  */\n      this.trace('connection closed with error ' + error.message);\n    });\n    if (logging.isTracerEnabled(TRACER_NAME)) {\n      session.on('remoteSettings', settings => {\n        this.trace('new settings received' + (this.session !== session ? ' on the old connection' : '') + ': ' + JSON.stringify(settings));\n      });\n      session.on('localSettings', settings => {\n        this.trace('local settings acknowledged by remote' + (this.session !== session ? ' on the old connection' : '') + ': ' + JSON.stringify(settings));\n      });\n    }\n    /* Start the keepalive timer last, because this can trigger trace logs,\n     * which should only happen after everything else is set up. */\n    if (this.keepaliveWithoutCalls) {\n      this.maybeStartKeepalivePingTimer();\n    }\n  }\n  getChannelzInfo() {\n    var _a, _b, _c;\n    const sessionSocket = this.session.socket;\n    const remoteAddress = sessionSocket.remoteAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort) : null;\n    const localAddress = sessionSocket.localAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort) : null;\n    let tlsInfo;\n    if (this.session.encrypted) {\n      const tlsSocket = sessionSocket;\n      const cipherInfo = tlsSocket.getCipher();\n      const certificate = tlsSocket.getCertificate();\n      const peerCertificate = tlsSocket.getPeerCertificate();\n      tlsInfo = {\n        cipherSuiteStandardName: (_a = cipherInfo.standardName) !== null && _a !== void 0 ? _a : null,\n        cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n        localCertificate: certificate && 'raw' in certificate ? certificate.raw : null,\n        remoteCertificate: peerCertificate && 'raw' in peerCertificate ? peerCertificate.raw : null\n      };\n    } else {\n      tlsInfo = null;\n    }\n    const socketInfo = {\n      remoteAddress: remoteAddress,\n      localAddress: localAddress,\n      security: tlsInfo,\n      remoteName: this.remoteName,\n      streamsStarted: this.streamTracker.callsStarted,\n      streamsSucceeded: this.streamTracker.callsSucceeded,\n      streamsFailed: this.streamTracker.callsFailed,\n      messagesSent: this.messagesSent,\n      messagesReceived: this.messagesReceived,\n      keepAlivesSent: this.keepalivesSent,\n      lastLocalStreamCreatedTimestamp: this.streamTracker.lastCallStartedTimestamp,\n      lastRemoteStreamCreatedTimestamp: null,\n      lastMessageSentTimestamp: this.lastMessageSentTimestamp,\n      lastMessageReceivedTimestamp: this.lastMessageReceivedTimestamp,\n      localFlowControlWindow: (_b = this.session.state.localWindowSize) !== null && _b !== void 0 ? _b : null,\n      remoteFlowControlWindow: (_c = this.session.state.remoteWindowSize) !== null && _c !== void 0 ? _c : null\n    };\n    return socketInfo;\n  }\n  trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n  }\n  keepaliveTrace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, 'keepalive', '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n  }\n  flowControlTrace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, FLOW_CONTROL_TRACER_NAME, '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n  }\n  internalsTrace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, 'transport_internals', '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n  }\n  /**\n   * Indicate to the owner of this object that this transport should no longer\n   * be used. That happens if the connection drops, or if the server sends a\n   * GOAWAY.\n   * @param tooManyPings If true, this was triggered by a GOAWAY with data\n   * indicating that the session was closed becaues the client sent too many\n   * pings.\n   * @returns\n   */\n  reportDisconnectToOwner(tooManyPings) {\n    if (this.disconnectHandled) {\n      return;\n    }\n    this.disconnectHandled = true;\n    this.disconnectListeners.forEach(listener => listener(tooManyPings));\n  }\n  /**\n   * Handle connection drops, but not GOAWAYs.\n   */\n  handleDisconnect() {\n    this.reportDisconnectToOwner(false);\n    /* Give calls an event loop cycle to finish naturally before reporting the\n     * disconnnection to them. */\n    setImmediate(() => {\n      for (const call of this.activeCalls) {\n        call.onDisconnect();\n      }\n    });\n  }\n  addDisconnectListener(listener) {\n    this.disconnectListeners.push(listener);\n  }\n  clearKeepaliveTimer() {\n    if (!this.keepaliveTimerId) {\n      return;\n    }\n    clearTimeout(this.keepaliveTimerId);\n    this.keepaliveTimerId = null;\n  }\n  clearKeepaliveTimeout() {\n    if (!this.keepaliveTimeoutId) {\n      return;\n    }\n    clearTimeout(this.keepaliveTimeoutId);\n    this.keepaliveTimeoutId = null;\n  }\n  canSendPing() {\n    return this.keepaliveTimeMs > 0 && (this.keepaliveWithoutCalls || this.activeCalls.size > 0);\n  }\n  maybeSendPing() {\n    var _a, _b;\n    this.clearKeepaliveTimer();\n    if (!this.canSendPing()) {\n      this.pendingSendKeepalivePing = true;\n      return;\n    }\n    if (this.channelzEnabled) {\n      this.keepalivesSent += 1;\n    }\n    this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n    if (!this.keepaliveTimeoutId) {\n      this.keepaliveTimeoutId = setTimeout(() => {\n        this.keepaliveTrace('Ping timeout passed without response');\n        this.handleDisconnect();\n      }, this.keepaliveTimeoutMs);\n      (_b = (_a = this.keepaliveTimeoutId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    try {\n      this.session.ping((err, duration, payload) => {\n        if (err) {\n          this.keepaliveTrace('Ping failed with error ' + err.message);\n          this.handleDisconnect();\n        }\n        this.keepaliveTrace('Received ping response');\n        this.clearKeepaliveTimeout();\n        this.maybeStartKeepalivePingTimer();\n      });\n    } catch (e) {\n      /* If we fail to send a ping, the connection is no longer functional, so\n       * we should discard it. */\n      this.handleDisconnect();\n    }\n  }\n  /**\n   * Starts the keepalive ping timer if appropriate. If the timer already ran\n   * out while there were no active requests, instead send a ping immediately.\n   * If the ping timer is already running or a ping is currently in flight,\n   * instead do nothing and wait for them to resolve.\n   */\n  maybeStartKeepalivePingTimer() {\n    var _a, _b;\n    if (!this.canSendPing()) {\n      return;\n    }\n    if (this.pendingSendKeepalivePing) {\n      this.pendingSendKeepalivePing = false;\n      this.maybeSendPing();\n    } else if (!this.keepaliveTimerId && !this.keepaliveTimeoutId) {\n      this.keepaliveTrace('Starting keepalive timer for ' + this.keepaliveTimeMs + 'ms');\n      this.keepaliveTimerId = (_b = (_a = setTimeout(() => {\n        this.maybeSendPing();\n      }, this.keepaliveTimeMs)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /* Otherwise, there is already either a keepalive timer or a ping pending,\n     * wait for those to resolve. */\n  }\n\n  stopKeepalivePings() {\n    if (this.keepaliveTimerId) {\n      clearTimeout(this.keepaliveTimerId);\n      this.keepaliveTimerId = null;\n    }\n    this.clearKeepaliveTimeout();\n  }\n  removeActiveCall(call) {\n    this.activeCalls.delete(call);\n    if (this.activeCalls.size === 0) {\n      this.session.unref();\n    }\n  }\n  addActiveCall(call) {\n    this.activeCalls.add(call);\n    if (this.activeCalls.size === 1) {\n      this.session.ref();\n      if (!this.keepaliveWithoutCalls) {\n        this.maybeStartKeepalivePingTimer();\n      }\n    }\n  }\n  createCall(metadata, host, method, listener, subchannelCallStatsTracker) {\n    const headers = metadata.toHttp2Headers();\n    headers[HTTP2_HEADER_AUTHORITY] = host;\n    headers[HTTP2_HEADER_USER_AGENT] = this.userAgent;\n    headers[HTTP2_HEADER_CONTENT_TYPE] = 'application/grpc';\n    headers[HTTP2_HEADER_METHOD] = 'POST';\n    headers[HTTP2_HEADER_PATH] = method;\n    headers[HTTP2_HEADER_TE] = 'trailers';\n    let http2Stream;\n    /* In theory, if an error is thrown by session.request because session has\n     * become unusable (e.g. because it has received a goaway), this subchannel\n     * should soon see the corresponding close or goaway event anyway and leave\n     * READY. But we have seen reports that this does not happen\n     * (https://github.com/googleapis/nodejs-firestore/issues/1023#issuecomment-653204096)\n     * so for defense in depth, we just discard the session when we see an\n     * error here.\n     */\n    try {\n      http2Stream = this.session.request(headers);\n    } catch (e) {\n      this.handleDisconnect();\n      throw e;\n    }\n    this.flowControlTrace('local window size: ' + this.session.state.localWindowSize + ' remote window size: ' + this.session.state.remoteWindowSize);\n    this.internalsTrace('session.closed=' + this.session.closed + ' session.destroyed=' + this.session.destroyed + ' session.socket.destroyed=' + this.session.socket.destroyed);\n    let eventTracker;\n    // eslint-disable-next-line prefer-const\n    let call;\n    if (this.channelzEnabled) {\n      this.streamTracker.addCallStarted();\n      eventTracker = {\n        addMessageSent: () => {\n          var _a;\n          this.messagesSent += 1;\n          this.lastMessageSentTimestamp = new Date();\n          (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n        },\n        addMessageReceived: () => {\n          var _a;\n          this.messagesReceived += 1;\n          this.lastMessageReceivedTimestamp = new Date();\n          (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n        },\n        onCallEnd: status => {\n          var _a;\n          (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n          this.removeActiveCall(call);\n        },\n        onStreamEnd: success => {\n          var _a;\n          if (success) {\n            this.streamTracker.addCallSucceeded();\n          } else {\n            this.streamTracker.addCallFailed();\n          }\n          (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n        }\n      };\n    } else {\n      eventTracker = {\n        addMessageSent: () => {\n          var _a;\n          (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n        },\n        addMessageReceived: () => {\n          var _a;\n          (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n        },\n        onCallEnd: status => {\n          var _a;\n          (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n          this.removeActiveCall(call);\n        },\n        onStreamEnd: success => {\n          var _a;\n          (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n        }\n      };\n    }\n    call = new subchannel_call_1.Http2SubchannelCall(http2Stream, eventTracker, listener, this, (0, call_number_1.getNextCallNumber)());\n    this.addActiveCall(call);\n    return call;\n  }\n  getChannelzRef() {\n    return this.channelzRef;\n  }\n  getPeerName() {\n    return this.subchannelAddressString;\n  }\n  shutdown() {\n    this.session.close();\n    (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n  }\n}\nclass Http2SubchannelConnector {\n  constructor(channelTarget) {\n    this.channelTarget = channelTarget;\n    this.session = null;\n    this.isShutdown = false;\n  }\n  trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, (0, uri_parser_1.uriToString)(this.channelTarget) + ' ' + text);\n  }\n  createSession(address, credentials, options, proxyConnectionResult) {\n    if (this.isShutdown) {\n      return Promise.reject();\n    }\n    return new Promise((resolve, reject) => {\n      var _a, _b, _c;\n      let remoteName;\n      if (proxyConnectionResult.realTarget) {\n        remoteName = (0, uri_parser_1.uriToString)(proxyConnectionResult.realTarget);\n        this.trace('creating HTTP/2 session through proxy to ' + (0, uri_parser_1.uriToString)(proxyConnectionResult.realTarget));\n      } else {\n        remoteName = null;\n        this.trace('creating HTTP/2 session to ' + (0, subchannel_address_1.subchannelAddressToString)(address));\n      }\n      const targetAuthority = (0, resolver_1.getDefaultAuthority)((_a = proxyConnectionResult.realTarget) !== null && _a !== void 0 ? _a : this.channelTarget);\n      let connectionOptions = credentials._getConnectionOptions() || {};\n      connectionOptions.maxSendHeaderBlockLength = Number.MAX_SAFE_INTEGER;\n      if ('grpc-node.max_session_memory' in options) {\n        connectionOptions.maxSessionMemory = options['grpc-node.max_session_memory'];\n      } else {\n        /* By default, set a very large max session memory limit, to effectively\n         * disable enforcement of the limit. Some testing indicates that Node's\n         * behavior degrades badly when this limit is reached, so we solve that\n         * by disabling the check entirely. */\n        connectionOptions.maxSessionMemory = Number.MAX_SAFE_INTEGER;\n      }\n      let addressScheme = 'http://';\n      if ('secureContext' in connectionOptions) {\n        addressScheme = 'https://';\n        // If provided, the value of grpc.ssl_target_name_override should be used\n        // to override the target hostname when checking server identity.\n        // This option is used for testing only.\n        if (options['grpc.ssl_target_name_override']) {\n          const sslTargetNameOverride = options['grpc.ssl_target_name_override'];\n          connectionOptions.checkServerIdentity = (host, cert) => {\n            return (0, tls_1.checkServerIdentity)(sslTargetNameOverride, cert);\n          };\n          connectionOptions.servername = sslTargetNameOverride;\n        } else {\n          const authorityHostname = (_c = (_b = (0, uri_parser_1.splitHostPort)(targetAuthority)) === null || _b === void 0 ? void 0 : _b.host) !== null && _c !== void 0 ? _c : 'localhost';\n          // We want to always set servername to support SNI\n          connectionOptions.servername = authorityHostname;\n        }\n        if (proxyConnectionResult.socket) {\n          /* This is part of the workaround for\n           * https://github.com/nodejs/node/issues/32922. Without that bug,\n           * proxyConnectionResult.socket would always be a plaintext socket and\n           * this would say\n           * connectionOptions.socket = proxyConnectionResult.socket; */\n          connectionOptions.createConnection = (authority, option) => {\n            return proxyConnectionResult.socket;\n          };\n        }\n      } else {\n        /* In all but the most recent versions of Node, http2.connect does not use\n         * the options when establishing plaintext connections, so we need to\n         * establish that connection explicitly. */\n        connectionOptions.createConnection = (authority, option) => {\n          if (proxyConnectionResult.socket) {\n            return proxyConnectionResult.socket;\n          } else {\n            /* net.NetConnectOpts is declared in a way that is more restrictive\n             * than what net.connect will actually accept, so we use the type\n             * assertion to work around that. */\n            return net.connect(address);\n          }\n        };\n      }\n      connectionOptions = Object.assign(Object.assign(Object.assign({}, connectionOptions), address), {\n        enableTrace: options['grpc-node.tls_enable_trace'] === 1\n      });\n      /* http2.connect uses the options here:\n       * https://github.com/nodejs/node/blob/70c32a6d190e2b5d7b9ff9d5b6a459d14e8b7d59/lib/internal/http2/core.js#L3028-L3036\n       * The spread operator overides earlier values with later ones, so any port\n       * or host values in the options will be used rather than any values extracted\n       * from the first argument. In addition, the path overrides the host and port,\n       * as documented for plaintext connections here:\n       * https://nodejs.org/api/net.html#net_socket_connect_options_connectlistener\n       * and for TLS connections here:\n       * https://nodejs.org/api/tls.html#tls_tls_connect_options_callback. In\n       * earlier versions of Node, http2.connect passes these options to\n       * tls.connect but not net.connect, so in the insecure case we still need\n       * to set the createConnection option above to create the connection\n       * explicitly. We cannot do that in the TLS case because http2.connect\n       * passes necessary additional options to tls.connect.\n       * The first argument just needs to be parseable as a URL and the scheme\n       * determines whether the connection will be established over TLS or not.\n       */\n      const session = http2.connect(addressScheme + targetAuthority, connectionOptions);\n      this.session = session;\n      let errorMessage = 'Failed to connect';\n      session.unref();\n      session.once('connect', () => {\n        session.removeAllListeners();\n        resolve(new Http2Transport(session, address, options, remoteName));\n        this.session = null;\n      });\n      session.once('close', () => {\n        this.session = null;\n        // Leave time for error event to happen before rejecting\n        setImmediate(() => {\n          reject(`${errorMessage} (${new Date().toISOString()})`);\n        });\n      });\n      session.once('error', error => {\n        errorMessage = error.message;\n        this.trace('connection failed with error ' + errorMessage);\n      });\n    });\n  }\n  connect(address, credentials, options) {\n    var _a, _b;\n    if (this.isShutdown) {\n      return Promise.reject();\n    }\n    /* Pass connection options through to the proxy so that it's able to\n     * upgrade it's connection to support tls if needed.\n     * This is a workaround for https://github.com/nodejs/node/issues/32922\n     * See https://github.com/grpc/grpc-node/pull/1369 for more info. */\n    const connectionOptions = credentials._getConnectionOptions() || {};\n    if ('secureContext' in connectionOptions) {\n      connectionOptions.ALPNProtocols = ['h2'];\n      // If provided, the value of grpc.ssl_target_name_override should be used\n      // to override the target hostname when checking server identity.\n      // This option is used for testing only.\n      if (options['grpc.ssl_target_name_override']) {\n        const sslTargetNameOverride = options['grpc.ssl_target_name_override'];\n        connectionOptions.checkServerIdentity = (host, cert) => {\n          return (0, tls_1.checkServerIdentity)(sslTargetNameOverride, cert);\n        };\n        connectionOptions.servername = sslTargetNameOverride;\n      } else {\n        if ('grpc.http_connect_target' in options) {\n          /* This is more or less how servername will be set in createSession\n           * if a connection is successfully established through the proxy.\n           * If the proxy is not used, these connectionOptions are discarded\n           * anyway */\n          const targetPath = (0, resolver_1.getDefaultAuthority)((_a = (0, uri_parser_1.parseUri)(options['grpc.http_connect_target'])) !== null && _a !== void 0 ? _a : {\n            path: 'localhost'\n          });\n          const hostPort = (0, uri_parser_1.splitHostPort)(targetPath);\n          connectionOptions.servername = (_b = hostPort === null || hostPort === void 0 ? void 0 : hostPort.host) !== null && _b !== void 0 ? _b : targetPath;\n        }\n      }\n      if (options['grpc-node.tls_enable_trace']) {\n        connectionOptions.enableTrace = true;\n      }\n    }\n    return (0, http_proxy_1.getProxiedConnection)(address, options, connectionOptions).then(result => this.createSession(address, credentials, options, result));\n  }\n  shutdown() {\n    var _a;\n    this.isShutdown = true;\n    (_a = this.session) === null || _a === void 0 ? void 0 : _a.close();\n    this.session = null;\n  }\n}\nexports.Http2SubchannelConnector = Http2SubchannelConnector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdHJhbnNwb3J0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELGdDQUFnQyxHQUFHLEtBQUssQ0FBQztBQUN6QyxNQUFNRyxLQUFLLEdBQUdDLG1CQUFPLENBQUMsb0JBQU8sQ0FBQztBQUM5QixNQUFNQyxLQUFLLEdBQUdELG1CQUFPLENBQUMsZ0JBQUssQ0FBQztBQUM1QixNQUFNRSxVQUFVLEdBQUdGLG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNRyxXQUFXLEdBQUdILG1CQUFPLENBQUMsOEVBQWEsQ0FBQztBQUMxQyxNQUFNSSxZQUFZLEdBQUdKLG1CQUFPLENBQUMsZ0ZBQWMsQ0FBQztBQUM1QyxNQUFNSyxPQUFPLEdBQUdMLG1CQUFPLENBQUMsMEVBQVcsQ0FBQztBQUNwQyxNQUFNTSxVQUFVLEdBQUdOLG1CQUFPLENBQUMsNEVBQVksQ0FBQztBQUN4QyxNQUFNTyxvQkFBb0IsR0FBR1AsbUJBQU8sQ0FBQyxnR0FBc0IsQ0FBQztBQUM1RCxNQUFNUSxZQUFZLEdBQUdSLG1CQUFPLENBQUMsZ0ZBQWMsQ0FBQztBQUM1QyxNQUFNUyxHQUFHLEdBQUdULG1CQUFPLENBQUMsZ0JBQUssQ0FBQztBQUMxQixNQUFNVSxpQkFBaUIsR0FBR1YsbUJBQU8sQ0FBQywwRkFBbUIsQ0FBQztBQUN0RCxNQUFNVyxhQUFhLEdBQUdYLG1CQUFPLENBQUMsa0ZBQWUsQ0FBQztBQUM5QyxNQUFNWSxXQUFXLEdBQUcsV0FBVztBQUMvQixNQUFNQyx3QkFBd0IsR0FBRyxvQkFBb0I7QUFDckQsTUFBTUMsYUFBYSxHQUFHZCwwR0FBcUM7QUFDM0QsTUFBTTtFQUFFZ0Isc0JBQXNCO0VBQUVDLHlCQUF5QjtFQUFFQyxtQkFBbUI7RUFBRUMsaUJBQWlCO0VBQUVDLGVBQWU7RUFBRUM7QUFBeUIsQ0FBQyxHQUFHdEIsS0FBSyxDQUFDdUIsU0FBUztBQUNoSyxNQUFNQyxvQkFBb0IsR0FBRyxLQUFLO0FBQ2xDLE1BQU1DLGdCQUFnQixHQUFHQyxNQUFNLENBQUNDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLENBQUM7QUFDL0QsTUFBTUMsY0FBYyxDQUFDO0VBQ2pCQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUVDLGlCQUFpQixFQUFFQyxPQUFPO0VBQy9DO0FBQ0o7QUFDQTtBQUNBO0VBQ0lDLFVBQVUsRUFBRTtJQUNSLElBQUksQ0FBQ0gsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ0csVUFBVSxHQUFHQSxVQUFVO0lBQzVCO0FBQ1I7QUFDQTtJQUNRLElBQUksQ0FBQ0MsZUFBZSxHQUFHLENBQUMsQ0FBQztJQUN6QjtBQUNSO0FBQ0E7SUFDUSxJQUFJLENBQUNDLGtCQUFrQixHQUFHWCxvQkFBb0I7SUFDOUM7QUFDUjtBQUNBO0lBQ1EsSUFBSSxDQUFDWSxnQkFBZ0IsR0FBRyxJQUFJO0lBQzVCO0FBQ1I7QUFDQTtBQUNBO0lBQ1EsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxLQUFLO0lBQ3JDO0FBQ1I7QUFDQTtJQUNRLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsSUFBSTtJQUM5QjtBQUNSO0FBQ0E7SUFDUSxJQUFJLENBQUNDLHFCQUFxQixHQUFHLEtBQUs7SUFDbEMsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSUMsR0FBRyxDQUFDLENBQUM7SUFDNUIsSUFBSSxDQUFDQyxtQkFBbUIsR0FBRyxFQUFFO0lBQzdCLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsS0FBSztJQUM5QixJQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJO0lBQzNCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLElBQUkxQyxVQUFVLENBQUMyQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ3pELElBQUksQ0FBQ0MsY0FBYyxHQUFHLENBQUM7SUFDdkIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsQ0FBQztJQUNyQixJQUFJLENBQUNDLGdCQUFnQixHQUFHLENBQUM7SUFDekIsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxJQUFJO0lBQ3BDLElBQUksQ0FBQ0MsNEJBQTRCLEdBQUcsSUFBSTtJQUN4QztBQUNSO0lBQ1EsSUFBSSxDQUFDQyx1QkFBdUIsR0FBRyxDQUFDLENBQUMsRUFBRTVDLG9CQUFvQixDQUFDNkMseUJBQXlCLEVBQUV0QixpQkFBaUIsQ0FBQztJQUNyRyxJQUFJQyxPQUFPLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLEVBQUU7TUFDdkMsSUFBSSxDQUFDWSxlQUFlLEdBQUcsS0FBSztJQUNoQztJQUNBLElBQUksQ0FBQ1UsV0FBVyxHQUFHLENBQUMsQ0FBQyxFQUFFbkQsVUFBVSxDQUFDb0Qsc0JBQXNCLEVBQUUsSUFBSSxDQUFDSCx1QkFBdUIsRUFBRSxNQUFNLElBQUksQ0FBQ0ksZUFBZSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUNaLGVBQWUsQ0FBQztJQUMzSTtJQUNBLElBQUksQ0FBQ2EsU0FBUyxHQUFHLENBQ2J6QixPQUFPLENBQUMseUJBQXlCLENBQUMsRUFDakMsZ0JBQWVqQixhQUFjLEVBQUMsRUFDL0JpQixPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FDdkMsQ0FDSTBCLE1BQU0sQ0FBQ0MsQ0FBQyxJQUFJQSxDQUFDLENBQUMsQ0FDZEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDaEIsSUFBSSx3QkFBd0IsSUFBSTVCLE9BQU8sRUFBRTtNQUNyQyxJQUFJLENBQUNFLGVBQWUsR0FBR0YsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0lBQzVEO0lBQ0EsSUFBSSwyQkFBMkIsSUFBSUEsT0FBTyxFQUFFO01BQ3hDLElBQUksQ0FBQ0csa0JBQWtCLEdBQUdILE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztJQUNsRTtJQUNBLElBQUkscUNBQXFDLElBQUlBLE9BQU8sRUFBRTtNQUNsRCxJQUFJLENBQUNPLHFCQUFxQixHQUN0QlAsT0FBTyxDQUFDLHFDQUFxQyxDQUFDLEtBQUssQ0FBQztJQUM1RCxDQUFDLE1BQ0k7TUFDRCxJQUFJLENBQUNPLHFCQUFxQixHQUFHLEtBQUs7SUFDdEM7SUFDQVQsT0FBTyxDQUFDK0IsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNO01BQ3hCLElBQUksQ0FBQ0MsS0FBSyxDQUFDLGdCQUFnQixDQUFDO01BQzVCLElBQUksQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBQztNQUN6QixJQUFJLENBQUNDLGdCQUFnQixDQUFDLENBQUM7SUFDM0IsQ0FBQyxDQUFDO0lBQ0ZsQyxPQUFPLENBQUMrQixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUNJLFNBQVMsRUFBRUMsWUFBWSxFQUFFQyxVQUFVLEtBQUs7TUFDNUQsSUFBSUMsWUFBWSxHQUFHLEtBQUs7TUFDeEI7QUFDWjtNQUNZLElBQUlILFNBQVMsS0FBS2pFLEtBQUssQ0FBQ3VCLFNBQVMsQ0FBQzhDLHlCQUF5QixJQUN2REYsVUFBVSxJQUNWQSxVQUFVLENBQUNHLE1BQU0sQ0FBQzdDLGdCQUFnQixDQUFDLEVBQUU7UUFDckMyQyxZQUFZLEdBQUcsSUFBSTtNQUN2QjtNQUNBLElBQUksQ0FBQ04sS0FBSyxDQUFDLHdDQUF3QyxHQUFHRyxTQUFTLEdBQUcsWUFBWSxJQUFJRSxVQUFVLEtBQUssSUFBSSxJQUFJQSxVQUFVLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLFVBQVUsQ0FBQ0ksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQ2pLLElBQUksQ0FBQ0MsdUJBQXVCLENBQUNKLFlBQVksQ0FBQztJQUM5QyxDQUFDLENBQUM7SUFDRnRDLE9BQU8sQ0FBQytCLElBQUksQ0FBQyxPQUFPLEVBQUVZLEtBQUssSUFBSTtNQUMzQjtBQUNaO01BQ1ksSUFBSSxDQUFDWCxLQUFLLENBQUMsK0JBQStCLEdBQUdXLEtBQUssQ0FBQ0MsT0FBTyxDQUFDO0lBQy9ELENBQUMsQ0FBQztJQUNGLElBQUlwRSxPQUFPLENBQUNxRSxlQUFlLENBQUM5RCxXQUFXLENBQUMsRUFBRTtNQUN0Q2lCLE9BQU8sQ0FBQzhDLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBR0MsUUFBUSxJQUFLO1FBQ3ZDLElBQUksQ0FBQ2YsS0FBSyxDQUFDLHVCQUF1QixJQUM3QixJQUFJLENBQUNoQyxPQUFPLEtBQUtBLE9BQU8sR0FBRyx3QkFBd0IsR0FBRyxFQUFFLENBQUMsR0FDMUQsSUFBSSxHQUNKZ0QsSUFBSSxDQUFDQyxTQUFTLENBQUNGLFFBQVEsQ0FBQyxDQUFDO01BQ2pDLENBQUMsQ0FBQztNQUNGL0MsT0FBTyxDQUFDOEMsRUFBRSxDQUFDLGVBQWUsRUFBR0MsUUFBUSxJQUFLO1FBQ3RDLElBQUksQ0FBQ2YsS0FBSyxDQUFDLHVDQUF1QyxJQUM3QyxJQUFJLENBQUNoQyxPQUFPLEtBQUtBLE9BQU8sR0FBRyx3QkFBd0IsR0FBRyxFQUFFLENBQUMsR0FDMUQsSUFBSSxHQUNKZ0QsSUFBSSxDQUFDQyxTQUFTLENBQUNGLFFBQVEsQ0FBQyxDQUFDO01BQ2pDLENBQUMsQ0FBQztJQUNOO0lBQ0E7QUFDUjtJQUNRLElBQUksSUFBSSxDQUFDdEMscUJBQXFCLEVBQUU7TUFDNUIsSUFBSSxDQUFDeUMsNEJBQTRCLENBQUMsQ0FBQztJQUN2QztFQUNKO0VBQ0F4QixlQUFlQSxDQUFBLEVBQUc7SUFDZCxJQUFJeUIsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUU7SUFDZCxNQUFNQyxhQUFhLEdBQUcsSUFBSSxDQUFDdEQsT0FBTyxDQUFDdUQsTUFBTTtJQUN6QyxNQUFNQyxhQUFhLEdBQUdGLGFBQWEsQ0FBQ0UsYUFBYSxHQUMzQyxDQUFDLENBQUMsRUFBRTlFLG9CQUFvQixDQUFDK0UseUJBQXlCLEVBQUVILGFBQWEsQ0FBQ0UsYUFBYSxFQUFFRixhQUFhLENBQUNJLFVBQVUsQ0FBQyxHQUMxRyxJQUFJO0lBQ1YsTUFBTUMsWUFBWSxHQUFHTCxhQUFhLENBQUNLLFlBQVksR0FDekMsQ0FBQyxDQUFDLEVBQUVqRixvQkFBb0IsQ0FBQytFLHlCQUF5QixFQUFFSCxhQUFhLENBQUNLLFlBQVksRUFBRUwsYUFBYSxDQUFDTSxTQUFTLENBQUMsR0FDeEcsSUFBSTtJQUNWLElBQUlDLE9BQU87SUFDWCxJQUFJLElBQUksQ0FBQzdELE9BQU8sQ0FBQzhELFNBQVMsRUFBRTtNQUN4QixNQUFNQyxTQUFTLEdBQUdULGFBQWE7TUFDL0IsTUFBTVUsVUFBVSxHQUFHRCxTQUFTLENBQUNFLFNBQVMsQ0FBQyxDQUFDO01BQ3hDLE1BQU1DLFdBQVcsR0FBR0gsU0FBUyxDQUFDSSxjQUFjLENBQUMsQ0FBQztNQUM5QyxNQUFNQyxlQUFlLEdBQUdMLFNBQVMsQ0FBQ00sa0JBQWtCLENBQUMsQ0FBQztNQUN0RFIsT0FBTyxHQUFHO1FBQ05TLHVCQUF1QixFQUFFLENBQUNuQixFQUFFLEdBQUdhLFVBQVUsQ0FBQ08sWUFBWSxNQUFNLElBQUksSUFBSXBCLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBR0EsRUFBRSxHQUFHLElBQUk7UUFDN0ZxQixvQkFBb0IsRUFBRVIsVUFBVSxDQUFDTyxZQUFZLEdBQUcsSUFBSSxHQUFHUCxVQUFVLENBQUNTLElBQUk7UUFDdEVDLGdCQUFnQixFQUFFUixXQUFXLElBQUksS0FBSyxJQUFJQSxXQUFXLEdBQUdBLFdBQVcsQ0FBQ1MsR0FBRyxHQUFHLElBQUk7UUFDOUVDLGlCQUFpQixFQUFFUixlQUFlLElBQUksS0FBSyxJQUFJQSxlQUFlLEdBQ3hEQSxlQUFlLENBQUNPLEdBQUcsR0FDbkI7TUFDVixDQUFDO0lBQ0wsQ0FBQyxNQUNJO01BQ0RkLE9BQU8sR0FBRyxJQUFJO0lBQ2xCO0lBQ0EsTUFBTWdCLFVBQVUsR0FBRztNQUNmckIsYUFBYSxFQUFFQSxhQUFhO01BQzVCRyxZQUFZLEVBQUVBLFlBQVk7TUFDMUJtQixRQUFRLEVBQUVqQixPQUFPO01BQ2pCMUQsVUFBVSxFQUFFLElBQUksQ0FBQ0EsVUFBVTtNQUMzQjRFLGNBQWMsRUFBRSxJQUFJLENBQUNoRSxhQUFhLENBQUNpRSxZQUFZO01BQy9DQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUNsRSxhQUFhLENBQUNtRSxjQUFjO01BQ25EQyxhQUFhLEVBQUUsSUFBSSxDQUFDcEUsYUFBYSxDQUFDcUUsV0FBVztNQUM3Q2xFLFlBQVksRUFBRSxJQUFJLENBQUNBLFlBQVk7TUFDL0JDLGdCQUFnQixFQUFFLElBQUksQ0FBQ0EsZ0JBQWdCO01BQ3ZDa0UsY0FBYyxFQUFFLElBQUksQ0FBQ3BFLGNBQWM7TUFDbkNxRSwrQkFBK0IsRUFBRSxJQUFJLENBQUN2RSxhQUFhLENBQUN3RSx3QkFBd0I7TUFDNUVDLGdDQUFnQyxFQUFFLElBQUk7TUFDdENwRSx3QkFBd0IsRUFBRSxJQUFJLENBQUNBLHdCQUF3QjtNQUN2REMsNEJBQTRCLEVBQUUsSUFBSSxDQUFDQSw0QkFBNEI7TUFDL0RvRSxzQkFBc0IsRUFBRSxDQUFDckMsRUFBRSxHQUFHLElBQUksQ0FBQ3BELE9BQU8sQ0FBQzBGLEtBQUssQ0FBQ0MsZUFBZSxNQUFNLElBQUksSUFBSXZDLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBR0EsRUFBRSxHQUFHLElBQUk7TUFDdkd3Qyx1QkFBdUIsRUFBRSxDQUFDdkMsRUFBRSxHQUFHLElBQUksQ0FBQ3JELE9BQU8sQ0FBQzBGLEtBQUssQ0FBQ0csZ0JBQWdCLE1BQU0sSUFBSSxJQUFJeEMsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHQSxFQUFFLEdBQUc7SUFDekcsQ0FBQztJQUNELE9BQU93QixVQUFVO0VBQ3JCO0VBQ0E3QyxLQUFLQSxDQUFDOEQsSUFBSSxFQUFFO0lBQ1J0SCxPQUFPLENBQUN3RCxLQUFLLENBQUMxRCxXQUFXLENBQUN5SCxZQUFZLENBQUNDLEtBQUssRUFBRWpILFdBQVcsRUFBRSxHQUFHLEdBQzFELElBQUksQ0FBQ3lDLFdBQVcsQ0FBQ3lFLEVBQUUsR0FDbkIsSUFBSSxHQUNKLElBQUksQ0FBQzNFLHVCQUF1QixHQUM1QixHQUFHLEdBQ0h3RSxJQUFJLENBQUM7RUFDYjtFQUNBSSxjQUFjQSxDQUFDSixJQUFJLEVBQUU7SUFDakJ0SCxPQUFPLENBQUN3RCxLQUFLLENBQUMxRCxXQUFXLENBQUN5SCxZQUFZLENBQUNDLEtBQUssRUFBRSxXQUFXLEVBQUUsR0FBRyxHQUMxRCxJQUFJLENBQUN4RSxXQUFXLENBQUN5RSxFQUFFLEdBQ25CLElBQUksR0FDSixJQUFJLENBQUMzRSx1QkFBdUIsR0FDNUIsR0FBRyxHQUNId0UsSUFBSSxDQUFDO0VBQ2I7RUFDQUssZ0JBQWdCQSxDQUFDTCxJQUFJLEVBQUU7SUFDbkJ0SCxPQUFPLENBQUN3RCxLQUFLLENBQUMxRCxXQUFXLENBQUN5SCxZQUFZLENBQUNDLEtBQUssRUFBRWhILHdCQUF3QixFQUFFLEdBQUcsR0FDdkUsSUFBSSxDQUFDd0MsV0FBVyxDQUFDeUUsRUFBRSxHQUNuQixJQUFJLEdBQ0osSUFBSSxDQUFDM0UsdUJBQXVCLEdBQzVCLEdBQUcsR0FDSHdFLElBQUksQ0FBQztFQUNiO0VBQ0FNLGNBQWNBLENBQUNOLElBQUksRUFBRTtJQUNqQnRILE9BQU8sQ0FBQ3dELEtBQUssQ0FBQzFELFdBQVcsQ0FBQ3lILFlBQVksQ0FBQ0MsS0FBSyxFQUFFLHFCQUFxQixFQUFFLEdBQUcsR0FDcEUsSUFBSSxDQUFDeEUsV0FBVyxDQUFDeUUsRUFBRSxHQUNuQixJQUFJLEdBQ0osSUFBSSxDQUFDM0UsdUJBQXVCLEdBQzVCLEdBQUcsR0FDSHdFLElBQUksQ0FBQztFQUNiO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lwRCx1QkFBdUJBLENBQUNKLFlBQVksRUFBRTtJQUNsQyxJQUFJLElBQUksQ0FBQ3pCLGlCQUFpQixFQUFFO01BQ3hCO0lBQ0o7SUFDQSxJQUFJLENBQUNBLGlCQUFpQixHQUFHLElBQUk7SUFDN0IsSUFBSSxDQUFDRCxtQkFBbUIsQ0FBQ3lGLE9BQU8sQ0FBQ0MsUUFBUSxJQUFJQSxRQUFRLENBQUNoRSxZQUFZLENBQUMsQ0FBQztFQUN4RTtFQUNBO0FBQ0o7QUFDQTtFQUNJSixnQkFBZ0JBLENBQUEsRUFBRztJQUNmLElBQUksQ0FBQ1EsdUJBQXVCLENBQUMsS0FBSyxDQUFDO0lBQ25DO0FBQ1I7SUFDUTZELFlBQVksQ0FBQyxNQUFNO01BQ2YsS0FBSyxNQUFNQyxJQUFJLElBQUksSUFBSSxDQUFDOUYsV0FBVyxFQUFFO1FBQ2pDOEYsSUFBSSxDQUFDQyxZQUFZLENBQUMsQ0FBQztNQUN2QjtJQUNKLENBQUMsQ0FBQztFQUNOO0VBQ0FDLHFCQUFxQkEsQ0FBQ0osUUFBUSxFQUFFO0lBQzVCLElBQUksQ0FBQzFGLG1CQUFtQixDQUFDK0YsSUFBSSxDQUFDTCxRQUFRLENBQUM7RUFDM0M7RUFDQU0sbUJBQW1CQSxDQUFBLEVBQUc7SUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQ3RHLGdCQUFnQixFQUFFO01BQ3hCO0lBQ0o7SUFDQXVHLFlBQVksQ0FBQyxJQUFJLENBQUN2RyxnQkFBZ0IsQ0FBQztJQUNuQyxJQUFJLENBQUNBLGdCQUFnQixHQUFHLElBQUk7RUFDaEM7RUFDQXdHLHFCQUFxQkEsQ0FBQSxFQUFHO0lBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUN0RyxrQkFBa0IsRUFBRTtNQUMxQjtJQUNKO0lBQ0FxRyxZQUFZLENBQUMsSUFBSSxDQUFDckcsa0JBQWtCLENBQUM7SUFDckMsSUFBSSxDQUFDQSxrQkFBa0IsR0FBRyxJQUFJO0VBQ2xDO0VBQ0F1RyxXQUFXQSxDQUFBLEVBQUc7SUFDVixPQUFRLElBQUksQ0FBQzNHLGVBQWUsR0FBRyxDQUFDLEtBQzNCLElBQUksQ0FBQ0sscUJBQXFCLElBQUksSUFBSSxDQUFDQyxXQUFXLENBQUNzRyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0VBQ2pFO0VBQ0FDLGFBQWFBLENBQUEsRUFBRztJQUNaLElBQUk5RCxFQUFFLEVBQUVDLEVBQUU7SUFDVixJQUFJLENBQUN3RCxtQkFBbUIsQ0FBQyxDQUFDO0lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUNHLFdBQVcsQ0FBQyxDQUFDLEVBQUU7TUFDckIsSUFBSSxDQUFDeEcsd0JBQXdCLEdBQUcsSUFBSTtNQUNwQztJQUNKO0lBQ0EsSUFBSSxJQUFJLENBQUNPLGVBQWUsRUFBRTtNQUN0QixJQUFJLENBQUNHLGNBQWMsSUFBSSxDQUFDO0lBQzVCO0lBQ0EsSUFBSSxDQUFDaUYsY0FBYyxDQUFDLDRCQUE0QixHQUFHLElBQUksQ0FBQzdGLGtCQUFrQixHQUFHLElBQUksQ0FBQztJQUNsRixJQUFJLENBQUMsSUFBSSxDQUFDRyxrQkFBa0IsRUFBRTtNQUMxQixJQUFJLENBQUNBLGtCQUFrQixHQUFHMEcsVUFBVSxDQUFDLE1BQU07UUFDdkMsSUFBSSxDQUFDaEIsY0FBYyxDQUFDLHNDQUFzQyxDQUFDO1FBQzNELElBQUksQ0FBQ2hFLGdCQUFnQixDQUFDLENBQUM7TUFDM0IsQ0FBQyxFQUFFLElBQUksQ0FBQzdCLGtCQUFrQixDQUFDO01BQzNCLENBQUMrQyxFQUFFLEdBQUcsQ0FBQ0QsRUFBRSxHQUFHLElBQUksQ0FBQzNDLGtCQUFrQixFQUFFMkcsS0FBSyxNQUFNLElBQUksSUFBSS9ELEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDb0QsSUFBSSxDQUFDckQsRUFBRSxDQUFDO0lBQ2hHO0lBQ0EsSUFBSTtNQUNBLElBQUksQ0FBQ25ELE9BQU8sQ0FBQ29ILElBQUksQ0FBQyxDQUFDQyxHQUFHLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxLQUFLO1FBQzFDLElBQUlGLEdBQUcsRUFBRTtVQUNMLElBQUksQ0FBQ25CLGNBQWMsQ0FBQyx5QkFBeUIsR0FBR21CLEdBQUcsQ0FBQ3pFLE9BQU8sQ0FBQztVQUM1RCxJQUFJLENBQUNWLGdCQUFnQixDQUFDLENBQUM7UUFDM0I7UUFDQSxJQUFJLENBQUNnRSxjQUFjLENBQUMsd0JBQXdCLENBQUM7UUFDN0MsSUFBSSxDQUFDWSxxQkFBcUIsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQzVELDRCQUE0QixDQUFDLENBQUM7TUFDdkMsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUNELE9BQU9yQixDQUFDLEVBQUU7TUFDTjtBQUNaO01BQ1ksSUFBSSxDQUFDSyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzNCO0VBQ0o7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSWdCLDRCQUE0QkEsQ0FBQSxFQUFHO0lBQzNCLElBQUlDLEVBQUUsRUFBRUMsRUFBRTtJQUNWLElBQUksQ0FBQyxJQUFJLENBQUMyRCxXQUFXLENBQUMsQ0FBQyxFQUFFO01BQ3JCO0lBQ0o7SUFDQSxJQUFJLElBQUksQ0FBQ3hHLHdCQUF3QixFQUFFO01BQy9CLElBQUksQ0FBQ0Esd0JBQXdCLEdBQUcsS0FBSztNQUNyQyxJQUFJLENBQUMwRyxhQUFhLENBQUMsQ0FBQztJQUN4QixDQUFDLE1BQ0ksSUFBSSxDQUFDLElBQUksQ0FBQzNHLGdCQUFnQixJQUFJLENBQUMsSUFBSSxDQUFDRSxrQkFBa0IsRUFBRTtNQUN6RCxJQUFJLENBQUMwRixjQUFjLENBQUMsK0JBQStCLEdBQUcsSUFBSSxDQUFDOUYsZUFBZSxHQUFHLElBQUksQ0FBQztNQUNsRixJQUFJLENBQUNFLGdCQUFnQixHQUFHLENBQUM4QyxFQUFFLEdBQUcsQ0FBQ0QsRUFBRSxHQUFHK0QsVUFBVSxDQUFDLE1BQU07UUFDakQsSUFBSSxDQUFDRCxhQUFhLENBQUMsQ0FBQztNQUN4QixDQUFDLEVBQUUsSUFBSSxDQUFDN0csZUFBZSxDQUFDLEVBQUUrRyxLQUFLLE1BQU0sSUFBSSxJQUFJL0QsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxFQUFFLENBQUNvRCxJQUFJLENBQUNyRCxFQUFFLENBQUM7SUFDckY7SUFDQTtBQUNSO0VBQ0k7O0VBQ0FsQixrQkFBa0JBLENBQUEsRUFBRztJQUNqQixJQUFJLElBQUksQ0FBQzNCLGdCQUFnQixFQUFFO01BQ3ZCdUcsWUFBWSxDQUFDLElBQUksQ0FBQ3ZHLGdCQUFnQixDQUFDO01BQ25DLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUcsSUFBSTtJQUNoQztJQUNBLElBQUksQ0FBQ3dHLHFCQUFxQixDQUFDLENBQUM7RUFDaEM7RUFDQVUsZ0JBQWdCQSxDQUFDaEIsSUFBSSxFQUFFO0lBQ25CLElBQUksQ0FBQzlGLFdBQVcsQ0FBQytHLE1BQU0sQ0FBQ2pCLElBQUksQ0FBQztJQUM3QixJQUFJLElBQUksQ0FBQzlGLFdBQVcsQ0FBQ3NHLElBQUksS0FBSyxDQUFDLEVBQUU7TUFDN0IsSUFBSSxDQUFDaEgsT0FBTyxDQUFDbUgsS0FBSyxDQUFDLENBQUM7SUFDeEI7RUFDSjtFQUNBTyxhQUFhQSxDQUFDbEIsSUFBSSxFQUFFO0lBQ2hCLElBQUksQ0FBQzlGLFdBQVcsQ0FBQ2lILEdBQUcsQ0FBQ25CLElBQUksQ0FBQztJQUMxQixJQUFJLElBQUksQ0FBQzlGLFdBQVcsQ0FBQ3NHLElBQUksS0FBSyxDQUFDLEVBQUU7TUFDN0IsSUFBSSxDQUFDaEgsT0FBTyxDQUFDNEgsR0FBRyxDQUFDLENBQUM7TUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQ25ILHFCQUFxQixFQUFFO1FBQzdCLElBQUksQ0FBQ3lDLDRCQUE0QixDQUFDLENBQUM7TUFDdkM7SUFDSjtFQUNKO0VBQ0EyRSxVQUFVQSxDQUFDQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFMUIsUUFBUSxFQUFFMkIsMEJBQTBCLEVBQUU7SUFDckUsTUFBTUMsT0FBTyxHQUFHSixRQUFRLENBQUNLLGNBQWMsQ0FBQyxDQUFDO0lBQ3pDRCxPQUFPLENBQUMvSSxzQkFBc0IsQ0FBQyxHQUFHNEksSUFBSTtJQUN0Q0csT0FBTyxDQUFDMUksdUJBQXVCLENBQUMsR0FBRyxJQUFJLENBQUNtQyxTQUFTO0lBQ2pEdUcsT0FBTyxDQUFDOUkseUJBQXlCLENBQUMsR0FBRyxrQkFBa0I7SUFDdkQ4SSxPQUFPLENBQUM3SSxtQkFBbUIsQ0FBQyxHQUFHLE1BQU07SUFDckM2SSxPQUFPLENBQUM1SSxpQkFBaUIsQ0FBQyxHQUFHMEksTUFBTTtJQUNuQ0UsT0FBTyxDQUFDM0ksZUFBZSxDQUFDLEdBQUcsVUFBVTtJQUNyQyxJQUFJNkksV0FBVztJQUNmO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDUSxJQUFJO01BQ0FBLFdBQVcsR0FBRyxJQUFJLENBQUNwSSxPQUFPLENBQUNxSSxPQUFPLENBQUNILE9BQU8sQ0FBQztJQUMvQyxDQUFDLENBQ0QsT0FBT3JHLENBQUMsRUFBRTtNQUNOLElBQUksQ0FBQ0ssZ0JBQWdCLENBQUMsQ0FBQztNQUN2QixNQUFNTCxDQUFDO0lBQ1g7SUFDQSxJQUFJLENBQUNzRSxnQkFBZ0IsQ0FBQyxxQkFBcUIsR0FDdkMsSUFBSSxDQUFDbkcsT0FBTyxDQUFDMEYsS0FBSyxDQUFDQyxlQUFlLEdBQ2xDLHVCQUF1QixHQUN2QixJQUFJLENBQUMzRixPQUFPLENBQUMwRixLQUFLLENBQUNHLGdCQUFnQixDQUFDO0lBQ3hDLElBQUksQ0FBQ08sY0FBYyxDQUFDLGlCQUFpQixHQUNqQyxJQUFJLENBQUNwRyxPQUFPLENBQUNzSSxNQUFNLEdBQ25CLHFCQUFxQixHQUNyQixJQUFJLENBQUN0SSxPQUFPLENBQUN1SSxTQUFTLEdBQ3RCLDRCQUE0QixHQUM1QixJQUFJLENBQUN2SSxPQUFPLENBQUN1RCxNQUFNLENBQUNnRixTQUFTLENBQUM7SUFDbEMsSUFBSUMsWUFBWTtJQUNoQjtJQUNBLElBQUloQyxJQUFJO0lBQ1IsSUFBSSxJQUFJLENBQUMxRixlQUFlLEVBQUU7TUFDdEIsSUFBSSxDQUFDQyxhQUFhLENBQUMwSCxjQUFjLENBQUMsQ0FBQztNQUNuQ0QsWUFBWSxHQUFHO1FBQ1hFLGNBQWMsRUFBRUEsQ0FBQSxLQUFNO1VBQ2xCLElBQUl2RixFQUFFO1VBQ04sSUFBSSxDQUFDakMsWUFBWSxJQUFJLENBQUM7VUFDdEIsSUFBSSxDQUFDRSx3QkFBd0IsR0FBRyxJQUFJdUgsSUFBSSxDQUFDLENBQUM7VUFDMUMsQ0FBQ3hGLEVBQUUsR0FBRzhFLDBCQUEwQixDQUFDUyxjQUFjLE1BQU0sSUFBSSxJQUFJdkYsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxFQUFFLENBQUNxRCxJQUFJLENBQUN5QiwwQkFBMEIsQ0FBQztRQUM3SCxDQUFDO1FBQ0RXLGtCQUFrQixFQUFFQSxDQUFBLEtBQU07VUFDdEIsSUFBSXpGLEVBQUU7VUFDTixJQUFJLENBQUNoQyxnQkFBZ0IsSUFBSSxDQUFDO1VBQzFCLElBQUksQ0FBQ0UsNEJBQTRCLEdBQUcsSUFBSXNILElBQUksQ0FBQyxDQUFDO1VBQzlDLENBQUN4RixFQUFFLEdBQUc4RSwwQkFBMEIsQ0FBQ1csa0JBQWtCLE1BQU0sSUFBSSxJQUFJekYsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxFQUFFLENBQUNxRCxJQUFJLENBQUN5QiwwQkFBMEIsQ0FBQztRQUNqSSxDQUFDO1FBQ0RZLFNBQVMsRUFBRUMsTUFBTSxJQUFJO1VBQ2pCLElBQUkzRixFQUFFO1VBQ04sQ0FBQ0EsRUFBRSxHQUFHOEUsMEJBQTBCLENBQUNZLFNBQVMsTUFBTSxJQUFJLElBQUkxRixFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLEVBQUUsQ0FBQ3FELElBQUksQ0FBQ3lCLDBCQUEwQixFQUFFYSxNQUFNLENBQUM7VUFDNUgsSUFBSSxDQUFDdEIsZ0JBQWdCLENBQUNoQixJQUFJLENBQUM7UUFDL0IsQ0FBQztRQUNEdUMsV0FBVyxFQUFFQyxPQUFPLElBQUk7VUFDcEIsSUFBSTdGLEVBQUU7VUFDTixJQUFJNkYsT0FBTyxFQUFFO1lBQ1QsSUFBSSxDQUFDakksYUFBYSxDQUFDa0ksZ0JBQWdCLENBQUMsQ0FBQztVQUN6QyxDQUFDLE1BQ0k7WUFDRCxJQUFJLENBQUNsSSxhQUFhLENBQUNtSSxhQUFhLENBQUMsQ0FBQztVQUN0QztVQUNBLENBQUMvRixFQUFFLEdBQUc4RSwwQkFBMEIsQ0FBQ2MsV0FBVyxNQUFNLElBQUksSUFBSTVGLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDcUQsSUFBSSxDQUFDeUIsMEJBQTBCLEVBQUVlLE9BQU8sQ0FBQztRQUNuSTtNQUNKLENBQUM7SUFDTCxDQUFDLE1BQ0k7TUFDRFIsWUFBWSxHQUFHO1FBQ1hFLGNBQWMsRUFBRUEsQ0FBQSxLQUFNO1VBQ2xCLElBQUl2RixFQUFFO1VBQ04sQ0FBQ0EsRUFBRSxHQUFHOEUsMEJBQTBCLENBQUNTLGNBQWMsTUFBTSxJQUFJLElBQUl2RixFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLEVBQUUsQ0FBQ3FELElBQUksQ0FBQ3lCLDBCQUEwQixDQUFDO1FBQzdILENBQUM7UUFDRFcsa0JBQWtCLEVBQUVBLENBQUEsS0FBTTtVQUN0QixJQUFJekYsRUFBRTtVQUNOLENBQUNBLEVBQUUsR0FBRzhFLDBCQUEwQixDQUFDVyxrQkFBa0IsTUFBTSxJQUFJLElBQUl6RixFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLEVBQUUsQ0FBQ3FELElBQUksQ0FBQ3lCLDBCQUEwQixDQUFDO1FBQ2pJLENBQUM7UUFDRFksU0FBUyxFQUFFQyxNQUFNLElBQUk7VUFDakIsSUFBSTNGLEVBQUU7VUFDTixDQUFDQSxFQUFFLEdBQUc4RSwwQkFBMEIsQ0FBQ1ksU0FBUyxNQUFNLElBQUksSUFBSTFGLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDcUQsSUFBSSxDQUFDeUIsMEJBQTBCLEVBQUVhLE1BQU0sQ0FBQztVQUM1SCxJQUFJLENBQUN0QixnQkFBZ0IsQ0FBQ2hCLElBQUksQ0FBQztRQUMvQixDQUFDO1FBQ0R1QyxXQUFXLEVBQUVDLE9BQU8sSUFBSTtVQUNwQixJQUFJN0YsRUFBRTtVQUNOLENBQUNBLEVBQUUsR0FBRzhFLDBCQUEwQixDQUFDYyxXQUFXLE1BQU0sSUFBSSxJQUFJNUYsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxFQUFFLENBQUNxRCxJQUFJLENBQUN5QiwwQkFBMEIsRUFBRWUsT0FBTyxDQUFDO1FBQ25JO01BQ0osQ0FBQztJQUNMO0lBQ0F4QyxJQUFJLEdBQUcsSUFBSTNILGlCQUFpQixDQUFDc0ssbUJBQW1CLENBQUNmLFdBQVcsRUFBRUksWUFBWSxFQUFFbEMsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRXhILGFBQWEsQ0FBQ3NLLGlCQUFpQixFQUFFLENBQUMsQ0FBQztJQUNuSSxJQUFJLENBQUMxQixhQUFhLENBQUNsQixJQUFJLENBQUM7SUFDeEIsT0FBT0EsSUFBSTtFQUNmO0VBQ0E2QyxjQUFjQSxDQUFBLEVBQUc7SUFDYixPQUFPLElBQUksQ0FBQzdILFdBQVc7RUFDM0I7RUFDQThILFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU8sSUFBSSxDQUFDaEksdUJBQXVCO0VBQ3ZDO0VBQ0FpSSxRQUFRQSxDQUFBLEVBQUc7SUFDUCxJQUFJLENBQUN2SixPQUFPLENBQUN3SixLQUFLLENBQUMsQ0FBQztJQUNwQixDQUFDLENBQUMsRUFBRW5MLFVBQVUsQ0FBQ29MLHFCQUFxQixFQUFFLElBQUksQ0FBQ2pJLFdBQVcsQ0FBQztFQUMzRDtBQUNKO0FBQ0EsTUFBTXZELHdCQUF3QixDQUFDO0VBQzNCOEIsV0FBV0EsQ0FBQzJKLGFBQWEsRUFBRTtJQUN2QixJQUFJLENBQUNBLGFBQWEsR0FBR0EsYUFBYTtJQUNsQyxJQUFJLENBQUMxSixPQUFPLEdBQUcsSUFBSTtJQUNuQixJQUFJLENBQUMySixVQUFVLEdBQUcsS0FBSztFQUMzQjtFQUNBM0gsS0FBS0EsQ0FBQzhELElBQUksRUFBRTtJQUNSdEgsT0FBTyxDQUFDd0QsS0FBSyxDQUFDMUQsV0FBVyxDQUFDeUgsWUFBWSxDQUFDQyxLQUFLLEVBQUVqSCxXQUFXLEVBQUUsQ0FBQyxDQUFDLEVBQUVKLFlBQVksQ0FBQ2lMLFdBQVcsRUFBRSxJQUFJLENBQUNGLGFBQWEsQ0FBQyxHQUFHLEdBQUcsR0FBRzVELElBQUksQ0FBQztFQUM5SDtFQUNBK0QsYUFBYUEsQ0FBQ0MsT0FBTyxFQUFFQyxXQUFXLEVBQUU3SixPQUFPLEVBQUU4SixxQkFBcUIsRUFBRTtJQUNoRSxJQUFJLElBQUksQ0FBQ0wsVUFBVSxFQUFFO01BQ2pCLE9BQU9NLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7SUFDM0I7SUFDQSxPQUFPLElBQUlELE9BQU8sQ0FBQyxDQUFDRSxPQUFPLEVBQUVELE1BQU0sS0FBSztNQUNwQyxJQUFJL0csRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUU7TUFDZCxJQUFJbEQsVUFBVTtNQUNkLElBQUk2SixxQkFBcUIsQ0FBQ0ksVUFBVSxFQUFFO1FBQ2xDakssVUFBVSxHQUFHLENBQUMsQ0FBQyxFQUFFeEIsWUFBWSxDQUFDaUwsV0FBVyxFQUFFSSxxQkFBcUIsQ0FBQ0ksVUFBVSxDQUFDO1FBQzVFLElBQUksQ0FBQ3BJLEtBQUssQ0FBQywyQ0FBMkMsR0FDbEQsQ0FBQyxDQUFDLEVBQUVyRCxZQUFZLENBQUNpTCxXQUFXLEVBQUVJLHFCQUFxQixDQUFDSSxVQUFVLENBQUMsQ0FBQztNQUN4RSxDQUFDLE1BQ0k7UUFDRGpLLFVBQVUsR0FBRyxJQUFJO1FBQ2pCLElBQUksQ0FBQzZCLEtBQUssQ0FBQyw2QkFBNkIsR0FBRyxDQUFDLENBQUMsRUFBRXRELG9CQUFvQixDQUFDNkMseUJBQXlCLEVBQUV1SSxPQUFPLENBQUMsQ0FBQztNQUM1RztNQUNBLE1BQU1PLGVBQWUsR0FBRyxDQUFDLENBQUMsRUFBRTVMLFVBQVUsQ0FBQzZMLG1CQUFtQixFQUFFLENBQUNuSCxFQUFFLEdBQUc2RyxxQkFBcUIsQ0FBQ0ksVUFBVSxNQUFNLElBQUksSUFBSWpILEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBR0EsRUFBRSxHQUFHLElBQUksQ0FBQ3VHLGFBQWEsQ0FBQztNQUN4SixJQUFJYSxpQkFBaUIsR0FBR1IsV0FBVyxDQUFDUyxxQkFBcUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO01BQ2pFRCxpQkFBaUIsQ0FBQ0Usd0JBQXdCLEdBQUdDLE1BQU0sQ0FBQ0MsZ0JBQWdCO01BQ3BFLElBQUksOEJBQThCLElBQUl6SyxPQUFPLEVBQUU7UUFDM0NxSyxpQkFBaUIsQ0FBQ0ssZ0JBQWdCLEdBQzlCMUssT0FBTyxDQUFDLDhCQUE4QixDQUFDO01BQy9DLENBQUMsTUFDSTtRQUNEO0FBQ2hCO0FBQ0E7QUFDQTtRQUNnQnFLLGlCQUFpQixDQUFDSyxnQkFBZ0IsR0FBR0YsTUFBTSxDQUFDQyxnQkFBZ0I7TUFDaEU7TUFDQSxJQUFJRSxhQUFhLEdBQUcsU0FBUztNQUM3QixJQUFJLGVBQWUsSUFBSU4saUJBQWlCLEVBQUU7UUFDdENNLGFBQWEsR0FBRyxVQUFVO1FBQzFCO1FBQ0E7UUFDQTtRQUNBLElBQUkzSyxPQUFPLENBQUMsK0JBQStCLENBQUMsRUFBRTtVQUMxQyxNQUFNNEsscUJBQXFCLEdBQUc1SyxPQUFPLENBQUMsK0JBQStCLENBQUM7VUFDdEVxSyxpQkFBaUIsQ0FBQ1EsbUJBQW1CLEdBQUcsQ0FBQ2hELElBQUksRUFBRWlELElBQUksS0FBSztZQUNwRCxPQUFPLENBQUMsQ0FBQyxFQUFFNU0sS0FBSyxDQUFDMk0sbUJBQW1CLEVBQUVELHFCQUFxQixFQUFFRSxJQUFJLENBQUM7VUFDdEUsQ0FBQztVQUNEVCxpQkFBaUIsQ0FBQ1UsVUFBVSxHQUFHSCxxQkFBcUI7UUFDeEQsQ0FBQyxNQUNJO1VBQ0QsTUFBTUksaUJBQWlCLEdBQUcsQ0FBQzdILEVBQUUsR0FBRyxDQUFDRCxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUV6RSxZQUFZLENBQUN3TSxhQUFhLEVBQUVkLGVBQWUsQ0FBQyxNQUFNLElBQUksSUFBSWpILEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBR0EsRUFBRSxDQUFDMkUsSUFBSSxNQUFNLElBQUksSUFBSTFFLEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBR0EsRUFBRSxHQUFHLFdBQVc7VUFDbEw7VUFDQWtILGlCQUFpQixDQUFDVSxVQUFVLEdBQUdDLGlCQUFpQjtRQUNwRDtRQUNBLElBQUlsQixxQkFBcUIsQ0FBQ3pHLE1BQU0sRUFBRTtVQUM5QjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtVQUNvQmdILGlCQUFpQixDQUFDYSxnQkFBZ0IsR0FBRyxDQUFDQyxTQUFTLEVBQUVDLE1BQU0sS0FBSztZQUN4RCxPQUFPdEIscUJBQXFCLENBQUN6RyxNQUFNO1VBQ3ZDLENBQUM7UUFDTDtNQUNKLENBQUMsTUFDSTtRQUNEO0FBQ2hCO0FBQ0E7UUFDZ0JnSCxpQkFBaUIsQ0FBQ2EsZ0JBQWdCLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFQyxNQUFNLEtBQUs7VUFDeEQsSUFBSXRCLHFCQUFxQixDQUFDekcsTUFBTSxFQUFFO1lBQzlCLE9BQU95RyxxQkFBcUIsQ0FBQ3pHLE1BQU07VUFDdkMsQ0FBQyxNQUNJO1lBQ0Q7QUFDeEI7QUFDQTtZQUN3QixPQUFPM0UsR0FBRyxDQUFDMk0sT0FBTyxDQUFDekIsT0FBTyxDQUFDO1VBQy9CO1FBQ0osQ0FBQztNQUNMO01BQ0FTLGlCQUFpQixHQUFHMU0sTUFBTSxDQUFDMk4sTUFBTSxDQUFDM04sTUFBTSxDQUFDMk4sTUFBTSxDQUFDM04sTUFBTSxDQUFDMk4sTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFakIsaUJBQWlCLENBQUMsRUFBRVQsT0FBTyxDQUFDLEVBQUU7UUFBRTJCLFdBQVcsRUFBRXZMLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLO01BQUUsQ0FBQyxDQUFDO01BQzdKO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7TUFDWSxNQUFNRixPQUFPLEdBQUc5QixLQUFLLENBQUNxTixPQUFPLENBQUNWLGFBQWEsR0FBR1IsZUFBZSxFQUFFRSxpQkFBaUIsQ0FBQztNQUNqRixJQUFJLENBQUN2SyxPQUFPLEdBQUdBLE9BQU87TUFDdEIsSUFBSTBMLFlBQVksR0FBRyxtQkFBbUI7TUFDdEMxTCxPQUFPLENBQUNtSCxLQUFLLENBQUMsQ0FBQztNQUNmbkgsT0FBTyxDQUFDK0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNO1FBQzFCL0IsT0FBTyxDQUFDMkwsa0JBQWtCLENBQUMsQ0FBQztRQUM1QnhCLE9BQU8sQ0FBQyxJQUFJckssY0FBYyxDQUFDRSxPQUFPLEVBQUU4SixPQUFPLEVBQUU1SixPQUFPLEVBQUVDLFVBQVUsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQ0gsT0FBTyxHQUFHLElBQUk7TUFDdkIsQ0FBQyxDQUFDO01BQ0ZBLE9BQU8sQ0FBQytCLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTTtRQUN4QixJQUFJLENBQUMvQixPQUFPLEdBQUcsSUFBSTtRQUNuQjtRQUNBdUcsWUFBWSxDQUFDLE1BQU07VUFDZjJELE1BQU0sQ0FBRSxHQUFFd0IsWUFBYSxLQUFJLElBQUkvQyxJQUFJLENBQUMsQ0FBQyxDQUFDaUQsV0FBVyxDQUFDLENBQUUsR0FBRSxDQUFDO1FBQzNELENBQUMsQ0FBQztNQUNOLENBQUMsQ0FBQztNQUNGNUwsT0FBTyxDQUFDK0IsSUFBSSxDQUFDLE9BQU8sRUFBRVksS0FBSyxJQUFJO1FBQzNCK0ksWUFBWSxHQUFHL0ksS0FBSyxDQUFDQyxPQUFPO1FBQzVCLElBQUksQ0FBQ1osS0FBSyxDQUFDLCtCQUErQixHQUFHMEosWUFBWSxDQUFDO01BQzlELENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUNOO0VBQ0FILE9BQU9BLENBQUN6QixPQUFPLEVBQUVDLFdBQVcsRUFBRTdKLE9BQU8sRUFBRTtJQUNuQyxJQUFJaUQsRUFBRSxFQUFFQyxFQUFFO0lBQ1YsSUFBSSxJQUFJLENBQUN1RyxVQUFVLEVBQUU7TUFDakIsT0FBT00sT0FBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztJQUMzQjtJQUNBO0FBQ1I7QUFDQTtBQUNBO0lBQ1EsTUFBTUssaUJBQWlCLEdBQUdSLFdBQVcsQ0FBQ1MscUJBQXFCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuRSxJQUFJLGVBQWUsSUFBSUQsaUJBQWlCLEVBQUU7TUFDdENBLGlCQUFpQixDQUFDc0IsYUFBYSxHQUFHLENBQUMsSUFBSSxDQUFDO01BQ3hDO01BQ0E7TUFDQTtNQUNBLElBQUkzTCxPQUFPLENBQUMsK0JBQStCLENBQUMsRUFBRTtRQUMxQyxNQUFNNEsscUJBQXFCLEdBQUc1SyxPQUFPLENBQUMsK0JBQStCLENBQUM7UUFDdEVxSyxpQkFBaUIsQ0FBQ1EsbUJBQW1CLEdBQUcsQ0FBQ2hELElBQUksRUFBRWlELElBQUksS0FBSztVQUNwRCxPQUFPLENBQUMsQ0FBQyxFQUFFNU0sS0FBSyxDQUFDMk0sbUJBQW1CLEVBQUVELHFCQUFxQixFQUFFRSxJQUFJLENBQUM7UUFDdEUsQ0FBQztRQUNEVCxpQkFBaUIsQ0FBQ1UsVUFBVSxHQUFHSCxxQkFBcUI7TUFDeEQsQ0FBQyxNQUNJO1FBQ0QsSUFBSSwwQkFBMEIsSUFBSTVLLE9BQU8sRUFBRTtVQUN2QztBQUNwQjtBQUNBO0FBQ0E7VUFDb0IsTUFBTTRMLFVBQVUsR0FBRyxDQUFDLENBQUMsRUFBRXJOLFVBQVUsQ0FBQzZMLG1CQUFtQixFQUFFLENBQUNuSCxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUV4RSxZQUFZLENBQUNvTixRQUFRLEVBQUU3TCxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxNQUFNLElBQUksSUFBSWlELEVBQUUsS0FBSyxLQUFLLENBQUMsR0FBR0EsRUFBRSxHQUFHO1lBQzNKNkksSUFBSSxFQUFFO1VBQ1YsQ0FBQyxDQUFDO1VBQ0YsTUFBTUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFdE4sWUFBWSxDQUFDd00sYUFBYSxFQUFFVyxVQUFVLENBQUM7VUFDNUR2QixpQkFBaUIsQ0FBQ1UsVUFBVSxHQUFHLENBQUM3SCxFQUFFLEdBQUc2SSxRQUFRLEtBQUssSUFBSSxJQUFJQSxRQUFRLEtBQUssS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUdBLFFBQVEsQ0FBQ2xFLElBQUksTUFBTSxJQUFJLElBQUkzRSxFQUFFLEtBQUssS0FBSyxDQUFDLEdBQUdBLEVBQUUsR0FBRzBJLFVBQVU7UUFDdko7TUFDSjtNQUNBLElBQUk1TCxPQUFPLENBQUMsNEJBQTRCLENBQUMsRUFBRTtRQUN2Q3FLLGlCQUFpQixDQUFDa0IsV0FBVyxHQUFHLElBQUk7TUFDeEM7SUFDSjtJQUNBLE9BQU8sQ0FBQyxDQUFDLEVBQUVsTixZQUFZLENBQUMyTixvQkFBb0IsRUFBRXBDLE9BQU8sRUFBRTVKLE9BQU8sRUFBRXFLLGlCQUFpQixDQUFDLENBQUM0QixJQUFJLENBQUNDLE1BQU0sSUFBSSxJQUFJLENBQUN2QyxhQUFhLENBQUNDLE9BQU8sRUFBRUMsV0FBVyxFQUFFN0osT0FBTyxFQUFFa00sTUFBTSxDQUFDLENBQUM7RUFDaEs7RUFDQTdDLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUlwRyxFQUFFO0lBQ04sSUFBSSxDQUFDd0csVUFBVSxHQUFHLElBQUk7SUFDdEIsQ0FBQ3hHLEVBQUUsR0FBRyxJQUFJLENBQUNuRCxPQUFPLE1BQU0sSUFBSSxJQUFJbUQsRUFBRSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxFQUFFLENBQUNxRyxLQUFLLENBQUMsQ0FBQztJQUNuRSxJQUFJLENBQUN4SixPQUFPLEdBQUcsSUFBSTtFQUN2QjtBQUNKO0FBQ0FqQyxnQ0FBZ0MsR0FBR0Usd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy90cmFuc3BvcnQuanM/NmIwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMyBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IdHRwMlN1YmNoYW5uZWxDb25uZWN0b3IgPSB2b2lkIDA7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IHRsc18xID0gcmVxdWlyZShcInRsc1wiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgaHR0cF9wcm94eV8xID0gcmVxdWlyZShcIi4vaHR0cF9wcm94eVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgbmV0ID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfY2FsbF8xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1jYWxsXCIpO1xuY29uc3QgY2FsbF9udW1iZXJfMSA9IHJlcXVpcmUoXCIuL2NhbGwtbnVtYmVyXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAndHJhbnNwb3J0JztcbmNvbnN0IEZMT1dfQ09OVFJPTF9UUkFDRVJfTkFNRSA9ICd0cmFuc3BvcnRfZmxvd2N0cmwnO1xuY29uc3QgY2xpZW50VmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5jb25zdCB7IEhUVFAyX0hFQURFUl9BVVRIT1JJVFksIEhUVFAyX0hFQURFUl9DT05URU5UX1RZUEUsIEhUVFAyX0hFQURFUl9NRVRIT0QsIEhUVFAyX0hFQURFUl9QQVRILCBIVFRQMl9IRUFERVJfVEUsIEhUVFAyX0hFQURFUl9VU0VSX0FHRU5ULCB9ID0gaHR0cDIuY29uc3RhbnRzO1xuY29uc3QgS0VFUEFMSVZFX1RJTUVPVVRfTVMgPSAyMDAwMDtcbmNvbnN0IHRvb01hbnlQaW5nc0RhdGEgPSBCdWZmZXIuZnJvbSgndG9vX21hbnlfcGluZ3MnLCAnYXNjaWknKTtcbmNsYXNzIEh0dHAyVHJhbnNwb3J0IHtcbiAgICBjb25zdHJ1Y3RvcihzZXNzaW9uLCBzdWJjaGFubmVsQWRkcmVzcywgb3B0aW9ucywgXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgcmVtb3RlIHNlcnZlciwgaWYgaXQgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBzdWJjaGFubmVsXG4gICAgICogYWRkcmVzcywgaS5lLiBpZiBjb25uZWN0aW5nIHRocm91Z2ggYW4gSFRUUCBDT05ORUNUIHByb3h5LlxuICAgICAqL1xuICAgIHJlbW90ZU5hbWUpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5yZW1vdGVOYW1lID0gcmVtb3RlTmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2YgdGltZSBpbiBiZXR3ZWVuIHNlbmRpbmcgcGluZ3NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHRpbWUgdG8gd2FpdCBmb3IgYW4gYWNrbm93bGVkZ2VtZW50IGFmdGVyIHNlbmRpbmcgYSBwaW5nXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyA9IEtFRVBBTElWRV9USU1FT1VUX01TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGltZXIgcmVmZXJlbmNlIGZvciB0aW1lb3V0IHRoYXQgaW5kaWNhdGVzIHdoZW4gdG8gc2VuZCB0aGUgbmV4dCBwaW5nXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVySWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGtlZXBhbGl2ZSB0aW1lciByYW4gb3V0IHdoaWxlIHRoZXJlIHdlcmUgbm8gYWN0aXZlXG4gICAgICAgICAqIGNhbGxzLCBhbmQgYSBwaW5nIHNob3VsZCBiZSBzZW50IHRoZSBuZXh0IHRpbWUgYSBjYWxsIHN0YXJ0cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGVuZGluZ1NlbmRLZWVwYWxpdmVQaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lciByZWZlcmVuY2UgdHJhY2tpbmcgd2hlbiB0aGUgbW9zdCByZWNlbnQgcGluZyB3aWxsIGJlIGNvbnNpZGVyZWQgbG9zdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lb3V0SWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIga2VlcGFsaXZlIHBpbmdzIHNob3VsZCBiZSBzZW50IHdpdGhvdXQgYW55IGFjdGl2ZSBjYWxsc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmVDYWxscyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0TGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdEhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlc1NlbnQgPSAwO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzU2VudCA9IDA7XG4gICAgICAgIHRoaXMubWVzc2FnZXNSZWNlaXZlZCA9IDA7XG4gICAgICAgIHRoaXMubGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgLyogUG9wdWxhdGUgc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgYW5kIGNoYW5uZWx6UmVmIGJlZm9yZSBkb2luZyBhbnl0aGluZ1xuICAgICAgICAgKiBlbHNlLCBiZWNhdXNlIHRoZXkgYXJlIHVzZWQgaW4gdGhlIHRyYWNlIG1ldGhvZHMuICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoc3ViY2hhbm5lbEFkZHJlc3MpO1xuICAgICAgICBpZiAob3B0aW9uc1snZ3JwYy5lbmFibGVfY2hhbm5lbHonXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5uZWx6UmVmID0gKDAsIGNoYW5uZWx6XzEucmVnaXN0ZXJDaGFubmVselNvY2tldCkodGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZywgKCkgPT4gdGhpcy5nZXRDaGFubmVsekluZm8oKSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICAvLyBCdWlsZCB1c2VyLWFnZW50IHN0cmluZy5cbiAgICAgICAgdGhpcy51c2VyQWdlbnQgPSBbXG4gICAgICAgICAgICBvcHRpb25zWydncnBjLnByaW1hcnlfdXNlcl9hZ2VudCddLFxuICAgICAgICAgICAgYGdycGMtbm9kZS1qcy8ke2NsaWVudFZlcnNpb259YCxcbiAgICAgICAgICAgIG9wdGlvbnNbJ2dycGMuc2Vjb25kYXJ5X3VzZXJfYWdlbnQnXSxcbiAgICAgICAgXVxuICAgICAgICAgICAgLmZpbHRlcihlID0+IGUpXG4gICAgICAgICAgICAuam9pbignICcpOyAvLyByZW1vdmUgZmFsc2V5IHZhbHVlcyBmaXJzdFxuICAgICAgICBpZiAoJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID0gb3B0aW9uc1snZ3JwYy5rZWVwYWxpdmVfdGltZV9tcyddO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZ3JwYy5rZWVwYWxpdmVfdGltZW91dF9tcycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMgPSBvcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJ107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdncnBjLmtlZXBhbGl2ZV9wZXJtaXRfd2l0aG91dF9jYWxscycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMgPVxuICAgICAgICAgICAgICAgIG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3Blcm1pdF93aXRob3V0X2NhbGxzJ10gPT09IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb24ub25jZSgnY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdzZXNzaW9uIGNsb3NlZCcpO1xuICAgICAgICAgICAgdGhpcy5zdG9wS2VlcGFsaXZlUGluZ3MoKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2Vzc2lvbi5vbmNlKCdnb2F3YXknLCAoZXJyb3JDb2RlLCBsYXN0U3RyZWFtSUQsIG9wYXF1ZURhdGEpID0+IHtcbiAgICAgICAgICAgIGxldCB0b29NYW55UGluZ3MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qIFNlZSB0aGUgbGFzdCBwYXJhZ3JhcGggb2ZcbiAgICAgICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL3Byb3Bvc2FsL2Jsb2IvbWFzdGVyL0E4LWNsaWVudC1zaWRlLWtlZXBhbGl2ZS5tZCNiYXNpYy1rZWVwYWxpdmUgKi9cbiAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0VOSEFOQ0VfWU9VUl9DQUxNICYmXG4gICAgICAgICAgICAgICAgb3BhcXVlRGF0YSAmJlxuICAgICAgICAgICAgICAgIG9wYXF1ZURhdGEuZXF1YWxzKHRvb01hbnlQaW5nc0RhdGEpKSB7XG4gICAgICAgICAgICAgICAgdG9vTWFueVBpbmdzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2Nvbm5lY3Rpb24gY2xvc2VkIGJ5IEdPQVdBWSB3aXRoIGNvZGUgJyArIGVycm9yQ29kZSArICcgYW5kIGRhdGEgJyArIChvcGFxdWVEYXRhID09PSBudWxsIHx8IG9wYXF1ZURhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wYXF1ZURhdGEudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgdGhpcy5yZXBvcnREaXNjb25uZWN0VG9Pd25lcih0b29NYW55UGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2Vzc2lvbi5vbmNlKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIC8qIERvIG5vdGhpbmcgaGVyZS4gQW55IGVycm9yIHNob3VsZCBhbHNvIHRyaWdnZXIgYSBjbG9zZSBldmVudCwgd2hpY2ggaXNcbiAgICAgICAgICAgICAqIHdoZXJlIHdlIHdhbnQgdG8gaGFuZGxlIHRoYXQuICAqL1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnY29ubmVjdGlvbiBjbG9zZWQgd2l0aCBlcnJvciAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobG9nZ2luZy5pc1RyYWNlckVuYWJsZWQoVFJBQ0VSX05BTUUpKSB7XG4gICAgICAgICAgICBzZXNzaW9uLm9uKCdyZW1vdGVTZXR0aW5ncycsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ25ldyBzZXR0aW5ncyByZWNlaXZlZCcgK1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5zZXNzaW9uICE9PSBzZXNzaW9uID8gJyBvbiB0aGUgb2xkIGNvbm5lY3Rpb24nIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgJzogJyArXG4gICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlc3Npb24ub24oJ2xvY2FsU2V0dGluZ3MnLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdsb2NhbCBzZXR0aW5ncyBhY2tub3dsZWRnZWQgYnkgcmVtb3RlJyArXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnNlc3Npb24gIT09IHNlc3Npb24gPyAnIG9uIHRoZSBvbGQgY29ubmVjdGlvbicgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qIFN0YXJ0IHRoZSBrZWVwYWxpdmUgdGltZXIgbGFzdCwgYmVjYXVzZSB0aGlzIGNhbiB0cmlnZ2VyIHRyYWNlIGxvZ3MsXG4gICAgICAgICAqIHdoaWNoIHNob3VsZCBvbmx5IGhhcHBlbiBhZnRlciBldmVyeXRoaW5nIGVsc2UgaXMgc2V0IHVwLiAqL1xuICAgICAgICBpZiAodGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMpIHtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENoYW5uZWx6SW5mbygpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IHNlc3Npb25Tb2NrZXQgPSB0aGlzLnNlc3Npb24uc29ja2V0O1xuICAgICAgICBjb25zdCByZW1vdGVBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5yZW1vdGVBZGRyZXNzXG4gICAgICAgICAgICA/ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzKShzZXNzaW9uU29ja2V0LnJlbW90ZUFkZHJlc3MsIHNlc3Npb25Tb2NrZXQucmVtb3RlUG9ydClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY29uc3QgbG9jYWxBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgID8gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MpKHNlc3Npb25Tb2NrZXQubG9jYWxBZGRyZXNzLCBzZXNzaW9uU29ja2V0LmxvY2FsUG9ydClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgbGV0IHRsc0luZm87XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSBzZXNzaW9uU29ja2V0O1xuICAgICAgICAgICAgY29uc3QgY2lwaGVySW5mbyA9IHRsc1NvY2tldC5nZXRDaXBoZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNlcnRpZmljYXRlID0gdGxzU29ja2V0LmdldENlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBwZWVyQ2VydGlmaWNhdGUgPSB0bHNTb2NrZXQuZ2V0UGVlckNlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICB0bHNJbmZvID0ge1xuICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlU3RhbmRhcmROYW1lOiAoX2EgPSBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCxcbiAgICAgICAgICAgICAgICBjaXBoZXJTdWl0ZU90aGVyTmFtZTogY2lwaGVySW5mby5zdGFuZGFyZE5hbWUgPyBudWxsIDogY2lwaGVySW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIGxvY2FsQ2VydGlmaWNhdGU6IGNlcnRpZmljYXRlICYmICdyYXcnIGluIGNlcnRpZmljYXRlID8gY2VydGlmaWNhdGUucmF3IDogbnVsbCxcbiAgICAgICAgICAgICAgICByZW1vdGVDZXJ0aWZpY2F0ZTogcGVlckNlcnRpZmljYXRlICYmICdyYXcnIGluIHBlZXJDZXJ0aWZpY2F0ZVxuICAgICAgICAgICAgICAgICAgICA/IHBlZXJDZXJ0aWZpY2F0ZS5yYXdcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRsc0luZm8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvY2tldEluZm8gPSB7XG4gICAgICAgICAgICByZW1vdGVBZGRyZXNzOiByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICBzZWN1cml0eTogdGxzSW5mbyxcbiAgICAgICAgICAgIHJlbW90ZU5hbWU6IHRoaXMucmVtb3RlTmFtZSxcbiAgICAgICAgICAgIHN0cmVhbXNTdGFydGVkOiB0aGlzLnN0cmVhbVRyYWNrZXIuY2FsbHNTdGFydGVkLFxuICAgICAgICAgICAgc3RyZWFtc1N1Y2NlZWRlZDogdGhpcy5zdHJlYW1UcmFja2VyLmNhbGxzU3VjY2VlZGVkLFxuICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogdGhpcy5zdHJlYW1UcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbWVzc2FnZXNTZW50OiB0aGlzLm1lc3NhZ2VzU2VudCxcbiAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IHRoaXMubWVzc2FnZXNSZWNlaXZlZCxcbiAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiB0aGlzLmtlZXBhbGl2ZXNTZW50LFxuICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogdGhpcy5zdHJlYW1UcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wOiB0aGlzLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IHRoaXMubGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IChfYiA9IHRoaXMuc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwsXG4gICAgICAgICAgICByZW1vdGVGbG93Q29udHJvbFdpbmRvdzogKF9jID0gdGhpcy5zZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzb2NrZXRJbmZvO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAga2VlcGFsaXZlVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ2tlZXBhbGl2ZScsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIGZsb3dDb250cm9sVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgRkxPV19DT05UUk9MX1RSQUNFUl9OQU1FLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbiAgICBpbnRlcm5hbHNUcmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAndHJhbnNwb3J0X2ludGVybmFscycsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlIHRvIHRoZSBvd25lciBvZiB0aGlzIG9iamVjdCB0aGF0IHRoaXMgdHJhbnNwb3J0IHNob3VsZCBubyBsb25nZXJcbiAgICAgKiBiZSB1c2VkLiBUaGF0IGhhcHBlbnMgaWYgdGhlIGNvbm5lY3Rpb24gZHJvcHMsIG9yIGlmIHRoZSBzZXJ2ZXIgc2VuZHMgYVxuICAgICAqIEdPQVdBWS5cbiAgICAgKiBAcGFyYW0gdG9vTWFueVBpbmdzIElmIHRydWUsIHRoaXMgd2FzIHRyaWdnZXJlZCBieSBhIEdPQVdBWSB3aXRoIGRhdGFcbiAgICAgKiBpbmRpY2F0aW5nIHRoYXQgdGhlIHNlc3Npb24gd2FzIGNsb3NlZCBiZWNhdWVzIHRoZSBjbGllbnQgc2VudCB0b28gbWFueVxuICAgICAqIHBpbmdzLlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcmVwb3J0RGlzY29ubmVjdFRvT3duZXIodG9vTWFueVBpbmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RIYW5kbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNjb25uZWN0SGFuZGxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdExpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKHRvb01hbnlQaW5ncykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgY29ubmVjdGlvbiBkcm9wcywgYnV0IG5vdCBHT0FXQVlzLlxuICAgICAqL1xuICAgIGhhbmRsZURpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMucmVwb3J0RGlzY29ubmVjdFRvT3duZXIoZmFsc2UpO1xuICAgICAgICAvKiBHaXZlIGNhbGxzIGFuIGV2ZW50IGxvb3AgY3ljbGUgdG8gZmluaXNoIG5hdHVyYWxseSBiZWZvcmUgcmVwb3J0aW5nIHRoZVxuICAgICAgICAgKiBkaXNjb25ubmVjdGlvbiB0byB0aGVtLiAqL1xuICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIHRoaXMuYWN0aXZlQ2FsbHMpIHtcbiAgICAgICAgICAgICAgICBjYWxsLm9uRGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkRGlzY29ubmVjdExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgY2xlYXJLZWVwYWxpdmVUaW1lcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmtlZXBhbGl2ZVRpbWVySWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZWVwYWxpdmVUaW1lcklkKTtcbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lcklkID0gbnVsbDtcbiAgICB9XG4gICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCkge1xuICAgICAgICBpZiAoIXRoaXMua2VlcGFsaXZlVGltZW91dElkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMua2VlcGFsaXZlVGltZW91dElkKTtcbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lb3V0SWQgPSBudWxsO1xuICAgIH1cbiAgICBjYW5TZW5kUGluZygpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmtlZXBhbGl2ZVRpbWVNcyA+IDAgJiZcbiAgICAgICAgICAgICh0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscyB8fCB0aGlzLmFjdGl2ZUNhbGxzLnNpemUgPiAwKSk7XG4gICAgfVxuICAgIG1heWJlU2VuZFBpbmcoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuY2xlYXJLZWVwYWxpdmVUaW1lcigpO1xuICAgICAgICBpZiAoIXRoaXMuY2FuU2VuZFBpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU2VuZEtlZXBhbGl2ZVBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVzU2VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1NlbmRpbmcgcGluZyB3aXRoIHRpbWVvdXQgJyArIHRoaXMua2VlcGFsaXZlVGltZW91dE1zICsgJ21zJyk7XG4gICAgICAgIGlmICghdGhpcy5rZWVwYWxpdmVUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyB0aW1lb3V0IHBhc3NlZCB3aXRob3V0IHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyk7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRJZCkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnBpbmcoKGVyciwgZHVyYXRpb24sIHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgZmFpbGVkIHdpdGggZXJyb3IgJyArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1JlY2VpdmVkIHBpbmcgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8qIElmIHdlIGZhaWwgdG8gc2VuZCBhIHBpbmcsIHRoZSBjb25uZWN0aW9uIGlzIG5vIGxvbmdlciBmdW5jdGlvbmFsLCBzb1xuICAgICAgICAgICAgICogd2Ugc2hvdWxkIGRpc2NhcmQgaXQuICovXG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIGtlZXBhbGl2ZSBwaW5nIHRpbWVyIGlmIGFwcHJvcHJpYXRlLiBJZiB0aGUgdGltZXIgYWxyZWFkeSByYW5cbiAgICAgKiBvdXQgd2hpbGUgdGhlcmUgd2VyZSBubyBhY3RpdmUgcmVxdWVzdHMsIGluc3RlYWQgc2VuZCBhIHBpbmcgaW1tZWRpYXRlbHkuXG4gICAgICogSWYgdGhlIHBpbmcgdGltZXIgaXMgYWxyZWFkeSBydW5uaW5nIG9yIGEgcGluZyBpcyBjdXJyZW50bHkgaW4gZmxpZ2h0LFxuICAgICAqIGluc3RlYWQgZG8gbm90aGluZyBhbmQgd2FpdCBmb3IgdGhlbSB0byByZXNvbHZlLlxuICAgICAqL1xuICAgIG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5jYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1NlbmRLZWVwYWxpdmVQaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTZW5kS2VlcGFsaXZlUGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5tYXliZVNlbmRQaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMua2VlcGFsaXZlVGltZXJJZCAmJiAhdGhpcy5rZWVwYWxpdmVUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1N0YXJ0aW5nIGtlZXBhbGl2ZSB0aW1lciBmb3IgJyArIHRoaXMua2VlcGFsaXZlVGltZU1zICsgJ21zJyk7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVySWQgPSAoX2IgPSAoX2EgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1heWJlU2VuZFBpbmcoKTtcbiAgICAgICAgICAgIH0sIHRoaXMua2VlcGFsaXZlVGltZU1zKSkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBPdGhlcndpc2UsIHRoZXJlIGlzIGFscmVhZHkgZWl0aGVyIGEga2VlcGFsaXZlIHRpbWVyIG9yIGEgcGluZyBwZW5kaW5nLFxuICAgICAgICAgKiB3YWl0IGZvciB0aG9zZSB0byByZXNvbHZlLiAqL1xuICAgIH1cbiAgICBzdG9wS2VlcGFsaXZlUGluZ3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmtlZXBhbGl2ZVRpbWVySWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmtlZXBhbGl2ZVRpbWVySWQpO1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgIH1cbiAgICByZW1vdmVBY3RpdmVDYWxsKGNhbGwpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVDYWxscy5kZWxldGUoY2FsbCk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUNhbGxzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi51bnJlZigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEFjdGl2ZUNhbGwoY2FsbCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUNhbGxzLmFkZChjYWxsKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ2FsbHMuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlZigpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscykge1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUNhbGwobWV0YWRhdGEsIGhvc3QsIG1ldGhvZCwgbGlzdGVuZXIsIHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBtZXRhZGF0YS50b0h0dHAySGVhZGVycygpO1xuICAgICAgICBoZWFkZXJzW0hUVFAyX0hFQURFUl9BVVRIT1JJVFldID0gaG9zdDtcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfVVNFUl9BR0VOVF0gPSB0aGlzLnVzZXJBZ2VudDtcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFXSA9ICdhcHBsaWNhdGlvbi9ncnBjJztcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfTUVUSE9EXSA9ICdQT1NUJztcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfUEFUSF0gPSBtZXRob2Q7XG4gICAgICAgIGhlYWRlcnNbSFRUUDJfSEVBREVSX1RFXSA9ICd0cmFpbGVycyc7XG4gICAgICAgIGxldCBodHRwMlN0cmVhbTtcbiAgICAgICAgLyogSW4gdGhlb3J5LCBpZiBhbiBlcnJvciBpcyB0aHJvd24gYnkgc2Vzc2lvbi5yZXF1ZXN0IGJlY2F1c2Ugc2Vzc2lvbiBoYXNcbiAgICAgICAgICogYmVjb21lIHVudXNhYmxlIChlLmcuIGJlY2F1c2UgaXQgaGFzIHJlY2VpdmVkIGEgZ29hd2F5KSwgdGhpcyBzdWJjaGFubmVsXG4gICAgICAgICAqIHNob3VsZCBzb29uIHNlZSB0aGUgY29ycmVzcG9uZGluZyBjbG9zZSBvciBnb2F3YXkgZXZlbnQgYW55d2F5IGFuZCBsZWF2ZVxuICAgICAgICAgKiBSRUFEWS4gQnV0IHdlIGhhdmUgc2VlbiByZXBvcnRzIHRoYXQgdGhpcyBkb2VzIG5vdCBoYXBwZW5cbiAgICAgICAgICogKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL25vZGVqcy1maXJlc3RvcmUvaXNzdWVzLzEwMjMjaXNzdWVjb21tZW50LTY1MzIwNDA5NilcbiAgICAgICAgICogc28gZm9yIGRlZmVuc2UgaW4gZGVwdGgsIHdlIGp1c3QgZGlzY2FyZCB0aGUgc2Vzc2lvbiB3aGVuIHdlIHNlZSBhblxuICAgICAgICAgKiBlcnJvciBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGh0dHAyU3RyZWFtID0gdGhpcy5zZXNzaW9uLnJlcXVlc3QoaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsb3dDb250cm9sVHJhY2UoJ2xvY2FsIHdpbmRvdyBzaXplOiAnICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUgK1xuICAgICAgICAgICAgJyByZW1vdGUgd2luZG93IHNpemU6ICcgK1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpO1xuICAgICAgICB0aGlzLmludGVybmFsc1RyYWNlKCdzZXNzaW9uLmNsb3NlZD0nICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5jbG9zZWQgK1xuICAgICAgICAgICAgJyBzZXNzaW9uLmRlc3Ryb3llZD0nICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZXN0cm95ZWQgK1xuICAgICAgICAgICAgJyBzZXNzaW9uLnNvY2tldC5kZXN0cm95ZWQ9JyArXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc29ja2V0LmRlc3Ryb3llZCk7XG4gICAgICAgIGxldCBldmVudFRyYWNrZXI7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICAgICAgbGV0IGNhbGw7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICBldmVudFRyYWNrZXIgPSB7XG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZVNlbnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzU2VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLmFkZE1lc3NhZ2VTZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhZGRNZXNzYWdlUmVjZWl2ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzUmVjZWl2ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVJlY2VpdmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNhbGxFbmQ6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIub25DYWxsRW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlciwgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBY3RpdmVDYWxsKGNhbGwpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25TdHJlYW1FbmQ6IHN1Y2Nlc3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5vblN0cmVhbUVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXZlbnRUcmFja2VyID0ge1xuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VTZW50OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVNlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VSZWNlaXZlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLmFkZE1lc3NhZ2VSZWNlaXZlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DYWxsRW5kOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLm9uQ2FsbEVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlQ2FsbChjYWxsKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3RyZWFtRW5kOiBzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5vblN0cmVhbUVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhbGwgPSBuZXcgc3ViY2hhbm5lbF9jYWxsXzEuSHR0cDJTdWJjaGFubmVsQ2FsbChodHRwMlN0cmVhbSwgZXZlbnRUcmFja2VyLCBsaXN0ZW5lciwgdGhpcywgKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCkpO1xuICAgICAgICB0aGlzLmFkZEFjdGl2ZUNhbGwoY2FsbCk7XG4gICAgICAgIHJldHVybiBjYWxsO1xuICAgIH1cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgfVxuICAgIGdldFBlZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZztcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAoMCwgY2hhbm5lbHpfMS51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYpKHRoaXMuY2hhbm5lbHpSZWYpO1xuICAgIH1cbn1cbmNsYXNzIEh0dHAyU3ViY2hhbm5lbENvbm5lY3RvciB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbFRhcmdldCkge1xuICAgICAgICB0aGlzLmNoYW5uZWxUYXJnZXQgPSBjaGFubmVsVGFyZ2V0O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgICAgICB0aGlzLmlzU2h1dGRvd24gPSBmYWxzZTtcbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMuY2hhbm5lbFRhcmdldCkgKyAnICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgY3JlYXRlU2Vzc2lvbihhZGRyZXNzLCBjcmVkZW50aWFscywgb3B0aW9ucywgcHJveHlDb25uZWN0aW9uUmVzdWx0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzU2h1dGRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIGxldCByZW1vdGVOYW1lO1xuICAgICAgICAgICAgaWYgKHByb3h5Q29ubmVjdGlvblJlc3VsdC5yZWFsVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlTmFtZSA9ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHByb3h5Q29ubmVjdGlvblJlc3VsdC5yZWFsVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdjcmVhdGluZyBIVFRQLzIgc2Vzc2lvbiB0aHJvdWdoIHByb3h5IHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwcm94eUNvbm5lY3Rpb25SZXN1bHQucmVhbFRhcmdldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlTmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnY3JlYXRpbmcgSFRUUC8yIHNlc3Npb24gdG8gJyArICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRBdXRob3JpdHkgPSAoMCwgcmVzb2x2ZXJfMS5nZXREZWZhdWx0QXV0aG9yaXR5KSgoX2EgPSBwcm94eUNvbm5lY3Rpb25SZXN1bHQucmVhbFRhcmdldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5jaGFubmVsVGFyZ2V0KTtcbiAgICAgICAgICAgIGxldCBjb25uZWN0aW9uT3B0aW9ucyA9IGNyZWRlbnRpYWxzLl9nZXRDb25uZWN0aW9uT3B0aW9ucygpIHx8IHt9O1xuICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMubWF4U2VuZEhlYWRlckJsb2NrTGVuZ3RoID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgICAgICBpZiAoJ2dycGMtbm9kZS5tYXhfc2Vzc2lvbl9tZW1vcnknIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5tYXhTZXNzaW9uTWVtb3J5ID1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1snZ3JwYy1ub2RlLm1heF9zZXNzaW9uX21lbW9yeSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogQnkgZGVmYXVsdCwgc2V0IGEgdmVyeSBsYXJnZSBtYXggc2Vzc2lvbiBtZW1vcnkgbGltaXQsIHRvIGVmZmVjdGl2ZWx5XG4gICAgICAgICAgICAgICAgICogZGlzYWJsZSBlbmZvcmNlbWVudCBvZiB0aGUgbGltaXQuIFNvbWUgdGVzdGluZyBpbmRpY2F0ZXMgdGhhdCBOb2RlJ3NcbiAgICAgICAgICAgICAgICAgKiBiZWhhdmlvciBkZWdyYWRlcyBiYWRseSB3aGVuIHRoaXMgbGltaXQgaXMgcmVhY2hlZCwgc28gd2Ugc29sdmUgdGhhdFxuICAgICAgICAgICAgICAgICAqIGJ5IGRpc2FibGluZyB0aGUgY2hlY2sgZW50aXJlbHkuICovXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMubWF4U2Vzc2lvbk1lbW9yeSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGFkZHJlc3NTY2hlbWUgPSAnaHR0cDovLyc7XG4gICAgICAgICAgICBpZiAoJ3NlY3VyZUNvbnRleHQnIGluIGNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzc1NjaGVtZSA9ICdodHRwczovLyc7XG4gICAgICAgICAgICAgICAgLy8gSWYgcHJvdmlkZWQsIHRoZSB2YWx1ZSBvZiBncnBjLnNzbF90YXJnZXRfbmFtZV9vdmVycmlkZSBzaG91bGQgYmUgdXNlZFxuICAgICAgICAgICAgICAgIC8vIHRvIG92ZXJyaWRlIHRoZSB0YXJnZXQgaG9zdG5hbWUgd2hlbiBjaGVja2luZyBzZXJ2ZXIgaWRlbnRpdHkuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgdXNlZCBmb3IgdGVzdGluZyBvbmx5LlxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zWydncnBjLnNzbF90YXJnZXRfbmFtZV9vdmVycmlkZSddKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNzbFRhcmdldE5hbWVPdmVycmlkZSA9IG9wdGlvbnNbJ2dycGMuc3NsX3RhcmdldF9uYW1lX292ZXJyaWRlJ107XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25PcHRpb25zLmNoZWNrU2VydmVySWRlbnRpdHkgPSAoaG9zdCwgY2VydCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCB0bHNfMS5jaGVja1NlcnZlcklkZW50aXR5KShzc2xUYXJnZXROYW1lT3ZlcnJpZGUsIGNlcnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5zZXJ2ZXJuYW1lID0gc3NsVGFyZ2V0TmFtZU92ZXJyaWRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aG9yaXR5SG9zdG5hbWUgPSAoX2MgPSAoX2IgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRhcmdldEF1dGhvcml0eSkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ob3N0KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnbG9jYWxob3N0JztcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBhbHdheXMgc2V0IHNlcnZlcm5hbWUgdG8gc3VwcG9ydCBTTklcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuc2VydmVybmFtZSA9IGF1dGhvcml0eUhvc3RuYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJveHlDb25uZWN0aW9uUmVzdWx0LnNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBUaGlzIGlzIHBhcnQgb2YgdGhlIHdvcmthcm91bmQgZm9yXG4gICAgICAgICAgICAgICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvMzI5MjIuIFdpdGhvdXQgdGhhdCBidWcsXG4gICAgICAgICAgICAgICAgICAgICAqIHByb3h5Q29ubmVjdGlvblJlc3VsdC5zb2NrZXQgd291bGQgYWx3YXlzIGJlIGEgcGxhaW50ZXh0IHNvY2tldCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICogdGhpcyB3b3VsZCBzYXlcbiAgICAgICAgICAgICAgICAgICAgICogY29ubmVjdGlvbk9wdGlvbnMuc29ja2V0ID0gcHJveHlDb25uZWN0aW9uUmVzdWx0LnNvY2tldDsgKi9cbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuY3JlYXRlQ29ubmVjdGlvbiA9IChhdXRob3JpdHksIG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5Q29ubmVjdGlvblJlc3VsdC5zb2NrZXQ7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogSW4gYWxsIGJ1dCB0aGUgbW9zdCByZWNlbnQgdmVyc2lvbnMgb2YgTm9kZSwgaHR0cDIuY29ubmVjdCBkb2VzIG5vdCB1c2VcbiAgICAgICAgICAgICAgICAgKiB0aGUgb3B0aW9ucyB3aGVuIGVzdGFibGlzaGluZyBwbGFpbnRleHQgY29ubmVjdGlvbnMsIHNvIHdlIG5lZWQgdG9cbiAgICAgICAgICAgICAgICAgKiBlc3RhYmxpc2ggdGhhdCBjb25uZWN0aW9uIGV4cGxpY2l0bHkuICovXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuY3JlYXRlQ29ubmVjdGlvbiA9IChhdXRob3JpdHksIG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJveHlDb25uZWN0aW9uUmVzdWx0LnNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5Q29ubmVjdGlvblJlc3VsdC5zb2NrZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBuZXQuTmV0Q29ubmVjdE9wdHMgaXMgZGVjbGFyZWQgaW4gYSB3YXkgdGhhdCBpcyBtb3JlIHJlc3RyaWN0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGFuIHdoYXQgbmV0LmNvbm5lY3Qgd2lsbCBhY3R1YWxseSBhY2NlcHQsIHNvIHdlIHVzZSB0aGUgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogYXNzZXJ0aW9uIHRvIHdvcmsgYXJvdW5kIHRoYXQuICovXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV0LmNvbm5lY3QoYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29ubmVjdGlvbk9wdGlvbnMpLCBhZGRyZXNzKSwgeyBlbmFibGVUcmFjZTogb3B0aW9uc1snZ3JwYy1ub2RlLnRsc19lbmFibGVfdHJhY2UnXSA9PT0gMSB9KTtcbiAgICAgICAgICAgIC8qIGh0dHAyLmNvbm5lY3QgdXNlcyB0aGUgb3B0aW9ucyBoZXJlOlxuICAgICAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvNzBjMzJhNmQxOTBlMmI1ZDdiOWZmOWQ1YjZhNDU5ZDE0ZThiN2Q1OS9saWIvaW50ZXJuYWwvaHR0cDIvY29yZS5qcyNMMzAyOC1MMzAzNlxuICAgICAgICAgICAgICogVGhlIHNwcmVhZCBvcGVyYXRvciBvdmVyaWRlcyBlYXJsaWVyIHZhbHVlcyB3aXRoIGxhdGVyIG9uZXMsIHNvIGFueSBwb3J0XG4gICAgICAgICAgICAgKiBvciBob3N0IHZhbHVlcyBpbiB0aGUgb3B0aW9ucyB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gYW55IHZhbHVlcyBleHRyYWN0ZWRcbiAgICAgICAgICAgICAqIGZyb20gdGhlIGZpcnN0IGFyZ3VtZW50LiBJbiBhZGRpdGlvbiwgdGhlIHBhdGggb3ZlcnJpZGVzIHRoZSBob3N0IGFuZCBwb3J0LFxuICAgICAgICAgICAgICogYXMgZG9jdW1lbnRlZCBmb3IgcGxhaW50ZXh0IGNvbm5lY3Rpb25zIGhlcmU6XG4gICAgICAgICAgICAgKiBodHRwczovL25vZGVqcy5vcmcvYXBpL25ldC5odG1sI25ldF9zb2NrZXRfY29ubmVjdF9vcHRpb25zX2Nvbm5lY3RsaXN0ZW5lclxuICAgICAgICAgICAgICogYW5kIGZvciBUTFMgY29ubmVjdGlvbnMgaGVyZTpcbiAgICAgICAgICAgICAqIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdGxzLmh0bWwjdGxzX3Rsc19jb25uZWN0X29wdGlvbnNfY2FsbGJhY2suIEluXG4gICAgICAgICAgICAgKiBlYXJsaWVyIHZlcnNpb25zIG9mIE5vZGUsIGh0dHAyLmNvbm5lY3QgcGFzc2VzIHRoZXNlIG9wdGlvbnMgdG9cbiAgICAgICAgICAgICAqIHRscy5jb25uZWN0IGJ1dCBub3QgbmV0LmNvbm5lY3QsIHNvIGluIHRoZSBpbnNlY3VyZSBjYXNlIHdlIHN0aWxsIG5lZWRcbiAgICAgICAgICAgICAqIHRvIHNldCB0aGUgY3JlYXRlQ29ubmVjdGlvbiBvcHRpb24gYWJvdmUgdG8gY3JlYXRlIHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICAgKiBleHBsaWNpdGx5LiBXZSBjYW5ub3QgZG8gdGhhdCBpbiB0aGUgVExTIGNhc2UgYmVjYXVzZSBodHRwMi5jb25uZWN0XG4gICAgICAgICAgICAgKiBwYXNzZXMgbmVjZXNzYXJ5IGFkZGl0aW9uYWwgb3B0aW9ucyB0byB0bHMuY29ubmVjdC5cbiAgICAgICAgICAgICAqIFRoZSBmaXJzdCBhcmd1bWVudCBqdXN0IG5lZWRzIHRvIGJlIHBhcnNlYWJsZSBhcyBhIFVSTCBhbmQgdGhlIHNjaGVtZVxuICAgICAgICAgICAgICogZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBjb25uZWN0aW9uIHdpbGwgYmUgZXN0YWJsaXNoZWQgb3ZlciBUTFMgb3Igbm90LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gaHR0cDIuY29ubmVjdChhZGRyZXNzU2NoZW1lICsgdGFyZ2V0QXV0aG9yaXR5LCBjb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gY29ubmVjdCc7XG4gICAgICAgICAgICBzZXNzaW9uLnVucmVmKCk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uY2UoJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBIdHRwMlRyYW5zcG9ydChzZXNzaW9uLCBhZGRyZXNzLCBvcHRpb25zLCByZW1vdGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbmNlKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIExlYXZlIHRpbWUgZm9yIGVycm9yIGV2ZW50IHRvIGhhcHBlbiBiZWZvcmUgcmVqZWN0aW5nXG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGAke2Vycm9yTWVzc2FnZX0gKCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSlgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbmNlKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ2Nvbm5lY3Rpb24gZmFpbGVkIHdpdGggZXJyb3IgJyArIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbm5lY3QoYWRkcmVzcywgY3JlZGVudGlhbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0ZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogUGFzcyBjb25uZWN0aW9uIG9wdGlvbnMgdGhyb3VnaCB0byB0aGUgcHJveHkgc28gdGhhdCBpdCdzIGFibGUgdG9cbiAgICAgICAgICogdXBncmFkZSBpdCdzIGNvbm5lY3Rpb24gdG8gc3VwcG9ydCB0bHMgaWYgbmVlZGVkLlxuICAgICAgICAgKiBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2lzc3Vlcy8zMjkyMlxuICAgICAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy1ub2RlL3B1bGwvMTM2OSBmb3IgbW9yZSBpbmZvLiAqL1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uT3B0aW9ucyA9IGNyZWRlbnRpYWxzLl9nZXRDb25uZWN0aW9uT3B0aW9ucygpIHx8IHt9O1xuICAgICAgICBpZiAoJ3NlY3VyZUNvbnRleHQnIGluIGNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5BTFBOUHJvdG9jb2xzID0gWydoMiddO1xuICAgICAgICAgICAgLy8gSWYgcHJvdmlkZWQsIHRoZSB2YWx1ZSBvZiBncnBjLnNzbF90YXJnZXRfbmFtZV9vdmVycmlkZSBzaG91bGQgYmUgdXNlZFxuICAgICAgICAgICAgLy8gdG8gb3ZlcnJpZGUgdGhlIHRhcmdldCBob3N0bmFtZSB3aGVuIGNoZWNraW5nIHNlcnZlciBpZGVudGl0eS5cbiAgICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIGlzIHVzZWQgZm9yIHRlc3Rpbmcgb25seS5cbiAgICAgICAgICAgIGlmIChvcHRpb25zWydncnBjLnNzbF90YXJnZXRfbmFtZV9vdmVycmlkZSddKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3NsVGFyZ2V0TmFtZU92ZXJyaWRlID0gb3B0aW9uc1snZ3JwYy5zc2xfdGFyZ2V0X25hbWVfb3ZlcnJpZGUnXTtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5ID0gKGhvc3QsIGNlcnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCB0bHNfMS5jaGVja1NlcnZlcklkZW50aXR5KShzc2xUYXJnZXROYW1lT3ZlcnJpZGUsIGNlcnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuc2VydmVybmFtZSA9IHNzbFRhcmdldE5hbWVPdmVycmlkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgnZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0JyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIFRoaXMgaXMgbW9yZSBvciBsZXNzIGhvdyBzZXJ2ZXJuYW1lIHdpbGwgYmUgc2V0IGluIGNyZWF0ZVNlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICogaWYgYSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCB0aHJvdWdoIHRoZSBwcm94eS5cbiAgICAgICAgICAgICAgICAgICAgICogSWYgdGhlIHByb3h5IGlzIG5vdCB1c2VkLCB0aGVzZSBjb25uZWN0aW9uT3B0aW9ucyBhcmUgZGlzY2FyZGVkXG4gICAgICAgICAgICAgICAgICAgICAqIGFueXdheSAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQYXRoID0gKDAsIHJlc29sdmVyXzEuZ2V0RGVmYXVsdEF1dGhvcml0eSkoKF9hID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkob3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0J10pKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnbG9jYWxob3N0JyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0YXJnZXRQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuc2VydmVybmFtZSA9IChfYiA9IGhvc3RQb3J0ID09PSBudWxsIHx8IGhvc3RQb3J0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3N0UG9ydC5ob3N0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0YXJnZXRQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zWydncnBjLW5vZGUudGxzX2VuYWJsZV90cmFjZSddKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuZW5hYmxlVHJhY2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgaHR0cF9wcm94eV8xLmdldFByb3hpZWRDb25uZWN0aW9uKShhZGRyZXNzLCBvcHRpb25zLCBjb25uZWN0aW9uT3B0aW9ucykudGhlbihyZXN1bHQgPT4gdGhpcy5jcmVhdGVTZXNzaW9uKGFkZHJlc3MsIGNyZWRlbnRpYWxzLCBvcHRpb25zLCByZXN1bHQpKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5pc1NodXRkb3duID0gdHJ1ZTtcbiAgICAgICAgKF9hID0gdGhpcy5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLkh0dHAyU3ViY2hhbm5lbENvbm5lY3RvciA9IEh0dHAyU3ViY2hhbm5lbENvbm5lY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zcG9ydC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJIdHRwMlN1YmNoYW5uZWxDb25uZWN0b3IiLCJodHRwMiIsInJlcXVpcmUiLCJ0bHNfMSIsImNoYW5uZWx6XzEiLCJjb25zdGFudHNfMSIsImh0dHBfcHJveHlfMSIsImxvZ2dpbmciLCJyZXNvbHZlcl8xIiwic3ViY2hhbm5lbF9hZGRyZXNzXzEiLCJ1cmlfcGFyc2VyXzEiLCJuZXQiLCJzdWJjaGFubmVsX2NhbGxfMSIsImNhbGxfbnVtYmVyXzEiLCJUUkFDRVJfTkFNRSIsIkZMT1dfQ09OVFJPTF9UUkFDRVJfTkFNRSIsImNsaWVudFZlcnNpb24iLCJ2ZXJzaW9uIiwiSFRUUDJfSEVBREVSX0FVVEhPUklUWSIsIkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEUiLCJIVFRQMl9IRUFERVJfTUVUSE9EIiwiSFRUUDJfSEVBREVSX1BBVEgiLCJIVFRQMl9IRUFERVJfVEUiLCJIVFRQMl9IRUFERVJfVVNFUl9BR0VOVCIsImNvbnN0YW50cyIsIktFRVBBTElWRV9USU1FT1VUX01TIiwidG9vTWFueVBpbmdzRGF0YSIsIkJ1ZmZlciIsImZyb20iLCJIdHRwMlRyYW5zcG9ydCIsImNvbnN0cnVjdG9yIiwic2Vzc2lvbiIsInN1YmNoYW5uZWxBZGRyZXNzIiwib3B0aW9ucyIsInJlbW90ZU5hbWUiLCJrZWVwYWxpdmVUaW1lTXMiLCJrZWVwYWxpdmVUaW1lb3V0TXMiLCJrZWVwYWxpdmVUaW1lcklkIiwicGVuZGluZ1NlbmRLZWVwYWxpdmVQaW5nIiwia2VlcGFsaXZlVGltZW91dElkIiwia2VlcGFsaXZlV2l0aG91dENhbGxzIiwiYWN0aXZlQ2FsbHMiLCJTZXQiLCJkaXNjb25uZWN0TGlzdGVuZXJzIiwiZGlzY29ubmVjdEhhbmRsZWQiLCJjaGFubmVsekVuYWJsZWQiLCJzdHJlYW1UcmFja2VyIiwiQ2hhbm5lbHpDYWxsVHJhY2tlciIsImtlZXBhbGl2ZXNTZW50IiwibWVzc2FnZXNTZW50IiwibWVzc2FnZXNSZWNlaXZlZCIsImxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCIsImxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXAiLCJzdWJjaGFubmVsQWRkcmVzc1N0cmluZyIsInN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmciLCJjaGFubmVselJlZiIsInJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQiLCJnZXRDaGFubmVsekluZm8iLCJ1c2VyQWdlbnQiLCJmaWx0ZXIiLCJlIiwiam9pbiIsIm9uY2UiLCJ0cmFjZSIsInN0b3BLZWVwYWxpdmVQaW5ncyIsImhhbmRsZURpc2Nvbm5lY3QiLCJlcnJvckNvZGUiLCJsYXN0U3RyZWFtSUQiLCJvcGFxdWVEYXRhIiwidG9vTWFueVBpbmdzIiwiTkdIVFRQMl9FTkhBTkNFX1lPVVJfQ0FMTSIsImVxdWFscyIsInRvU3RyaW5nIiwicmVwb3J0RGlzY29ubmVjdFRvT3duZXIiLCJlcnJvciIsIm1lc3NhZ2UiLCJpc1RyYWNlckVuYWJsZWQiLCJvbiIsInNldHRpbmdzIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIiLCJfYSIsIl9iIiwiX2MiLCJzZXNzaW9uU29ja2V0Iiwic29ja2V0IiwicmVtb3RlQWRkcmVzcyIsInN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MiLCJyZW1vdGVQb3J0IiwibG9jYWxBZGRyZXNzIiwibG9jYWxQb3J0IiwidGxzSW5mbyIsImVuY3J5cHRlZCIsInRsc1NvY2tldCIsImNpcGhlckluZm8iLCJnZXRDaXBoZXIiLCJjZXJ0aWZpY2F0ZSIsImdldENlcnRpZmljYXRlIiwicGVlckNlcnRpZmljYXRlIiwiZ2V0UGVlckNlcnRpZmljYXRlIiwiY2lwaGVyU3VpdGVTdGFuZGFyZE5hbWUiLCJzdGFuZGFyZE5hbWUiLCJjaXBoZXJTdWl0ZU90aGVyTmFtZSIsIm5hbWUiLCJsb2NhbENlcnRpZmljYXRlIiwicmF3IiwicmVtb3RlQ2VydGlmaWNhdGUiLCJzb2NrZXRJbmZvIiwic2VjdXJpdHkiLCJzdHJlYW1zU3RhcnRlZCIsImNhbGxzU3RhcnRlZCIsInN0cmVhbXNTdWNjZWVkZWQiLCJjYWxsc1N1Y2NlZWRlZCIsInN0cmVhbXNGYWlsZWQiLCJjYWxsc0ZhaWxlZCIsImtlZXBBbGl2ZXNTZW50IiwibGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcCIsImxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCIsImxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wIiwibG9jYWxGbG93Q29udHJvbFdpbmRvdyIsInN0YXRlIiwibG9jYWxXaW5kb3dTaXplIiwicmVtb3RlRmxvd0NvbnRyb2xXaW5kb3ciLCJyZW1vdGVXaW5kb3dTaXplIiwidGV4dCIsIkxvZ1ZlcmJvc2l0eSIsIkRFQlVHIiwiaWQiLCJrZWVwYWxpdmVUcmFjZSIsImZsb3dDb250cm9sVHJhY2UiLCJpbnRlcm5hbHNUcmFjZSIsImZvckVhY2giLCJsaXN0ZW5lciIsInNldEltbWVkaWF0ZSIsImNhbGwiLCJvbkRpc2Nvbm5lY3QiLCJhZGREaXNjb25uZWN0TGlzdGVuZXIiLCJwdXNoIiwiY2xlYXJLZWVwYWxpdmVUaW1lciIsImNsZWFyVGltZW91dCIsImNsZWFyS2VlcGFsaXZlVGltZW91dCIsImNhblNlbmRQaW5nIiwic2l6ZSIsIm1heWJlU2VuZFBpbmciLCJzZXRUaW1lb3V0IiwidW5yZWYiLCJwaW5nIiwiZXJyIiwiZHVyYXRpb24iLCJwYXlsb2FkIiwicmVtb3ZlQWN0aXZlQ2FsbCIsImRlbGV0ZSIsImFkZEFjdGl2ZUNhbGwiLCJhZGQiLCJyZWYiLCJjcmVhdGVDYWxsIiwibWV0YWRhdGEiLCJob3N0IiwibWV0aG9kIiwic3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIiLCJoZWFkZXJzIiwidG9IdHRwMkhlYWRlcnMiLCJodHRwMlN0cmVhbSIsInJlcXVlc3QiLCJjbG9zZWQiLCJkZXN0cm95ZWQiLCJldmVudFRyYWNrZXIiLCJhZGRDYWxsU3RhcnRlZCIsImFkZE1lc3NhZ2VTZW50IiwiRGF0ZSIsImFkZE1lc3NhZ2VSZWNlaXZlZCIsIm9uQ2FsbEVuZCIsInN0YXR1cyIsIm9uU3RyZWFtRW5kIiwic3VjY2VzcyIsImFkZENhbGxTdWNjZWVkZWQiLCJhZGRDYWxsRmFpbGVkIiwiSHR0cDJTdWJjaGFubmVsQ2FsbCIsImdldE5leHRDYWxsTnVtYmVyIiwiZ2V0Q2hhbm5lbHpSZWYiLCJnZXRQZWVyTmFtZSIsInNodXRkb3duIiwiY2xvc2UiLCJ1bnJlZ2lzdGVyQ2hhbm5lbHpSZWYiLCJjaGFubmVsVGFyZ2V0IiwiaXNTaHV0ZG93biIsInVyaVRvU3RyaW5nIiwiY3JlYXRlU2Vzc2lvbiIsImFkZHJlc3MiLCJjcmVkZW50aWFscyIsInByb3h5Q29ubmVjdGlvblJlc3VsdCIsIlByb21pc2UiLCJyZWplY3QiLCJyZXNvbHZlIiwicmVhbFRhcmdldCIsInRhcmdldEF1dGhvcml0eSIsImdldERlZmF1bHRBdXRob3JpdHkiLCJjb25uZWN0aW9uT3B0aW9ucyIsIl9nZXRDb25uZWN0aW9uT3B0aW9ucyIsIm1heFNlbmRIZWFkZXJCbG9ja0xlbmd0aCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJtYXhTZXNzaW9uTWVtb3J5IiwiYWRkcmVzc1NjaGVtZSIsInNzbFRhcmdldE5hbWVPdmVycmlkZSIsImNoZWNrU2VydmVySWRlbnRpdHkiLCJjZXJ0Iiwic2VydmVybmFtZSIsImF1dGhvcml0eUhvc3RuYW1lIiwic3BsaXRIb3N0UG9ydCIsImNyZWF0ZUNvbm5lY3Rpb24iLCJhdXRob3JpdHkiLCJvcHRpb24iLCJjb25uZWN0IiwiYXNzaWduIiwiZW5hYmxlVHJhY2UiLCJlcnJvck1lc3NhZ2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJ0b0lTT1N0cmluZyIsIkFMUE5Qcm90b2NvbHMiLCJ0YXJnZXRQYXRoIiwicGFyc2VVcmkiLCJwYXRoIiwiaG9zdFBvcnQiLCJnZXRQcm94aWVkQ29ubmVjdGlvbiIsInRoZW4iLCJyZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/transport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js":
/*!************************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/build/src/uri-parser.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.uriToString = exports.splitHostPort = exports.parseUri = void 0;\n/*\n * The groups correspond to URI parts as follows:\n * 1. scheme\n * 2. authority\n * 3. path\n */\nconst URI_REGEX = /^(?:([A-Za-z0-9+.-]+):)?(?:\\/\\/([^/]*)\\/)?(.+)$/;\nfunction parseUri(uriString) {\n  const parsedUri = URI_REGEX.exec(uriString);\n  if (parsedUri === null) {\n    return null;\n  }\n  return {\n    scheme: parsedUri[1],\n    authority: parsedUri[2],\n    path: parsedUri[3]\n  };\n}\nexports.parseUri = parseUri;\nconst NUMBER_REGEX = /^\\d+$/;\nfunction splitHostPort(path) {\n  if (path.startsWith('[')) {\n    const hostEnd = path.indexOf(']');\n    if (hostEnd === -1) {\n      return null;\n    }\n    const host = path.substring(1, hostEnd);\n    /* Only an IPv6 address should be in bracketed notation, and an IPv6\n     * address should have at least one colon */\n    if (host.indexOf(':') === -1) {\n      return null;\n    }\n    if (path.length > hostEnd + 1) {\n      if (path[hostEnd + 1] === ':') {\n        const portString = path.substring(hostEnd + 2);\n        if (NUMBER_REGEX.test(portString)) {\n          return {\n            host: host,\n            port: +portString\n          };\n        } else {\n          return null;\n        }\n      } else {\n        return null;\n      }\n    } else {\n      return {\n        host\n      };\n    }\n  } else {\n    const splitPath = path.split(':');\n    /* Exactly one colon means that this is host:port. Zero colons means that\n     * there is no port. And multiple colons means that this is a bare IPv6\n     * address with no port */\n    if (splitPath.length === 2) {\n      if (NUMBER_REGEX.test(splitPath[1])) {\n        return {\n          host: splitPath[0],\n          port: +splitPath[1]\n        };\n      } else {\n        return null;\n      }\n    } else {\n      return {\n        host: path\n      };\n    }\n  }\n}\nexports.splitHostPort = splitHostPort;\nfunction uriToString(uri) {\n  let result = '';\n  if (uri.scheme !== undefined) {\n    result += uri.scheme + ':';\n  }\n  if (uri.authority !== undefined) {\n    result += '//' + uri.authority + '/';\n  }\n  result += uri.path;\n  return result;\n}\nexports.uriToString = uriToString;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdXJpLXBhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSw4Q0FBNkM7RUFBRUcsS0FBSyxFQUFFO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxtQkFBbUIsR0FBR0EscUJBQXFCLEdBQUdBLGdCQUFnQixHQUFHLEtBQUssQ0FBQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNSyxTQUFTLEdBQUcsaURBQWlEO0FBQ25FLFNBQVNELFFBQVFBLENBQUNFLFNBQVMsRUFBRTtFQUN6QixNQUFNQyxTQUFTLEdBQUdGLFNBQVMsQ0FBQ0csSUFBSSxDQUFDRixTQUFTLENBQUM7RUFDM0MsSUFBSUMsU0FBUyxLQUFLLElBQUksRUFBRTtJQUNwQixPQUFPLElBQUk7RUFDZjtFQUNBLE9BQU87SUFDSEUsTUFBTSxFQUFFRixTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3BCRyxTQUFTLEVBQUVILFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDdkJJLElBQUksRUFBRUosU0FBUyxDQUFDLENBQUM7RUFDckIsQ0FBQztBQUNMO0FBQ0FQLGdCQUFnQixHQUFHSSxRQUFRO0FBQzNCLE1BQU1RLFlBQVksR0FBRyxPQUFPO0FBQzVCLFNBQVNULGFBQWFBLENBQUNRLElBQUksRUFBRTtFQUN6QixJQUFJQSxJQUFJLENBQUNFLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtJQUN0QixNQUFNQyxPQUFPLEdBQUdILElBQUksQ0FBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQztJQUNqQyxJQUFJRCxPQUFPLEtBQUssQ0FBQyxDQUFDLEVBQUU7TUFDaEIsT0FBTyxJQUFJO0lBQ2Y7SUFDQSxNQUFNRSxJQUFJLEdBQUdMLElBQUksQ0FBQ00sU0FBUyxDQUFDLENBQUMsRUFBRUgsT0FBTyxDQUFDO0lBQ3ZDO0FBQ1I7SUFDUSxJQUFJRSxJQUFJLENBQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtNQUMxQixPQUFPLElBQUk7SUFDZjtJQUNBLElBQUlKLElBQUksQ0FBQ08sTUFBTSxHQUFHSixPQUFPLEdBQUcsQ0FBQyxFQUFFO01BQzNCLElBQUlILElBQUksQ0FBQ0csT0FBTyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtRQUMzQixNQUFNSyxVQUFVLEdBQUdSLElBQUksQ0FBQ00sU0FBUyxDQUFDSCxPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQzlDLElBQUlGLFlBQVksQ0FBQ1EsSUFBSSxDQUFDRCxVQUFVLENBQUMsRUFBRTtVQUMvQixPQUFPO1lBQ0hILElBQUksRUFBRUEsSUFBSTtZQUNWSyxJQUFJLEVBQUUsQ0FBQ0Y7VUFDWCxDQUFDO1FBQ0wsQ0FBQyxNQUNJO1VBQ0QsT0FBTyxJQUFJO1FBQ2Y7TUFDSixDQUFDLE1BQ0k7UUFDRCxPQUFPLElBQUk7TUFDZjtJQUNKLENBQUMsTUFDSTtNQUNELE9BQU87UUFDSEg7TUFDSixDQUFDO0lBQ0w7RUFDSixDQUFDLE1BQ0k7SUFDRCxNQUFNTSxTQUFTLEdBQUdYLElBQUksQ0FBQ1ksS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUNqQztBQUNSO0FBQ0E7SUFDUSxJQUFJRCxTQUFTLENBQUNKLE1BQU0sS0FBSyxDQUFDLEVBQUU7TUFDeEIsSUFBSU4sWUFBWSxDQUFDUSxJQUFJLENBQUNFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ2pDLE9BQU87VUFDSE4sSUFBSSxFQUFFTSxTQUFTLENBQUMsQ0FBQyxDQUFDO1VBQ2xCRCxJQUFJLEVBQUUsQ0FBQ0MsU0FBUyxDQUFDLENBQUM7UUFDdEIsQ0FBQztNQUNMLENBQUMsTUFDSTtRQUNELE9BQU8sSUFBSTtNQUNmO0lBQ0osQ0FBQyxNQUNJO01BQ0QsT0FBTztRQUNITixJQUFJLEVBQUVMO01BQ1YsQ0FBQztJQUNMO0VBQ0o7QUFDSjtBQUNBWCxxQkFBcUIsR0FBR0csYUFBYTtBQUNyQyxTQUFTRCxXQUFXQSxDQUFDc0IsR0FBRyxFQUFFO0VBQ3RCLElBQUlDLE1BQU0sR0FBRyxFQUFFO0VBQ2YsSUFBSUQsR0FBRyxDQUFDZixNQUFNLEtBQUtpQixTQUFTLEVBQUU7SUFDMUJELE1BQU0sSUFBSUQsR0FBRyxDQUFDZixNQUFNLEdBQUcsR0FBRztFQUM5QjtFQUNBLElBQUllLEdBQUcsQ0FBQ2QsU0FBUyxLQUFLZ0IsU0FBUyxFQUFFO0lBQzdCRCxNQUFNLElBQUksSUFBSSxHQUFHRCxHQUFHLENBQUNkLFNBQVMsR0FBRyxHQUFHO0VBQ3hDO0VBQ0FlLE1BQU0sSUFBSUQsR0FBRyxDQUFDYixJQUFJO0VBQ2xCLE9BQU9jLE1BQU07QUFDakI7QUFDQXpCLG1CQUFtQixHQUFHRSxXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVudGJhYmUtbmV4dGpzLW1pZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy91cmktcGFyc2VyLmpzPzJhYzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjAgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXJpVG9TdHJpbmcgPSBleHBvcnRzLnNwbGl0SG9zdFBvcnQgPSBleHBvcnRzLnBhcnNlVXJpID0gdm9pZCAwO1xuLypcbiAqIFRoZSBncm91cHMgY29ycmVzcG9uZCB0byBVUkkgcGFydHMgYXMgZm9sbG93czpcbiAqIDEuIHNjaGVtZVxuICogMi4gYXV0aG9yaXR5XG4gKiAzLiBwYXRoXG4gKi9cbmNvbnN0IFVSSV9SRUdFWCA9IC9eKD86KFtBLVphLXowLTkrLi1dKyk6KT8oPzpcXC9cXC8oW14vXSopXFwvKT8oLispJC87XG5mdW5jdGlvbiBwYXJzZVVyaSh1cmlTdHJpbmcpIHtcbiAgICBjb25zdCBwYXJzZWRVcmkgPSBVUklfUkVHRVguZXhlYyh1cmlTdHJpbmcpO1xuICAgIGlmIChwYXJzZWRVcmkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNjaGVtZTogcGFyc2VkVXJpWzFdLFxuICAgICAgICBhdXRob3JpdHk6IHBhcnNlZFVyaVsyXSxcbiAgICAgICAgcGF0aDogcGFyc2VkVXJpWzNdLFxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlVXJpID0gcGFyc2VVcmk7XG5jb25zdCBOVU1CRVJfUkVHRVggPSAvXlxcZCskLztcbmZ1bmN0aW9uIHNwbGl0SG9zdFBvcnQocGF0aCkge1xuICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJ1snKSkge1xuICAgICAgICBjb25zdCBob3N0RW5kID0gcGF0aC5pbmRleE9mKCddJyk7XG4gICAgICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaG9zdCA9IHBhdGguc3Vic3RyaW5nKDEsIGhvc3RFbmQpO1xuICAgICAgICAvKiBPbmx5IGFuIElQdjYgYWRkcmVzcyBzaG91bGQgYmUgaW4gYnJhY2tldGVkIG5vdGF0aW9uLCBhbmQgYW4gSVB2NlxuICAgICAgICAgKiBhZGRyZXNzIHNob3VsZCBoYXZlIGF0IGxlYXN0IG9uZSBjb2xvbiAqL1xuICAgICAgICBpZiAoaG9zdC5pbmRleE9mKCc6JykgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPiBob3N0RW5kICsgMSkge1xuICAgICAgICAgICAgaWYgKHBhdGhbaG9zdEVuZCArIDFdID09PSAnOicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3J0U3RyaW5nID0gcGF0aC5zdWJzdHJpbmcoaG9zdEVuZCArIDIpO1xuICAgICAgICAgICAgICAgIGlmIChOVU1CRVJfUkVHRVgudGVzdChwb3J0U3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6ICtwb3J0U3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhvc3QsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBzcGxpdFBhdGggPSBwYXRoLnNwbGl0KCc6Jyk7XG4gICAgICAgIC8qIEV4YWN0bHkgb25lIGNvbG9uIG1lYW5zIHRoYXQgdGhpcyBpcyBob3N0OnBvcnQuIFplcm8gY29sb25zIG1lYW5zIHRoYXRcbiAgICAgICAgICogdGhlcmUgaXMgbm8gcG9ydC4gQW5kIG11bHRpcGxlIGNvbG9ucyBtZWFucyB0aGF0IHRoaXMgaXMgYSBiYXJlIElQdjZcbiAgICAgICAgICogYWRkcmVzcyB3aXRoIG5vIHBvcnQgKi9cbiAgICAgICAgaWYgKHNwbGl0UGF0aC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGlmIChOVU1CRVJfUkVHRVgudGVzdChzcGxpdFBhdGhbMV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogc3BsaXRQYXRoWzBdLFxuICAgICAgICAgICAgICAgICAgICBwb3J0OiArc3BsaXRQYXRoWzFdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaG9zdDogcGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLnNwbGl0SG9zdFBvcnQgPSBzcGxpdEhvc3RQb3J0O1xuZnVuY3Rpb24gdXJpVG9TdHJpbmcodXJpKSB7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIGlmICh1cmkuc2NoZW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ICs9IHVyaS5zY2hlbWUgKyAnOic7XG4gICAgfVxuICAgIGlmICh1cmkuYXV0aG9yaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ICs9ICcvLycgKyB1cmkuYXV0aG9yaXR5ICsgJy8nO1xuICAgIH1cbiAgICByZXN1bHQgKz0gdXJpLnBhdGg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMudXJpVG9TdHJpbmcgPSB1cmlUb1N0cmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVyaS1wYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidXJpVG9TdHJpbmciLCJzcGxpdEhvc3RQb3J0IiwicGFyc2VVcmkiLCJVUklfUkVHRVgiLCJ1cmlTdHJpbmciLCJwYXJzZWRVcmkiLCJleGVjIiwic2NoZW1lIiwiYXV0aG9yaXR5IiwicGF0aCIsIk5VTUJFUl9SRUdFWCIsInN0YXJ0c1dpdGgiLCJob3N0RW5kIiwiaW5kZXhPZiIsImhvc3QiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJwb3J0U3RyaW5nIiwidGVzdCIsInBvcnQiLCJzcGxpdFBhdGgiLCJzcGxpdCIsInVyaSIsInJlc3VsdCIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/grpc-js/build/src/uri-parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/proto-loader/build/src/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@grpc/proto-loader/build/src/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/**\n * @license\n * Copyright 2018 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.loadFileDescriptorSetFromObject = exports.loadFileDescriptorSetFromBuffer = exports.fromJSON = exports.loadSync = exports.load = exports.isAnyExtension = exports.Long = void 0;\nconst camelCase = __webpack_require__(/*! lodash.camelcase */ \"(ssr)/./node_modules/lodash.camelcase/index.js\");\nconst Protobuf = __webpack_require__(/*! protobufjs */ \"(ssr)/./node_modules/protobufjs/index.js\");\nconst descriptor = __webpack_require__(/*! protobufjs/ext/descriptor */ \"(ssr)/./node_modules/protobufjs/ext/descriptor/index.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/@grpc/proto-loader/build/src/util.js\");\nconst Long = __webpack_require__(/*! long */ \"(ssr)/./node_modules/long/umd/index.js\");\nexports.Long = Long;\nfunction isAnyExtension(obj) {\n  return '@type' in obj && typeof obj['@type'] === 'string';\n}\nexports.isAnyExtension = isAnyExtension;\nconst descriptorOptions = {\n  longs: String,\n  enums: String,\n  bytes: String,\n  defaults: true,\n  oneofs: true,\n  json: true\n};\nfunction joinName(baseName, name) {\n  if (baseName === '') {\n    return name;\n  } else {\n    return baseName + '.' + name;\n  }\n}\nfunction isHandledReflectionObject(obj) {\n  return obj instanceof Protobuf.Service || obj instanceof Protobuf.Type || obj instanceof Protobuf.Enum;\n}\nfunction isNamespaceBase(obj) {\n  return obj instanceof Protobuf.Namespace || obj instanceof Protobuf.Root;\n}\nfunction getAllHandledReflectionObjects(obj, parentName) {\n  const objName = joinName(parentName, obj.name);\n  if (isHandledReflectionObject(obj)) {\n    return [[objName, obj]];\n  } else {\n    if (isNamespaceBase(obj) && typeof obj.nested !== 'undefined') {\n      return Object.keys(obj.nested).map(name => {\n        return getAllHandledReflectionObjects(obj.nested[name], objName);\n      }).reduce((accumulator, currentValue) => accumulator.concat(currentValue), []);\n    }\n  }\n  return [];\n}\nfunction createDeserializer(cls, options) {\n  return function deserialize(argBuf) {\n    return cls.toObject(cls.decode(argBuf), options);\n  };\n}\nfunction createSerializer(cls) {\n  return function serialize(arg) {\n    if (Array.isArray(arg)) {\n      throw new Error(`Failed to serialize message: expected object with ${cls.name} structure, got array instead`);\n    }\n    const message = cls.fromObject(arg);\n    return cls.encode(message).finish();\n  };\n}\nfunction createMethodDefinition(method, serviceName, options, fileDescriptors) {\n  /* This is only ever called after the corresponding root.resolveAll(), so we\n   * can assume that the resolved request and response types are non-null */\n  const requestType = method.resolvedRequestType;\n  const responseType = method.resolvedResponseType;\n  return {\n    path: '/' + serviceName + '/' + method.name,\n    requestStream: !!method.requestStream,\n    responseStream: !!method.responseStream,\n    requestSerialize: createSerializer(requestType),\n    requestDeserialize: createDeserializer(requestType, options),\n    responseSerialize: createSerializer(responseType),\n    responseDeserialize: createDeserializer(responseType, options),\n    // TODO(murgatroid99): Find a better way to handle this\n    originalName: camelCase(method.name),\n    requestType: createMessageDefinition(requestType, fileDescriptors),\n    responseType: createMessageDefinition(responseType, fileDescriptors)\n  };\n}\nfunction createServiceDefinition(service, name, options, fileDescriptors) {\n  const def = {};\n  for (const method of service.methodsArray) {\n    def[method.name] = createMethodDefinition(method, name, options, fileDescriptors);\n  }\n  return def;\n}\nfunction createMessageDefinition(message, fileDescriptors) {\n  const messageDescriptor = message.toDescriptor('proto3');\n  return {\n    format: 'Protocol Buffer 3 DescriptorProto',\n    type: messageDescriptor.$type.toObject(messageDescriptor, descriptorOptions),\n    fileDescriptorProtos: fileDescriptors\n  };\n}\nfunction createEnumDefinition(enumType, fileDescriptors) {\n  const enumDescriptor = enumType.toDescriptor('proto3');\n  return {\n    format: 'Protocol Buffer 3 EnumDescriptorProto',\n    type: enumDescriptor.$type.toObject(enumDescriptor, descriptorOptions),\n    fileDescriptorProtos: fileDescriptors\n  };\n}\n/**\n * function createDefinition(obj: Protobuf.Service, name: string, options:\n * Options): ServiceDefinition; function createDefinition(obj: Protobuf.Type,\n * name: string, options: Options): MessageTypeDefinition; function\n * createDefinition(obj: Protobuf.Enum, name: string, options: Options):\n * EnumTypeDefinition;\n */\nfunction createDefinition(obj, name, options, fileDescriptors) {\n  if (obj instanceof Protobuf.Service) {\n    return createServiceDefinition(obj, name, options, fileDescriptors);\n  } else if (obj instanceof Protobuf.Type) {\n    return createMessageDefinition(obj, fileDescriptors);\n  } else if (obj instanceof Protobuf.Enum) {\n    return createEnumDefinition(obj, fileDescriptors);\n  } else {\n    throw new Error('Type mismatch in reflection object handling');\n  }\n}\nfunction createPackageDefinition(root, options) {\n  const def = {};\n  root.resolveAll();\n  const descriptorList = root.toDescriptor('proto3').file;\n  const bufferList = descriptorList.map(value => Buffer.from(descriptor.FileDescriptorProto.encode(value).finish()));\n  for (const [name, obj] of getAllHandledReflectionObjects(root, '')) {\n    def[name] = createDefinition(obj, name, options, bufferList);\n  }\n  return def;\n}\nfunction createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options) {\n  options = options || {};\n  const root = Protobuf.Root.fromDescriptor(decodedDescriptorSet);\n  root.resolveAll();\n  return createPackageDefinition(root, options);\n}\n/**\n * Load a .proto file with the specified options.\n * @param filename One or multiple file paths to load. Can be an absolute path\n *     or relative to an include path.\n * @param options.keepCase Preserve field names. The default is to change them\n *     to camel case.\n * @param options.longs The type that should be used to represent `long` values.\n *     Valid options are `Number` and `String`. Defaults to a `Long` object type\n *     from a library.\n * @param options.enums The type that should be used to represent `enum` values.\n *     The only valid option is `String`. Defaults to the numeric value.\n * @param options.bytes The type that should be used to represent `bytes`\n *     values. Valid options are `Array` and `String`. The default is to use\n *     `Buffer`.\n * @param options.defaults Set default values on output objects. Defaults to\n *     `false`.\n * @param options.arrays Set empty arrays for missing array values even if\n *     `defaults` is `false`. Defaults to `false`.\n * @param options.objects Set empty objects for missing object values even if\n *     `defaults` is `false`. Defaults to `false`.\n * @param options.oneofs Set virtual oneof properties to the present field's\n *     name\n * @param options.json Represent Infinity and NaN as strings in float fields,\n *     and automatically decode google.protobuf.Any values.\n * @param options.includeDirs Paths to search for imported `.proto` files.\n */\nfunction load(filename, options) {\n  return (0, util_1.loadProtosWithOptions)(filename, options).then(loadedRoot => {\n    return createPackageDefinition(loadedRoot, options);\n  });\n}\nexports.load = load;\nfunction loadSync(filename, options) {\n  const loadedRoot = (0, util_1.loadProtosWithOptionsSync)(filename, options);\n  return createPackageDefinition(loadedRoot, options);\n}\nexports.loadSync = loadSync;\nfunction fromJSON(json, options) {\n  options = options || {};\n  const loadedRoot = Protobuf.Root.fromJSON(json);\n  loadedRoot.resolveAll();\n  return createPackageDefinition(loadedRoot, options);\n}\nexports.fromJSON = fromJSON;\nfunction loadFileDescriptorSetFromBuffer(descriptorSet, options) {\n  const decodedDescriptorSet = descriptor.FileDescriptorSet.decode(descriptorSet);\n  return createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options);\n}\nexports.loadFileDescriptorSetFromBuffer = loadFileDescriptorSetFromBuffer;\nfunction loadFileDescriptorSetFromObject(descriptorSet, options) {\n  const decodedDescriptorSet = descriptor.FileDescriptorSet.fromObject(descriptorSet);\n  return createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options);\n}\nexports.loadFileDescriptorSetFromObject = loadFileDescriptorSetFromObject;\n(0, util_1.addCommonProtos)();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvcHJvdG8tbG9hZGVyL2J1aWxkL3NyYy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FBLDhDQUE2QztFQUFFRyxLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQUM7QUFDN0RELHVDQUF1QyxHQUFHQSx1Q0FBdUMsR0FBR0EsZ0JBQWdCLEdBQUdBLGdCQUFnQixHQUFHQSxZQUFZLEdBQUdBLHNCQUFzQixHQUFHQSxZQUFZLEdBQUcsS0FBSyxDQUFDO0FBQ3ZMLE1BQU1TLFNBQVMsR0FBR0MsbUJBQU8sQ0FBQyx3RUFBa0IsQ0FBQztBQUM3QyxNQUFNQyxRQUFRLEdBQUdELG1CQUFPLENBQUMsNERBQVksQ0FBQztBQUN0QyxNQUFNRSxVQUFVLEdBQUdGLG1CQUFPLENBQUMsMEZBQTJCLENBQUM7QUFDdkQsTUFBTUcsTUFBTSxHQUFHSCxtQkFBTyxDQUFDLHlFQUFRLENBQUM7QUFDaEMsTUFBTUYsSUFBSSxHQUFHRSxtQkFBTyxDQUFDLG9EQUFNLENBQUM7QUFDNUJWLFlBQVksR0FBR1EsSUFBSTtBQUNuQixTQUFTRCxjQUFjQSxDQUFDTyxHQUFHLEVBQUU7RUFDekIsT0FBUSxPQUFPLElBQUlBLEdBQUcsSUFBTSxPQUFPQSxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUztBQUNqRTtBQUNBZCxzQkFBc0IsR0FBR08sY0FBYztBQUN2QyxNQUFNUSxpQkFBaUIsR0FBRztFQUN0QkMsS0FBSyxFQUFFQyxNQUFNO0VBQ2JDLEtBQUssRUFBRUQsTUFBTTtFQUNiRSxLQUFLLEVBQUVGLE1BQU07RUFDYkcsUUFBUSxFQUFFLElBQUk7RUFDZEMsTUFBTSxFQUFFLElBQUk7RUFDWkMsSUFBSSxFQUFFO0FBQ1YsQ0FBQztBQUNELFNBQVNDLFFBQVFBLENBQUNDLFFBQVEs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QUUvRCxPQUFPLEVBQUU7RUFDN0QsTUFBTXdELG9CQUFvQixHQUFHekYsVUFBVSxDQUFDaUcsaUJBQWlCLENBQUNwRCxVQUFVLENBQUNtRCxhQUFhLENBQUM7RUFDbkYsT0FBT1Isd0NBQXdDLENBQUNDLG9CQUFvQixFQUFFeEQsT0FBTyxDQUFDO0FBQ2xGO0FBQ0E3Qyx1Q0FBdUMsR0FBR0UsK0JBQStCO0FBQ3pFLENBQUMsQ0FBQyxFQUFFVyxNQUFNLENBQUNpRyxlQUFlLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbnRiYWJlLW5leHRqcy1taWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQGdycGMvcHJvdG8tbG9hZGVyL2J1aWxkL3NyYy9pbmRleC5qcz81ZmE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbU9iamVjdCA9IGV4cG9ydHMubG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbUJ1ZmZlciA9IGV4cG9ydHMuZnJvbUpTT04gPSBleHBvcnRzLmxvYWRTeW5jID0gZXhwb3J0cy5sb2FkID0gZXhwb3J0cy5pc0FueUV4dGVuc2lvbiA9IGV4cG9ydHMuTG9uZyA9IHZvaWQgMDtcbmNvbnN0IGNhbWVsQ2FzZSA9IHJlcXVpcmUoXCJsb2Rhc2guY2FtZWxjYXNlXCIpO1xuY29uc3QgUHJvdG9idWYgPSByZXF1aXJlKFwicHJvdG9idWZqc1wiKTtcbmNvbnN0IGRlc2NyaXB0b3IgPSByZXF1aXJlKFwicHJvdG9idWZqcy9leHQvZGVzY3JpcHRvclwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBMb25nID0gcmVxdWlyZShcImxvbmdcIik7XG5leHBvcnRzLkxvbmcgPSBMb25nO1xuZnVuY3Rpb24gaXNBbnlFeHRlbnNpb24ob2JqKSB7XG4gICAgcmV0dXJuICgnQHR5cGUnIGluIG9iaikgJiYgKHR5cGVvZiBvYmpbJ0B0eXBlJ10gPT09ICdzdHJpbmcnKTtcbn1cbmV4cG9ydHMuaXNBbnlFeHRlbnNpb24gPSBpc0FueUV4dGVuc2lvbjtcbmNvbnN0IGRlc2NyaXB0b3JPcHRpb25zID0ge1xuICAgIGxvbmdzOiBTdHJpbmcsXG4gICAgZW51bXM6IFN0cmluZyxcbiAgICBieXRlczogU3RyaW5nLFxuICAgIGRlZmF1bHRzOiB0cnVlLFxuICAgIG9uZW9mczogdHJ1ZSxcbiAgICBqc29uOiB0cnVlLFxufTtcbmZ1bmN0aW9uIGpvaW5OYW1lKGJhc2VOYW1lLCBuYW1lKSB7XG4gICAgaWYgKGJhc2VOYW1lID09PSAnJykge1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBiYXNlTmFtZSArICcuJyArIG5hbWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNIYW5kbGVkUmVmbGVjdGlvbk9iamVjdChvYmopIHtcbiAgICByZXR1cm4gKG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLlNlcnZpY2UgfHxcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgUHJvdG9idWYuVHlwZSB8fFxuICAgICAgICBvYmogaW5zdGFuY2VvZiBQcm90b2J1Zi5FbnVtKTtcbn1cbmZ1bmN0aW9uIGlzTmFtZXNwYWNlQmFzZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUHJvdG9idWYuTmFtZXNwYWNlIHx8IG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLlJvb3Q7XG59XG5mdW5jdGlvbiBnZXRBbGxIYW5kbGVkUmVmbGVjdGlvbk9iamVjdHMob2JqLCBwYXJlbnROYW1lKSB7XG4gICAgY29uc3Qgb2JqTmFtZSA9IGpvaW5OYW1lKHBhcmVudE5hbWUsIG9iai5uYW1lKTtcbiAgICBpZiAoaXNIYW5kbGVkUmVmbGVjdGlvbk9iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBbW29iak5hbWUsIG9ial1dO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzTmFtZXNwYWNlQmFzZShvYmopICYmIHR5cGVvZiBvYmoubmVzdGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iai5uZXN0ZWQpXG4gICAgICAgICAgICAgICAgLm1hcChuYW1lID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWxsSGFuZGxlZFJlZmxlY3Rpb25PYmplY3RzKG9iai5uZXN0ZWRbbmFtZV0sIG9iak5hbWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiBhY2N1bXVsYXRvci5jb25jYXQoY3VycmVudFZhbHVlKSwgW10pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlc2VyaWFsaXplcihjbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVzZXJpYWxpemUoYXJnQnVmKSB7XG4gICAgICAgIHJldHVybiBjbHMudG9PYmplY3QoY2xzLmRlY29kZShhcmdCdWYpLCBvcHRpb25zKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2VyaWFsaXplcihjbHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc2VyaWFsaXplKGFyZykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzZXJpYWxpemUgbWVzc2FnZTogZXhwZWN0ZWQgb2JqZWN0IHdpdGggJHtjbHMubmFtZX0gc3RydWN0dXJlLCBnb3QgYXJyYXkgaW5zdGVhZGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjbHMuZnJvbU9iamVjdChhcmcpO1xuICAgICAgICByZXR1cm4gY2xzLmVuY29kZShtZXNzYWdlKS5maW5pc2goKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTWV0aG9kRGVmaW5pdGlvbihtZXRob2QsIHNlcnZpY2VOYW1lLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpIHtcbiAgICAvKiBUaGlzIGlzIG9ubHkgZXZlciBjYWxsZWQgYWZ0ZXIgdGhlIGNvcnJlc3BvbmRpbmcgcm9vdC5yZXNvbHZlQWxsKCksIHNvIHdlXG4gICAgICogY2FuIGFzc3VtZSB0aGF0IHRoZSByZXNvbHZlZCByZXF1ZXN0IGFuZCByZXNwb25zZSB0eXBlcyBhcmUgbm9uLW51bGwgKi9cbiAgICBjb25zdCByZXF1ZXN0VHlwZSA9IG1ldGhvZC5yZXNvbHZlZFJlcXVlc3RUeXBlO1xuICAgIGNvbnN0IHJlc3BvbnNlVHlwZSA9IG1ldGhvZC5yZXNvbHZlZFJlc3BvbnNlVHlwZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXRoOiAnLycgKyBzZXJ2aWNlTmFtZSArICcvJyArIG1ldGhvZC5uYW1lLFxuICAgICAgICByZXF1ZXN0U3RyZWFtOiAhIW1ldGhvZC5yZXF1ZXN0U3RyZWFtLFxuICAgICAgICByZXNwb25zZVN0cmVhbTogISFtZXRob2QucmVzcG9uc2VTdHJlYW0sXG4gICAgICAgIHJlcXVlc3RTZXJpYWxpemU6IGNyZWF0ZVNlcmlhbGl6ZXIocmVxdWVzdFR5cGUpLFxuICAgICAgICByZXF1ZXN0RGVzZXJpYWxpemU6IGNyZWF0ZURlc2VyaWFsaXplcihyZXF1ZXN0VHlwZSwgb3B0aW9ucyksXG4gICAgICAgIHJlc3BvbnNlU2VyaWFsaXplOiBjcmVhdGVTZXJpYWxpemVyKHJlc3BvbnNlVHlwZSksXG4gICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IGNyZWF0ZURlc2VyaWFsaXplcihyZXNwb25zZVR5cGUsIG9wdGlvbnMpLFxuICAgICAgICAvLyBUT0RPKG11cmdhdHJvaWQ5OSk6IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSB0aGlzXG4gICAgICAgIG9yaWdpbmFsTmFtZTogY2FtZWxDYXNlKG1ldGhvZC5uYW1lKSxcbiAgICAgICAgcmVxdWVzdFR5cGU6IGNyZWF0ZU1lc3NhZ2VEZWZpbml0aW9uKHJlcXVlc3RUeXBlLCBmaWxlRGVzY3JpcHRvcnMpLFxuICAgICAgICByZXNwb25zZVR5cGU6IGNyZWF0ZU1lc3NhZ2VEZWZpbml0aW9uKHJlc3BvbnNlVHlwZSwgZmlsZURlc2NyaXB0b3JzKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2VydmljZURlZmluaXRpb24oc2VydmljZSwgbmFtZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKSB7XG4gICAgY29uc3QgZGVmID0ge307XG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2Ygc2VydmljZS5tZXRob2RzQXJyYXkpIHtcbiAgICAgICAgZGVmW21ldGhvZC5uYW1lXSA9IGNyZWF0ZU1ldGhvZERlZmluaXRpb24obWV0aG9kLCBuYW1lLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmO1xufVxuZnVuY3Rpb24gY3JlYXRlTWVzc2FnZURlZmluaXRpb24obWVzc2FnZSwgZmlsZURlc2NyaXB0b3JzKSB7XG4gICAgY29uc3QgbWVzc2FnZURlc2NyaXB0b3IgPSBtZXNzYWdlLnRvRGVzY3JpcHRvcigncHJvdG8zJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZm9ybWF0OiAnUHJvdG9jb2wgQnVmZmVyIDMgRGVzY3JpcHRvclByb3RvJyxcbiAgICAgICAgdHlwZTogbWVzc2FnZURlc2NyaXB0b3IuJHR5cGUudG9PYmplY3QobWVzc2FnZURlc2NyaXB0b3IsIGRlc2NyaXB0b3JPcHRpb25zKSxcbiAgICAgICAgZmlsZURlc2NyaXB0b3JQcm90b3M6IGZpbGVEZXNjcmlwdG9ycyxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlRW51bURlZmluaXRpb24oZW51bVR5cGUsIGZpbGVEZXNjcmlwdG9ycykge1xuICAgIGNvbnN0IGVudW1EZXNjcmlwdG9yID0gZW51bVR5cGUudG9EZXNjcmlwdG9yKCdwcm90bzMnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXQ6ICdQcm90b2NvbCBCdWZmZXIgMyBFbnVtRGVzY3JpcHRvclByb3RvJyxcbiAgICAgICAgdHlwZTogZW51bURlc2NyaXB0b3IuJHR5cGUudG9PYmplY3QoZW51bURlc2NyaXB0b3IsIGRlc2NyaXB0b3JPcHRpb25zKSxcbiAgICAgICAgZmlsZURlc2NyaXB0b3JQcm90b3M6IGZpbGVEZXNjcmlwdG9ycyxcbiAgICB9O1xufVxuLyoqXG4gKiBmdW5jdGlvbiBjcmVhdGVEZWZpbml0aW9uKG9iajogUHJvdG9idWYuU2VydmljZSwgbmFtZTogc3RyaW5nLCBvcHRpb25zOlxuICogT3B0aW9ucyk6IFNlcnZpY2VEZWZpbml0aW9uOyBmdW5jdGlvbiBjcmVhdGVEZWZpbml0aW9uKG9iajogUHJvdG9idWYuVHlwZSxcbiAqIG5hbWU6IHN0cmluZywgb3B0aW9uczogT3B0aW9ucyk6IE1lc3NhZ2VUeXBlRGVmaW5pdGlvbjsgZnVuY3Rpb25cbiAqIGNyZWF0ZURlZmluaXRpb24ob2JqOiBQcm90b2J1Zi5FbnVtLCBuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IE9wdGlvbnMpOlxuICogRW51bVR5cGVEZWZpbml0aW9uO1xuICovXG5mdW5jdGlvbiBjcmVhdGVEZWZpbml0aW9uKG9iaiwgbmFtZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKSB7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLlNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNlcnZpY2VEZWZpbml0aW9uKG9iaiwgbmFtZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgUHJvdG9idWYuVHlwZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTWVzc2FnZURlZmluaXRpb24ob2JqLCBmaWxlRGVzY3JpcHRvcnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBQcm90b2J1Zi5FbnVtKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbnVtRGVmaW5pdGlvbihvYmosIGZpbGVEZXNjcmlwdG9ycyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1R5cGUgbWlzbWF0Y2ggaW4gcmVmbGVjdGlvbiBvYmplY3QgaGFuZGxpbmcnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbihyb290LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZGVmID0ge307XG4gICAgcm9vdC5yZXNvbHZlQWxsKCk7XG4gICAgY29uc3QgZGVzY3JpcHRvckxpc3QgPSByb290LnRvRGVzY3JpcHRvcigncHJvdG8zJykuZmlsZTtcbiAgICBjb25zdCBidWZmZXJMaXN0ID0gZGVzY3JpcHRvckxpc3QubWFwKHZhbHVlID0+IEJ1ZmZlci5mcm9tKGRlc2NyaXB0b3IuRmlsZURlc2NyaXB0b3JQcm90by5lbmNvZGUodmFsdWUpLmZpbmlzaCgpKSk7XG4gICAgZm9yIChjb25zdCBbbmFtZSwgb2JqXSBvZiBnZXRBbGxIYW5kbGVkUmVmbGVjdGlvbk9iamVjdHMocm9vdCwgJycpKSB7XG4gICAgICAgIGRlZltuYW1lXSA9IGNyZWF0ZURlZmluaXRpb24ob2JqLCBuYW1lLCBvcHRpb25zLCBidWZmZXJMaXN0KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uRnJvbURlc2NyaXB0b3JTZXQoZGVjb2RlZERlc2NyaXB0b3JTZXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCByb290ID0gUHJvdG9idWYuUm9vdC5mcm9tRGVzY3JpcHRvcihkZWNvZGVkRGVzY3JpcHRvclNldCk7XG4gICAgcm9vdC5yZXNvbHZlQWxsKCk7XG4gICAgcmV0dXJuIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uKHJvb3QsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBMb2FkIGEgLnByb3RvIGZpbGUgd2l0aCB0aGUgc3BlY2lmaWVkIG9wdGlvbnMuXG4gKiBAcGFyYW0gZmlsZW5hbWUgT25lIG9yIG11bHRpcGxlIGZpbGUgcGF0aHMgdG8gbG9hZC4gQ2FuIGJlIGFuIGFic29sdXRlIHBhdGhcbiAqICAgICBvciByZWxhdGl2ZSB0byBhbiBpbmNsdWRlIHBhdGguXG4gKiBAcGFyYW0gb3B0aW9ucy5rZWVwQ2FzZSBQcmVzZXJ2ZSBmaWVsZCBuYW1lcy4gVGhlIGRlZmF1bHQgaXMgdG8gY2hhbmdlIHRoZW1cbiAqICAgICB0byBjYW1lbCBjYXNlLlxuICogQHBhcmFtIG9wdGlvbnMubG9uZ3MgVGhlIHR5cGUgdGhhdCBzaG91bGQgYmUgdXNlZCB0byByZXByZXNlbnQgYGxvbmdgIHZhbHVlcy5cbiAqICAgICBWYWxpZCBvcHRpb25zIGFyZSBgTnVtYmVyYCBhbmQgYFN0cmluZ2AuIERlZmF1bHRzIHRvIGEgYExvbmdgIG9iamVjdCB0eXBlXG4gKiAgICAgZnJvbSBhIGxpYnJhcnkuXG4gKiBAcGFyYW0gb3B0aW9ucy5lbnVtcyBUaGUgdHlwZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHJlcHJlc2VudCBgZW51bWAgdmFsdWVzLlxuICogICAgIFRoZSBvbmx5IHZhbGlkIG9wdGlvbiBpcyBgU3RyaW5nYC4gRGVmYXVsdHMgdG8gdGhlIG51bWVyaWMgdmFsdWUuXG4gKiBAcGFyYW0gb3B0aW9ucy5ieXRlcyBUaGUgdHlwZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHJlcHJlc2VudCBgYnl0ZXNgXG4gKiAgICAgdmFsdWVzLiBWYWxpZCBvcHRpb25zIGFyZSBgQXJyYXlgIGFuZCBgU3RyaW5nYC4gVGhlIGRlZmF1bHQgaXMgdG8gdXNlXG4gKiAgICAgYEJ1ZmZlcmAuXG4gKiBAcGFyYW0gb3B0aW9ucy5kZWZhdWx0cyBTZXQgZGVmYXVsdCB2YWx1ZXMgb24gb3V0cHV0IG9iamVjdHMuIERlZmF1bHRzIHRvXG4gKiAgICAgYGZhbHNlYC5cbiAqIEBwYXJhbSBvcHRpb25zLmFycmF5cyBTZXQgZW1wdHkgYXJyYXlzIGZvciBtaXNzaW5nIGFycmF5IHZhbHVlcyBldmVuIGlmXG4gKiAgICAgYGRlZmF1bHRzYCBpcyBgZmFsc2VgLiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICogQHBhcmFtIG9wdGlvbnMub2JqZWN0cyBTZXQgZW1wdHkgb2JqZWN0cyBmb3IgbWlzc2luZyBvYmplY3QgdmFsdWVzIGV2ZW4gaWZcbiAqICAgICBgZGVmYXVsdHNgIGlzIGBmYWxzZWAuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKiBAcGFyYW0gb3B0aW9ucy5vbmVvZnMgU2V0IHZpcnR1YWwgb25lb2YgcHJvcGVydGllcyB0byB0aGUgcHJlc2VudCBmaWVsZCdzXG4gKiAgICAgbmFtZVxuICogQHBhcmFtIG9wdGlvbnMuanNvbiBSZXByZXNlbnQgSW5maW5pdHkgYW5kIE5hTiBhcyBzdHJpbmdzIGluIGZsb2F0IGZpZWxkcyxcbiAqICAgICBhbmQgYXV0b21hdGljYWxseSBkZWNvZGUgZ29vZ2xlLnByb3RvYnVmLkFueSB2YWx1ZXMuXG4gKiBAcGFyYW0gb3B0aW9ucy5pbmNsdWRlRGlycyBQYXRocyB0byBzZWFyY2ggZm9yIGltcG9ydGVkIGAucHJvdG9gIGZpbGVzLlxuICovXG5mdW5jdGlvbiBsb2FkKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuICgwLCB1dGlsXzEubG9hZFByb3Rvc1dpdGhPcHRpb25zKShmaWxlbmFtZSwgb3B0aW9ucykudGhlbihsb2FkZWRSb290ID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uKGxvYWRlZFJvb3QsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmZ1bmN0aW9uIGxvYWRTeW5jKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbG9hZGVkUm9vdCA9ICgwLCB1dGlsXzEubG9hZFByb3Rvc1dpdGhPcHRpb25zU3luYykoZmlsZW5hbWUsIG9wdGlvbnMpO1xuICAgIHJldHVybiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbihsb2FkZWRSb290LCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubG9hZFN5bmMgPSBsb2FkU3luYztcbmZ1bmN0aW9uIGZyb21KU09OKGpzb24sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBsb2FkZWRSb290ID0gUHJvdG9idWYuUm9vdC5mcm9tSlNPTihqc29uKTtcbiAgICBsb2FkZWRSb290LnJlc29sdmVBbGwoKTtcbiAgICByZXR1cm4gY3JlYXRlUGFja2FnZURlZmluaXRpb24obG9hZGVkUm9vdCwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmZyb21KU09OID0gZnJvbUpTT047XG5mdW5jdGlvbiBsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tQnVmZmVyKGRlc2NyaXB0b3JTZXQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWNvZGVkRGVzY3JpcHRvclNldCA9IGRlc2NyaXB0b3IuRmlsZURlc2NyaXB0b3JTZXQuZGVjb2RlKGRlc2NyaXB0b3JTZXQpO1xuICAgIHJldHVybiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbkZyb21EZXNjcmlwdG9yU2V0KGRlY29kZWREZXNjcmlwdG9yU2V0LCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbUJ1ZmZlciA9IGxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21CdWZmZXI7XG5mdW5jdGlvbiBsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tT2JqZWN0KGRlc2NyaXB0b3JTZXQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWNvZGVkRGVzY3JpcHRvclNldCA9IGRlc2NyaXB0b3IuRmlsZURlc2NyaXB0b3JTZXQuZnJvbU9iamVjdChkZXNjcmlwdG9yU2V0KTtcbiAgICByZXR1cm4gY3JlYXRlUGFja2FnZURlZmluaXRpb25Gcm9tRGVzY3JpcHRvclNldChkZWNvZGVkRGVzY3JpcHRvclNldCwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21PYmplY3QgPSBsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tT2JqZWN0O1xuKDAsIHV0aWxfMS5hZGRDb21tb25Qcm90b3MpKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tT2JqZWN0IiwibG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbUJ1ZmZlciIsImZyb21KU09OIiwibG9hZFN5bmMiLCJsb2FkIiwiaXNBbnlFeHRlbnNpb24iLCJMb25nIiwiY2FtZWxDYXNlIiwicmVxdWlyZSIsIlByb3RvYnVmIiwiZGVzY3JpcHRvciIsInV0aWxfMSIsIm9iaiIsImRlc2NyaXB0b3JPcHRpb25zIiwibG9uZ3MiLCJTdHJpbmciLCJlbnVtcyIsImJ5dGVzIiwiZGVmYXVsdHMiLCJvbmVvZnMiLCJqc29uIiwiam9pbk5hbWUiLCJiYXNlTmFtZSIsIm5hbWUiLCJpc0hhbmRsZWRSZWZsZWN0aW9uT2JqZWN0IiwiU2VydmljZSIsIlR5cGUiLCJFbnVtIiwiaXNOYW1lc3BhY2VCYXNlIiwiTmFtZXNwYWNlIiwiUm9vdCIsImdldEFsbEhhbmRsZWRSZWZsZWN0aW9uT2JqZWN0cyIsInBhcmVudE5hbWUiLCJvYmpOYW1lIiwibmVzdGVkIiwia2V5cyIsIm1hcCIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudFZhbHVlIiwiY29uY2F0IiwiY3JlYXRlRGVzZXJpYWxpemVyIiwiY2xzIiwib3B0aW9ucyIsImRlc2VyaWFsaXplIiwiYXJnQnVmIiwidG9PYmplY3QiLCJkZWNvZGUiLCJjcmVhdGVTZXJpYWxpemVyIiwic2VyaWFsaXplIiwiYXJnIiwiQXJyYXkiLCJpc0FycmF5IiwiRXJyb3IiLCJtZXNzYWdlIiwiZnJvbU9iamVjdCIsImVuY29kZSIsImZpbmlzaCIsImNyZWF0ZU1ldGhvZERlZmluaXRpb24iLCJtZXRob2QiLCJzZXJ2aWNlTmFtZSIsImZpbGVEZXNjcmlwdG9ycyIsInJlcXVlc3RUeXBlIiwicmVzb2x2ZWRSZXF1ZXN0VHlwZSIsInJlc3BvbnNlVHlwZSIsInJlc29sdmVkUmVzcG9uc2VUeXBlIiwicGF0aCIsInJlcXVlc3RTdHJlYW0iLCJyZXNwb25zZVN0cmVhbSIsInJlcXVlc3RTZXJpYWxpemUiLCJyZXF1ZXN0RGVzZXJpYWxpemUiLCJyZXNwb25zZVNlcmlhbGl6ZSIsInJlc3BvbnNlRGVzZXJpYWxpemUiLCJvcmlnaW5hbE5hbWUiLCJjcmVhdGVNZXNzYWdlRGVmaW5pdGlvbiIsImNyZWF0ZVNlcnZpY2VEZWZpbml0aW9uIiwic2VydmljZSIsImRlZiIsIm1ldGhvZHNBcnJheSIsIm1lc3NhZ2VEZXNjcmlwdG9yIiwidG9EZXNjcmlwdG9yIiwiZm9ybWF0IiwidHlwZSIsIiR0eXBlIiwiZmlsZURlc2NyaXB0b3JQcm90b3MiLCJjcmVhdGVFbnVtRGVmaW5pdGlvbiIsImVudW1UeXBlIiwiZW51bURlc2NyaXB0b3IiLCJjcmVhdGVEZWZpbml0aW9uIiwiY3JlYXRlUGFja2FnZURlZmluaXRpb24iLCJyb290IiwicmVzb2x2ZUFsbCIsImRlc2NyaXB0b3JMaXN0IiwiZmlsZSIsImJ1ZmZlckxpc3QiLCJCdWZmZXIiLCJmcm9tIiwiRmlsZURlc2NyaXB0b3JQcm90byIsImNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uRnJvbURlc2NyaXB0b3JTZXQiLCJkZWNvZGVkRGVzY3JpcHRvclNldCIsImZyb21EZXNjcmlwdG9yIiwiZmlsZW5hbWUiLCJsb2FkUHJvdG9zV2l0aE9wdGlvbnMiLCJ0aGVuIiwibG9hZGVkUm9vdCIsImxvYWRQcm90b3NXaXRoT3B0aW9uc1N5bmMiLCJkZXNjcmlwdG9yU2V0IiwiRmlsZURlc2NyaXB0b3JTZXQiLCJhZGRDb21tb25Qcm90b3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/proto-loader/build/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/proto-loader/build/src/util.js":
/*!***********************************************************!*\
  !*** ./node_modules/@grpc/proto-loader/build/src/util.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\n/**\n * @license\n * Copyright 2018 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addCommonProtos = exports.loadProtosWithOptionsSync = exports.loadProtosWithOptions = void 0;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst Protobuf = __webpack_require__(/*! protobufjs */ \"(ssr)/./node_modules/protobufjs/index.js\");\nfunction addIncludePathResolver(root, includePaths) {\n  const originalResolvePath = root.resolvePath;\n  root.resolvePath = (origin, target) => {\n    if (path.isAbsolute(target)) {\n      return target;\n    }\n    for (const directory of includePaths) {\n      const fullPath = path.join(directory, target);\n      try {\n        fs.accessSync(fullPath, fs.constants.R_OK);\n        return fullPath;\n      } catch (err) {\n        continue;\n      }\n    }\n    process.emitWarning(`${target} not found in any of the include paths ${includePaths}`);\n    return originalResolvePath(origin, target);\n  };\n}\nasync function loadProtosWithOptions(filename, options) {\n  const root = new Protobuf.Root();\n  options = options || {};\n  if (!!options.includeDirs) {\n    if (!Array.isArray(options.includeDirs)) {\n      return Promise.reject(new Error('The includeDirs option must be an array'));\n    }\n    addIncludePathResolver(root, options.includeDirs);\n  }\n  const loadedRoot = await root.load(filename, options);\n  loadedRoot.resolveAll();\n  return loadedRoot;\n}\nexports.loadProtosWithOptions = loadProtosWithOptions;\nfunction loadProtosWithOptionsSync(filename, options) {\n  const root = new Protobuf.Root();\n  options = options || {};\n  if (!!options.includeDirs) {\n    if (!Array.isArray(options.includeDirs)) {\n      throw new Error('The includeDirs option must be an array');\n    }\n    addIncludePathResolver(root, options.includeDirs);\n  }\n  const loadedRoot = root.loadSync(filename, options);\n  loadedRoot.resolveAll();\n  return loadedRoot;\n}\nexports.loadProtosWithOptionsSync = loadProtosWithOptionsSync;\n/**\n * Load Google's well-known proto files that aren't exposed by Protobuf.js.\n */\nfunction addCommonProtos() {\n  // Protobuf.js exposes: any, duration, empty, field_mask, struct, timestamp,\n  // and wrappers. compiler/plugin is excluded in Protobuf.js and here.\n  // Using constant strings for compatibility with tools like Webpack\n  const apiDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/api.json */ \"(ssr)/./node_modules/protobufjs/google/protobuf/api.json\");\n  const descriptorDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/descriptor.json */ \"(ssr)/./node_modules/protobufjs/google/protobuf/descriptor.json\");\n  const sourceContextDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/source_context.json */ \"(ssr)/./node_modules/protobufjs/google/protobuf/source_context.json\");\n  const typeDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/type.json */ \"(ssr)/./node_modules/protobufjs/google/protobuf/type.json\");\n  Protobuf.common('api', apiDescriptor.nested.google.nested.protobuf.nested);\n  Protobuf.common('descriptor', descriptorDescriptor.nested.google.nested.protobuf.nested);\n  Protobuf.common('source_context', sourceContextDescriptor.nested.google.nested.protobuf.nested);\n  Protobuf.common('type', typeDescriptor.nested.google.nested.protobuf.nested);\n}\nexports.addCommonProtos = addCommonProtos;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdycGMvcHJvdG8tbG9hZGVyL2J1aWxkL3NyYy91dGlsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUEsOENBQTZDO0VBQUVHLEtBQUssRUFBRTtBQUFLLENBQUMsRUFBQztBQUM3REQsdUJBQXVCLEdBQUdBLGlDQUFpQyxHQUFHQSw2QkFBNkIsR0FBRyxLQUFLLENBQUM7QUFDcEcsTUFBTUssRUFBRSxHQUFHQyxtQkFBTyxDQUFDLGNBQUksQ0FBQztBQUN4QixNQUFNQyxJQUFJLEdBQUdELG1CQUFPLENBQUMsa0JBQU0sQ0FBQztBQUM1QixNQUFNRSxRQUFRLEdBQUdGLG1CQUFPLENBQUMsNERBQVksQ0FBQztBQUN0QyxTQUFTRyxzQkFBc0JBLENBQUNDLElBQUksRUFBRUMsWUFBWSxFQUFFO0VBQ2hELE1BQU1DLG1CQUFtQixHQUFHRixJQUFJLENBQUNHLFdBQVc7RUFDNUNILElBQUksQ0FBQ0csV0FBVyxHQUFHLENBQUNDLE1BQU0sRUFBRUMsTUFBTSxLQUFLO0lBQ25DLElBQUlSLElBQUksQ0FBQ1MsVUFBVSxDQUFDRCxNQUFNLENBQUMsRUFBRTtNQUN6QixPQUFPQSxNQUFNO0lBQ2pCO0lBQ0EsS0FBSyxNQUFNRSxTQUFTLElBQUlOLFlBQVksRUFBRTtNQUNsQyxNQUFNTyxRQUFRLEdBQUdYLElBQUksQ0FBQ1ksSUFBSSxDQUFDRixTQUFTLEVBQUVGLE1BQU0sQ0FBQztNQUM3QyxJQUFJO1FBQ0FWLEVBQUUsQ0FBQ2UsVUFBVSxDQUFDRixRQUFRLEVBQUViLEVBQUUsQ0FBQ2dCLFNBQVMsQ0FBQ0MsSUFBSSxDQUFDO1FBQzFDLE9BQU9KLFFBQVE7TUFDbkIsQ0FBQyxDQUNELE9BQU9LLEdBQUcsRUFBRTtRQUNSO01BQ0o7SUFDSjtJQUNBQyxPQUFPLENBQUNDLFdB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QUFDRSxRQUFRLENBQUNGLE1BQU0sQ0FBQztBQUNoRjtBQUNBNUMsdUJBQXVCLEdBQUdFLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW50YmFiZS1uZXh0anMtbWlncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BncnBjL3Byb3RvLWxvYWRlci9idWlsZC9zcmMvdXRpbC5qcz82NDFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYWRkQ29tbW9uUHJvdG9zID0gZXhwb3J0cy5sb2FkUHJvdG9zV2l0aE9wdGlvbnNTeW5jID0gZXhwb3J0cy5sb2FkUHJvdG9zV2l0aE9wdGlvbnMgPSB2b2lkIDA7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IFByb3RvYnVmID0gcmVxdWlyZShcInByb3RvYnVmanNcIik7XG5mdW5jdGlvbiBhZGRJbmNsdWRlUGF0aFJlc29sdmVyKHJvb3QsIGluY2x1ZGVQYXRocykge1xuICAgIGNvbnN0IG9yaWdpbmFsUmVzb2x2ZVBhdGggPSByb290LnJlc29sdmVQYXRoO1xuICAgIHJvb3QucmVzb2x2ZVBhdGggPSAob3JpZ2luLCB0YXJnZXQpID0+IHtcbiAgICAgICAgaWYgKHBhdGguaXNBYnNvbHV0ZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZGlyZWN0b3J5IG9mIGluY2x1ZGVQYXRocykge1xuICAgICAgICAgICAgY29uc3QgZnVsbFBhdGggPSBwYXRoLmpvaW4oZGlyZWN0b3J5LCB0YXJnZXQpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmcy5hY2Nlc3NTeW5jKGZ1bGxQYXRoLCBmcy5jb25zdGFudHMuUl9PSyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bGxQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MuZW1pdFdhcm5pbmcoYCR7dGFyZ2V0fSBub3QgZm91bmQgaW4gYW55IG9mIHRoZSBpbmNsdWRlIHBhdGhzICR7aW5jbHVkZVBhdGhzfWApO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxSZXNvbHZlUGF0aChvcmlnaW4sIHRhcmdldCk7XG4gICAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRQcm90b3NXaXRoT3B0aW9ucyhmaWxlbmFtZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJvb3QgPSBuZXcgUHJvdG9idWYuUm9vdCgpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmICghIW9wdGlvbnMuaW5jbHVkZURpcnMpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMuaW5jbHVkZURpcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdUaGUgaW5jbHVkZURpcnMgb3B0aW9uIG11c3QgYmUgYW4gYXJyYXknKSk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkSW5jbHVkZVBhdGhSZXNvbHZlcihyb290LCBvcHRpb25zLmluY2x1ZGVEaXJzKTtcbiAgICB9XG4gICAgY29uc3QgbG9hZGVkUm9vdCA9IGF3YWl0IHJvb3QubG9hZChmaWxlbmFtZSwgb3B0aW9ucyk7XG4gICAgbG9hZGVkUm9vdC5yZXNvbHZlQWxsKCk7XG4gICAgcmV0dXJuIGxvYWRlZFJvb3Q7XG59XG5leHBvcnRzLmxvYWRQcm90b3NXaXRoT3B0aW9ucyA9IGxvYWRQcm90b3NXaXRoT3B0aW9ucztcbmZ1bmN0aW9uIGxvYWRQcm90b3NXaXRoT3B0aW9uc1N5bmMoZmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByb290ID0gbmV3IFByb3RvYnVmLlJvb3QoKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoISFvcHRpb25zLmluY2x1ZGVEaXJzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvcHRpb25zLmluY2x1ZGVEaXJzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgaW5jbHVkZURpcnMgb3B0aW9uIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRJbmNsdWRlUGF0aFJlc29sdmVyKHJvb3QsIG9wdGlvbnMuaW5jbHVkZURpcnMpO1xuICAgIH1cbiAgICBjb25zdCBsb2FkZWRSb290ID0gcm9vdC5sb2FkU3luYyhmaWxlbmFtZSwgb3B0aW9ucyk7XG4gICAgbG9hZGVkUm9vdC5yZXNvbHZlQWxsKCk7XG4gICAgcmV0dXJuIGxvYWRlZFJvb3Q7XG59XG5leHBvcnRzLmxvYWRQcm90b3NXaXRoT3B0aW9uc1N5bmMgPSBsb2FkUHJvdG9zV2l0aE9wdGlvbnNTeW5jO1xuLyoqXG4gKiBMb2FkIEdvb2dsZSdzIHdlbGwta25vd24gcHJvdG8gZmlsZXMgdGhhdCBhcmVuJ3QgZXhwb3NlZCBieSBQcm90b2J1Zi5qcy5cbiAqL1xuZnVuY3Rpb24gYWRkQ29tbW9uUHJvdG9zKCkge1xuICAgIC8vIFByb3RvYnVmLmpzIGV4cG9zZXM6IGFueSwgZHVyYXRpb24sIGVtcHR5LCBmaWVsZF9tYXNrLCBzdHJ1Y3QsIHRpbWVzdGFtcCxcbiAgICAvLyBhbmQgd3JhcHBlcnMuIGNvbXBpbGVyL3BsdWdpbiBpcyBleGNsdWRlZCBpbiBQcm90b2J1Zi5qcyBhbmQgaGVyZS5cbiAgICAvLyBVc2luZyBjb25zdGFudCBzdHJpbmdzIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdG9vbHMgbGlrZSBXZWJwYWNrXG4gICAgY29uc3QgYXBpRGVzY3JpcHRvciA9IHJlcXVpcmUoJ3Byb3RvYnVmanMvZ29vZ2xlL3Byb3RvYnVmL2FwaS5qc29uJyk7XG4gICAgY29uc3QgZGVzY3JpcHRvckRlc2NyaXB0b3IgPSByZXF1aXJlKCdwcm90b2J1ZmpzL2dvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLmpzb24nKTtcbiAgICBjb25zdCBzb3VyY2VDb250ZXh0RGVzY3JpcHRvciA9IHJlcXVpcmUoJ3Byb3RvYnVmanMvZ29vZ2xlL3Byb3RvYnVmL3NvdXJjZV9jb250ZXh0Lmpzb24nKTtcbiAgICBjb25zdCB0eXBlRGVzY3JpcHRvciA9IHJlcXVpcmUoJ3Byb3RvYnVmanMvZ29vZ2xlL3Byb3RvYnVmL3R5cGUuanNvbicpO1xuICAgIFByb3RvYnVmLmNvbW1vbignYXBpJywgYXBpRGVzY3JpcHRvci5uZXN0ZWQuZ29vZ2xlLm5lc3RlZC5wcm90b2J1Zi5uZXN0ZWQpO1xuICAgIFByb3RvYnVmLmNvbW1vbignZGVzY3JpcHRvcicsIGRlc2NyaXB0b3JEZXNjcmlwdG9yLm5lc3RlZC5nb29nbGUubmVzdGVkLnByb3RvYnVmLm5lc3RlZCk7XG4gICAgUHJvdG9idWYuY29tbW9uKCdzb3VyY2VfY29udGV4dCcsIHNvdXJjZUNvbnRleHREZXNjcmlwdG9yLm5lc3RlZC5nb29nbGUubmVzdGVkLnByb3RvYnVmLm5lc3RlZCk7XG4gICAgUHJvdG9idWYuY29tbW9uKCd0eXBlJywgdHlwZURlc2NyaXB0b3IubmVzdGVkLmdvb2dsZS5uZXN0ZWQucHJvdG9idWYubmVzdGVkKTtcbn1cbmV4cG9ydHMuYWRkQ29tbW9uUHJvdG9zID0gYWRkQ29tbW9uUHJvdG9zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJhZGRDb21tb25Qcm90b3MiLCJsb2FkUHJvdG9zV2l0aE9wdGlvbnNTeW5jIiwibG9hZFByb3Rvc1dpdGhPcHRpb25zIiwiZnMiLCJyZXF1aXJlIiwicGF0aCIsIlByb3RvYnVmIiwiYWRkSW5jbHVkZVBhdGhSZXNvbHZlciIsInJvb3QiLCJpbmNsdWRlUGF0aHMiLCJvcmlnaW5hbFJlc29sdmVQYXRoIiwicmVzb2x2ZVBhdGgiLCJvcmlnaW4iLCJ0YXJnZXQiLCJpc0Fic29sdXRlIiwiZGlyZWN0b3J5IiwiZnVsbFBhdGgiLCJqb2luIiwiYWNjZXNzU3luYyIsImNvbnN0YW50cyIsIlJfT0siLCJlcnIiLCJwcm9jZXNzIiwiZW1pdFdhcm5pbmciLCJmaWxlbmFtZSIsIm9wdGlvbnMiLCJSb290IiwiaW5jbHVkZURpcnMiLCJBcnJheSIsImlzQXJyYXkiLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJsb2FkZWRSb290IiwibG9hZCIsInJlc29sdmVBbGwiLCJsb2FkU3luYyIsImFwaURlc2NyaXB0b3IiLCJkZXNjcmlwdG9yRGVzY3JpcHRvciIsInNvdXJjZUNvbnRleHREZXNjcmlwdG9yIiwidHlwZURlc2NyaXB0b3IiLCJjb21tb24iLCJuZXN0ZWQiLCJnb29nbGUiLCJwcm90b2J1ZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@grpc/proto-loader/build/src/util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@grpc/grpc-js/package.json":
/*!*************************************************!*\
  !*** ./node_modules/@grpc/grpc-js/package.json ***!
  \*************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"name":"@grpc/grpc-js","version":"1.9.12","description":"gRPC Library for Node - pure JS implementation","homepage":"https://grpc.io/","repository":"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js","main":"build/src/index.js","engines":{"node":"^8.13.0 || >=10.10.0"},"keywords":[],"author":{"name":"Google Inc."},"types":"build/src/index.d.ts","license":"Apache-2.0","devDependencies":{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55","eslint":"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1","execa":"^2.0.3","gulp":"^4.0.2","gulp-mocha":"^6.0.0","lodash":"^4.17.4","madge":"^5.0.1","mocha-jenkins-reporter":"^0.4.1","ncp":"^2.0.0","pify":"^4.0.1","prettier":"^2.8.8","rimraf":"^3.0.2","semver":"^7.3.5","ts-node":"^10.9.1","typescript":"^5.1.3"},"contributors":[{"name":"Google Inc."}],"scripts":{"build":"npm run compile","clean":"rimraf ./build","compile":"tsc -p .","format":"clang-format -i -style=\\"{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}\\" src/*.ts test/*.ts","lint":"eslint src/*.ts test/*.ts","prepare":"npm run generate-types && npm run compile","test":"gulp test","check":"npm run lint","fix":"eslint --fix src/*.ts test/*.ts","pretest":"npm run generate-types && npm run generate-test-types && npm run compile","posttest":"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},"dependencies":{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},"files":["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}');

/***/ })

};
;